###########################
# Portuguese Events
###########################

add_namespace = portugal

#
# Ceuta events
#

# portugal Demand (Ceuta)
country_event = {
	id = portugal.1
	title = portugal.1.t
	desc = portugal.1.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = { # Accept demands
		name = portugal.1.a
		ai_chance = { 
			base = 10
		}

		POR = { 
			transfer_state = 290
		}

		290 = { add_core_of = POR}
	
		hidden_effect = {
			news_event = { id = news.700 hours = 12 }
			POR = {
				country_event = { id = portugal.3 hours = 1 }
			}
		}
	}
	
	option = { # Refuse demands
		name = portugal.1.b
		ai_chance = { 
			base = 90
		}
		effect_tooltip = {
			POR = {
				create_wargoal = {
				type = take_state_focus
				target = SPR
				generator = { 290 }
				}
				create_wargoal = {
				type = take_state_focus
				target = D01
				generator = { 290 }
				}


				add_state_claim	= 290
			}
		}

		hidden_effect = {
			news_event = { id = news.701 hours = 12 }
			POR = {
				country_event = { id = portugal.2 hours = 1 }
			}
		}
	}
}

# POR: Spain Refuses Demands
country_event = {
	id = portugal.2
	title = portugal.2.t
	desc = portugal.2.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.2.o

		POR = {
		create_wargoal = {
			type = take_state
			target = SPR
			generator = { 290 }
		}
		create_wargoal = {
			type = take_state
			target = D01
			generator = { 290 }
		}
		add_state_claim	= 290
		}
	}
}

# POR: Spain Accept Demands
country_event = {
	id = portugal.3
	title = portugal.3.t
	desc = portugal.3.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.3.o

		effect_tooltip = {
		POR = { 
			transfer_state = 290
		}

		290 = { add_core_of = POR}
		}		
	}
}


# News Event: Spain Accepts Demands (Ceuta)
news_event = {
	id = news.700
	title = news.700.t
	desc = news.700.d
	picture = GFX_news_event_012
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.700.o
	}
}	

# News Event: Spain Refuses Demands (Ceuta)
news_event = {
	id = news.701
	title = news.701.t
	desc = news.701.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.701.o
	}
	
}

#
# Ceuta events END
#

#
# Rhodesia events
#

# portugal Demand (Rhodesia)
country_event = {
	id = portugal.4
	title = portugal.4.t
	desc = portugal.4.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = { # Accept demands
		name = portugal.4.a
		ai_chance = { 
			base = 60
		}

		POR = { 
			transfer_state = 545
		}

		545 = { add_core_of = POR}
	
		hidden_effect = {
			news_event = { id = news.702 hours = 12 }
			POR = {
				country_event = { id = portugal.6 hours = 1 }
			}
		}
	}
	
	option = { # Refuse demands
		name = portugal.4.b
		ai_chance = { 
			base = 40
		}
		effect_tooltip = {
			POR = {
				create_wargoal = {
				type = take_state_focus
				target = ENG
				generator = { 545 }
				}

				add_state_claim	= 545
			}
		}

		hidden_effect = {
			news_event = { id = news.703 hours = 12 }
			POR = {
				country_event = { id = portugal.5 hours = 1 }
			}
		}
	}
}


# POR: United Kingdom Refuses Demands
country_event = {
	id = portugal.5
	title = portugal.5.t
	desc = portugal.5.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.5.o

		POR = {
		create_wargoal = {
			type = take_state
			target = ENG
			generator = { 545 }
		}
		add_state_claim	= 545
		}
	}
}

# POR: United Kingdom Accept Demands
country_event = {
	id = portugal.6
	title = portugal.6.t
	desc = portugal.6.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.6.o

		effect_tooltip = {
		POR = { 
			transfer_state = 545
		}

		545 = { add_core_of = POR}
		}		
	}
}


# News Event: United Kingdom Accepts Demands (Ceuta)
news_event = {
	id = news.702
	title = news.702.t
	desc = news.702.d
	picture = GFX_news_event_012
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.702.o
	}
}	

# News Event: United Kingdom Refuses Demands (Ceuta)
news_event = {
	id = news.703
	title = news.703.t
	desc = news.703.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.703.o
	}
	
}

#
# Rhodesia events END
#

#
# Join Allies
#

# ENG: portugal wants to join the allies
country_event = {
	id = portugal.30
	title = portugal.30.t
	desc = portugal.30.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = { # Accept request
		name = portugal.30.a
		ai_chance = { 
			base = 90
		}

		add_to_faction = POR
	
		hidden_effect = {
			news_event = { id = news.704 hours = 12 }
			POR = {
				country_event = { id = portugal.32 hours = 1 }
			}
		}
	}
	
	option = { # Refuse request
		name = portugal.30.b
		ai_chance = { 
			base = 10 
		}


		hidden_effect = {
			news_event = { id = news.705 hours = 12}
			POR = {
				country_event = { id = portugal.31 hours = 1 }
			}
		}
	}
}


# POR: ENG Refuses Request
country_event = {
	id = portugal.31
	title = portugal.31.t
	desc = portugal.31.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.31.o	
	}
}

# POR: ENG Accepts Request
country_event = {
	id = portugal.32
	title = portugal.32.t
	desc = portugal.32.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.32.o
	}
}


# News Event: ENG Invite portugal to Faction
news_event = {
	id = news.704
	title = news.704.t
	desc = news.704.d
	picture = GFX_news_event_012
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.704.o
	}
}	

# News Event: ENG Refuses Faction Join Request
news_event = {
	id = news.705
	title = news.705.t
	desc = news.705.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.705.o
	}
}


#
# Join Allies END
#

	#
# Join Axis
#

# GER: portugal wants to join axis
country_event = {
	id = portugal.10
	title = portugal.10.t
	desc = portugal.10.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = { # Accept request
		name = portugal.10.a
		ai_chance = { 
			base = 90 
		}

		add_to_faction = POR
	
		hidden_effect = {
			news_event = { id = news.706 hours = 12 }
			POR = {
				country_event = { id = portugal.12 hours = 1 }
			}
		}
	}
	
	option = { # Refuse request
		name = portugal.10.b
		ai_chance = { 
			base = 10 
		}


		hidden_effect = {
			news_event = { id = news.707 hours = 12}
			POR = {
				country_event = { id = portugal.11 hours = 1 }
			}
		}
	}
}


# POR: Germany Refuses Request
country_event = {
	id = portugal.11
	title = portugal.11.t
	desc = portugal.11.d
	picture = GFX_report_event_fascist_gathering
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.11.o	
	}
}

# POR: Germany Accepts Request
country_event = {
	id = portugal.12
	title = portugal.12.t
	desc = portugal.12.d
	picture = GFX_report_event_hitler_croatia_handshake
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.12.o
	}
}


# News Event: Germany Invite portugal to Axis
news_event = {
	id = news.706
	title = news.706.t
	desc = news.706.d
	picture = GFX_news_event_hitler_speech
	
	major = yes
	
	is_triggered_only = yes


	
	option = {
		name = news.706.o
	}
}	

# News Event: Germany Refuses Axis Join Request
news_event = {
	id = news.707
	title = news.707.t
	desc = news.707.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = news.707.o
	}
}


#
# Join Comintern
#

# SOV: portugal wants to join comintern
country_event = {
	id = portugal.20
	title = portugal.20.t
	desc = portugal.20.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = { # Accept request
		name = portugal.20.a
		ai_chance = { 
			base = 90 
		}

		add_to_faction = POR
	
		hidden_effect = {
			news_event = { id = news.708 hours = 12 }
			POR = {
				country_event = { id = portugal.22 hours = 1 }
			}
		}
	}
	
	option = { # Refuse request
		name = portugal.20.b
		ai_chance = { 
			base = 10 
		}


		hidden_effect = {
			news_event = { id = news.709 hours = 12}
			POR = {
				country_event = { id = portugal.21 hours = 1 }
			}
		}
	}
}


# POR: Soviet Refuses Request
country_event = {
	id = portugal.21
	title = portugal.21.t
	desc = portugal.21.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes
	
	option = {
		name = portugal.21.o	
	}
}

# POR: Soviet Accepts Request
country_event = {
	id = portugal.22
	title = portugal.22.t
	desc = portugal.22.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes
	
	option = {
		name = portugal.22.o
	}
}


# News Event: Soviet Invite portugal to Faction
news_event = {
	id = news.708
	title = news.708.t
	desc = news.708.d
	picture = GFX_news_event_012
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = news.708.o
	}
}	

# News Event: Soviet Refuses Faction Join Request
news_event = {
	id = news.709
	title = news.709.t
	desc = news.709.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = news.709.o
	}
}


#Portugal declares Spain friend.
news_event = {
	id = news.710
	title = news.710.t
	desc = news.710.d
	picture = GFX_news_event_generic_read_write

	major = yes

	is_triggered_only = yes

	fire_only_once = yes

	#Our nations stand together as friends.
	option = {
		name = news.710.a
		trigger = {
			OR = {
				tag = POR
				tag = SPR
			}
		}
	}

	#There will be peace in the Adriatic.
	option = {
		name = news.710.b
		trigger =  {
			NOT = {
				tag = POR
				tag = SPR
			}
			POR = {
				has_war = no
			}
		}
	}

	#It will be interesting to see where this ends.
	option = {
		name = news.710.c
		trigger =  {
			NOT = {
				tag = POR
				tag = SPR
			}
			POR = {
				has_war = yes
			}
		}
	}
}


# portugal Demand (Ceylon)
country_event = {
	id = portugal.40
	title = portugal.40.t
	desc = portugal.40.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = { # Accept demands
		name = portugal.40.a
		ai_chance = { 
			base = 90
		}

		POR = { 
			transfer_state = 422
		}
	
		hidden_effect = {
			news_event = { id = news.702 hours = 12 }
			POR = {
				country_event = { id = portugal.42 hours = 1 }
			}
		}
	}
	
	option = { # Refuse demands
		name = portugal.4.b
		ai_chance = { 
			base = 10
		}
		effect_tooltip = {
			POR = {
				create_wargoal = {
				type = take_state_focus
				target = ENG
				generator = { 422 }
				}

				add_state_claim	= 422
			}
		}

		hidden_effect = {
			news_event = { id = news.703 hours = 12 }
			POR = {
				country_event = { id = portugal.41 hours = 1 }
			}
		}
	}
}


# POR: United Kingdom Refuses Demands
country_event = {
	id = portugal.41
	title = portugal.41.t
	desc = portugal.41.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.41.o

		POR = {
		create_wargoal = {
			type = take_state
			target = ENG
			generator = { 422 }
		}
		add_state_claim	= 422
		}
	}
}

# POR: United Kingdom Accept Demands
country_event = {
	id = portugal.42
	title = portugal.42.t
	desc = portugal.42.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.42.o

		effect_tooltip = {
		POR = { 
			transfer_state = 422
		}

		422 = { add_core_of = POR}
		}		
	}
}


# News Event: United Kingdom Accepts Demands (Ceuta)
news_event = {
	id = news.711
	title = news.711.t
	desc = news.711.d
	picture = GFX_news_event_012
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.711.o
	}
}	

# News Event: United Kingdom Refuses Demands (Ceuta)
news_event = {
	id = news.712
	title = news.712.t
	desc = news.712.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.712.o
	}
	
}

#Fascist coup - Peaceful
country_event = {
	id = portugal.43
	title = portugal.43.t
	desc = portugal.43.d
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.43.a
		set_politics = { ruling_party = fascism }
		hidden_effect = {
			remove_ideas = POR_radicalize_salazars_allies_idea
			remove_ideas = POR_austerity_measures
			add_ideas = POR_economic_shocks
			add_ideas = POR_brawling_in_urban_centers
			add_ideas = POR_faltering_rural_support
			if = {	#QOL + Theoretical Optimization (Should no longer check availability in background) by retiring these guys
				limit = { has_character = POR_jose_manuel_sarmento_de_beires }
				retire_character = POR_jose_manuel_sarmento_de_beires
			}
			if = {
				limit = { has_character = POR_julio_botelho_moniz }
				retire_character = POR_julio_botelho_moniz
			}
			if = {
				limit = { has_character = POR_jaime_cortesao }
				retire_character = POR_jaime_cortesao
			}
			if = {
				limit = { has_character = POR_francisco_da_cunha_leal }
				retire_character = POR_francisco_da_cunha_leal
			}
			if = {
				limit = { has_character = POR_bento_de_jesus_caraca }
				retire_character = POR_bento_de_jesus_caraca
			}
			if = {
				limit = { has_character = POR_maria_lamas }
				retire_character = POR_maria_lamas
			}
			if = {
				limit = { has_character = POR_augusto_de_vasconcelos }
				retire_character = POR_augusto_de_vasconcelos
			}
			if = {
				limit = { has_character = POR_manuel_goncalves_cerejeira }
				retire_character = POR_manuel_goncalves_cerejeira
			}
			if = {
				limit = { has_character = POR_manuel_da_silva_campos }
				retire_character = POR_manuel_da_silva_campos
			}
			if = {
				limit = { has_character = POR_henrique_caetano_de_sous }
				retire_character = POR_henrique_caetano_de_sous
			}
			if = {
				limit = { has_character = POR_miguel_russel }
				retire_character = POR_miguel_russel
			}
			if = {
				limit = { has_character = POR_vitorino_guimaraes }
				retire_character = POR_vitorino_guimaraes
			}
			if = {
				limit = { has_character = POR_joao_camoesas }
				retire_character = POR_joao_camoesas
			}
			if = {
				limit = { has_character = POR_manuel_gaspar_de_lemos }
				retire_character = POR_manuel_gaspar_de_lemos
			}
			if = {
				limit = { has_character = POR_sebastiao_garcia_ramires }
				retire_character = POR_sebastiao_garcia_ramires
			}
			if = {
				limit = { has_character = POR_jose_mendes_dos_reis }
				retire_character = POR_jose_mendes_dos_reis
			}
			if = {
				limit = { has_character = POR_armando_pereira_de_castro_agatao_lanca }
				retire_character = POR_armando_pereira_de_castro_agatao_lanca
			}
		}
	}
}

#Fascist coup - Civil War
country_event = {
	id = portugal.44
	title = portugal.43.t
	desc = portugal.44.d
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.45.a
		hidden_effect = {
			add_ideas = POR_economic_shocks
			add_ideas = POR_brawling_in_urban_centers
			add_ideas = POR_faltering_rural_support
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 3000
			}
			if = {	#QOL + Theoretical Optimization (Should no longer check availability in background) by retiring these guys
				limit = { has_character = POR_jose_manuel_sarmento_de_beires }
				retire_character = POR_jose_manuel_sarmento_de_beires
			}
			if = {
				limit = { has_character = POR_jaime_cortesao }
				retire_character = POR_jaime_cortesao
			}
			if = {
				limit = { has_character = POR_francisco_da_cunha_leal }
				retire_character = POR_francisco_da_cunha_leal
			}
			if = {
				limit = { has_character = POR_bento_de_jesus_caraca }
				retire_character = POR_bento_de_jesus_caraca
			}
			if = {
				limit = { has_character = POR_maria_lamas }
				retire_character = POR_maria_lamas
			}
			if = {
				limit = { has_character = POR_augusto_de_vasconcelos }
				retire_character = POR_augusto_de_vasconcelos
			}
			if = {
				limit = { has_character = POR_manuel_da_silva_campos }
				retire_character = POR_manuel_da_silva_campos
			}
			if = {
				limit = { has_character = POR_henrique_caetano_de_sous }
				retire_character = POR_henrique_caetano_de_sous
			}
			if = {
				limit = { has_character = POR_miguel_russel }
				retire_character = POR_miguel_russel
			}
			if = {
				limit = { has_character = POR_vitorino_guimaraes }
				retire_character = POR_vitorino_guimaraes
			}
			if = {
				limit = { has_character = POR_joao_camoesas }
				retire_character = POR_joao_camoesas
			}
			if = {
				limit = { has_character = POR_manuel_gaspar_de_lemos }
				retire_character = POR_manuel_gaspar_de_lemos
			}
			if = {
				limit = { has_character = POR_julio_botelho_moniz }
				retire_character = POR_julio_botelho_moniz
			}
			if = {
				limit = { has_character = POR_manuel_goncalves_cerejeira }
				retire_character = POR_manuel_goncalves_cerejeira
			}
			if = {
				limit = { has_character = POR_sebastiao_garcia_ramires }
				retire_character = POR_sebastiao_garcia_ramires
			}
			if = {
				limit = { has_character = POR_jose_mendes_dos_reis }
				retire_character = POR_jose_mendes_dos_reis
			}
			if = {
				limit = { has_character = POR_armando_pereira_de_castro_agatao_lanca }
				retire_character = POR_armando_pereira_de_castro_agatao_lanca
			}
		}
		if = {
			limit = { 
				OR = {
					has_idea = limited_conscription
					has_idea = extensive_conscription
					has_idea = service_by_requirement
					has_idea = all_adults_serve
					has_idea = scraping_the_Barrel
				}
			}
			add_war_support = 0.05
			add_manpower = 30000
		}
		else = {
			add_war_support = 0.03
			add_manpower = 25000
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_ideas = limited_conscription
		}
		if = {
			limit = { fascism > 0.45 }
			start_civil_war = {
				ruling_party = fascism
				ideology = neutrality
				keep_political_leader = no
				size = 0.23
				capital = 112
				states = { 179 112 795 698 702 296 705 796 540 892 891 897 896 544 321 721 729 }
				180 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 9817
						count = 1
					}
				}
				181 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 889 
						count = 1
					}
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 845
						count = 1
					}
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 938
						count = 1
					}
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 3969
						count = 1
					}
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 11885
						count = 1
					}
				}
				112 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6924
						count = 1
					}
				}
				every_country = {
					limit = {
						original_tag = POR
						has_civil_war = yes 
						has_government = neutrality
					}
					112 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 4
						}
					}
					795 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 3
						}
					}
					179 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
						}
					}
					540 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 8248
						}
					}
				}
			}

			else_if = {
				limit = { fascism > 0.42 }
				start_civil_war = {
					ruling_party = fascism
					ideology = neutrality
					keep_political_leader = no
					size = 0.27
					capital = 112
					states = { 179 112 795 698 702 296 705 796 540 892 891 897 896 544 321 721 729 }
					180 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 9817
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 889 
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 845
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 938
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 3969
							count = 1
						}
					}
					every_country = {
						limit = {
							original_tag = POR
							has_civil_war = yes 
							has_government = neutrality
						}
						112 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 4
							}
						}
						795 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
							}
						}
						179 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
							}
						}
						540 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
			
			else_if = {
				limit = { fascism > 0.38 }
				start_civil_war = {
					ruling_party = fascism
					ideology = neutrality
					keep_political_leader = no
					size = 0.31
					capital = 112
					states = { 179 112 795 698 702 296 705 796 540 892 891 897 896 544 321 721 729 }
					180 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 9817
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 889 
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 845
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 938
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 3969
							count = 1
						}
					}
					every_country = {
						limit = {
							original_tag = POR
							has_civil_war = yes 
							has_government = neutrality
						}
						112 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 4
							}
						}
						795 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
							}
						}
						179 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
							}
						}
						540 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
			else_if = {
				limit = { fascism > 0.34 }
				start_civil_war = {
					ruling_party = fascism
					ideology = neutrality
					keep_political_leader = no
					size = 0.35
					capital = 112
					states = { 179 112 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
					180 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 9817
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 889 
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 845
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 938
							count = 1
						}
					}
					every_country = {
						limit = {
							original_tag = POR
							has_civil_war = yes 
							has_government = neutrality
						}
						112 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
								prioritize_location = 799
							}
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 3798
							}
						}
						795 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
							}
						}
						179 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
							}
						}
						540 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
			else_if = {
				limit = { fascism > 0.31 }
				start_civil_war = {
					ruling_party = fascism
					ideology = neutrality
					keep_political_leader = no
					size = 0.4
					capital = 112
					states = { 179 112 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
					180 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 9817
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 845
							count = 1
						}
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 938
							count = 1
						}
					}
					every_country = {
						limit = {
							original_tag = POR
							has_civil_war = yes 
							has_government = neutrality
						}
						112 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
								prioritize_location = 799
							}
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
								prioritize_location = 3798
							}
						}
						795 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
							}
						}
						179 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
							}
						}
						540 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
			else = {
				start_civil_war = {
					ruling_party = fascism
					ideology = neutrality
					keep_political_leader = no
					size = 0.45
					capital = 112
					states = { 179 112 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
					180 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 9817
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 845
							count = 1
						}
					}
					every_country = {
						limit = {
							original_tag = POR
							has_civil_war = yes 
							has_government = neutrality
						}
						112 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 4
								prioritize_location = 799
							}
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
								prioritize_location = 3798
							}
						}
						181 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
								prioritize_location = 11885
							}
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
								prioritize_location = 3969
							}
						}
						179 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
							}
						}
						540 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
		}
		hidden_effect = {
			add_command_power = 40
			random_country = {
				limit = {
					original_tag = POR
					has_government = neutrality
				}
				load_focus_tree = { tree = r56_portuguese_focus keep_completed = no }
				unlock_national_focus = POR_continue_salazars_policies
				unlock_national_focus = POR_extend_PVDE_security_duties
				unlock_national_focus = POR_complete_the_military_restructuring
				unlock_national_focus = POR_cooperation_with_the_armed_forces
				add_ideas = POR_lackluster_armed_forces
				add_ideas = partial_economic_mobilisation
			}
		}
	}
}

#Socialist/Democratic Civil War
country_event = {
	id = portugal.45
	title = portugal.45.t
	desc = portugal.45.d
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			add_ideas = POR_reactionary_resistance
			add_ideas = POR_divided_revolution
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 3000
			}
			GER = {
				remove_opinion_modifier = {
					target = POR
					modifier = fascism_leanings_good
				}
			}
			ITA = {
				remove_opinion_modifier = {
					target = POR
					modifier = fascism_leanings_good
				}
			}
			every_controlled_state = {
				limit = {
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 20		#To compensate for the reduction upon switching ideologies
			}
			if = {
				limit = { has_completed_focus = POR_ally_anti_colonial_resistance }
				if = {
					limit = { 
						controls_state = 891
						controls_state = 892
						controls_state = 540
						controls_state = 796
					}
					891 = { add_resistance = 9 }
					892 = { add_resistance = 8 }
					540 = { add_resistance = 7 }
					796 = { add_resistance = 3 }
				}
				if = {
					limit = { 
						controls_state = 897
						controls_state = 896
						controls_state = 544
					}
					897 = { add_resistance = 7 }
					896 = { add_resistance = 5 }
					544 = { add_resistance = 5 }
				}
				if = {
					limit = { controls_state = 705 }
					705 = { add_resistance = 6 }
				}
				if = {
					limit = { controls_state = 296 }
					296 = { add_resistance = 6 }
				}
				if = {
					limit = { controls_state = 702 }
					702 = { add_resistance = 5 }
				}
			}
			if = {
				limit = { has_character = POR_jose_hipolito_raposo }		#QOL + Theoretical Optimization (Should no longer check availability in background) by retiring these guys
				retire_character = POR_jose_hipolito_raposo
			}
			if = {
				limit = { has_character = POR_domingos_de_gusmao_araujo }
				retire_character = POR_domingos_de_gusmao_araujo
			}
			if = {
				limit = { has_character = POR_alberto_pinheiro_torres }
				retire_character = POR_alberto_pinheiro_torres
			}
			if = {
				limit = { has_character = POR_jose_adriano_pequito_rebelo }
				retire_character = POR_jose_adriano_pequito_rebelo
			}
			if = {
				limit = { has_character = POR_fernando_dos_santos_costa }
				retire_character = POR_fernando_dos_santos_costa
			}
			if = {
				limit = { has_character = POR_sebastiao_garcia_ramires }
				retire_character = POR_sebastiao_garcia_ramires
			}
			if = {
				limit = { has_character = POR_luis_maria_lopes_da_fenseca }
				retire_character = POR_luis_maria_lopes_da_fenseca
			}
			if = {
				limit = { has_character = POR_francisco_jose_nobre_guedes }
				retire_character = POR_francisco_jose_nobre_guedes
			}
			if = {
				limit = { has_character = POR_joao_de_almeida }
				retire_character = POR_joao_de_almeida
			}
		}
	}
	option = {
		name = portugal.45.a
		if = {
			limit = { 
				OR = {
					has_idea = limited_conscription
					has_idea = extensive_conscription
					has_idea = service_by_requirement
					has_idea = all_adults_serve
					has_idea = scraping_the_Barrel
				}
			}
			add_war_support = 0.05
			add_manpower = 30000
		}
		else = {
			add_war_support = 0.03
			add_manpower = 25000
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_ideas = limited_conscription
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		if = {
			limit = { neutrality > 0.55 }
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				keep_political_leader = no
				size = 0.5
				capital = 180
				states = { 180 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
				112 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.66" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 11805
						count = 1
					}
				}
				795 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.66" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 924
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.66" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 9869
						count = 1
					}
				}
				179 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.66" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6933
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.66" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 980
						count = 1
					}
				}
				every_country = {
					limit = {
						original_tag = POR
						has_civil_war = yes 
						has_government = neutrality
					}
					180 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 9817
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 6941
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 9787
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 6996
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 11885
						}
					}
					795 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 844
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 6986
						}
					}
					if = {
						limit = { 
							NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
						}
						540 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = { neutrality > 0.5 }
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				keep_political_leader = no
				size = 0.37
				capital = 180
				states = { 180 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
				112 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.75" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 11805
						count = 1
					}
				}
				795 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.75" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 924
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.75" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 9869
						count = 1
					}
				}
				179 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.75" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6933
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.75" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 980
						count = 1
					}
				}
				every_country = {
					limit = {
						original_tag = POR
						has_civil_war = yes 
						has_government = neutrality
					}
					180 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 9817
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 9787
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 6996
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 11885
						}
					}
					795 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 844
						}
						create_unit = {
							division = "Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 6986
						}
					}
					if = {
						limit = { 
							NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
						}
						540 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = { neutrality > 0.45 }
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				keep_political_leader = no
				size = 0.32
				capital = 180
				states = { 180 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
				112 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.8" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 11805
						count = 1
					}
				}
				795 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.8" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 924
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.8" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 9869
						count = 1
					}
				}
				179 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.8" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6933
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.8" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 980
						count = 1
					}
				}
				every_country = {
					limit = {
						original_tag = POR
						has_civil_war = yes 
						has_government = neutrality
					}
					180 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 9817
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 9787
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 6996
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 11885
						}
					}
					795 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 3
							prioritize_location = 844
						}
						create_unit = {
							division = "Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 6986
						}
					}
					if = {
						limit = { 
							NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
						}
						540 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
		}
		else = {
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				keep_political_leader = no
				size = 0.29
				capital = 180
				states = { 180 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
				112 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.85" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 11805
						count = 1
					}
				}
				795 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.85" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 924
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.85" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 9869
						count = 1
					}
				}
				179 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.85" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6933
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.85" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 980
						count = 1
					}
				}
				every_country = {
					limit = {
						original_tag = POR
						has_civil_war = yes 
						has_government = neutrality
					}
					180 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.94" 
							owner = PREV
							count = 2
							prioritize_location = 9817
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.94" 
							owner = PREV
							count = 1
							prioritize_location = 9787
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.94" 
							owner = PREV
							count = 1
							prioritize_location = 6996
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.94" 
							owner = PREV
							count = 2
							prioritize_location = 11885
						}
					}
					795 = {
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.94" 
							owner = PREV
							count = 2
							prioritize_location = 844
						}
						create_unit = {
							division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.94" 
							owner = PREV
							count = 1
							prioritize_location = 6986
						}
					}
					if = {
						limit = { 
							NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
						}
						540 = {
							create_unit = {
								division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
								prioritize_location = 8248
							}
						}
					}
				}
			}
		}
		hidden_effect = {
			add_command_power = 40
			random_country = {
				limit = {
					original_tag = POR
					has_government = neutrality
				}
				load_focus_tree = { tree = r56_portuguese_focus keep_completed = no }
				unlock_national_focus = POR_continue_salazars_policies
				unlock_national_focus = POR_extend_PVDE_security_duties
				unlock_national_focus = POR_complete_the_military_restructuring
				unlock_national_focus = POR_cooperation_with_the_armed_forces
				add_ideas = POR_lackluster_armed_forces
				add_ideas = partial_economic_mobilisation
			}
			if = {
				limit = { 
					SPR_scw_in_progress = yes
					has_country_flag = POR_join_forces_with_the_spanish_popular_front_flag 
				}
				if = {
					limit = { country_exists = SPA }
					add_to_war = { targeted_alliance = SPD enemy = SPA hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPC }
					add_to_war = { targeted_alliance = SPD enemy = SPC hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPB }
					add_to_war = { targeted_alliance = SPD enemy = SPB hostility_reason = asked_to_join }
				}
				clr_country_flag = POR_join_forces_with_the_spanish_popular_front_flag
				set_country_flag = POR_iberian_union_possible_flag
				country_event = {
					id = lar_portugal_iberian_workers_united.1
					hours = 1
				}
				diplomatic_relation = {
					country = SPD
					relation = military_access
					active = yes
				}
				add_ai_strategy = {
					type = befriend
					id = SPD
					value = 100
				}
				SPD = {
					country_event = {
						id = lar_portugal_iberian_workers_united.1
						hours = 1
					}
					diplomatic_relation = {
						country = POR
						relation = military_access
						active = yes
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
				}
				random_country = {
					limit = {
						original_tag = POR
						has_government = neutrality
					}
					if = {
						limit = { country_exists = SPA }
						add_to_war = { targeted_alliance = SPA enemy = SPD hostility_reason = asked_to_join }
						if = {
							limit = { country_exists = SPC }
							add_to_war = { targeted_alliance = SPA enemy = SPC hostility_reason = asked_to_join }
						}
						if = {
							limit = { country_exists = SPB }
							add_to_war = { targeted_alliance = SPA enemy = SPB hostility_reason = asked_to_join }
						}
					}
				}
			}
		}
	}
}

#Portuguese Socialist's Request Soviet Aid
country_event = {
	id = portugal.46
	title = portugal.46.t
	desc = portugal.46.d
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.46.a
		POR = { 
			add_ideas = POR_NKVD_activity
			country_event = turkey.16
		}
		add_ai_strategy = {
			type = send_volunteers_desire
			id = "POR"
			value = 1000
		}
		ai_chance = { 
			base = 0
			modifier = {
				add = 100
				has_war = no
			}
		}
	}
	option = {
		name = portugal.46.b
		POR = { country_event = turkey.17 }
		ai_chance = { base = 10 }
	}
}

#The Question of Our Colonies
country_event = {
	id = portugal.47
	title = portugal.47.t
	desc = portugal.47.desc
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.47.a	#Our cause is one!
		ai_chance = { base = 5 }
		set_country_flag = POR_released_colonies_flag
		mark_focus_tree_layout_dirty = yes
		add_political_power = 50
		add_manpower = 20000
		custom_effect_tooltip = portugal.47.a_tt
		custom_effect_tooltip = CHL_skip_one_line_tt
		if = {
			limit = { 
				POR = { has_full_control_of_state = 721 }
			}
			667 = {
				controller = { country_event = portugal.50 }
			}
		}
		if = {
			limit = { 
				POR = { has_full_control_of_state = 321 }
			}
			425 = {
				controller = { country_event = portugal.49 }
			}
		}
		if = {
			limit = { 
				POR = { has_full_control_of_state = 729 }
			}
			592 = {
				controller = { country_event = portugal.48 }
			}
		}
		hidden_effect = {
			if = {
				limit = {
					ANG = { exists = no }
					OR = {
						controls_state = 796
						controls_state = 540
						controls_state = 891
						controls_state = 892
					}
				}
				release = ANG
				ANG = {
					set_politics = { 
						ruling_party = communism
						elections_allowed = yes
					}
					add_popularity = {
						ideology = communism
						popularity = 0.35
					}
				}
			}
			if = {
				limit = {
					MZB = { exists = no }
					OR = {
						controls_state = 897
						controls_state = 896
						controls_state = 544
					}
				}
				release = MZB
				MZB = {
					set_politics = { 
						ruling_party = communism
						elections_allowed = no
					}
					add_popularity = {
						ideology = communism
						popularity = 0.35
					}
				}
			}
			if = {
				limit = {
					GNB = { exists = no }
					controls_state = 296		
				}
				release = GNB
				GNB = {
					set_politics = { 
						ruling_party = communism
						elections_allowed = no
					}
					add_popularity = {
						ideology = communism
						popularity = 0.35
					}
				}
			}
			if = {
				limit = {
					CAP = { exists = no }
					controls_state = 702		
				}
				release = CAP
				CAP = {
					set_politics = { 
						ruling_party = communism
						elections_allowed = no
					}
					add_popularity = {
						ideology = communism
						popularity = 0.35
					}
				}
			}
			if = {
				limit = {
					SAO = { exists = no }
					controls_state = 705		
				}
				release = SAO
				SAO = {
					set_politics = { 
						ruling_party = communism
						elections_allowed = no
					}
					add_popularity = {
						ideology = communism
						popularity = 0.35
					}
				}
			}
		}	
	}
	option = {
		name = portugal.47.b	#Perhaps some autonomy would suffice?
		ai_chance = { base = 0 }
		set_country_flag = POR_colonial_autonomy_flag
		mark_focus_tree_layout_dirty = yes
		if = {
			limit = { has_completed_focus = POR_ally_anti_colonial_resistance }
			add_political_power = -50
			add_stability = -0.05
			custom_effect_tooltip = CHL_skip_one_line_tt
		}
		else = { add_political_power = 25 }
		add_manpower = 10000
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		custom_effect_tooltip = portugal.47.b_tt
		custom_effect_tooltip = CHL_skip_one_line_tt
		hidden_effect = {
			if = {
				limit = {
					ANG = {
						exists = no
					}
					OR = {
						controls_state = 796
						controls_state = 540
						controls_state = 891
						controls_state = 892
					}
				}
				release = ANG
				set_autonomy = {
					target = ANG
					autonomy_state = autonomy_dominion
				}
				ANG = {
					set_politics = { 
						ruling_party = democratic
						elections_allowed = yes
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.35
					}
					add_opinion_modifier = {
						target = POR
						modifier = ENG_guiding_the_colonies
					}
				}
			}
			if = {
				limit = {
					MZB = { exists = no }
					OR = {
						controls_state = 897
						controls_state = 896
						controls_state = 544
					}
				}
				release = MZB
				set_autonomy = {
					target = MZB
					autonomy_state = autonomy_dominion
				}
				MZB = {
					set_politics = { 
						ruling_party = democratic
						elections_allowed = yes
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.35
					}
					add_opinion_modifier = {
						target = POR
						modifier = ENG_guiding_the_colonies
					}
				}
			}
			if = {
				limit = {
					GNB = { exists = no }
					controls_state = 296		
				}
				release = GNB
				set_autonomy = {
					target = GNB
					autonomy_state = autonomy_dominion
				}
				GNB = {
					set_politics = { 
						ruling_party = democratic
						elections_allowed = yes
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.35
					}
					add_opinion_modifier = {
						target = POR
						modifier = ENG_guiding_the_colonies
					}
				}
			}
		}
		every_controlled_state = {
			limit = {
				OR = {
					state = 702
					state = 705
					state = 729
					state = 721
					state = 321
				}
			}
			add_compliance = 35
			add_resistance = -10
			add_dynamic_modifier = { modifier = autonomous_state }
		}
	}
	option = {
		name = portugal.47.c	#... About that.
		trigger = { has_completed_focus = POR_ally_anti_colonial_resistance }
		ai_chance = { 
			base = 1
			modifier = {
				factor = 30
				has_game_rule = {
					rule = POR_AI_BEHAVIOR
					option = DEMOCRATIC
				}
			}
		}
		add_political_power = -75
		add_stability = -0.05
		add_popularity = {
			ideology = ROOT
			popularity = -0.1
		}
		every_controlled_state = {
			limit = {
				NOT = { is_core_of = ROOT }
				OR = {
					is_on_continent = africa
					is_on_continent = asia
				}
			}
			add_compliance = -5
		}
	}
	option = {
		name = portugal.47.d	#Hmm... no.
		trigger = {
			NOT = { has_completed_focus = POR_ally_anti_colonial_resistance } 
		}
		ai_chance = { base = 0 }
		add_popularity = {
			ideology = ROOT
			popularity = -0.05
		}
	}
}

country_event = {
	id = portugal.48
	title = portugal.48.t
	desc = portugal.48.desc
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.48.a	#Then we will move in!
		transfer_state = 729
		if = {
			limit = { original_tag = GXC }
			add_state_core = 729
		}
	}
}

country_event = {
	id = portugal.49
	title = portugal.49.t
	desc = portugal.48.desc
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.48.a	#Then we will move in!
		transfer_state = 321
	}
}

country_event = {
	id = portugal.50
	title = portugal.50.t
	desc = portugal.48.desc
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.48.a	#Then we will move in!
		ai_chance = { base = 100 }
		transfer_state = 721
		if = {
			limit = { original_tag = INS }
			add_state_claim = 721
		}
	}
	option = {
		name = portugal.50.b	#This is no threat to us!
		ai_chance = { base = 0 }
		TML = {
			transfer_state = 721
			hidden_effect = {
				if = {
					limit = {
						exists = no
					}
					set_politics = { 
						ruling_party = communism
						elections_allowed = no
					}
				}
			}
		}
	}
}

country_event = {	#Addressing the New Spain
	id = portugal.51
	title = portugal.51.t
	desc = portugal.51.desc
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.51.a	#Together, we've displayed incredible resolve! Pan-Iberian unity is our path forward!
		trigger = {
			has_country_flag = POR_iberian_union_possible_flag
			NOT = { has_cosmetic_tag = ESU_POR_unified }
			OR = {
				SPR = {
					exists = yes
					OR = {
						has_government = democratic
						has_government = communism
					}
					OR = {
						is_subject = no
						is_subject_of = POR
					}
				}
				SPD = {
					exists = yes
					OR = {
						has_government = democratic
						has_government = communism
					}
					OR = {
						is_subject = no
						is_subject_of = POR
					}
				}
				SPC = {
					exists = yes
					OR = {
						has_government = democratic
						has_government = communism
					}
					OR = {
						is_subject = no
						is_subject_of = POR
					}
				}
			}
		}
		hidden_effect = {
			every_state = {
				limit = { has_state_flag = SPR_core_of_spain_flag }
				add_core_of = ROOT
			}
		}
		every_country = {
			limit = {
				OR = {
					tag = SPR
					tag = SPD
					tag = SPC
				}
				OR = {
					has_government = communism
					has_government = democratic
				}
				NOT = { 
					is_subject = yes
					has_war_with = ROOT 
				}
			}
			country_event = { 
				id = portugal.74
				hours = 6 
			}
		}
		every_country = {
			limit = {
				is_subject_of = ROOT
				OR = {
					tag = SPR
					tag = SPD
					tag = SPC
					tag = SPA
					tag = SPB
					tag = GLC
					tag = NAV
					tag = CAT
					tag = ADU
				}
			}
			ROOT = {
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			add_political_power = -125
			add_stability = -0.15
			custom_effect_tooltip = POR_annexes_and_gains_cores_on_all_spanish_states
		}
		custom_effect_tooltip = alternative_diplomatic_reward
		effect_tooltip = { add_ideas = POR_pan_iberian_trade_r56 }
		ai_chance = { 
			base = 999
			modifier = {
				factor = 0
				41 = { 
					owner = { is_ai = no }
				}
			} 
		}
	}
	option = {
		name = portugal.51.b	#We should work to expand the friendship we've already built!
		trigger = {
			if = {
				limit = { has_completed_focus = POR_unite_against_salazar }
				OR = {
					has_country_flag = POR_supports_SPD_flag
					has_country_flag = POR_iberian_union_possible_flag
				}
				41 = {
					owner = { 
						NOT = { has_war_with = ROOT } 
						OR = {
							has_completed_focus = SPR_maintain_the_second_republic 
							has_completed_focus = SPR_the_anti_fascist_workers_revolution
							AND = {
								has_global_flag = SPR_R56_focus_tree
								OR = {
									has_government = communism
									has_government = democratic
								}
							}
						}
					}
				}
			}
			else = {
				41 = {
					owner = { 
						NOT = {
							has_war_with = ROOT
							has_completed_focus = SPR_maintain_the_second_republic 
							has_completed_focus = SPR_the_anti_fascist_workers_revolution
							has_completed_focus = SPR_regional_defense_council_of_aragon
							has_government = communism
							has_government = democratic
						}
					}
				}
			}
		}
		41 = {
			owner = { 
				country_event = { id = portugal.52 hours = 6 }
			}
		}
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = { add_ideas = POR_pan_iberian_trade_r56 }
		ai_chance = { base = 100 }
		
	}
	option = {
		name = portugal.51.c	#Despite our differences, what's best for us both is to normalize our relations
		trigger = {
			41 = {
				owner = {
					NOT = { has_war_with = ROOT }
				}
			}
			OR = {
				has_completed_focus = POR_restore_civil_liberties	#For Demo
				AND = {	#For Salazar
					has_government = neutrality
					41 = {
						owner = { 
							NOT = { has_government = communism }
						}
					}
				}
				AND = {	#For left-republic
					has_government = communism
					41 = {
						owner = { 
							NOT = { 
								has_completed_focus = SPR_regional_defense_council_of_aragon
								has_government = fascism
								has_government = neutrality 
							}
						}
					}
				}
				AND = {	#For Preto
					has_government = fascism
					41 = {
						owner = { 
							NOT = { has_government = communism }
						}
					}
				}
			}
		}
		ai_chance = { base = 15 }
		41 = {
			owner = { 
				country_event = { id = portugal.55 hours = 6 }
			}
		}
		custom_effect_tooltip = if_they_refuse_tt
		effect_tooltip = {
			add_political_power = 35
			add_war_support = 0.03
		}
	}
	option = {
		name = portugal.51.d	#This "new Spain" is a threat to everything we stand for!
		ai_chance = { base = 1 }
		add_political_power = 45
		add_war_support = 0.05	
	}
}

#Spanish-Portuguese Friendship
country_event = {
	id = portugal.52
	title = portugal.52.t
	desc = portugal.52.d
	picture = GFX_report_event_generic_sign_treaty1 
	is_triggered_only = yes
	option = {	#Of course! We shall codify the friendship we've already built!
		name = portugal.52.a
		ai_chance = {
			base = 10
		}
		add_ideas = POR_pan_iberian_trade_SPR_r56
		POR = {
			if = {
				limit = { has_non_aggression_pact_with = ROOT }
			}
			else = {
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
					active = yes
				}
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			country_event = {
				id = portugal.53
				hours = 4
				random_hours = 2
			}
		}
	}
	option = { 	#We are not interested in their affairs!
		name = portugal.52.b
		ai_chance = {
			base = 0
		}
		FROM = {
			country_event = {
				id = portugal.54
				hours = 4
				random_hours = 2
			}
		}
	}
}
#The Spanish Accept Our Friendship!
country_event = {
	id = portugal.53
	title = portugal.53.t
	desc = portugal.53.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_communist_congress
	option = { # Excellent!
		name = portugal.56.a
		add_ideas = POR_pan_iberian_trade_r56
	}
}
#The Spanish Have Refused!
country_event = {
	id = portugal.54
	title = portugal.54.t
	desc = portugal.54.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_sign_treaty1 
	option = { # Unfortunate.
		name = portugal.54.a
		add_political_power = 35
		add_war_support = 0.03
	}
}
#Portugal Requests a Non-Aggression Pact
country_event = {
	id = portugal.55
	title = portugal.55.t
	desc = portugal.55.d
	picture = GFX_report_event_generic_sign_treaty1 
	is_triggered_only = yes
	option = {	#Of course! Avoiding war on the peninsula is in all of our interests!
		name = portugal.55.a
		ai_chance = {
			base = 1
		}
		POR = {
			if = {
				limit = { has_non_aggression_pact_with = ROOT }
			}
			else = {
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
					active = yes
				}
			}
		}
		FROM = {
			country_event = {
				id = portugal.56
				hours = 4
				random_hours = 2
			}
		}
	}
	option = { 	#We are not interested in their affairs!
		name = portugal.55.b
		ai_chance = {
			base = 1
		}
		FROM = {
			country_event = {
				id = portugal.57
				hours = 4
				random_hours = 2
			}
		}
	}
}
#The Spanish Have Accepted!
country_event = {
	id = portugal.56
	title = portugal.56.t
	desc = portugal.53.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_communist_congress
	option = { # Excellent!
		name = portugal.56.a
	}
}
#The Spanish Have Refused!
country_event = {
	id = portugal.57
	title = portugal.57.t
	desc = portugal.54.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_sign_treaty1 
	option = { # Unfortunate.
		name = portugal.57.a
		add_political_power = 35
		add_war_support = 0.03
	}
}
country_event = {	#Portuguese General Election
	id = portugal.58
	title = portugal.58.t
	desc = portugal.58.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_peaceful_annexation
	option = {		#José Norton de Matos
		name = portugal.58.a
		set_politics = { 
			ruling_party = democratic 
			elections_allowed = yes
			election_frequency = 48
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		effect_tooltip = {
			add_country_leader_role = {
				character = POR_jose_norton_de_matos
				promote_leader = yes
				country_leader = {
					ideology = liberalism
					traits = { 
						popular_figurehead2
						retired_officer 
					}
					expire = "1965.1.1"
				}
			}
		}
	}
	option = { 		#José Domingues dos Santos
		name = portugal.58.b
		set_politics = { 
			ruling_party = democratic 
			elections_allowed = yes
			election_frequency = 48
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		create_country_leader = {		#I cannot get putting this guy in the character file and then promoting to work. It always just assigns the previous democratic leader. 
			name = "José Domingues dos Santos"
			desc = POR_jose_domingues_dos_santos_desc_r56
			picture = "gfx/leaders/POR/r56_portrait_POR_Jose_Domingues_dos_Santos.dds"
			expire = "1965.1.1"
			ideology = socialism
			traits = { resolute_social_democrat }
		}
	}
	option = {		#Bento António Gonçalves
		name = portugal.58.c
		set_politics = { 
			ruling_party = communism
			elections_allowed = yes
			election_frequency = 48
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_popularity = {
			ideology = communism
			popularity = 0.15
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_country_leader_role = {
			character = POR_bento_goncalves
			promote_leader = yes
			country_leader = {
				ideology = democratic_socialism
				traits = { man_of_the_nation }
				expire = "1965.1.1"
				desc = POR_bento_goncalves_desc_r56
			}
		}
	}
}

country_event = {		#Portuguese nationalists claims the Brazilian Throne!
	id = portugal.59
	title = portugal.59.t
	desc = portugal.59.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_rally
	option = {
		name = portugal.59.a
		add_war_support = 0.05
		add_opinion_modifier = {
			target = POR
			modifier = BFTB_incongruous_neighbors
		}
	}
}

country_event = {
	id = portugal.60	#A Monarchist Uprising!
	title = lar_portugal_promote_monarchist_cause.3.t
	desc = lar_portugal_promote_monarchist_cause.3.desc_anti_monarchist
	is_triggered_only = yes
	picture = GFX_report_event_generic_rifles
	option = {
		name = portugal.60.a	#Fascist Civil War
		trigger = { 	
			NOT = { has_government = fascism }
		}
		if = {
			limit = { fascism > 0.31 }
			start_civil_war = {
				ideology = fascism
				ruling_party = ROOT
				states = { 495 1052 497 1001 1000 1072 1056 1003 498 1004 10989 1005 }
				size = 0
				navy_ratio = 0.5
			}
		}
		else_if = {
			limit = { fascism > 0.23 }
			start_civil_war = {
				ideology = fascism
				ruling_party = ROOT
				states = { 495 1052 497 1001 1000 1072 1056 1003 498 1004 10989 1005 }
				size = 0
				navy_ratio = 0.5
			}
		}
		else = {
			start_civil_war = {
				ideology = fascism
				ruling_party = ROOT
				states = { 495 1052 497 1001 1000 1072 1056 1003 498 1004 10989 1005 }
				size = 0
				navy_ratio = 0.5
			}
		}
		random_country = {
			limit = {
				original_tag = BRA
				NOT = { tag = ROOT }
			}
			set_cosmetic_tag = EOB_empire_brazil_neutrality
			division_template = {
				name = "Divisão de Camisa Azul"		
				is_locked = no
				template_counter = 3
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
				}
				override_model = POR_militia_alt_2_entity
			}
			497 = {
				create_unit = {
					division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 12999
					count = 2
				}
				create_unit = {
					division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 12853
					count = 1
				}
			}
			495 = {
				create_unit = {
					division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 13412
					count = 2
				}
				create_unit = {
					division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 10874
					count = 1
				}
				create_unit = {
					division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 13390
					count = 1
				}
			}
			if = {
				limit = { date > 1938.06.02 }
				1001 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 12933
						count = 2
					}
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 2150
						count = 1
					}
				}
			}
			if = {
				limit = { date > 1939.01.02 }
				1003 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 5107
						count = 1
					}
				}
				498 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 10933
						count = 1
					}
				}
			}
			if = {
				limit = { date > 1939.06.02 }
				1004 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 2227
						count = 1
					}
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 7561
						count = 1
					}
				}
			}
			if = {
				limit = { date > 1940.01.02 }
				1004 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.9" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 2227
						count = 1
					}
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.9" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 7561
						count = 1
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						has_country_leader = {
							character = BRA_pedro_henrique
							ruling_only = yes
						}
					}
				}
				create_country_leader = {
					name = "Prince Pedro Henrique"
					picture = "gfx/leaders/BRA/portrait_bra_prince_pedro_hernique_de_orleans_e_braganza.dds"
					expire = "1981.07.05"
					ideology = ultranationalism
					traits = { inexperienced_monarch }					
				}
			}
			else = {
				create_country_leader = {
					name = "Prince Pedro de Alcântara"
					picture = "gfx/leaders/BRA/portrait_BRA_pedro_de_alcantara.dds"
					expire = "1981.07.05"
					ideology = ultranationalism
					traits = { inexperienced_monarch }					
				}
			}
			POR = { 
				add_to_war = { targeted_alliance = PREV enemy = BRA hostility_reason = asked_to_join }
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_integrated_puppet
					freedom_level = 0.5
				}
			}
		}
	}
	option = {
		name = portugal.60.a
		trigger = { has_government = fascism }
		if = {
			limit = { neutrality > 0.31 }
			start_civil_war = {
				ideology = neutrality
				ruling_party = ROOT
				states = { 495 1052 497 1001 1000 1072 1056 1003 498 1004 10989 1005 }
				size = 0
				navy_ratio = 0.5
			}
		}
		else_if = {
			limit = { neutrality > 0.23 }
			start_civil_war = {
				ideology = neutrality
				ruling_party = ROOT
				states = { 495 1052 497 1001 1000 1072 1056 1003 498 1004 10989 1005 }
				size = 0
				navy_ratio = 0.5
			}
		}
		else = {
			start_civil_war = {
				ideology = neutrality
				ruling_party = ROOT
				states = { 495 1052 497 1001 1000 1072 1056 1003 498 1004 10989 1005 }
				size = 0
				navy_ratio = 0.5
			}
		}
		random_country = {
			limit = {
				original_tag = BRA
				NOT = { tag = ROOT }
			}
			set_cosmetic_tag = EOB_empire_brazil_neutrality
			if = {
				limit = { 
					any_country = {
						has_country_leader = {
							character = BRA_pedro_henrique
							ruling_only = yes
						}
					}
				}
				create_country_leader = {
					name = "Prince Pedro Henrique"
					picture = "gfx/leaders/BRA/portrait_bra_prince_pedro_hernique_de_orleans_e_braganza.dds"
					expire = "1981.07.05"
					ideology = ultranationalism
					traits = { inexperienced_monarch }					
				}
			}
			else = {
				create_country_leader = {
					name = "Prince Pedro de Alcântara"
					picture = "gfx/leaders/BRA/portrait_BRA_pedro_de_alcantara.dds"
					expire = "1981.07.05"
					ideology = ultranationalism
					traits = { inexperienced_monarch }					
				}
			}
			POR = { 
				add_to_war = { targeted_alliance = PREV enemy = BRA hostility_reason = asked_to_join }
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_integrated_puppet
					freedom_level = 0.5
				}
			}
			division_template = {
				name = "Divisão de Camisa Azul"		
				is_locked = no
				template_counter = 3
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
				}
				override_model = POR_militia_alt_2_entity
			}
			497 = {
				create_unit = {
					division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 12999
					count = 2
				}
				create_unit = {
					division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 12853
					count = 1
				}
			}
			495 = {
				create_unit = {
					division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 13412
					count = 2
				}
				create_unit = {
					division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 10874
					count = 1
				}
				create_unit = {
					division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 13390
					count = 1
				}
			}
			if = {
				limit = { date > 1938.06.02 }
				1001 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 12933
						count = 2
					}
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 2150
						count = 1
					}
				}
			}
			if = {
				limit = { date > 1939.01.02 }
				1003 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 5107
						count = 1
					}
				}
				498 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 10933
						count = 1
					}
				}
			}
			if = {
				limit = { date > 1939.06.02 }
				1004 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 2227
						count = 1
					}
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.75" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 7561
						count = 1
					}
				}
			}
			if = {
				limit = { date > 1940.01.02 }
				1004 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.9" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 2227
						count = 1
					}
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1 start_equipment_factor = 0.9" 
						owner = PREV
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 7561
						count = 1
					}
				}
			}
		}
	}
}
country_event = {		#Portugal demands direct integration
	id = portugal.61
	title = portugal.61.t
	desc = portugal.61.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_rally
	option = {
		name = portugal.61.a	#We have no choice but to comply
		POR = {
			annex_country = { 
				target = ROOT 
				transfer_troops = yes 
			}
			every_state = {
				limit = { is_core_of = BRA }
				set_resistance = 3
				add_compliance = 20
				hidden_effect = {
					if = {
						limit = {
							has_dynamic_modifier = { modifier = BRA_neglected_state_dynamic_modifier }
						}
						remove_dynamic_modifier = { modifier = BRA_neglected_state_dynamic_modifier }
					}
				}
			}
			news_event = { 
				id = lar_news.26 
				days = 3 
				random_days = 5 
			}
		}
	}
}
country_event = {		#Addressing the Galician Issue
	id = portugal.62
	title = portugal.62.t
	desc = portugal.62.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_rally
	option = {
		name = portugal.62.a	#Forget it. The new regime in Madrid could be a vital ally in the times to come!
		add_political_power = 20
		add_stability = 0.03
		if = {
			limit = {
				171 = {
					owner = {
						OR = {
							has_government = fascism
							has_government = neutrality
						}
						OR = {
							has_completed_focus = SPR_restore_the_monarchy	#r56 tree
							has_completed_focus = SPA_the_phalanx_ascendant
							has_completed_focus = SPA_supremacy_of_the_communion
							has_completed_focus = SPA_unify_the_nationalist_front
						}
					}
				}
			}
			171 = {
				owner = { 
					country_event = {
						id = portugal.52
						hours = 5
					}
				}
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = { add_ideas = POR_pan_iberian_trade_r56 }
		}
		ai_chance = { base = 10 }
	}
	option = {
		name = portugal.62.b	#In exchange for Galicia, they can have our friendship!
		trigger = {
			171 = {
				owner = {
					OR = {
						original_tag = SPR
						original_tag = SPA
						original_tag = SPB
					}
					OR = {
						has_government = neutrality
						has_government = fascism
					}
					OR = {
						has_completed_focus = SPR_restore_the_monarchy	#r56 tree
						has_completed_focus = SPA_the_phalanx_ascendant
						has_completed_focus = SPA_supremacy_of_the_communion
						has_completed_focus = SPA_unify_the_nationalist_front
					}
				}
			}
		}
		171 = {
			owner = { 
				country_event = {
					id = portugal.78
					hours = 5
				}
			}
		}
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			transfer_state = 171 
			unlock_decision_tooltip = POR_integrate_galicia
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_ideas = POR_pan_iberian_trade_r56 
		}
		ai_chance = { base = 99 }
	}
	option = {
		name = portugal.62.c	#We shall demand this rightful land at once!
		171 = {
			owner = { country_event = portugal.63 }
		}
		add_state_claim = 171
		unlock_decision_tooltip = POR_integrate_galicia
		ai_chance = { 
			base = 1
			modifier = {
				add = 100
				171 = {
					owner = {
						OR = {
							original_tag = GLC
							has_government = democratic
							has_government = communism
						}
					}
				}
			}
		}
	}
}
country_event = {		#Portugal Demands Galicia!
	id = portugal.63
	title = portugal.63.t
	desc = portugal.63.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_riot
	option = {
		name = portugal.63.a	#Yes
		171 = {
			transfer_state_to = POR
			hidden_effect = {
				if = {
					limit = {
						has_dynamic_modifier = { modifier = autonomous_state }
					}
					remove_dynamic_modifier = { modifier = autonomous_state }
				}
			}
		} 
		POR = { 
			country_event = { id = portugal.65 } 
		}
		ai_chance = { 
			base = 5
			modifier = {
				factor = 30
				is_subject_of = POR 
			}
			modifier = {
				factor = 10
				has_opinion = {
					target = FROM
					value > 50
				}
			}
		}
	}
	option = {
		name = portugal.63.b	#No
		POR = { 
			country_event = { id = portugal.64 }
		}
		ai_chance = { 
			base = 25
			modifier = {
				factor = 100
				OR = {
					AND = {
						is_subject = yes
						NOT = { is_subject_of = POR }
					}
					has_country_leader = { 
						character = SPA_francisco_franco 
						ruling_only = yes 
					}
					original_tag = GLC
				}
			}
		}
	}
}
country_event = {		#PREV Denies Handing Over Galicia
	id = portugal.64
	title = portugal.64.t
	desc = portugal.64.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_rally
	option = {
		name = portugal.64.a	#They know the consequences.
		add_political_power = -30
		every_other_country = {
			limit = {
				NOT = { is_ally_with = ROOT }
				any_controlled_state = { state = 171 }
			}
			ROOT = {
				create_wargoal = {
					target = PREV
					type = take_claimed_state
					expire = 0
				}
			}
		}
	}
	option = {
		name = portugal.64.b	#Forget about it. A tiny province isn't worth our continued independence.
		add_political_power = -15
	}
}

country_event = {		#PREV Grants Us Galicia
	id = portugal.65
	title = portugal.65.t
	desc = portugal.65.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_rally
	option = {
		name = portugal.65.a	#A marvelous day for all of Portugal!
		add_political_power = 35
		add_war_support = 0.03
		give_guarantee = PREV
	}
}

country_event = {		#The Question of the Rose-Colored Map
	id = portugal.66
	title = portugal.66.t
	desc = portugal.66.desc
	is_triggered_only = yes
	picture = GFX_report_event_generic_rally
	option = {
		name = portugal.66.a	#War with London would be our destruction. We must not pursue this claim right now.
		trigger = {
			ENG = {
				OR = {
					controls_state = 1097
					controls_state = 771
					controls_state = 545
				}
				NOT = {
					has_completed_focus = ENG_god_save_the_king
					has_completed_focus = ENG_revisit_colonial_policy
				}
			}
		}
		add_political_power = 20
		set_country_flag = POR_abandoned_african_colonial_claims_flag
	}
	option = {
		name = portugal.66.b	#London's situation is precarious. Perhaps this fact can be leveraged by us...
		trigger = {
			ENG = { 
				NOT = { has_war_with = ROOT }
				has_completed_focus = ENG_god_save_the_king
				OR = {
					controls_state = 1097
					controls_state = 771
					controls_state = 545
				} 
			}
		}
		add_political_power = 20
		add_war_support = 0.05
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		ENG = { 
			country_event = { 
				id = portugal.67 
				hours = 3
			}
		}
	}
	option = {
		name = portugal.66.c	#We won't be the first nation to humiliate the British. We will not be the last!
		trigger = {
			ENG = {
				OR = {
					controls_state = 1097
					controls_state = 771
					controls_state = 545
				}
				NOT = {
					is_ally_with = ROOT
					has_completed_focus = ENG_god_save_the_king
					has_completed_focus = ENG_revisit_colonial_policy
				}
			}
		}
		add_war_support = 0.05
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		ENG = {
			remove_opinion_modifier = {
				target = POR
				modifier = POR_anglo_portuguese_alliance
			}
			news_event = { id = r56.news_event.10 }
		}
		hidden_effect = {
			POR = {
				remove_opinion_modifier = {
					target = ENG
					modifier = POR_anglo_portuguese_alliance
				}
			}
		}
	}
	option = {
		name = portugal.66.d	#Britain's hold over the region is slipping. Let us bide our time. 
		trigger = {
			ENG = { 
				has_completed_focus = ENG_revisit_colonial_policy
				OR = {
					1097 = {
						OR = {
							is_controlled_by = ENG
							owner = { is_subject_of = ENG }
						}
					}
					771 = {
						OR = {
							is_controlled_by = ENG
							owner = { is_subject_of = ENG }
						}
					}
					545 = {
						OR = {
							is_controlled_by = ENG
							owner = { is_subject_of = ENG }
						}
					} 
				}
			}
		}
		add_war_support = 0.05
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
	}
	option = {
		name = portugal.66.e	#With Britain gone from the region, who is to stop us now!
		trigger = {
			1097 = {
				NOT = {
					is_controlled_by = ENG
					controller = { is_subject_of = ENG }
				}
			}
			OR = {
				771 = { 
					NOT = {
						is_controlled_by = ENG
						controller = { is_subject_of = ENG }
					}
				}
				545 = { 
					NOT = {
						is_controlled_by = ENG
						controller = { is_subject_of = ENG }
					} 
				}
			}
		}
		add_political_power = 20
		add_war_support = 0.05
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
	}
}
country_event = {		#Portugal Offers Friendship for Historical Colonial Claims
	id = portugal.67
	title = portugal.67.t
	desc = portugal.67.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_rally
	option = {
		name = portugal.67.a	#The Anglo-Portuguese Alliance Shall be Strengthened!
		if = {
			limit = { is_faction_leader = yes }
			add_to_faction = POR
			POR = { 
				country_event = { 
					id = portugal.69
					hours = 3 
				}
				set_country_flag = POR_has_not_abandoned_this_claim_tt
			}
		}
		else = {
			create_faction = ENG_join_germany
			add_to_faction = POR
			POR = { 
				country_event = { 
					id = portugal.69
					hours = 3 
				}
				set_country_flag = POR_has_not_abandoned_this_claim_tt
			}
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		every_state = {
			limit = { 
				OR = {
					state = 1097 
					state = 771
					state = 545
					state = 770
				}
				is_controlled_by_ROOT_or_subject = yes
			}
			transfer_state_to = POR
		}
		ai_chance = { base = 25 }
	}
	option = {
		name = portugal.67.b	#Ludicrous, of course not!
		POR = {
			country_event = { id = portugal.70 }
		}
		ai_chance = { 
			base = 1
			modifier = {
				factor = 99
				SAF = { is_subject_of = ROOT }
			}
		}
	}
}

country_event = {		#Portugal Demands African Concessions
	id = portugal.68
	title = portugal.68.t
	desc = portugal.68.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_rally
	option = {
		name = portugal.68.a	#These fools think they can stand up to us?
		POR = {
			country_event = { id = portugal.70 }
		}
		ai_chance = { 
			base = 10
			modifier = {
				factor = 100
				OR = {
					SAF = { is_subject_of = ROOT }
					has_country_leader = {
						character = ENG_winston_churchill
						ruling_only = yes
					}
				}
				
			}
		}
	}
	option = {
		name = portugal.68.b	#With the state of our affairs, we have no choice.
		every_state = {
			limit = { 
				OR = {
					state = 1097 
					state = 771
					state = 545
					state = 770
				}
				is_controlled_by_ROOT_or_subject = yes
			}
			transfer_state_to = POR
		}
		POR = {
			country_event = { id = portugal.69 }
			add_opinion_modifier = { 
				target = ROOT
				modifier = huge_increase
			}
		}
		ai_chance = { 
			base = 10
			modifier = {
				factor = 100
				has_completed_focus = ENG_revisit_colonial_policy
			}
		}
	}
}

country_event = {		#Britain has Withdrawn From our Claimed Lands!!
	id = portugal.69
	title = portugal.69.t
	desc = portugal.69.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_rally
	option = {
		name = portugal.69.a	#A grand triumph for our nation!
	}
}

country_event = {		#Britain Refuses to Withdraw!
	id = portugal.70
	title = portugal.70.t
	desc = portugal.70.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_rally
	option = {
		name = portugal.64.a	#They know the consequences.
		every_other_country = {
			limit = {
				original_tag = ENG
				NOT = { is_ally_with = ROOT }
				any_controlled_state = {
					OR = {
						state = 1097
						state = 771
						state = 545
						state = 770
					}
				}
			}
			ROOT = {
				create_wargoal = {
					target = PREV
					type = annex_everything
					expire = 0
				}
			}
		}
	}
}

country_event = {		#Portugal Demands Direct Integration
	id = portugal.71
	title = portugal.61.t
	desc = portugal.71.d
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	option = { 		#We have no choice but to comply
		name = portugal.61.a
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				FROM = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 100
				FROM = { has_army_size = { size > 39 } }
			}
			modifier = {
				add = 20
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0.1
				is_in_faction = yes
			}
		}
		FROM = {
			country_event = { hours = 2 id = portugal.72 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}

	option = { 		#We did not battle for our independence only to enslave ourselves once again!
		name = portugal.71.b
		ai_chance = {
			base = 10
			modifier = {
				FROM = { has_army_size = { size > 39 } }
				factor = 0.5
			}
			modifier = {
				add = 20
				FROM = { has_army_size = { size < 30 } }
			}
			modifier = {
				factor = 2
				is_in_faction = yes
				NOT = { is_in_faction_with = FROM }
			}
			modifier = {
				any_other_country = {
					has_guaranteed = ROOT
				}
				factor = 5 #i've got friends
			}
			modifier = {
				any_other_country = {
					is_major = yes
					has_guaranteed = ROOT
				}
				factor = 5 #i've got big friends
			}
		}
		FROM = {
			country_event = { 
				id = portugal.73 
				hours = 2 
			}
		}
	}
}

country_event = {	#FROM submits to our rule!
	id = portugal.72
	title = portugal.72.t
	desc = portugal.72.d
	picture = GFX_report_event_military_planning
	is_triggered_only = yes
	option = { 		#Excellent!
		name = portugal.72.a
		ai_chance = {
			base = 30
		}
		annex_country = { 
			target = FROM
			transfer_troops = yes 
		}
	}
}


country_event = {	#FROM has refused!
	id = portugal.73
	title = portugal.73.t
	desc = portugal.73.d
	picture = GFX_report_event_generic_panzer_attack
	is_triggered_only = yes
	option = { 		#We were not suggesting.
		name = portugal.73.a
		ai_chance = {
			base = 30
		}
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

country_event = {
	id = portugal.74
	title = portugal.74.title	#Portugal Suggests Uniting the Peninsula
	desc = portugal.74.desc
	picture = GFX_report_event_generic_communist_congress
	is_triggered_only = yes
	option = {
		name = portugal.74.a	# After all we have been through, how can we say no to our comrades in arms?
		ai_chance = {
			base = 100
			modifier = {
				add = -50
				OR = {
					has_government = democratic
					has_completed_focus = SPR_hinder_nkvd_interference
					has_completed_focus = SPR_psoe_leadership
				}
				POR = { has_completed_focus = POR_crush_reactionary_impedance }
			}
			modifier = {
				add = -50
				OR = {
					has_completed_focus = SPR_the_stalinist_doctrine
					has_completed_focus = SPR_PCE_leadership
				}
				POR = { has_completed_focus = POR_restore_civil_liberties }
			}
			modifier = {
				add = -100
				has_completed_focus = SPR_regional_defense_council_of_aragon
			}
		}
		trigger = {
			has_war = no
			is_subject = no
		}
		custom_effect_tooltip = lar_portugal_iberian_workers_united.2.a_tt
		custom_effect_tooltip = GAME_OVER_TT
		hidden_effect = {
			if = {
				limit = { 
					NOT = { has_global_flag = POR_iberian_union_successful_flag }
				}
				set_global_flag = POR_iberian_union_successful_flag
				POR = {	news_event = { id = lar_news.27 days = 3 random_days = 3 } }
			}
			every_owned_state = {
				limit = {
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_core_of_spain_flag }
				}
				add_core_of = POR
			}
			POR = {
				add_political_power = -125
				add_stability = -0.15
				set_cosmetic_tag = ESU_POR_unified
				annex_country = {
				    target = ROOT
				    transfer_troops = yes
				}
			}
		}
	}

	option = {
		name = portugal.74.b	#The time is not now for such a union, but we shall expand our cooperation!
		ai_chance = {
			base = 0
			modifier = {
				add = 20
				OR = {
					has_government = democratic
					has_completed_focus = SPR_hinder_nkvd_interference
					has_completed_focus = SPR_psoe_leadership
				}
				POR = { has_completed_focus = POR_crush_reactionary_impedance }
			}
			modifier = {
				add = 20
				OR = {
					has_completed_focus = SPR_the_stalinist_doctrine
					has_completed_focus = SPR_PCE_leadership
				}
				POR = { has_completed_focus = POR_restore_civil_liberties }
			}
			modifier = {
				add = -100
				has_completed_focus = SPR_regional_defense_council_of_aragon
			}
		}
		if = {
			limit = { has_non_aggression_pact_with = POR }
		}
		else = {
			diplomatic_relation = {
				country = POR
				relation = non_aggression_pact
				active = yes
			}
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_ideas = POR_pan_iberian_trade_SPR_r56
		custom_effect_tooltip = CHL_skip_one_line_tt
		POR = {
			country_event = {
				id = portugal.53
				hours = 5
			}
		}
	}

	option = {
		name = portugal.74.c	#Do you feel in charge?
		ai_chance = {
			base = 0
			modifier = {
				add = 15
				OR = {
					has_government = democratic
					has_completed_focus = SPR_hinder_nkvd_interference
					has_completed_focus = SPR_psoe_leadership
				}
				POR = { has_completed_focus = POR_crush_reactionary_impedance }
			}
			modifier = {
				add = 15
				NOT = { 
					has_government = democratic
					has_completed_focus = POR_crush_reactionary_impedance
				}
				POR = { has_completed_focus = POR_restore_civil_liberties }
			}
		}
		POR = {
			country_event = {
				id = portugal.54
				hours = 5
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_rejected_the_iberian_unification
			}
		}
	}
}

country_event = {	#Portugal Wishes to Expand Defensive Cooperation
	id = portugal.75
	title = portugal.75.title
	desc = portugal.75.desc
	picture = GFX_report_event_por_president_military_inspection
	is_triggered_only = yes
	option = { 		#Full Alliance
		name = portugal.75.a
		trigger = {
			POR = { 
				is_faction_leader = yes
				NOT = { has_completed_focus = POR_portugal_first } 
			}
			is_in_faction = no
			is_subject = no
		}
		ai_chance = { base = 50 }
		POR = {
			if = {
				limit = { is_in_faction = no }
				add_to_faction = ROOT
			}
			else = { give_guarantee = FROM }
		}
		swap_ideas = {
			remove_idea = POR_pan_iberian_trade_SPR_r56
			add_idea = POR_pan_iberian_cooperation_SPR_r56
		}
		POR = {
			country_event = {
				id = portugal.76
				hours = 5
			}
		}
		add_ai_strategy = {
			type = alliance
			id = POR
			value = 999
		}
	}
	option = { 		#Mutual Guarantees
		name = portugal.75.b
		trigger = {
			OR = {
				is_subject = no
				is_ally_with = POR
			}
		}
		ai_chance = { base = 50 }
		give_guarantee = POR
		swap_ideas = {
			remove_idea = POR_pan_iberian_trade_SPR_r56
			add_idea = POR_pan_iberian_cooperation_SPR_r56
		}
		POR = {
			country_event = {
				id = portugal.77
				hours = 5
			}
		}
	}
	option = { 		#No thanks.
		name = portugal.75.c
		trigger = {
			NOT = { is_subject_of = POR }
		}
		ai_chance = { base = 0 }
		POR = {
			country_event = {
				id = portugal.54
				hours = 5
			}
		}
	}
}

country_event = {	#FROM Agrees to an alliance
	id = portugal.76
	title = portugal.76.title
	desc = portugal.76.desc
	picture = GFX_report_event_por_president_military_inspection
	is_triggered_only = yes
	option = {
		name = portugal.56.a
		ai_chance = { base = 1 }
		swap_ideas = {
			remove_idea = POR_pan_iberian_trade_r56
			add_idea = POR_pan_iberian_cooperation_r56
		}
	}
}

country_event = {	#FROM Agrees to a closer military cooperation
	id = portugal.77
	title = portugal.77.title
	desc = portugal.77.desc
	picture = GFX_report_event_por_president_military_inspection
	is_triggered_only = yes
	option = {	#Excellent
		name = portugal.56.a
		ai_chance = { base = 30 }
		give_guarantee = FROM
		swap_ideas = {
			remove_idea = POR_pan_iberian_trade_r56
			add_idea = POR_pan_iberian_cooperation_r56
		}
	}
}

country_event = {	#Portugal Offers Cooperation in Exchange For Galicia
	id = portugal.78
	title = portugal.78.title
	desc = portugal.78.desc
	picture = GFX_report_event_por_president_military_inspection
	is_triggered_only = yes
	option = {	#Of course! Avoiding war on the peninsula is in all of our interests!
		name = portugal.55.a
		trigger = { is_subject = no }
		ai_chance = { base = 20 }
		171 = {
			transfer_state_to = POR
			hidden_effect = {
				if = {
					limit = {
						has_dynamic_modifier = { modifier = autonomous_state }
					}
					remove_dynamic_modifier = { modifier = autonomous_state }
				}
			}
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_ideas = POR_pan_iberian_trade_SPR_r56
		custom_effect_tooltip = CHL_skip_one_line_tt
		if = {
			limit = { has_non_aggression_pact_with = POR }
		}
		else = {
			diplomatic_relation = {
				country = POR
				relation = non_aggression_pact
				active = yes
			}
		}
		POR = {
			country_event = {
				id = portugal.79
				hours = 5
			}
		}
	}
	option = {
		name = turkey.120.b	#No, this is a waste of our time.
		POR = { 
			country_event = { id = portugal.64 }
		}
		ai_chance = { 
			base = 0
			modifier = {
				add = 80	#Franco is from Galicia and wouldn't care about expanding as much as others
				has_country_leader = { 
					character = SPA_francisco_franco 
					ruling_only = yes 
				}
			}
		}
	}
}

country_event = {	#Spain Agrees!
	id = portugal.79
	title = portugal.65.t
	desc = portugal.65.d
	picture = GFX_report_event_por_president_military_inspection
	is_triggered_only = yes
	option = {
		name = portugal.65.a	#Our northern brothers are finally at home!
		ai_chance = { base = 20 }
		add_ideas = POR_pan_iberian_trade_r56
	}
}

country_event = {	#Portugal Suggests an Alliance
	id = portugal.80
	title = portugal.80.title
	desc = portugal.80.desc
	picture = GFX_report_event_por_president_military_inspection
	is_triggered_only = yes
	option = {
		name = portugal.47.a	#Our Cause is One!
		trigger = { 
			is_subject = no
			is_in_faction = no 
		}
		ai_chance = { base = 20 }
		POR = {
			if = {
				limit = { is_in_faction = no }
				add_to_faction = ROOT
			}
			else = { give_guarantee = FROM }
		}
		swap_ideas = {
			remove_idea = POR_pan_iberian_trade_SPR_r56
			add_idea = POR_pan_iberian_cooperation_SPR_r56
		}
		POR = {
			country_event = {
				id = portugal.76
				hours = 5
			}
		}
		add_ai_strategy = {
			type = alliance
			id = POR
			value = 999
		}
	}
	option = {
		name = portugal.80.b	#An alliance is not in our interest, but we are open to cooperation.
		trigger = { 
			OR = {
				is_subject = no
				is_ally_with = POR
			}
		}
		ai_chance = { base = 1 }
		give_guarantee = POR
		swap_ideas = {
			remove_idea = POR_pan_iberian_trade_SPR_r56
			add_idea = POR_pan_iberian_cooperation_SPR_r56
		}
		POR = {
			country_event = {
				id = portugal.77
				hours = 5
			}
		}
	}
	option = {
		name = portugal.75.c	#This Portuguese Ambition is not in Spain's Interest
		trigger = {
			NOT = { is_subject_of = POR }
		}
		ai_chance = { base = 0 }
		POR = {
			country_event = {
				id = portugal.54
				hours = 5
			}
		}
	}
}

country_event = {	#Democratic coup - Peaceful
	id = portugal.81
	title = portugal.45.t
	desc = portugal.45.d
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			remove_ideas = POR_unite_against_salazar_idea
			remove_ideas = POR_austerity_measures
			add_ideas = POR_reactionary_resistance
			add_ideas = POR_divided_revolution
			GER = {
				remove_opinion_modifier = {
					target = POR
					modifier = fascism_leanings_good
				}
			}
			ITA = {
				remove_opinion_modifier = {
					target = POR
					modifier = fascism_leanings_good
				}
			}
			every_controlled_state = {
				limit = {
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 20		#To compensate for the reduction upon switching ideologies
			}
			if = {
				limit = { has_completed_focus = POR_ally_anti_colonial_resistance }
				if = {
					limit = { 
						controls_state = 891
						controls_state = 892
						controls_state = 540
						controls_state = 796
					}
					891 = { add_resistance = 9 }
					892 = { add_resistance = 8 }
					540 = { add_resistance = 7 }
					796 = { add_resistance = 3 }
				}
				if = {
					limit = { 
						controls_state = 897
						controls_state = 896
						controls_state = 544
					}
					897 = { add_resistance = 7 }
					896 = { add_resistance = 5 }
					544 = { add_resistance = 5 }
				}
				if = {
					limit = { controls_state = 705 }
					705 = { add_resistance = 6 }
				}
				if = {
					limit = { controls_state = 296 }
					296 = { add_resistance = 6 }
				}
				if = {
					limit = { controls_state = 702 }
					702 = { add_resistance = 5 }
				}
			}
			if = {
				limit = { has_character = POR_jose_hipolito_raposo }		#QOL + Theoretical Optimization (Should no longer check availability in background) by retiring these guys
				retire_character = POR_jose_hipolito_raposo
			}
			if = {
				limit = { has_character = POR_domingos_de_gusmao_araujo }
				retire_character = POR_domingos_de_gusmao_araujo
			}
			if = {
				limit = { has_character = POR_alberto_pinheiro_torres }
				retire_character = POR_alberto_pinheiro_torres
			}
			if = {
				limit = { has_character = POR_jose_adriano_pequito_rebelo }
				retire_character = POR_jose_adriano_pequito_rebelo
			}
			if = {
				limit = { has_character = POR_fernando_dos_santos_costa }
				retire_character = POR_fernando_dos_santos_costa
			}
			if = {
				limit = { has_character = POR_sebastiao_garcia_ramires }
				retire_character = POR_sebastiao_garcia_ramires
			}
			if = {
				limit = { has_character = POR_luis_maria_lopes_da_fenseca }
				retire_character = POR_luis_maria_lopes_da_fenseca
			}
			if = {
				limit = { has_character = POR_francisco_jose_nobre_guedes }
				retire_character = POR_francisco_jose_nobre_guedes
			}
			if = {
				limit = { has_character = POR_joao_de_almeida }
				retire_character = POR_joao_de_almeida
			}
		}
	}
	option = {
		name = portugal.81.a	#Peace and justice shall triumph in the nation!
		set_politics = { 
			ruling_party = democratic 
			elections_allowed = no
		}
		custom_effect_tooltip = r56_newline
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		custom_effect_tooltip = r56_newline
		effect_tooltip = {
			add_country_leader_role = {
				character = POR_jose_norton_de_matos
				promote_leader = yes
				country_leader = {
					ideology = liberalism
					traits = { 
						popular_figurehead2
						retired_officer 
					}
					expire = "1965.1.1"
				}
			}
		}
	}
}
