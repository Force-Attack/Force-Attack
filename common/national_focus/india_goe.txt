### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
### search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}
### search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}
### search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}
### search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}
### search_filters = {FOCUS_FILTER_HISTORICAL}
### search_filters = {FOCUS_FILTER_TFV_AUTONOMY}

focus_tree = {
    id = indian_focus_goe
    
    country = {
        factor = 0
        
        modifier = {
            add = 10
            tag = RAJ
            has_dlc = "Graveyard of Empires"
        }
    }
    default = no
    continuous_focus_position = { x = 200 y = 3800 }

    focus = {
        id = RAJ_indianize_the_army
        icon = GFX_focus_RAJ_indianisation_of_army
        x = 0
        y = 0
        mutually_exclusive = { focus = RAJ_keep_british_generals }
        cost = 5

        offset = {
            x = -40
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_great_depression_price_controls
            }
        }

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

        completion_reward = {
            IF = {
                limit = {
                    NOT = {
                        has_completed_focus = RAJ_look_to_the_past
                    }
                }
                every_army_leader = {
                    limit = {
                        has_trait = loyalty_to_india
                    }
                    add_skill_level = 1
                    random_list = {
                        seed = random 
                        25 = {
                            add_logistics = 2
                            add_attack = 1
                        }
                        25 = {
                            add_planning = 1
                            add_attack = 2
                        }
                        25 = {
                            add_defense = 3
                        }
                        25 = {
                            add_logistics = 1
                            add_attack = 1
                            add_defense = 1
                        }
                        
                    }
                }
            }
            ELSE = {
                army_experience = 50
            }
        }
    }

   focus = {
        id = RAJ_great_depression_price_controls
        icon = GFX_focus_generic_price_controls
        #prerequisite = { focus = }
        mutually_exclusive = { focus = RAJ_provincial_autonomy focus = RAJ_his_majestys_loyal_government }
        x = -70
        y = 0
        relative_position_id = RAJ_indianize_the_army

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        allow_branch = {
        	if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
	            NOT = {
	            	has_completed_focus = RAJ_provincial_autonomy
	            	has_completed_focus = RAJ_his_majestys_loyal_government
	            }
	        }
        }

        offset = {
            x = 46
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_great_depression_price_controls
            }
        }

        offset = {
            x = 14
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_look_to_the_past
            }
        }

        offset = {
            x = 14
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_look_to_the_future
            }
        }

        offset = { #Note: Due to how the hiding feature is set up in this tree, it is necessary to move the leftmost focus (regardless of its visibility) so that the common branches get the proper offset
            x = 26
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_provincial_autonomy
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_idea = idea_RAJ_great_depression_1
                }
                swap_ideas = {
                    remove_idea = idea_RAJ_great_depression_1
                    add_idea = idea_RAJ_price_controls
                }
            }
            else_if = {
                limit = {
                    has_idea = idea_RAJ_great_depression_2
                }
                swap_ideas = {
                    remove_idea = idea_RAJ_great_depression_2
                    add_idea = idea_RAJ_price_controls
                }
            }
            add_political_power = 20

            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
        } 
    }

   focus = {
        id = RAJ_look_to_the_past
        icon = GFX_focus_generic_monarchy_1
        prerequisite = { focus = RAJ_great_depression_price_controls }

        x = -9
        y = 2
        relative_position_id = RAJ_great_depression_price_controls
        mutually_exclusive = { focus = RAJ_look_to_the_future }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        allow_branch = {
        	if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
	            NOT = {
	            	has_completed_focus = RAJ_provincial_autonomy
	            	has_completed_focus = RAJ_his_majestys_loyal_government
	            	has_completed_focus = RAJ_look_to_the_future
	            }
	        }
        }

        offset = {
            x = 7
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_look_to_the_past
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

        completion_reward = {
            add_popularity = {
                ideology = neutrality
                popularity = 0.05
            }
            add_stability = 0.05
            add_war_support = 0.05
            add_political_power = 80 

            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
        } 
    }


   focus = {
        id = RAJ_look_to_the_future
        icon = GFX_focus_RAJ_the_other_solution
        prerequisite = { focus = RAJ_great_depression_price_controls }
        mutually_exclusive = { focus = RAJ_look_to_the_past }
        x = 22
        y = 0
        relative_position_id = RAJ_look_to_the_past

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        allow_branch = {
        	if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
	            NOT = {
					has_completed_focus = RAJ_provincial_autonomy
					has_completed_focus = RAJ_his_majestys_loyal_government
	            	has_completed_focus = RAJ_look_to_the_past
				}
			}
        }

        offset = {
            x = -15
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_look_to_the_future
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_popularity = {
                ideology = neutrality
                popularity = 0.05
            }
            swap_ideas = {
                remove_idea = idea_RAJ_price_controls
                add_idea = idea_RAJ_price_controls_2
            }
            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
        } 
    }


   focus = {
        id = RAJ_lobby_parliment
        icon = GFX_focus_generic_devaluation
        prerequisite = { focus = RAJ_look_to_the_future }

        x = 2
        y = 1
        relative_position_id = RAJ_look_to_the_future

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_stability < 0.4
            if = {
                limit = {
                    is_ai = no
                }
                ENG = {
                    has_opinion = {
                        target = ROOT
                        value > 70 # Use < or >
                    }
                }
            }

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            set_country_flag = RAJ_industrialists_joined_eic
            if = {
                limit = {
                    ENG = {
                        exists = yes
                        is_subject = no
                    }
                }

                ENG = {
                    country_event = { id = GOE_RAJ.31 hours = 2  }
                }
            }
            custom_effect_tooltip = generic_skip_one_line_tt 
            custom_effect_tooltip = AFG_promote_the_counter_elite_tt
            show_ideas_tooltip = RAJ_jim_corbett

            custom_effect_tooltip = generic_skip_one_line_tt 
            show_ideas_tooltip = RAJ_GOE_g_d_birla

            custom_effect_tooltip = generic_skip_one_line_tt 
            show_ideas_tooltip = RAJ_GOE_j_r_d_tata

            custom_effect_tooltip = generic_skip_one_line_tt 
            show_ideas_tooltip = RAJ_GOE_william_rhodes_davis

            custom_effect_tooltip = generic_skip_one_line_tt 
            show_ideas_tooltip = RAJ_GOE_prescott_bush


        } 
    }

   focus = {
        id = RAJ_secure_weapons
        icon = GFX_focus_FIN_weapon_caches
        prerequisite = { focus = RAJ_look_to_the_past }

        x = -1
        y = 1
        relative_position_id = RAJ_look_to_the_past

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = { #Note: the equipment is ACTUALLY ADDED in RAJ_mughal_uprising, if you want to change the amount, you need to do it here and TWICE in the RAJ_Mughal_uprising
            IF = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                add_equipment_subsidy = {
                    cic = 1000
                    equipment_type = infantry_equipment
                    seller_tags = { SOV GER JAP ITA } 
                }
                add_equipment_subsidy = {
                    cic = 1000
                    equipment_type = artillery_equipment
                    seller_tags = { SOV GER JAP ITA }
                }
                add_equipment_subsidy = {
                    cic = 1000
                    equipment_type = light_tank_chassis
                    seller_tags = { SOV GER JAP ITA } 
                }
            }
            ELSE = {
                set_country_flag = RAJ_mughal_no_aat_give_equipment
                effect_tooltip = {
                    add_equipment_to_stockpile = { 
                        type = infantry_equipment
                        amount = 4000
                        producer = SOV
                    }
                    add_equipment_to_stockpile = { 
                        type = artillery_equipment
                        amount = 800
                        producer = SOV
                    }
                }
            }

            effect_tooltip = {
                add_equipment_to_stockpile = { 
                    type = infantry_equipment
                    amount = 2000
                    producer = SOV
                }
                add_equipment_to_stockpile = { 
                    type = artillery_equipment
                    amount = 500
                    producer = SOV
                }
            }
            IF = {
                limit = {
                    has_dlc = "No Step Back"
                }
                create_equipment_variant = {
                    name = "BT-7"
                    type = light_tank_chassis_2

                   upgrades = {       
                       tank_nsb_engine_upgrade = 10
                       tank_nsb_armor_upgrade = 2 
                   }
                    modules={
                        main_armament_slot=tank_small_cannon_2
                        engine_type_slot=tank_gasoline_engine
                        turret_type_slot=tank_light_two_man_tank_turret
                        suspension_type_slot=tank_christie_suspension
                        armor_type_slot=tank_welded_armor
                    }
                    
                    model = "SOV_light_armor_entity"
                    icon = "GFX_SOV_improved_light_tank_medium" 
                }
                effect_tooltip = {
                    add_equipment_to_stockpile = {
                        type =  light_tank_chassis
                        variant_name = "BT-7"
                        amount = 100
                        producer = SOV
                    }
                }
            }
            ELSE = {
                effect_tooltip = {
                    add_equipment_to_stockpile = { 
                        type = light_tank_equipment_1 
                        amount = 100 
                        producer = SOV 
                    }
                }
            }
			custom_effect_tooltip = newline_tt
			custom_effect_tooltip = MUGHAL_divisions_spawned
            custom_effect_tooltip = newline_tt
            custom_effect_tooltip = RAJ_secure_weapons_tt
        } 
    }

   focus = {
        id = RAJ_stir_unrest_in_the_north
        icon = GFX_focus_generic_support_the_left_right
        prerequisite = { focus = RAJ_look_to_the_past }

        x = 2
        y = 0
        relative_position_id = RAJ_secure_weapons

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            custom_effect_tooltip = RAJ_stir_unrest_in_the_north_focus_tt
            custom_effect_tooltip = RAJ_princley_state_breakaway_tt
			hidden_effect = {
				442 = {
					set_state_flag = has_stirred_unrest
				}
				987 = {
					set_state_flag = has_stirred_unrest
				}
				988 = {
					set_state_flag = has_stirred_unrest
				}
				444 = {
					set_state_flag = has_stirred_unrest
				}
				445 = {
					set_state_flag = has_stirred_unrest
				}
				1012 = {
					set_state_flag = has_stirred_unrest
				}
			}

            add_war_support = 0.05
            if = {
                limit = {
                    987 = { is_controlled_by = ROOT }
                }

                987 = {
                    add_extra_state_shared_building_slots = 1
                    add_building_construction = {
                        type = arms_factory
                        level = 1
                        instant_build = yes
                    }
                }
            }
            set_technology = {
                tech_mountaineers = 1
                popup = no
            }
        } 
    }

   focus = {
        id = RAJ_the_mughal_uprising
        icon =GFX_focus_generic_provoke_border_clashes # 
        prerequisite = { focus = RAJ_stir_unrest_in_the_north }
		prerequisite = { focus = RAJ_secure_weapons }

        x = -1
        y = 1
        relative_position_id = RAJ_stir_unrest_in_the_north 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            hidden_effect = {
                every_country = {
                    limit = {
                        OR = {
                            is_in_faction_with = ENG
                            original_tag = ENG
                        }
                    }
                    set_country_flag = RAJ_mughal_was_in_faction_with_eng
                }
            }
            set_country_flag = RAJ_mughal_uprising_started
            set_country_flag = RAJ_allow_release_states
            set_country_flag = stop_unrest_events
            leave_faction = yes
            if = {
                limit = { has_idea  = idea_RAJ_price_controls }
                remove_ideas = idea_RAJ_price_controls
            }
            else = {
                effect_tooltip = {
                    remove_ideas = idea_RAJ_price_controls
                }
            }

            custom_effect_tooltip = newline_tt

            effect_tooltip = {#Note: the equipment is ACTUALLY ADDED further down in RAJ_mughal_uprising, if you want to change the amount, you need to do it here, further down AND in RAJ_secure_weapons
                if = {
                    limit = {
                        has_country_flag = RAJ_mughal_no_aat_give_equipment
                    }

                    add_equipment_to_stockpile = { 
                        type = infantry_equipment
                        amount = 4000
                        producer = SOV
                    }
                    add_equipment_to_stockpile = { 
                        type = artillery_equipment
                        amount = 800
                        producer = SOV
                    }
                }

                if = {
                    limit = {
                        has_completed_focus = RAJ_secure_weapons
                    }

                    add_equipment_to_stockpile = { 
                        type = infantry_equipment
                        amount = 2000
                        producer = SOV
                    }
                    add_equipment_to_stockpile = { 
                        type = artillery_equipment
                        amount = 500
                        producer = SOV
                    }

                    if = {
                        limit = {
                            has_dlc = "No Step Back"
                        }
                        set_technology = {
                            basic_light_tank_chassis = 1
                            popup = no
                        }
                        add_equipment_to_stockpile = {
                            type =  light_tank_chassis
                            variant_name = "BT-7"
                            amount = 100
                            producer = SOV
                        }
                        
                    }
                    else = {
                        set_technology = {
                            basic_light_tank = 1
                            popup = no
                        }
                        add_equipment_to_stockpile = { 
                            type = light_tank_equipment_1 
                            amount = 100 
                            producer = SOV 
                        }
                    }
                    custom_effect_tooltip = newline_tt
                } 
            }

            hidden_effect = {
                drop_cosmetic_tag = yes
                OVERLORD = {
                    set_autonomy = {
                        target=RAJ
                        autonomy_state = autonomy_free
                    }
                }


                create_dynamic_country = {
                    original_tag = RAJ
                            # copy_tag = TAG # if set, it will copy stuff from copy tag instead of original_tag
                    reserve_dynamic_country = yes
                    every_state = {
                        limit = {
                            OR = {
                                is_in_array = {
                                    array = RAJ.owned_states_at_game_start
                                    value = THIS
                                }
                                AND = {
                                    state = 992
                                    OR = {
                                        is_owned_by = RAJ
                                        is_owned_by = PREV
                                    }
                                }
                            }
                            NOT = {
                                has_state_flag = has_stirred_unrest
                            }
                        }
                        PREV = { transfer_state = PREV } 
                    }
					ROOT = {
						transfer_units_fraction = {
							target = PREV
							size = 0.5
							stockpile_ratio = 0.5
							army_ratio = 0.5
							navy_ratio = 0
							air_ratio = 0
						}
					}
					THIS = { #This effect appears to be scopeless. Sometimes.
						save_global_event_target_as = UK_INDIA
					}
                    add_dynamic_modifier = { modifier = idea_RAJ_agrarian_society }
                    set_variable = { RAJ_agrarian_society_conscription_factor = RAJ.RAJ_agrarian_society_conscription_factor } #3
                    set_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = RAJ.RAJ_agrarian_society_mobilization_laws_cost_factor } #9
                    set_variable = { RAJ_agrarian_society_mobilization_speed = RAJ.RAJ_agrarian_society_mobilization_speed } #3
                    add_ideas = RAJ_marginalized_muslim_community_angry
                    add_ideas = RAJ_princely_states
                    add_ideas = RAJ_risk_of_famine
                    ENG = {
                        #set_autonomy = {
                        #    target=PREV
                        #    autonomy_state = autonomy_colony
                        #    freedom_level = 0.5 # 0-1 
                        #    end_wars  = yes
                        #    end_civil_wars = yes
                        #}
                    }
                    add_to_tech_sharing_group = commonwealth_research
                    set_cosmetic_tag = RAJ_UK
                    every_army_leader = {
                        set_nationality = RAJ
                    }
                    RAJ = {
                        random_character = {
                            limit = {
                                is_character = RAJ_freeman_freeman_thomas
                            }
                            set_nationality = PREV.PREV
                        }
                        set_politics = {
                            ruling_party = neutrality
                            elections_allowed = no
                            name = RAJ_mughal_court_party
                            long_name = RAJ_mughal_court_party_long
                        }
                    }
                    promote_character = RAJ_freeman_freeman_thomas
                    set_popularities = {
                        democratic= 28 # 0.0-100
                        neutrality = 70 # 0.0-100
                        fascism = 1 # 0.0-100
                        communism = 1 # 0.0-100
                    }
                    set_politics = {
                        ruling_party = neutrality
                        elections_allowed = no
                    }
                }

                hidden_effect = { #Note: the equipment is ACTUALLY ADDED further down in RAJ_mughal_uprising, if you want to change the amount, you need to do it here, up a few lines in this focus AND in RAJ_secure_weapons
                    if = {
                        limit = {
                            has_country_flag = RAJ_mughal_no_aat_give_equipment
                        }

                        add_equipment_to_stockpile = { 
                            type = infantry_equipment
                            amount = 4000
                            producer = SOV
                        }
                        add_equipment_to_stockpile = { 
                            type = artillery_equipment
                            amount = 800
                            producer = SOV
                        }
                    }

                    if = {
                        limit = {
                            has_completed_focus = RAJ_secure_weapons
                        }

                        add_equipment_to_stockpile = { 
                            type = infantry_equipment
                            amount = 2000
                            producer = SOV
                        }
                        add_equipment_to_stockpile = { 
                            type = artillery_equipment
                            amount = 500
                            producer = SOV
                        }

                        if = {
                            limit = {
                                has_dlc = "No Step Back"
                            }
                            set_technology = {
                                basic_light_tank_chassis = 1
                                popup = no
                            }
                            add_equipment_to_stockpile = {
                                type =  light_tank_chassis
                                variant_name = "BT-7"
                                amount = 100
                                producer = SOV
                            }
                            
                        }
                        else = {
                            set_technology = {
                                basic_light_tank = 1
                                popup = no
                            }
                            add_equipment_to_stockpile = { 
                                type = light_tank_equipment_1 
                                amount = 100 
                                producer = SOV 
                            }
                        }
                    }
                }

                every_navy_leader = {
                    set_nationality = event_target:UK_INDIA
                }

                every_character = {
                    limit = {
                        is_advisor = yes
                        is_unit_leader = no
                        NOT = {
                            is_character = RAJ_sir_mohammed_iqbal
                            is_character = RAJ_GOE_muhammad_ali_jinnah
                            is_character = RAJ_GOE_ukkirapandi_muthuramalinga_thevar
                            is_character = RAJ_mehar_singh
                            is_character = RAJ_GOE_mughal_army_command_1
                            is_character = RAJ_GOE_mughal_army_command_2
                            is_character = RAJ_GOE_mughal_army_command_3
                            is_character = RAJ_GOE_mughal_army_command_4
                            is_character = RAJ_GOE_mughal_army_command_5
                            is_character = RAJ_GOE_mughal_theorist
                            is_character = RAJ_GOE_mughal_navy_guy
                            is_character = RAJ_GOE_mughal_air_guy  
                            is_character = RAJ_intel_generic
                            is_character = RAJ_cap_industry_mughal
                            is_character = RAJ_mughal_industrialist
                            is_character = RAJ_silent_mughal
                            is_character = RAJ_backroom_mughal
                        }
                    }
                    set_nationality = event_target:UK_INDIA
                }

                every_army_leader = {
                    limit = {
                        NOT = {
                            has_trait = loyalty_to_britain
                            has_trait = loyalty_to_india
                        }
                    }
                    set_nationality = RAJ
                }

                retire_country_leader = yes
				
                division_template = {
                    name = "Princely Personal Guard"
                    is_locked = yes
                    priority = 0 # optional 
                    regiments = {
                        militia = { x = 0 y = 0 }
                        militia = { x = 0 y = 1 }
                        militia = { x = 0 y = 2 }
                        
                    }
                    support = {
                        
                    }
                }
                division_template = {
                    name = "Ahadi Division"
                    is_locked = no
                    division_names_group = RAJ_SIKH_01 # optional
                    priority = 2 # optional 
                    
                    regiments = {
                        mountaineers = { x = 0 y = 0 }
                        mountaineers = { x = 0 y = 1 }
                        mountaineers = { x = 0 y = 2 }
                        mountaineers = { x = 0 y = 3 }
                        mountaineers = { x = 1 y = 0 }
                        mountaineers = { x = 1 y = 1 }
                        mountaineers = { x = 1 y = 2 }
                        mountaineers = { x = 1 y = 3 }
                    }
                    support = {
                        engineer = { x = 0 y = 0 }
                    }
                }
				988 = {
                    create_unit = {
                        division = "name = \"Princely Personal Guard\" division_template = \"Princely Personal Guard\" start_experience_factor = 0.05 start_equipment_factor = 0.95 start_manpower_factor = 1"
                        owner = RAJ
                        allow_spawning_on_enemy_provs = no 
                        count = 5 
                    }
                    create_unit = {
                        division = "name = \"Ahadi Division\" division_template = \"Ahadi Division\" start_experience_factor = 0.5 start_equipment_factor = 1 start_manpower_factor = 1"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        count = 4
                    }
				}
                445 = {
                    create_unit = {
                        division = "name = \"Princely Personal Guard\" division_template = \"Princely Personal Guard\" start_experience_factor = 0.05 start_equipment_factor = 0.95 start_manpower_factor = 1"
                        owner = RAJ
                        allow_spawning_on_enemy_provs = no 
                        count = 3 
                    }
                }


                every_controlled_state = {
                    limit = {
                        is_in_array = {
                            array = RAJ.owned_states_at_game_start
                            value = THIS
                        }
                    }
                    add_core_of = ROOT
                }
            }
            set_cosmetic_tag = RAJ_mughal_breakaway_state
            remove_ideas = RAJ_risk_of_famine
            custom_effect_tooltip = RAJ_the_mughal_uprising_tt
			
			hidden_effect = {
				ROOT = { set_country_flag = independence_war_mughals }
				event_target:UK_INDIA = {
					declare_war_on = {
						target = RAJ
						type = annex_everything
					}

                    division_template = {
                        name = "Loyalist Infantry Division"
                        is_locked = no
                        priority = 0 # optional 
                        regiments = {
                            infantry = { x = 0 y = 0 }
                            infantry = { x = 0 y = 1 }
                            infantry = { x = 0 y = 2 }
                            infantry = { x = 1 y = 0 }
                            infantry = { x = 1 y = 1 }
                            
                        }
                        support = {
                            
                        }
                    }
                    439 = {
                        create_unit = {
                             division = "name = \"Loyalist Infantry Division\" division_template = \"Loyalist Infantry Division\" start_experience_factor = 0.07 start_equipment_factor = 0.95 start_manpower_factor = 1"
                             owner = PREV
                             count = 4 
                         } 
                    }
                    989 = {
                        create_unit = {
                             division = "name = \"Loyalist Infantry Division\" division_template = \"Loyalist Infantry Division\" start_experience_factor = 0.07 start_equipment_factor = 0.95 start_manpower_factor = 1"
                             owner = PREV
                             count = 4 
                         } 
                    }
                    440 = {
                        create_unit = {
                             division = "name = \"Loyalist Infantry Division\" division_template = \"Loyalist Infantry Division\" start_experience_factor = 0.07 start_equipment_factor = 0.95 start_manpower_factor = 1"
                             owner = PREV
                             count = 4 
                         } 
                    }

				}
			}
            ENG = { country_event = { id = GOE_RAJ.33 days = 14 random_days = 2 } }
            
            every_army_leader = {
                limit = {
                    has_trait = loyalty_to_britain
                }
                set_nationality = ENG
            }

            every_army_leader = {
                limit = {
                    has_trait = loyalty_to_india
                }
                set_nationality = event_target:UK_INDIA
            }
            country_event = {
                id = GOE_RAJ.33
                hours = 1
            }
        } 
    }



   focus = {
        id = RAJ_reform_the_agricultural_system 
        icon = GFX_focus_generic_farmland
        prerequisite = { focus = RAJ_the_mughal_uprising }

        x = -2
        y = 1
        relative_position_id = RAJ_the_mughal_uprising

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MANPOWER}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.09 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.27 tooltip = mobilization_laws_cost_factor_tt }
            remove_agrarian_society_if_void = yes
        }
    }
   focus = {
        id = RAJ_forging_the_mughal_arsenal
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_the_mughal_uprising }

        x = 2
        y = 1
        relative_position_id = RAJ_the_mughal_uprising

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}
        completion_reward = {
            try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            add_tech_bonus = {
                name = RAJ_forging_the_mughal_arsenal
                bonus = 0.35
                uses = 1
                category = artillery # optional 
                # technology  = technology_id # optional
            }

            army_experience = 30
        }
    }

#RAJ_reform_the_agricultural_system

#RAJ_forging_the_mughal_arsenal

   focus = {
        id = RAJ_the_legacy_of_babur
        icon = GFX_focus_RAJ_the_legacy_of_babur
        prerequisite = { focus = RAJ_the_mughal_uprising }
        #mutually_exclusive = { }
        x = 0
        y = 1
        relative_position_id = RAJ_the_mughal_uprising

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER}

        completion_reward = {
        

            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            try_build_mil_in_core_otherwise_build_in_controlled = yes
			custom_effect_tooltip = newline_tt
            if = {
                limit = {
                    NOT = {
                        any_state = {
                            has_state_flag = has_stirred_unrest
                        }
                    }
                }

                custom_effect_tooltip = RAJ_the_legacy_of_babur_tt
                effect_tooltip = {
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_mughal_influence
                    }
                }
            }
            else = {
              every_controlled_state = {
                    limit = {
                        has_state_flag = has_stirred_unrest
                    }
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_mughal_influence
                    }
                }  
            }
			custom_effect_tooltip = newline_tt
			ROOT = { add_stability = 0.10 }
        } 

    }

   focus = {
        id = RAJ_a_peacock_prince
        icon = GFX_focus_RAJ_peacock_prince
        prerequisite = { focus = RAJ_the_legacy_of_babur }
        #mutually_exclusive = { }
        x = 0
        y = 1
        relative_position_id = RAJ_the_legacy_of_babur

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_war = no
        }
        
        bypass = {
 
        }

        search_filters = {FOCUS_FILTER_POLITICAL}

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
        completion_reward = {
            country_event = { id = GOE_RAJ_princely.1 } 
            drop_cosmetic_tag = yes
            set_cosmetic_tag = RAJ_al_hind
        }

    }

   focus = {
        id = RAJ_halls_of_knowledge
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_a_peacock_prince }
        #mutually_exclusive = { }
        x = -2
        y = 1
        relative_position_id = RAJ_a_peacock_prince

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            num_of_factories > 10
        }
        
        bypass = {

        }

        search_filters = {FOCUS_FILTER_RESEARCH}

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
        completion_reward = {
            add_tech_bonus = {
                #bonus = <float>
                name = RAJ_halls_of_knowledge
                uses = 1
                ahead_reduction = 1
                category = electronics # optional 
                # technology  = technology_id # optional
            }
            add_tech_bonus = {
                name = RAJ_halls_of_knowledge
                bonus = 0.4
                uses = 2
                category = infantry_weapons # optional 
                # technology  = technology_id # optional
            }
            add_research_slot = 1
        }

    }

   focus = {
        id = RAJ_halls_of_knowledge_2
        icon = GFX_focus_research2
        prerequisite = { focus = RAJ_halls_of_knowledge }
        #mutually_exclusive = { }
        x = 0
        y = 1
        relative_position_id = RAJ_halls_of_knowledge

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            num_of_factories > 25
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_research_slot = 1
        }

    }

    focus = {
        id = RAJ_halls_of_knowledge_3
        icon = GFX_focus_ARG_universidad_de_buenos_aires
        prerequisite = { focus = RAJ_halls_of_knowledge_2 }
        #mutually_exclusive = { }
        x = 0
        y = 1
        relative_position_id = RAJ_halls_of_knowledge_2

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            num_of_factories > 60
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_research_slot = 1
        }
    }

    focus = {
        id = RAJ_secret_weapons
        icon = GFX_focus_rocketry
        prerequisite = { focus = RAJ_halls_of_knowledge_3 }
        prerequisite = { focus = RAJ_thunder_elephants }
        #mutually_exclusive = { }
        #allow_branch = { has_dlc = "Gotterdammerung" }
        x = 2
        y = 1
        relative_position_id = RAJ_halls_of_knowledge_3

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            any_owned_state = {
                nuclear_facility < 1
                air_facility < 1
                land_facility < 1
                naval_facility < 1
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            IF = {
                limit = {
                    has_dlc = "Gotterdammerung"
                }
                random_owned_controlled_state = {
                    limit = {
                        can_construct_building = air_facility
                    }
                    prioritize = { 291 }
                    construct_building_in_random_province = {
                        air_facility = 1
                    }
                }
                add_breakthrough_progress = {
                    specialization = specialization_air
                    value = 0.25
                }
            }
            ELSE = {
                add_tech_bonus = {
                    name = RAJ_secret_weapons
                    bonus = 0.75
                    category = rocketry
                }
            }
        }
    }

    focus = {
        id = RAJ_sharpen_the_tulwar
        icon = GFX_goal_generic_special_forces
        prerequisite = { focus = RAJ_a_peacock_prince }
        #mutually_exclusive = { }
        x = 2
        y = 1
        relative_position_id = RAJ_a_peacock_prince

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH  FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER}

        completion_reward = {
            try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
            add_war_support = 0.05
            add_doctrine_cost_reduction = {
                name = RAJ_sharpen_the_tulwar
                cost_reduction = 0.66
                uses = 1
                category = land_doctrine
            }

            set_technology = {
                tech_mountaineers = 1
                popup = no
            }

            division_template = {
                name = "Mountain Lions"
                is_locked = no
                priority = 2 # optional 
                regiments = {
                    mountaineers = { x = 0 y = 0 }
                    mountaineers = { x = 0 y = 1 }
                    mountaineers = { x = 0 y = 2 }
                    mountaineers = { x = 0 y = 3 }
                    mountaineers = { x = 1 y = 0 }
                    mountaineers = { x = 1 y = 1 }
                    mountaineers = { x = 1 y = 2 }
                    mountaineers = { x = 1 y = 3 }
                    mountaineers = { x = 2 y = 0 }

                }
                support = {
                    
                }
            }

            random_controlled_state = {
                limit = {
                    is_fully_controlled_by = ROOT
                }

                create_unit = {
                    division = "name = \"Mountain Lions\" division_template = \"Mountain Lions\" start_experience_factor = 0.65 start_equipment_factor = 1 start_manpower_factor = 1"
                    owner = RAJ
                    allow_spawning_on_enemy_provs = no 
                    count = 1
                }
                prioritize = { 988 445 } #optional: to pick those states first if they fulfill the limit
                
            }

            if = {
                limit = {
                    OR = {
                        has_idea = volunteer_only
                        has_idea = disarmed_nation
                    }
                }

                add_ideas = limited_conscription    
            }

        }
    }

    focus = {
        id = RAJ_reviving_the_workshop_of_the_world
        icon = GFX_focus_generic_modernize_industry
        prerequisite = { focus = RAJ_a_peacock_prince }
        #mutually_exclusive = { }
        x = 0
        y = 1
        relative_position_id = RAJ_a_peacock_prince

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            if = {
                limit = {
                    has_idea = civilian_economy
                }

                add_ideas = low_economic_mobilisation
            }

            add_ideas = idea_RAJ_reviving_the_workshop_of_the_world

        }
    }

    focus = {
        id = RAJ_rebuilding_the_empires_roads
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_reviving_the_workshop_of_the_world }
        #mutually_exclusive = { }
        x = 0
        y = 1
        relative_position_id = RAJ_reviving_the_workshop_of_the_world

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            random_core_state = {
                limit = {
                    is_controlled_by = ROOT
                    infrastructure < 5
                }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                } 
            }

            random_core_state = {
                limit = {
                    is_controlled_by = ROOT
                    infrastructure < 5
                }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                } 
            }

            random_core_state = {
                limit = {
                    is_controlled_by = ROOT
                    infrastructure < 5
                }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                } 
            }

            swap_ideas = {
                remove_idea = idea_RAJ_reviving_the_workshop_of_the_world
                add_idea = idea_RAJ_reviving_the_workshop_of_the_world_2
            }


        }
    }

    

    


   focus = {
        id = RAJ_elephants_for_the_modern_age
        icon = GFX_focus_RAJ_indian_gentlemen_offcers
        prerequisite = { focus = RAJ_sharpen_the_tulwar }
        #mutually_exclusive = { }
        x = 0
        y = 1
        relative_position_id = RAJ_sharpen_the_tulwar

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

        completion_reward = {

            set_technology = {
                elephantry = 1
                popup = no
            }

            division_template = {
                name = "Gajhastas"
                is_locked = no
                #division_names_group = NAMELIST_ID # optional
                priority = 1 # optional 
                template_counter = 108 # optional
                regiments = {
                    elephantry = { x = 0 y = 0 }
                    elephantry = { x = 0 y = 1 }
                    elephantry = { x = 0 y = 2 }
                    elephantry = { x = 0 y = 3 }
                    elephantry = { x = 1 y = 0 }
                    elephantry = { x = 1 y = 1 }
                    elephantry = { x = 1 y = 2 }
                    elephantry = { x = 1 y = 3 }
                }
                #support = {
                #    artillery = { x = 0 y = 0 }
                #}
            }
            capital_scope = {
                create_unit = {
                    division = "name = \"Gajhastas\" division_template = \"Gajhastas\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                    owner = ROOT
                    allow_spawning_on_enemy_provs = yes 
                    count = 2
                }
            }

            army_experience = 70

            custom_effect_tooltip = generic_skip_one_line_tt
            if = {
                limit = {
                    amount_taken_ideas = {
                        amount < 1
                        slots = { army_spirit }
                    }
                    has_dlc = "No Step Back"
                    NOT = {
                        has_idea = proper_heritage_spirit
                    }
                }
                add_ideas = proper_heritage_spirit
            }
            #add_extra_state_shared_building_slots = 1
        }
    }

   focus = {
        id = RAJ_timurid_bureaucracy
        icon = GFX_focus_TUR_loosen_the_laws_on_secularism
        prerequisite = { focus = RAJ_a_peacock_prince }
        #mutually_exclusive = { }
        x = 2
        y = 0
        relative_position_id = RAJ_sharpen_the_tulwar

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER}

        completion_reward = {

            add_popularity = {
                ideology = neutrality
                popularity = 0.15
            }

            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community
                }
                swap_ideas = {
                    remove_idea = RAJ_marginalized_muslim_community
                    add_idea = idea_RAJ_timurid_bureaucracy
                }
            }
            else = {
                add_ideas = idea_RAJ_timurid_bureaucracy
            }
        }
    }

   focus = {
        id = RAJ_revolt_of_the_princes
        icon = GFX_focus_rom_royal_dictatorship
        prerequisite = { focus = RAJ_a_peacock_prince }
        #mutually_exclusive = { }
        x = -6
        y = 0
        relative_position_id = RAJ_sharpen_the_tulwar

        cost = 5

        ai_will_do = { 
            factor = 1
        }

        available = {
        }

        bypass_effect = {
            add_war_support = 0.05
            add_manpower = 25000
        }
        
        bypass = {
            all_of_scopes = {
                array = RAJ.owned_states_at_game_start
                is_controlled_by = ROOT
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            add_ideas = idea_RAJ_under_the_yoke_of_peacock_throne
            add_war_support = 0.05
            add_manpower = 25000
            custom_effect_tooltip = RAJ_revolt_of_the_princes_tt
			create_wargoal = {
				type = annex_everything
				target = event_target:UK_INDIA
			}
        }
    }

    focus = {
            id = RAJ_unite_the_subcontinent
            icon = GFX_goal_generic_position_armies
            prerequisite = { focus = RAJ_revolt_of_the_princes }
            #mutually_exclusive = { }
            x = 0
            y = 1
            relative_position_id = RAJ_revolt_of_the_princes

            cost = 10

            ai_will_do = {
                factor = 1
            }

            available = {
                has_full_control_of_state = 439
                has_full_control_of_state = 438
                has_full_control_of_state = 435
                has_full_control_of_state = 431
            }
            
            bypass = {

            }

            cancel_if_invalid = no
            continue_if_invalid = no
            available_if_capitulated = no

            search_filters = {FOCUS_FILTER_ANNEXATION}

            completion_reward = {
                BRM = {
                    every_core_state = {
                        add_core_of = ROOT
                    }
                }
                every_state = {
                    limit = {
                        is_in_array = {
                            array = RAJ.owned_states_at_game_start
                            value = THIS
                        }
                        if = {
                            limit = { ROOT = { has_completed_focus = RAJ_the_silk_road } }
                            NOT = {
                                OR = {
                                    state = 982
                                    state = 423
                                    state = 425
                                    state = 424
                                    state = 983
                                    state = 426
                                }
                            }
                        }                   
                    }

                    add_core_of = ROOT
                }

                if = {
                    limit = {
                        has_event_target = UK_INDIA
                        event_target:UK_INDIA = {
                            all_core_state = {
                                is_fully_controlled_by = PREV
                            }
                        }
                    }

                    create_wargoal = {
                        type = annex_everything
                        target = event_target:UK_INDIA
                    }
                }
                else_if = {
                    limit = {
                        has_event_target = UK_INDIA
                    }
                    event_target:UK_INDIA = {
                        every_core_state = {
                            if = {
                                limit = {

                                    NOT = { ROOT = { has_annex_war_goal =  PREV.controller } }
                                    controller = {  NOT = { tag = ROOT } } 
                                }

                                ROOT = {
                                    create_wargoal = {
                                        type = annex_everything
                                        target = PREV.controller
                                    }
                                }
                            }
                        }
                    }
                }

                if = {
                    limit = {
                        BRM = {
                            all_core_state = {
                                is_fully_controlled_by = PREV
                            }
                        }
                    }

                    create_wargoal = {
                        type = annex_everything
                        target = BRM
                    }
                }
                else = {
                    BRM = {
                        every_core_state = {
                            if = {
                                limit = {

                                    NOT = { ROOT = { has_annex_war_goal =  PREV.controller } }
                                    controller = {  NOT = { original_tag = ROOT } } 
                                }

                                ROOT = {
                                    create_wargoal = {
                                        type = annex_everything
                                        target = PREV.controller
                                    }
                                }
                            }
                        }
                    }
                }
                
                if = {
                    limit = { NOT = { has_completed_focus = RAJ_the_silk_road } }
                    custom_effect_tooltip = newline_tt
                    custom_effect_tooltip = if_not_silk_road_tt
                    set_capital = {
                        state = 439
                    }
                    drop_cosmetic_tag = yes
                    set_cosmetic_tag = RAJ_mughal_empire
                    custom_effect_tooltip = also_on_vijay_tt
                }
                
            }
        }

        focus = {
        id = RAJ_secular_rule
        icon = GFX_focus_hol_the_foundations_of_defense
        prerequisite = { focus = RAJ_unite_the_subcontinent }
        mutually_exclusive  = { focus = RAJ_theocratic_rule }
        x = -2
        y = 1
        relative_position_id = RAJ_unite_the_subcontinent

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_ideas = idea_RAJ_secular_rule
        }
    }

    focus = {
        id = RAJ_theocratic_rule
        icon = GFX_focus_TUR_turanist_ambition
        prerequisite = { focus = RAJ_unite_the_subcontinent }
        mutually_exclusive  = { focus = RAJ_secular_rule }
        #mutually_exclusive = { }
        x = 2
        y = 0
        relative_position_id = RAJ_secular_rule

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_ideas = idea_RAJ_theocratic_rule
        }
    }


    focus = {
        id = RAJ_mughal_court
        icon = GFX_goal_generic_national_unity
        prerequisite = { focus = RAJ_secular_rule focus = RAJ_theocratic_rule }
        #mutually_exclusive = { }
        x = 1
        y = 1
        relative_position_id = RAJ_secular_rule

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}

        completion_reward = {
            hidden_effect = {
                HYD = {
                    RAJ_mir_osman_ali_khan = {
                        if = {
                            limit = {
                                NOT = {
                                    has_character_flag = is_mughal_emperor
                                }
                            }
                            set_nationality = RAJ
                            remove_country_leader_role = {
                                character = RAJ_mir_osman_ali_khan
                                ideology = despotism
                            }
                        }
                    }
                }
                RAS = {
                    RAJ_chithira_thirunal_balarma_varma = {
                        if = {
                            limit = {
                                NOT = {
                                    has_character_flag = is_mughal_emperor
                                }
                            }
                            set_nationality = RAJ
                            remove_country_leader_role = {
                                character = RAJ_chithira_thirunal_balarma_varma
                                ideology = despotism
                            }
                        }
                    }
                }
                KLT = {
                    RAJ_ahmad_yar_khan = {
                        if = {
                            limit = {
                                NOT = {
                                    has_character_flag = is_mughal_emperor
                                }
                            }
                            set_nationality = RAJ
                            remove_country_leader_role = {
                                character = RAJ_ahmad_yar_khan
                                ideology = despotism
                            }
                        }
                    }
                }
                BAN = {
                    RAJ_huseyn_shaheed_suhrawardy = {
                        if = {
                            limit = {
                                NOT = {
                                    has_character_flag = is_mughal_emperor
                                }
                            }
                            set_nationality = RAJ
                            remove_country_leader_role = {
                                character = RAJ_huseyn_shaheed_suhrawardy
                                ideology = despotism
                            }
                        }
                    }
                }
                KAS = {
                    RAJ_maharaja_hari_singh = {
                        if = {
                            limit = {
                                NOT = {
                                    has_character_flag = is_mughal_emperor
                                }
                            }
                            set_nationality = RAJ
                            remove_country_leader_role = {
                                character = RAJ_maharaja_hari_singh
                                ideology = despotism
                            }
                        }
                    }
                }
                MPU = {
                    RAJ_bodh_chandra_singh = {
                        if = {
                            limit = {
                                NOT = {
                                    has_character_flag = is_mughal_emperor
                                }
                            }
                            set_nationality = RAJ
                            remove_country_leader_role = {
                                character = RAJ_bodh_chandra_singh
                                ideology = despotism
                            }
                        }
                    }
                }
                RJP = {
                    RAJ_umed_singh = {
                        if = {
                            limit = {
                                NOT = {
                                    has_character_flag = is_mughal_emperor
                                }
                            }
                            set_nationality = RAJ
                            remove_country_leader_role = {
                                character = RAJ_umed_singh
                                ideology = despotism
                            }
                        }
                    }
                }
                WIS = {
                    RAJ_pratap_singh_rao_gaekwad = {
                        if = {
                            limit = {
                                NOT = {
                                    has_character_flag = is_mughal_emperor
                                }
                            }
                            set_nationality = RAJ
                            hidden_effect = {
                                remove_country_leader_role = {
                                    character = RAJ_pratap_singh_rao_gaekwad
                                    ideology = despotism
                                }
                            }
                        }
                    }
                }
            }
            custom_effect_tooltip = RAJ_mughal_court_tt
            show_ideas_tooltip = idea_RAJ_central_mughal_court
            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = RAJ_mughal_court_princely_states_tt
            custom_effect_tooltip = generic_skip_one_line_tt

            HYD = {
                custom_effect_tooltip = available_political_advisor
                show_ideas_tooltip = RAJ_mir_osman_ali_khan
            }
            RAS = {
                custom_effect_tooltip = available_political_advisor
                show_ideas_tooltip = RAJ_chithira_thirunal_balarma_varma
            }
            KLT = {
                custom_effect_tooltip = available_political_advisor
                show_ideas_tooltip = RAJ_ahmad_yar_khan
            }
            BAN = {
                custom_effect_tooltip = available_political_advisor
                show_ideas_tooltip = RAJ_huseyn_shaheed_suhrawardy
            }
            KAS = {
                custom_effect_tooltip = available_political_advisor
                show_ideas_tooltip = RAJ_maharaja_hari_singh
            }
            MPU = {
                custom_effect_tooltip = available_political_advisor
                show_ideas_tooltip = RAJ_bodh_chandra_singh
            }
            RJP = {
                custom_effect_tooltip = available_political_advisor
                show_ideas_tooltip = RAJ_umed_singh
            }
            WIS = {
                custom_effect_tooltip = available_political_advisor
                show_ideas_tooltip = RAJ_pratap_singh_rao_gaekwad
            }

            hidden_effect = {
                every_country = {
                    limit = {
                        OR = {
                            tag = PSH
                            tag = HYD
                            tag = MYS
                            tag = RJP
                            tag = CIP
                            tag = RAS
                            tag = NWF
                            tag = KAS
                            tag = MPU
                            tag = WIS
                            tag = KOL
                            tag = KHL
                            tag = SIN
                            tag = KLT
                            tag = SKK
                            tag = BLC
                        }
                        exists = yes
                        is_subject_of = ROOT
                    }
                    add_ideas = idea_RAJ_central_mughal_court
                }
            }
        }
    }
	
	focus = {
        id = RAJ_conquer_afghanistan
        icon = GFX_focus_generic_attack_afghanistan
        prerequisite = { focus = RAJ_timurid_bureaucracy }
        #mutually_exclusive = { }
        x = 0
        y = 1
        relative_position_id = RAJ_timurid_bureaucracy

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {
            AFG = {
                OR = {
                    exists = no
                    is_subject_of = ROOT
                    has_war_with = ROOT
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                add_doctrine_cost_reduction = {
                    cost_reduction = 0.4
                    uses = 1
                    category = special_forces_doctrine
                }
            }
            else = {
                army_experience = 100
            }
            if = {
                limit = {
                    AFG = {
                        all_core_state = {
                            is_fully_controlled_by = PREV
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = AFG
                }
            }
            else = {
                AFG = {
                    every_core_state = {
                        if = {
                            limit = {

                                NOT = { ROOT = { has_annex_war_goal =  PREV.controller } }
                                controller = {  NOT = { original_tag = ROOT } } 
                            }

                            ROOT = {
                                create_wargoal = {
                                    type = annex_everything
                                    target = PREV.controller
                                }
                            }
                        }
                    }
                }
            }
        }
    }
	
	focus = {
        id = RAJ_through_the_wakhan_corridor
        icon = GFX_focus_AFG_sinkang_intervention
        prerequisite = { focus = RAJ_conquer_afghanistan }
        #mutually_exclusive = { }
        x = 2
        y = 1
        relative_position_id = RAJ_conquer_afghanistan

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {
            
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    controls_province = 7519
                }
                1005 = {
                    add_building_construction = {
                        type = supply_node
                        level = 1
                        instant_build = yes
                        province = 7519
                    }

                    add_building_construction = {
                        type = air_base
                        level = 1
                        instant_build = yes
                    }
                }
            }
            else = {
                effect_tooltip = {
                    1005 = {
                        add_building_construction = {
                            type = supply_node
                            level = 1
                            instant_build = yes
                            province = 7519
                        }
                    }
                }
            }


            if = {
                limit = {
                    SIK = {
                        all_core_state = {
                            is_fully_controlled_by = PREV
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = SIK
                }
            }
            else = {
                SIK = {
                    every_core_state = {
                        if = {
                            limit = {

                                NOT = { ROOT = { has_annex_war_goal =  PREV.controller } }
                                controller = {  NOT = { original_tag = ROOT } } 
                            }

                            ROOT = {
                                create_wargoal = {
                                    type = annex_everything
                                    target = PREV.controller
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_the_silk_road
        icon = GFX_focus_RAJ_the_silk_road
		prerequisite = { focus = RAJ_through_the_wakhan_corridor }
        prerequisite = { focus = RAJ_legacy_of_timur }
        x = -2
        y = 1
        relative_position_id = RAJ_through_the_wakhan_corridor

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
			has_full_control_of_state = 415
			has_full_control_of_state = 267
			has_full_control_of_state = 1007
			has_full_control_of_state = 1005
			has_full_control_of_state = 1006
			has_full_control_of_state = 619
			has_full_control_of_state = 287
			has_full_control_of_state = 617
			has_full_control_of_state = 759
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY}

        completion_reward = {

            build_railway = {
                level = 3
                start_province = 4709
                target_province = 4893 
                build_only_on_allied = yes
            }
            add_ideas = BRA_road_investment
            add_ideas = BRA_rail_investment
            random_owned_state = {
                limit = {
                    is_fully_controlled_by = ROOT
                    free_building_slots = {
                        building = industrial_complex
                        size > 1
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                    instant_build = yes
                }
            }
            random_owned_state = {
                limit = {
                    is_fully_controlled_by = ROOT
                    free_building_slots = {
                        building = industrial_complex
                        size > 0
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }			
        }
    }

    focus = {
        id = RAJ_legacy_of_timur
        icon = GFX_focus_rom_royal_dictatorship
        prerequisite = { focus = RAJ_conquer_afghanistan }
        x = 0
        y = 1
        relative_position_id = RAJ_conquer_afghanistan

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_full_control_of_state = 415
            has_full_control_of_state = 1009
            has_full_control_of_state = 1008
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            every_state = {
                limit = {
                    is_core_of = AFG
                }
                add_core_of = ROOT
            }            
        }
    }

    focus = {
        id = RAJ_peacock_throne_for_the_modern_age
        icon = GFX_focus_RAJ_peacock_throne_for_the_modern_age
        prerequisite = { focus = RAJ_mughal_court }
        x = 0
        y = 1
        relative_position_id = RAJ_mughal_court

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
			has_full_control_of_state = 439
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_ideas = idea_RAJ_ruler_of_the_peacock_throne
        }
    }

    focus = {
        id = RAJ_the_crown_and_the_world
        icon = GFX_focus_RAJ_the_crown_and_the_world
        prerequisite = { focus = RAJ_peacock_throne_for_the_modern_age  }
        x = 1
        y = 1
        relative_position_id = RAJ_peacock_throne_for_the_modern_age

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_ideas = { idea_RAJ_the_crown_and_the_world }
        }
    }
	
	focus = {
        id = RAJ_revisiting_inquities
        icon = GFX_focus_generic_british_trade
        prerequisite = { focus = RAJ_peacock_throne_for_the_modern_age }
        x = -1
        y = 1
        relative_position_id = RAJ_peacock_throne_for_the_modern_age

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
			country_exists = ENG
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
			custom_effect_tooltip = allows_mughal_west_british_company_tt
            create_wargoal = {
				type = puppet_wargoal_focus
				target = ENG
			}
        }
    }

    focus = {
        id = RAJ_across_the_himalayas
        icon = GFX_goal_generic_attack_allies
        prerequisite = { focus = RAJ_the_silk_road }
        #mutually_exclusive = { }
        x = 2
        y = 1
        relative_position_id = RAJ_the_silk_road

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {
            
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    TIB = {
                        all_core_state = {
                            is_fully_controlled_by = PREV
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = TIB
                }
            }
            else = {
                TIB = {
                    every_core_state = {
                        if = {
                            limit = {

                                NOT = { ROOT = { has_annex_war_goal =  PREV.controller } }
                                controller = {  NOT = { original_tag = ROOT } } 
                            }

                            ROOT = {
                                create_wargoal = {
                                    type = annex_everything
                                    target = PREV.controller
                                }
                            }
                        }
                    }
                }
            }

            if = {
                limit = {
                    BHU = {
                        all_core_state = {
                            is_fully_controlled_by = PREV
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = BHU
                }
            }
            else = {
                BHU = {
                    every_core_state = {
                        if = {
                            limit = {

                                NOT = { ROOT = { has_annex_war_goal =  PREV.controller } }
                                controller = {  NOT = { original_tag = ROOT } } 
                            }

                            ROOT = {
                                create_wargoal = {
                                    type = annex_everything
                                    target = PREV.controller
                                }
                            }
                        }
                    }
                }
            }

            if = {
                limit = {
                    NEP = {
                        all_core_state = {
                            is_fully_controlled_by = PREV
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = NEP
                }
            }
            else = {
                NEP = {
                    every_core_state = {
                        if = {
                            limit = {

                                NOT = { ROOT = { has_annex_war_goal =  PREV.controller } }
                                controller = {  NOT = { original_tag = ROOT } } 
                            }

                            ROOT = {
                                create_wargoal = {
                                    type = annex_everything
                                    target = PREV.controller
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_conquerors_of_persia
        icon = GFX_focus_generic_attack_iran
        prerequisite = { focus = RAJ_the_silk_road }
        #mutually_exclusive = { }
        x = 0
        y = 1
        relative_position_id = RAJ_the_silk_road

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {
            
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    PER = {
                        all_core_state = {
                            is_fully_controlled_by = PREV
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = PER
                }
            }
            else = {
                PER = {
                    every_core_state = {
                        if = {
                            limit = {

                                NOT = { ROOT = { has_annex_war_goal =  PREV.controller } }
                                controller = {  NOT = { original_tag = ROOT } } 
                            }

                            ROOT = {
                                create_wargoal = {
                                    type = annex_everything
                                    target = PREV.controller
                                }
                            }
                        }
                    }
                }
            }

        }
    }

    focus = {
        id = RAJ_conquerors_of_iraq
        icon = GFX_focus_generic_attack_iraq
        prerequisite = { focus = RAJ_conquerors_of_persia }
        #mutually_exclusive = { }
        x = 1
        y = 1
        relative_position_id = RAJ_conquerors_of_persia

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            IRQ = {
                exists = yes
                NOT = {
                    OR = {
                        is_subject_of = ROOT
                        is_in_faction_with = ROOT
                    }
                }
            }
        }
        
        bypass = {
            
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            create_wargoal = {
                target = IRQ
                type = annex_everything
            }
        }
    }

    focus = {
        id = RAJ_conquerors_of_turkey
        icon = GFX_focus_generic_attack_turkey
        prerequisite = { focus = RAJ_conquerors_of_persia }
        #mutually_exclusive = { }
        x = -1
        y = 1
        relative_position_id = RAJ_conquerors_of_persia

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            TUR = {
                exists = yes
                NOT = {
                    OR = {
                        is_subject_of = ROOT
                        is_in_faction_with = ROOT
                    }
                }
            }
        }
        
        bypass = {
            
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            create_wargoal = {
                target = TUR
                type = annex_everything
            }
        }
    }

    focus = {
        id = RAJ_the_true_mongols
        icon = GFX_focus_generic_attack_mongolia
        prerequisite = { focus = RAJ_the_silk_road }
        #mutually_exclusive = { }
        x = -2
        y = 1
        relative_position_id = RAJ_the_silk_road

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {
            
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    MON = {
                        all_core_state = {
                            is_fully_controlled_by = PREV
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = MON
                }
            }
            else = {
                MON = {
                    every_core_state = {
                        if = {
                            limit = {

                                NOT = { ROOT = { has_annex_war_goal =  PREV.controller } }
                                controller = {  NOT = { original_tag = ROOT } } 
                            }

                            ROOT = {
                                create_wargoal = {
                                    type = annex_everything
                                    target = PREV.controller
                                }
                            }
                        }
                    }
                }
            }
        }
    }

     focus = {
        id = RAJ_restore_the_timurid_empire
        icon = GFX_focus_RAJ_restore_the_timurid_empire
        prerequisite = { focus = RAJ_conquerors_of_turkey }
        prerequisite = { focus = RAJ_conquerors_of_iraq }
        x = -1
        y = 1
        relative_position_id = RAJ_conquerors_of_iraq

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_full_control_of_state = 415
            has_full_control_of_state = 266
            has_full_control_of_state = 291
            has_full_control_of_state = 49
            has_full_control_of_state = 617
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_completed_focus = RAJ_unite_the_subcontinent }
                }
                #custom_effect_tooltip = newline_tt
                custom_effect_tooltip = if_not_subcontinent_tt
                set_capital = { state = 415 }
                drop_cosmetic_tag = yes
                #set_cosmetic_tag = RAJ_silk_road_empire
                set_cosmetic_tag = RAJ_timurid_empire
                #custom_effect_tooltip = unlock_decisions_silk_road_tt
            }
            every_state = {
                limit = {
                    OR = {
                        is_core_of = PER
                        is_core_of = AFG
                        is_core_of = IRQ
                    }
                }
                add_core_of = ROOT
            }
            add_country_leader_trait = RAJ_timurs_succesor   
                     
        }
    }

    focus = {
        id = RAJ_thunder_elephants
        icon = GFX_focus_RAJ_thunder_elephants
        prerequisite = { focus = RAJ_elephants_for_the_modern_age }
        #mutually_exclusive = { }
        x = 0
        y = 1
        relative_position_id = RAJ_elephants_for_the_modern_age

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = arms_factory
                        size > 1
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            if = {
                limit = {
                     has_dlc = "Gotterdammerung"
                }

                add_breakthrough_progress = {
                    specialization = specialization_land
                    value = 1
                }
                add_ideas = idea_RAJ_thunder_elephants
            }
            else = {
                add_ideas = idea_RAJ_thunder_elephants_no_gdr
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            add_tech_bonus = {
                name = RAJ_thunder_elephants
                ahead_reduction = 1 # was 2
                bonus = 1
                uses = 1
                technology = super_heavy_tank_chassis
            }
        }
    }

   focus = {
        id = RAJ_incorporation_of_the_east_india_company
        icon = GFX_focus_RAJ_the_return_of_the_east_india_trading_company_alt
        prerequisite = { focus = RAJ_lobby_parliment }
        prerequisite = { focus = RAJ_seek_intial_funding }
        mutually_exclusive = { }
        x = -2
        y = 1
        relative_position_id = RAJ_lobby_parliment

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            set_country_flag = RAJ_allow_release_states
            
            #RAJ
            drop_cosmetic_tag = yes
            hidden_effect ={
                country_event = {
                    id = GOE_RAJ_eic.1
                    days = 1
                }

            }
            remove_ideas = RAJ_risk_of_famine
            add_ideas = idea_RAJ_upset_congress_leaders
            custom_effect_tooltip = RAJ_the_return_of_the_east_india_company_tt
            #eic_normal_investments = yes
            #set_country_flag = has_payed_normal_dividends #get one free :) 
            
            set_cosmetic_tag = RAJ_eic_tag
            set_variable = { RAJ_eic_taxes_consumer_goods = 0 }
            hidden_effect = {
                add_dynamic_modifier = {
                    modifier = idea_RAJ_eic_taxes
                }
                add_dynamic_modifier = {
                    modifier = idea_RAJ_eic_dividends_investment
                }
            }
            
            OVERLORD = {
                set_autonomy = {
                    target = RAJ
                    autonomy_state = autonomy_free
                }
            }
                
            hidden_effect = {
                create_dynamic_country = {
                    original_tag = RAJ
                            # copy_tag = TAG # if set, it will copy stuff from copy tag instead of original_tag
                    save_global_event_target_as = UK_INDIA
                    reserve_dynamic_country = yes
                    every_state = {
                        limit = {
                            is_in_array = {
                                array = RAJ.owned_states_at_game_start
                                value = THIS
                            }
                            NOT = {
                                state = 428
                                state = 429
                            }
                        }
                        PREV = { transfer_state = PREV } 
                    }
                    ENG = {
                        set_autonomy = {
                            target=PREV
                            autonomy_state = autonomy_colony
                            freedom_level = 0.1 # 0-1 
                            end_wars  = yes # default yes. will not cancel non civil wars if set to no
                            end_civil_wars = yes # default yes. will not cancel civil wars if set to no
                        }
                    }
                    add_to_tech_sharing_group = commonwealth_research
                    set_cosmetic_tag = RAJ_UK
                    add_dynamic_modifier = { modifier = idea_RAJ_agrarian_society }
                    set_variable = { RAJ_agrarian_society_conscription_factor = RAJ.RAJ_agrarian_society_conscription_factor } #3
                    set_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = RAJ.RAJ_agrarian_society_mobilization_laws_cost_factor } #9
                    set_variable = { RAJ_agrarian_society_mobilization_speed = RAJ.RAJ_agrarian_society_mobilization_speed } #3
                    add_ideas = RAJ_marginalized_muslim_community
                    add_ideas = RAJ_princely_states
                    add_ideas = RAJ_risk_of_famine
                    RAJ = {
                        random_character = {
                            limit = {
                                is_character = RAJ_freeman_freeman_thomas
                            }
                            set_nationality = PREV.PREV
                        }
                    }
                    promote_character = RAJ_freeman_freeman_thomas
                    set_popularities = {
                        democratic= 28 # 0.0-100
                        neutrality = 70 # 0.0-100
                        fascism = 1 # 0.0-100
                        communism = 1 # 0.0-100
                    }
                    set_politics = {
                        ruling_party = neutrality
                        elections_allowed = no
                    }
                }
            }
                #every_controlled_state = {
                #    limit = {
                #        is_in_array = {
                #            array = RAJ.owned_states_at_game_start
                #            value = THIS
                #        }
                #    }
                #    add_core_of = ROOT
                #}
            

            #RAJ RAJ

            custom_effect_tooltip = RAJ_incorporation_of_the_east_india_company_tt
            hidden_effect = {
                set_popularities = {
                    democratic= 50 # 0.0-100
                    neutrality = 20 # 0.0-100
                    fascism = 20 # 0.0-100
                    communism = 10 # 0.0-100
                }

                set_politics = {
                    ruling_party = neutrality
                    elections_allowed = no

                    long_name = RAJ_eic_party_long # Optional
                    name = RAJ_eic_party
                }

                retire_country_leader = yes

                every_army_leader = {
                    limit = {
                       NOT = { has_trait = loyalty_to_britain }
                    }
                    set_nationality = event_target:UK_INDIA
                }

                every_unit_leader = {
                    limit = {   
                        NOT = { 
                            has_trait = loyalty_to_britain  
                        }                
                        is_operative = no
                    }

                    set_nationality = event_target:UK_INDIA

                }
            }
            #every_core_state = {
            #    limit = { 
            #        NOT = { 
            #            state = 429 
            #            state = 439
            #        } 
            #    }
            #    remove_core_of = ROOT 
            #    add_core_of = DIP
            #    force_enable_resistance = { 
            #        clear = no
            #        occupier = ROOT
            #        occupied = DIP
            #    } 
            #    start_resistance = yes 
            #}

            custom_effect_tooltip = generic_skip_one_line_tt

            hidden_effect = {
                if = {
                    limit = {
                        has_idea = RAJ_princely_states
                    }
                    remove_ideas = RAJ_princely_states
                }
                set_country_flag = stop_unrest_events
                set_capital = {
                    state = 429
                    remember_old_capital = no #default = yes
                }
                428 = {
                    add_core_of = ROOT
                }
            }

            # add_timed_idea = {
            #     idea = idea_RAJ_widespread_turmoil
            #     days = 270
            # }


            # retire_country_leader = yes
            # add_country_leader_role = {
            #     character =  RAJ_GOE_subcontinent_chaos # optional if inside character scope
            #     promote_leader = yes
            #     country_leader = {
            #         ideology = centrism
            #         traits = { government_exodus } 
            #     }
            # }


             #Tax rate
            set_variable = { tier_one_taxes_threshold = 4 }
            set_variable = { tier_one_taxes_tax = 0 }
            set_variable = { tier_one_taxes_tax_tt = tier_one_taxes_tax }
            multiply_variable = { tier_one_taxes_tax_tt = 100 } 
            #tier two
            set_variable = { tier_two_taxes_threshold = 8 } 
            set_variable = { tier_two_taxes_threshold_plus_4 = tier_two_taxes_threshold }
            add_to_variable = { tier_two_taxes_threshold_plus_4 = 4 } #only for tooltip

            set_variable = { tier_two_taxes_threshold_plus_1 = tier_two_taxes_threshold } #for tooltip
            add_to_variable = { tier_two_taxes_threshold_plus_1 = 1 }
            set_variable = { tier_two_taxes_tax = 0.15 }
            set_variable = { tier_two_taxes_tax_tt = tier_two_taxes_tax }
            multiply_variable = { tier_two_taxes_tax_tt = 100 }

            #tier 3
            set_variable = { tier_three_taxes_threshold =  20 }
            set_variable = { tier_three_taxes_threshold_plus_4 = tier_three_taxes_threshold }
            add_to_variable = { tier_three_taxes_threshold_plus_4 = 4 } #only for tooltip

            set_variable = { tier_three_taxes_threshold_plus_1 = tier_three_taxes_threshold } #for tooltip
            add_to_variable = { tier_three_taxes_threshold_plus_1 = 1 }
            set_variable = { tier_three_taxes_tax = 0.3 }
            set_variable = { tier_three_taxes_tax_tt = tier_three_taxes_tax }
            multiply_variable = { tier_three_taxes_tax_tt = 100 }
            #tier 4
            set_variable = { tier_four_taxes_threshold = 29 }
            set_variable = { tier_four_taxes_threshold_plus_4 = tier_four_taxes_threshold }
            add_to_variable = { tier_four_taxes_threshold_plus_4 = 4 } #only for tooltip

            set_variable = { tier_four_taxes_threshold_plus_1 = tier_four_taxes_threshold } #for tooltip
            add_to_variable = { tier_four_taxes_threshold_plus_1 = 1 }
            set_variable = { tier_four_taxes_tax = 0.6 }
            set_variable = { tier_four_taxes_tax_tt = tier_four_taxes_tax } #for tooltipping val*100
            multiply_variable = { tier_four_taxes_tax_tt = 100 }


            custom_effect_tooltip = RAJ_release_subjects_hint_tt

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }

            if = {
                limit = {
                    has_completed_focus = RAJ_seek_intial_funding
                }

                capital_scope = {
                    add_extra_state_shared_building_slots = 3
                    add_building_construction = {
                        type = industrial_complex
                        level = 3
                        instant_build = yes
                    }
                }
            }

            if = {
                limit = {
                    has_idea = idea_RAJ_price_controls
                }
                remove_ideas = idea_RAJ_price_controls
            }

            if = {
                limit = {
                    has_idea = idea_RAJ_price_controls_2
                }
                remove_ideas = idea_RAJ_price_controls_2
            }
        }
    }

    focus = {
        id = RAJ_appoint_a_c_suite
        icon = GFX_focus_RAJ_appoint_a_c_suite
        prerequisite = { focus = RAJ_incorporation_of_the_east_india_company }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_incorporation_of_the_east_india_company 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_country_flag = has_paid_initial_funding
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL}

        completion_reward = {

            RAJ_GOE_the_board_of_directors = {
                add_country_leader_role = {
                    promote_leader = yes
                    country_leader = {
                        ideology = oligarchism
                    }
                }
            }

            country_event = { id = GOE_RAJ_eic.2 hours = 2 }
             hidden_effect = {
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

 #  focus = { 
 #      id = RAJ_the_return_of_the_east_india_company
 #      icon = GFX_focus_RAJ_the_return_of_the_east_india_trading_company_alt
 #      #prerequisite = { focus = RAJ_form_a_police_force }
 #      #prerequisite = { focus = RAJ_incorporation_of_the_east_india_company }
 #      #mutually_exclusive = { focus =  }
 #      x = 10
 #      y = 1
 #      relative_position_id = RAJ_incorporation_of_the_east_india_company 

 #      cost = 10

 #      ai_will_do = {
 #          factor = 1
 #      }

 #      available = {

 #      }
 #      
 #      bypass = {

 #      }

 #      cancel_if_invalid = yes
 #      continue_if_invalid = no
 #      available_if_capitulated = no



 #      completion_reward = {  
 #          hidden_effect ={
 #              country_event = {
 #                  id = GOE_RAJ_eic.1
 #                  days = 1
 #              }

 #          }
 #          custom_effect_tooltip = RAJ_the_return_of_the_east_india_company_tt
 #          #eic_normal_investments = yes
 #          #set_country_flag = has_payed_normal_dividends #get one free :) 
 #          
 #          set_cosmetic_tag = RAJ_eic_tag
 #          set_variable = { RAJ_eic_taxes_consumer_goods = 0 }
 #          hidden_effect = {
 #              add_dynamic_modifier = {
 #                  modifier = idea_RAJ_eic_taxes
 #              }
 #              add_dynamic_modifier = {
 #                  modifier = idea_RAJ_eic_dividends_investment
 #              }
 #          }

 #          hidden_effect = {
 #              controlled_civilian_factories_excluding_trade = yes
 #              calc_expected_consumer_goods_for_taxes = yes
 #          }
 #      }
 #  }

    

    focus = { 
        id = RAJ_take_over_administrative_rights
        icon = GFX_focus_RAJ_british_investors
        prerequisite = { focus = RAJ_appoint_a_c_suite }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_appoint_a_c_suite

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_ideas = {
                   idea_RAJ_taking_over_administraive_rights
             } 
        }
    }
    

#    focus = {
#        id = RAJ_demobilize
#        icon = GFX_focus_NOR_broken_gun_policies
#       # prerequisite = { focus = RAJ_appoint_a_c_suite }
#        #mutually_exclusive = { focus =  }
#        x = -2
#        y = -3
#        relative_position_id = RAJ_appoint_a_c_suite
#
#        cost = 5
#
#        ai_will_do = {
#            factor = 1
#        }
#
#        available = {
#
#        }
#        
#        bypass = {
#
#        }
#
#        cancel_if_invalid = yes
#        continue_if_invalid = no
#        available_if_capitulated = no
#
#        search_filters = {FOCUS_FILTER_INDUSTRY}
#
#        completion_reward = {
#            if = {
#                limit = { NOT = { has_idea = disarmed_nation } }
#                add_ideas = disarmed_nation
#            }
#
#            if = {
#                limit = { NOT = { has_idea = civilian_economy } }
#                add_ideas = civilian_economy
#            }
#            add_timed_idea = {
#                idea = idea_RAJ_demobilization
#                days = 1200
#            }
#            activate_mission = RAJ_GOE_provide_working_opportunities
#            add_equipment_to_stockpile = { 
#                type = infantry_equipment_0
#                amount = 12000
#                producer = ENG
#            }
#
#            hidden_effect = {
#                controlled_civilian_factories_excluding_trade = yes
#                calc_expected_consumer_goods_for_taxes = yes
#            }
#        }
#    }
#    

    focus = {
        id = RAJ_seek_intial_funding
        icon = GFX_focus_RAJ_issue_bonds_on_the_stock_market
        prerequisite = { focus = RAJ_look_to_the_future }
        #mutually_exclusive = { focus =  }
        x = -2
        y = 1
        relative_position_id = RAJ_look_to_the_future

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = RAJ_seek_intial_funding_tt

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }




    

    focus = {
        id = RAJ_princely_autonomy
        icon = GFX_focus_GER_integration_of_puppet_economies
        prerequisite = { focus = RAJ_take_over_administrative_rights }
        #mutually_exclusive = { focus =  }
        x = -3
        y = 1
        relative_position_id = RAJ_take_over_administrative_rights

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.05
            if = {
                limit = {
                    NOT = {
                        MPU = { is_subject_of = ROOT } 
                        KAS = { is_subject_of = ROOT } 
                        HYD = { is_subject_of = ROOT }
                        MYS = { is_subject_of = ROOT } 
                        NWF = { is_subject_of = ROOT }
                        RJP = { is_subject_of = ROOT }
                        KOL = { is_subject_of = ROOT } 
                        WIS = { is_subject_of = ROOT }
                        CIP = { is_subject_of = ROOT }
                        RAS = { is_subject_of = ROOT } 
                        SKK = { is_subject_of = ROOT }
                        KLT = { is_subject_of = ROOT }
                        KHL = { is_subject_of = ROOT }
                        SIN = { is_subject_of = ROOT }
                        PAK = { is_subject_of = ROOT }
                    }
                }
                custom_effect_tooltip = RAJ_princely_autonomy_tt
                show_ideas_tooltip = idea_RAJ_princely_autonomy
            }


            if = {
                limit = {
                    MPU = { is_subject_of = ROOT } 
                }
                MPU = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    KAS = { is_subject_of = ROOT } 
                }
                KAS = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    HYD = { is_subject_of = ROOT } 
                }
                HYD = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    MYS = { is_subject_of = ROOT } 
                }
                MYS = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    NWF = { is_subject_of = ROOT } 
                }
                NWF = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    RJP = { is_subject_of = ROOT } 
                }
                RJP = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    KOL = { is_subject_of = ROOT } 
                }
                KOL = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    WIS = { is_subject_of = ROOT } 
                }
                WIS = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    CIP = { is_subject_of = ROOT } 
                }
                CIP = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    RAS = { is_subject_of = ROOT } 
                }
                RAS = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    SKK = { is_subject_of = ROOT } 
                }
                SKK = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    KLT = { is_subject_of = ROOT } 
                }
                KLT = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    KHL = { is_subject_of = ROOT } 
                }
                KHL = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    SIN = { is_subject_of = ROOT } 
                }
                SIN = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    PAK = { is_subject_of = ROOT } 
                }
                PAK = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    BLC = { is_subject_of = ROOT } 
                }
                BLC = { add_ideas = idea_RAJ_princely_autonomy }
            }

            if = {
                limit = {
                    SKK = { is_subject_of = ROOT } 
                }
                SKK = { add_ideas = idea_RAJ_princely_autonomy }
            }

            for_each_scope_loop = { #just as failsafe
                array = RAJ.raj_releasables
                if = {
                    limit = {
                        is_subject_of = RAJ
                        exists = yes
                        NOT = { has_idea = idea_RAJ_princely_autonomy }
                    }

                    add_ideas = idea_RAJ_princely_autonomy
                }
            }

            custom_effect_tooltip = RAJ_release_subjects_hint_tt


        }
    }


    focus = {
        id = RAJ_funnel_british_investments_into_princely_states
        icon = GFX_goal_tfv_strengthen_commonwealth_ties
        prerequisite = { focus = RAJ_princely_autonomy }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_princely_autonomy

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.03


                build_civ_in_indian_releasables_once = yes
            
            
            custom_effect_tooltip = RAJ_funnel_british_investments_into_princely_states_tt
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_form_a_police_force
        icon = GFX_focus_SWE_revoke_militia_law
        prerequisite = { focus = RAJ_appoint_a_c_suite }
        #mutually_exclusive = { focus =  }
        x = -7
        y = 1
        relative_position_id = RAJ_appoint_a_c_suite

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_empowered_police_force
            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_headhunt_army_personell
        icon = GFX_focus_RAJ_headhunt_army_personell
        prerequisite = { focus = RAJ_form_a_police_force }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_form_a_police_force

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no


        completion_reward = {

            set_rule = { 
                can_send_volunteers = yes # rule to use, e.g.  can_not_declare_war = yes
            }
            
            swap_ideas = {
                remove_idea = idea_RAJ_empowered_police_force
                add_idea = idea_RAJ_pmc
            }
        }
    }
    
    focus = {
        id = RAJ_a_private_military
        icon = GFX_focus_RAJ_a_private_military
        prerequisite = { focus = RAJ_headhunt_army_personell }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_headhunt_army_personell

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            division_template = {
                name = "Private Military"       
                #division_names_group = 
                is_locked = no
                force_allow_recruiting = no
                regiments = {
                    militia = { x = 0 y = 0 }
                    militia = { x = 0 y = 1 }
                    militia = { x = 0 y = 2 }
                    militia = { x = 1 y = 0 }
                    militia = { x = 1 y = 1 }
                    militia = { x = 1 y = 2 }
                    militia = { x = 2 y = 0 }
                    militia = { x = 2 y = 1 }
                }
            }

            swap_ideas = {
                remove_idea = idea_RAJ_pmc
                add_idea = idea_RAJ_pmc_2
            }

            random_core_state = {
                limit = {
                    is_fully_controlled_by = ROOT
                }
                create_unit = {
                    division = "name = \"Private Military\" division_template = \"Private Military\" start_experience_factor = 0.1 start_equipment_factor = 1 start_manpower_factor = 1"
                    allow_spawning_on_enemy_provs = no 
                    count = 12
                    owner = ROOT
                }
                
            }

            custom_effect_tooltip = RAJ_a_private_military_tt_1
        }
    }



    

    focus = {
        id = RAJ_lobby_for_increased_policing_responsibilities
        icon = GFX_focus_chi_army_reform
        prerequisite = { focus = RAJ_a_private_military }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_a_private_military 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
          swap_ideas = {
                remove_idea = idea_RAJ_pmc_2
                add_idea = idea_RAJ_pmc_3
            }
  
        }
    }
    

    focus = {
        id = RAJ_privatized_tutelage
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_take_over_administrative_rights }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_take_over_administrative_rights

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Gotterdammerung"
                }

                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_air
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_air
                        level = 1
                    }
                }

                
                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_land
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_land
                        level = 1
                    }
                }

                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_nuclear
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_nuclear
                        level = 1
                    }
                }

                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_naval
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_naval
                        level = 1
                    }
                }
            }
            else = {
                add_tech_bonus = {
                    bonus = 0.25
                    uses = 1
                    category = electronics # optional 
                    # technology  = technology_id # optional
                }
            }

            add_research_slot = 1
            hidden_effect = {
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    

    focus = {
        id = RAJ_privatized_healthcare
        icon = GFX_focus_generic_population_growth
        prerequisite = { focus = RAJ_take_over_administrative_rights }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 0
        relative_position_id = RAJ_privatized_tutelage

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_privatized_healthcare
                bonus = 0.5
                uses = 2
                category = hospital_tech  # optional 
                # technology  = technology_id # optional
            }


            add_breakthrough_points = {
                specialization = specialization_air
                value = 1
            }

            if = {
                limit = {
                    has_dlc = "Gotterdammerung"
                }

                add_tech_bonus = {
                    name = RAJ_privatized_healthcare
                    bonus = 0.35
                    uses = 1
                    category = helicopter_tech # optional 
                    # technology  = technology_id # optional
                }
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }

            add_manpower = 35000
        }
    } 


    focus = {
        id = RAJ_company_bonuses
        icon = GFX_focus_mex_privatisation
        prerequisite = { focus = RAJ_appoint_a_c_suite }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 1
        relative_position_id = RAJ_appoint_a_c_suite 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_union_busting
        icon = GFX_focus_RAJ_union_busting
        prerequisite = { focus = RAJ_form_a_police_force }
        #mutually_exclusive = { focus =  }
        x = -3
        y = 1
        relative_position_id = RAJ_form_a_police_force

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_union_busting
                days = 730
            }

            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_arrest_congress_leaders
        icon = GFX_focus_generic_conspiracy
        prerequisite = { focus = RAJ_union_busting }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_union_busting 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL}

        completion_reward = {
            remove_ideas = { idea_RAJ_upset_congress_leaders }
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }

        }
    }
    



    focus = {
        id = RAJ_circuvment_demobilization_restrictions
        icon = GFX_focus_RAJ_circuvment_demobilization_restrictions
        prerequisite = { focus = RAJ_lobby_for_increased_policing_responsibilities }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_lobby_for_increased_policing_responsibilities

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            if = {
                limit = {
                    has_idea = idea_RAJ_demobilization
                }
                remove_ideas = idea_RAJ_demobilization
            }

            add_timed_idea = {
                idea = idea_RAJ_schemes_of_a_ungentlemanly_nature
                days = 270
            }
        }
    }


    focus = {
        id = RAJ_bombay_trade_port
        icon = GFX_goal_generic_construct_naval_dockyard
        prerequisite = { focus = RAJ_lobby_for_increased_policing_responsibilities }
        #mutually_exclusive = { focus =  }
        x = -3
        y = 1
        relative_position_id = RAJ_lobby_for_increased_policing_responsibilities

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            429 = {
                is_fully_controlled_by = ROOT
            }
        }
        
        bypass = {
            NOT = {
                429 = {
                    is_controlled_by = ROOT
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            429 = {
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = dockyard
                    level = 3
                    instant_build = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_take_in_british_naval_experts
        icon = GFX_goal_tfv_generic_tech_sharing
        prerequisite = { focus = RAJ_bombay_trade_port }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_bombay_trade_port

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            ENG = {
                has_war_with = ROOT
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.03
            if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                add_tech_bonus = {
                    name = RAJ_take_in_british_naval_experts
                    bonus = 0.4
                    uses = 2
                    category = ship_modules_tech # optional 
                    # technology  = technology_id # optional
                }
            }
            else = {
                navy_experience = 50
            }
            navy_experience = 50
            add_to_tech_sharing_group = RAJ_naval_tech_sharing_group
            custom_effect_tooltip = newline_tt
            ENG = {
                add_to_tech_sharing_group = RAJ_naval_tech_sharing_group
            }
        }
    }

    focus = {
        id = RAJ_the_need_for_a_mercantile_navy
        icon = GFX_focus_generic_merchant_fleet
        prerequisite = { focus = RAJ_bombay_trade_port }
        #mutually_exclusive = { focus =  }
        x = -2
        y = 1
        relative_position_id = RAJ_bombay_trade_port

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            429 = {
                is_fully_controlled_by = ROOT
            }
        }
        
        bypass = {
            NOT = {
                429 = {
                    is_controlled_by = ROOT
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            429 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
            add_equipment_to_stockpile = { 
                type = convoy_1
                amount = 50 
                producer = ENG
            }
        }
    }

    focus = {
        id = RAJ_trade_protection
        icon = GFX_focus_generic_destroyer
        prerequisite = { focus = RAJ_the_need_for_a_mercantile_navy focus = RAJ_take_in_british_naval_experts }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_the_need_for_a_mercantile_navy

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            ENG = {
                has_war_with = ROOT
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.03
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = dd_tech # optional 
                # technology  = technology_id # optional
            }

            if = {
                limit = {
                    has_dlc = "Man the Guns"
                }

                add_tech_bonus = {
                    bonus = 0.5
                    uses = 2
                    category = asw_tech # optional 
                # technology  = technology_id # optional
                }
            }


            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }
    
    focus = {
        id = RAJ_procure_the_guns
        icon = GFX_focus_generic_railway_gun
        prerequisite = { focus = RAJ_trade_protection }
        #mutually_exclusive = { focus =  }
        x = -2
        y = 1
        relative_position_id = RAJ_trade_protection

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            if = {
                limit = {
                    has_dlc = "No Step Back"
                }
                has_tech = railway_gun
            }
            else = {
                has_tech = artillery2
            }
        }
        
        bypass = {
            ENG = {
                has_war_with = ROOT
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "No Step Back"
                }
               create_railway_gun = {
                    equipment = railway_gun_equipment_1 
                    name = "Varuna's Flagship Gun"
                }
            }
            else = {
                add_tech_bonus = {
                    name = RAJ_procure_the_guns
                    bonus = 0.5
                    uses = 2
                    category = artillery # optional 
                    # technology  = technology_id # optional
                }
                army_experience = 25
            }
        }
    }

    focus = {
        id = RAJ_procure_the_task_force
        icon = GFX_goal_generic_navy_anti_submarine
        prerequisite = { focus = RAJ_trade_protection }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_trade_protection

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            OR = {
                has_navy_size = {
                    size > 8 # Use < or >
                    unit = destroyer# optional
                }
                has_navy_size = {
                    size > 2 # Use < or >
                    unit = light_cruiser# optional
                }
            }
        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    NOT = {
                        has_idea = idea_RAJ_long_range_sea_operations
                    }
                }
                add_ideas = idea_RAJ_long_range_sea_operations
            }
            else = {
                swap_ideas = {
                    remove_idea = idea_RAJ_long_range_sea_operations
                    add_idea = idea_RAJ_long_range_sea_operations_2
                }
            }
            try_build_dockyard_in_core_otherwise_build_in_controlled = yes
            try_build_dockyard_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_purchase_destroyers_and_subs
        icon = GFX_focus_SWE_italian_destroyers
        prerequisite = {focus = RAJ_bombay_trade_port  }
        relative_position_id = RAJ_bombay_trade_port
        x = -4
        y = 1

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }

        bypass = {
            
        }

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            custom_effect_tooltip = ETH_purchase_obsolete_ships_tt
            set_country_flag = generic_purchase_old_ships_flag
        }

    }

     focus = {
        id = RAJ_procure_the_armor
        icon = GFX_goal_generic_build_tank
        prerequisite = { focus = RAJ_trade_protection }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 0
        relative_position_id = RAJ_procure_the_task_force

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            if = {
                limit = {
                    has_dlc = "No Step Back"
                }
                has_tech = armor_tech_3
            }
            else = {
                has_tech = improved_heavy_tank
            }

        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.65
                uses = 1
                category = armor # optional 
                # technology  = technology_id # optional
            }

            if = {
                limit = {
                    NOT = {
                        has_idea = idea_RAJ_long_range_sea_operations
                    }
                }
                add_ideas = idea_RAJ_long_range_sea_operations
            }
            else = {
                swap_ideas = {
                    remove_idea = idea_RAJ_long_range_sea_operations
                    add_idea = idea_RAJ_long_range_sea_operations_2
                }
            }

        }
    }

    focus = {
        id = RAJ_the_varuna_class
        icon = GFX_focus_SWE_Vasa_II 
        x = 0
        y = 1

        cost = 10
        prerequisite = { focus = RAJ_procure_the_guns }
        prerequisite = { focus = RAJ_procure_the_task_force }
        prerequisite = { focus = RAJ_procure_the_armor }
        relative_position_id = RAJ_procure_the_task_force
        

        ai_will_do = {
            factor = 10     
        }

        available = {
            if = {
                limit = { has_dlc = "Man the Guns" }
                has_tech = improved_ship_hull_heavy
            }
            else = {
                has_tech = basic_battlecruiser
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            if = {
                limit = { has_dlc = "Man the Guns" }

                create_equipment_variant = {
                    name = "Varuna"
                    type = ship_hull_heavy_3
                    parent_version = 0
                    modules = {
                        fixed_ship_anti_air_slot=ship_anti_air_3
                        fixed_ship_engine_slot=heavy_ship_engine_3
                        fixed_ship_secondaries_slot=dp_ship_secondaries_2
                        fixed_ship_armor_slot=ship_armor_bb_3
                        front_1_custom_slot=ship_heavy_battery_3
                        mid_1_custom_slot=ship_airplane_launcher_2
                        mid_2_custom_slot=ship_heavy_battery_3
                        rear_1_custom_slot=ship_heavy_battery_3
                        fixed_ship_battery_slot=ship_heavy_battery_3
                        fixed_ship_fire_control_system_slot=ship_fire_control_system_3
                        mid_3_custom_slot=ship_airplane_launcher_2
                    }
                }
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_heavy_3
                        creator = RAJ
                        version_name = "Varuna"
                    }
                    requested_factories = 5
                    progress = 0.6 
                }
            }
            else = { #NON MTG
                create_equipment_variant = {
                    name = "Varuna"
                    type = battle_cruiser_2
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_heavy_battery_3
                        fixed_ship_anti_air_slot = ship_anti_air_3
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                        fixed_ship_radar_slot = ship_radar_2
                        fixed_ship_engine_slot = heavy_ship_engine_4
                        fixed_ship_secondaries_slot = dp_ship_secondaries_3
                        fixed_ship_armor_slot = ship_armor_bc_3
                        front_1_custom_slot = ship_heavy_battery_2
                        mid_1_custom_slot = ship_anti_air_3
                        mid_2_custom_slot = dp_ship_secondaries_2
                        rear_1_custom_slot = ship_heavy_battery_2
                    }
                }
                add_equipment_production = {
                    equipment = {
                        type = battle_cruiser_2
                        creator = RAJ
                        version_name = "Varuna"
                    }
                    requested_factories = 5
                    progress = 0.6 
                    amount = 1
                    name = "Varuna"
                }


            }
            custom_effect_tooltip = SWE_nordljus_tt_2
           swap_ideas = {
               remove_idea = idea_RAJ_long_range_sea_operations_2
               add_idea = idea_RAJ_long_range_sea_operations_3
           }
        }
    }

    focus = {
        id = RAJ_purchase_cruisers_and_dreadnoughts
        icon = GFX_goal_generic_navy_battleship
        prerequisite = {focus = RAJ_purchase_destroyers_and_subs  }
        relative_position_id = RAJ_purchase_destroyers_and_subs
        x = 0
        y = 1

        cost = 5

        available = {

        }

        bypass = {
            
        }

        ai_will_do = {
            factor = 5
            modifier = {
                any_controlled_state = {
                    is_coastal = no
                }
                factor = 0  
            }
        }

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            custom_effect_tooltip = SMB_purchase_obsolete_ships_tt
            set_country_flag = generic_purchase_dreadnoughts_flag
        }
    }

    focus = {
        id = RAJ_manipulate_army_statistics
        icon = GFX_focus_ARG_keep_it_in_the_party
        prerequisite = { focus = RAJ_lobby_for_increased_policing_responsibilities }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 0
        relative_position_id = RAJ_circuvment_demobilization_restrictions

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER}

        completion_reward = {
            try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
            random_core_state = {
                limit = {
                    is_fully_controlled_by = ROOT
                }
                create_unit = {
                    division = "name = \"Private Military\" division_template = \"Private Military\" start_experience_factor = 0.1 start_equipment_factor = 1 start_manpower_factor = 1"
                    allow_spawning_on_enemy_provs = no 
                    count = 12
                    owner = ROOT
                }
            }



            custom_effect_tooltip = RAJ_manipulate_army_statistics_tt
        }
    }    



    focus = {
        id = RAJ_open_up_new_markets
        icon = GFX_goal_generic_territory_or_war
        prerequisite = { focus = RAJ_circuvment_demobilization_restrictions focus = RAJ_manipulate_army_statistics }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_circuvment_demobilization_restrictions

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    BHU = {
                        exists = yes
                        NOT = { is_subject_of = ROOT }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = BHU
                }
            }

            if = {
                limit = {
                    NEP = {
                        exists = yes
                        NOT = { is_subject_of = ROOT }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = NEP
                }
            }

            if = {
                limit = {
                    PER = {
                        exists = yes
                        NOT = { is_subject_of = ROOT }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = PER
                }
            }

            if = {
                limit = {
                    TIB = {
                        exists = yes
                        NOT = { is_subject_of = ROOT }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = TIB
                }
            }
        }
    }
        

    focus = {
        id = RAJ_acquire_new_resources
        icon = GFX_focus_generic_mining_industry
        prerequisite = { focus = RAJ_open_up_new_markets }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_open_up_new_markets

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }

        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    OR = {
                        controls_state = 432
                        432 = {
                            owner = { is_subject_of = ROOT }
                        }
                    }
                }

                432 = {
                    add_resource = {
                        type = oil
                        amount = 12
                    }
                }
            }

            if = {
                limit = {
                    OR = {
                        controls_state = 429
                        432 = {
                            owner = { is_subject_of = ROOT }
                        }
                    }
                }

                429 = {
                    add_resource = {
                        type = steel
                        amount = 19
                    }
                }
            }


            add_tech_bonus = {
                name = RAJ_acquire_new_resources
                bonus = 1
                uses = 1
                category = synth_resources # optional 
                # technology  = technology_id # optional
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_mineral_exploitation_institute
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_acquire_new_resources }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_acquire_new_resources

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.03
            if = {
                limit = {
                    has_dlc = "Gotterdammerung"
                }

                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_air
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_air
                        level = 1
                    }
                }
                
                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_land
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_land
                        level = 1
                    }
                }

                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_naval  
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_naval
                        level = 1
                    }
                }
            }


            add_research_slot = 1
            hidden_effect = {
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_attract_scientists
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_mineral_exploitation_institute }
        x = 0
        y = 1
        relative_position_id = RAJ_mineral_exploitation_institute
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            num_of_factories > 50
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            add_research_slot = 1
        }
    }

    
    focus = {
        id = RAJ_hostile_takeover
        icon = GFX_focus_generic_annex_country_2
        prerequisite = { focus = RAJ_privatized_tutelage focus = RAJ_privatized_healthcare }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_privatized_tutelage 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            custom_effect_tooltip = RAJ_hostile_takeover_tt
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_vertical_integration
        icon = GFX_goal_generic_consumer_goods
        prerequisite = { focus = RAJ_hostile_takeover }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_hostile_takeover 

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = modify_taxation_bracket_all
            add_to_variable = { tier_one_taxes_tax = -0.07 }
            set_variable = { tier_one_taxes_tax_tt = tier_one_taxes_tax }
            multiply_variable = { tier_one_taxes_tax_tt = 100 }

            add_to_variable = { tier_two_taxes_tax = -0.07 }
            set_variable = { tier_two_taxes_tax_tt = tier_two_taxes_tax }
            multiply_variable = { tier_two_taxes_tax_tt = 100 }
            #custom_effect_tooltip = newline_tt

            # custom_effect_tooltip = modify_taxation_third_bracket
             #tier 3
            add_to_variable = { tier_three_taxes_tax = -0.07 }
            set_variable = { tier_three_taxes_tax_tt = tier_three_taxes_tax }
            multiply_variable = { tier_three_taxes_tax_tt = 100 }
            custom_effect_tooltip = newline_tt
             
            # custom_effect_tooltip = modify_taxation_fourth_bracket
            add_to_variable = { tier_four_taxes_tax = -0.07 }
            set_variable = { tier_four_taxes_tax_tt = tier_four_taxes_tax } #for tooltipping val*100
            multiply_variable = { tier_four_taxes_tax_tt = 100 }
           # custom_effect_tooltip = newline_tt 
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }


    focus = {
        id = RAJ_expand_tax_loopholes
        icon = GFX_goal_generic_consumer_goods
        prerequisite = { focus = RAJ_vertical_integration }
        #mutually_exclusive = { focus =  }
        x = 3
        y = 1
        relative_position_id = RAJ_vertical_integration

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = modify_taxation_bracket_all
            add_to_variable = { tier_one_taxes_tax = -0.07 }
            set_variable = { tier_one_taxes_tax_tt = tier_one_taxes_tax }
            multiply_variable = { tier_one_taxes_tax_tt = 100 }

            add_to_variable = { tier_two_taxes_tax = -0.07 }
            set_variable = { tier_two_taxes_tax_tt = tier_two_taxes_tax }
            multiply_variable = { tier_two_taxes_tax_tt = 100 }
            #custom_effect_tooltip = newline_tt

            # custom_effect_tooltip = modify_taxation_third_bracket
             #tier 3
            add_to_variable = { tier_three_taxes_tax = -0.07 }
            set_variable = { tier_three_taxes_tax_tt = tier_three_taxes_tax }
            multiply_variable = { tier_three_taxes_tax_tt = 100 }
            custom_effect_tooltip = newline_tt
             
            # custom_effect_tooltip = modify_taxation_fourth_bracket
            add_to_variable = { tier_four_taxes_tax = -0.07 }
            set_variable = { tier_four_taxes_tax_tt = tier_four_taxes_tax } #for tooltipping val*100
            multiply_variable = { tier_four_taxes_tax_tt = 100 }
           # custom_effect_tooltip = newline_tt 
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_new_economic_policy
        icon = GFX_focus_RAJ_trickle_down_economics
        prerequisite = { focus = RAJ_vertical_integration }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_vertical_integration

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = capital_investment_model

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_special_economic_zones
        icon = GFX_focus_RAJ_special_economic_zones
        prerequisite = { focus = RAJ_vertical_integration }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_vertical_integration

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            add_ideas = special_economic_zones
        }
    }

    focus = {
        id = RAJ_phantom_armies
        icon = GFX_focus_LAT_suspend_constitution_of_latvia
        prerequisite = { focus = RAJ_expand_tax_loopholes }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 2
        relative_position_id = RAJ_new_economic_policy

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

            if = {
                limit = {
                    has_completed_focus = RAJ_incorporation_of_the_east_india_company
                }
                increase_taxes_threshold_by_4 = yes
            }
            else = {
                custom_effect_tooltip = tier_threshold_increase_not_setup
            }
            

             hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }


    focus = {
        id = RAJ_debt_manipulation
        icon = GFX_focus_ETH_adopt_the_lira
        prerequisite = { focus = RAJ_phantom_armies }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_phantom_armies

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

            if = {
                limit = {
                    has_completed_focus = RAJ_incorporation_of_the_east_india_company
                }
                increase_taxes_threshold_by_4 = yes
            }
            else = {
                custom_effect_tooltip = tier_threshold_increase_not_setup
            }

             hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_corporate_domination
        icon = GFX_goal_generic_positive_trade_relations
        prerequisite = { focus = RAJ_phantom_armies }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_phantom_armies

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            add_stability = -0.06
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_restrictive_administration_budget
        icon = GFX_focus_ARG_anti_corruption_policies
        prerequisite = { focus = RAJ_special_economic_zones }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 2
        relative_position_id = RAJ_special_economic_zones 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

        completion_reward = {
            every_owned_state = {
                limit = {
                    is_controlled_by = ROOT
                    has_resistance = yes
                }
                add_resistance = 15
            }
            add_timed_idea = {
                idea = idea_RAJ_cost_underrun
                days = 480
            }
        }
    }

    focus = {
        id = RAJ_institutional_money_laundering
        icon = GFX_focus_RAJ_institutional_money_laundering
        prerequisite = { focus = RAJ_restrictive_administration_budget focus = RAJ_shareholder_democracy }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_restrictive_administration_budget 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_institutional_money_laundering
                bonus = 0.25
                uses = 1
                category = construction_tech # optional 
                # technology  = technology_id # optional
            }
            unlock_decision_tooltip = {
                decision = RAJ_GOE_tax_fraud
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_deathknell_to_the_raj #I miss you so much Tirisfal
        icon = GFX_focus_SWE_neither_death_nor_dishonor
        prerequisite = { focus = RAJ_institutional_money_laundering }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_institutional_money_laundering

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            custom_trigger_tooltip = {
                tooltip = RAJ_deathknell_to_the_raj_trigger
                 has_event_target = UK_INDIA
            }   
            if = {
                limit = {
                    has_event_target = UK_INDIA
                }
                event_target:UK_INDIA = {
                    exists = yes
                    num_of_controlled_states < 5
                }
            }

        }
        
        bypass = {
            custom_trigger_tooltip = {
                tooltip = RAJ_deathknell_to_the_raj_trigger
                 has_event_target = UK_INDIA
            }   
            event_target:UK_INDIA = {
                OR = {
                    exists = no
                    has_war_with = ROOT
                    has_capitulated = yes
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION FOCUS_FILTER_STABILITY}

        completion_reward = {
             if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community
                }
                remove_ideas = RAJ_marginalized_muslim_community
            }
            if = {
                limit = {
                    has_event_target = UK_INDIA
                    event_target:UK_INDIA = {
                        num_of_controlled_states < 5
                    }
                }

                event_target:UK_INDIA = {
                    every_character = {
                        set_nationality = RAJ
                    }
                }

                annex_country = {
                    target = event_target:UK_INDIA
                    transfer_troops = yes
                }

            } 
            else = {
                custom_effect_tooltip = RAJ_deathknell_to_the_raj_trigger_tt
            }

        }
    }

    focus = {
        id = RAJ_just_good_business
        icon = GFX_focus_RAJ_just_good_business
        prerequisite = { focus = RAJ_deathknell_to_the_raj  }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_deathknell_to_the_raj

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_dockyard_in_core_otherwise_build_in_controlled = yes
            try_build_dockyard_in_core_otherwise_build_in_controlled = yes
            create_wargoal = {
                type = annex_everything
                target = INS
                #generator = { state_id } # optional 
            }

            create_wargoal = {
                type = annex_everything
                target = SIA
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    

    focus = {
        id = RAJ_crush_the_anathema
        icon = GFX_focus_RAJ_crush_the_anathema
        prerequisite = { focus = RAJ_just_good_business }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_just_good_business

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            all_other_country = {
                NOT = {
                    has_government = communism
                    communism > 0.45
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            every_country = {
                limit = {
                    OR = {
                        has_government = communism
                        communism > 0.45
                    }
                }

                ROOT = {
                    create_wargoal = {
                        type = annex_everything
                        target = PREV
                    }
                }
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    

    focus = {
        id = RAJ_nothing_personal
        icon = GFX_focus_RAJ_clamp_down_on_corruption
        prerequisite = { focus = RAJ_just_good_business }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 0
        relative_position_id = RAJ_crush_the_anathema 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            OR = {
                ENG = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }

                AST = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }


                BRM = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }


                SAF = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }


                CAN = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }


                NZL = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }
            }
        }
        
        bypass = {
            ENG = {
                OR = { 
                    exists = no
                    is_subject_of = ROOT 
                    is_in_faction_with = ROOT
                }
            }

            AST = {
                OR = { 
                    exists = no
                    is_subject_of = ROOT 
                    is_in_faction_with = ROOT
                }
            }


            BRM = {
                OR = { 
                    exists = no
                    is_subject_of = ROOT 
                    is_in_faction_with = ROOT
                }
            }


            SAF = {
                OR = { 
                    exists = no
                    is_subject_of = ROOT 
                    is_in_faction_with = ROOT
                }
            }


            CAN = {
                OR = { 
                    exists = no
                    is_subject_of = ROOT 
                    is_in_faction_with = ROOT
                }
            }


            NZL = {
                OR = { 
                    exists = no
                    is_subject_of = ROOT 
                    is_in_faction_with = ROOT
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    NOT = { #inverted avaialble block for tooltip
                        ENG = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }

                        AST = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }


                        BRM = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }


                        SAF = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }


                        CAN = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }


                        NZL = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }
                    }
                }
                custom_effect_tooltip = RAJ_nothing_personal_tt
               
            }
            if = {
                limit = {
                    ENG = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = ENG
                }
            }

            if = {
                limit = {
                    AST = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = AST
                }
            }

            if = {
                limit = {
                    BRM = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = BRM
                }
            }

            if = {
                limit = {
                    SAF = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = SAF
                }
            }

            if = {
                limit = {
                    NZL = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = NZL
                }
            }

            if = {
                limit = {
                    CAN = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = CAN
                }
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
            
        }
    }

    focus = {
        id = RAJ_creative_accounting
        icon = GFX_focus_SWI_embrace_rote_drei
        prerequisite = { focus = RAJ_expand_tax_loopholes }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_expand_tax_loopholes

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = modify_taxation_bracket_all
            add_to_variable = { tier_one_taxes_tax = -0.07 }
            set_variable = { tier_one_taxes_tax_tt = tier_one_taxes_tax }
            multiply_variable = { tier_one_taxes_tax_tt = 100 }

            add_to_variable = { tier_two_taxes_tax = -0.07 }
            set_variable = { tier_two_taxes_tax_tt = tier_two_taxes_tax }
            multiply_variable = { tier_two_taxes_tax_tt = 100 }
            #custom_effect_tooltip = newline_tt

            # custom_effect_tooltip = modify_taxation_third_bracket
             #tier 3
            add_to_variable = { tier_three_taxes_tax = -0.07 }
            set_variable = { tier_three_taxes_tax_tt = tier_three_taxes_tax }
            multiply_variable = { tier_three_taxes_tax_tt = 100 }
            custom_effect_tooltip = newline_tt
             
            # custom_effect_tooltip = modify_taxation_fourth_bracket
            add_to_variable = { tier_four_taxes_tax = -0.07 }
            set_variable = { tier_four_taxes_tax_tt = tier_four_taxes_tax } #for tooltipping val*100
            multiply_variable = { tier_four_taxes_tax_tt = 100 }
           # custom_effect_tooltip = newline_tt 
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_corporate_expansion
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_appoint_a_c_suite }
        #mutually_exclusive = { focus = RAJ_expand_tax_loopholes }
        x = 4
        y = 1
        relative_position_id = RAJ_appoint_a_c_suite 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {


            capital_scope ={
                set_state_category = metropolis
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory 
                    level = 1
                    instant_build = yes
                }
                add_building_construction = {
                    type = industrial_complex 
                    level = 1
                    instant_build = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_legalize_the_opium_trade
        icon = GFX_focus_RAJ_legalize_the_opium_trade
        prerequisite = { focus = RAJ_corporate_expansion }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_corporate_expansion

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_permit_opium_trade
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    

    focus = {
        id = RAJ_force_china_to_accept_opium_trade
        icon = GFX_focus_attack_china
        prerequisite = { focus = RAJ_legalize_the_opium_trade }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_legalize_the_opium_trade 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            OR = {
                CHI = {
                    controls_state = 743
                    owns_state = 743
                    is_subject = no
                }
                GXC = {
                    controls_state = 591
                    owns_state = 591
                    is_subject = no
                }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    CHI = {
                        controls_state = 743
                        owns_state = 743
                    }
                }

                CHI = {
                    country_event = { id = GOE_RAJ_eic.3  hours = 2 }
                }
                custom_effect_tooltip = if_they_accept_tt
                effect_tooltip = { 
                    RAJ = {  transfer_state = 743  } 
                    custom_effect_tooltip = RAJ_force_china_to_accept_opium_trade_tt
                }
            }
            else_if = {
                limit = {
                    GXC = {
                        controls_state = 591
                        owns_state = 591
                        is_subject = no
                    }
                }

                GXC = {
                    country_event = { id = GOE_RAJ_eic.3  hours = 2 }
                }

                custom_effect_tooltip = if_they_accept_tt
                effect_tooltip = { RAJ = {  transfer_state = 591  } }
                custom_effect_tooltip = RAJ_force_china_to_accept_opium_trade_tt
            }
            else = {
                743 = {
                    controller = {
                        if = {
                            limit = {
                                owns_state = 743 
                            }

                            country_event = { id = GOE_RAJ_eic.3  hours = 2 }
                            
                            custom_effect_tooltip = if_they_accept_tt
                            effect_tooltip = { 
                                RAJ = {  transfer_state = 743  } 
                                custom_effect_tooltip = RAJ_force_china_to_accept_opium_trade_tt
                            }
                        }
                    }
                }
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
           
        }
    }

    focus = {
        id = RAJ_shareholder_democracy
        icon = GFX_focus_usa_voter_registration_act
        prerequisite = { focus = RAJ_new_economic_policy }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 2
        relative_position_id = RAJ_new_economic_policy

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_stability = 0.03
            add_country_leader_trait = shareholder_democracy
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }
    



    focus = {
        id = RAJ_land_grab
        icon = GFX_focus_DEN_heavy_regulations
        prerequisite = { focus = RAJ_corporate_expansion }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 1
        relative_position_id = RAJ_corporate_expansion

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_land_grab
                bonus = 2
                uses = 2
                category = excavation_tech  # optional 
                # technology  = technology_id # optional
            }

            try_build_infra_in_core_otherwise_build_in_controlled = yes
            try_build_infra_in_core_otherwise_build_in_controlled = yes

        }
    }
    

    focus = {
        id = RAJ_deforestation
        icon = GFX_focus_SWE_beneath_sticks_and_stone
        prerequisite = { focus = RAJ_land_grab }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_land_grab

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

             every_state = {
                random_select_amount = 4
                limit = {
                    is_in_array = {
                        array = ROOT.owned_states_at_game_start
                        value = THIS
                    }
                    is_controlled_by = ROOT
                }
                add_extra_state_shared_building_slots = 1   
            }
            add_ideas = idea_RAJ_deforestation 

        }
    }
    

#    focus = {
#        id = RAJ_water_privatization
#        icon = GFX_focus_RAJ_water_privatization
#       # prerequisite = { focus = RAJ_lowest_bidder_construction }
#        #mutually_exclusive = { focus =  }
#        x = 2
#        y = 1
#        relative_position_id = RAJ_lowest_bidder_construction
#
#        cost = 10
#
#        ai_will_do = {
#            factor = 1
#        }
#
#        available = {
#
#        }
#        
#        bypass = {
#
#        }
#
#        cancel_if_invalid = yes
#        continue_if_invalid = no
#        available_if_capitulated = no
#
#
#
#        completion_reward = {
#
#        }
#    }
    

    focus = {
        id = RAJ_productivity_mandate
        icon = GFX_focus_CZE_german_puppet
        prerequisite = { focus = RAJ_acquire_new_resources }
        mutually_exclusive = { focus = RAJ_night_shifts }
        x = 2
        y = 1
        relative_position_id = RAJ_acquire_new_resources

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_productivity_mandate
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    
    focus = {
        id = RAJ_mass_production
        icon = GFX_focus_generic_mass_production
        prerequisite = { focus = RAJ_productivity_mandate focus = RAJ_night_shifts }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_productivity_mandate

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_mass_production
        }
    }

    focus = {
        id = RAJ_trade_federation_of_india
        icon = GFX_focus_RAJ_trade_federation_of_india
        prerequisite = { focus = RAJ_crush_the_anathema focus = RAJ_nothing_personal }

        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_crush_the_anathema

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            custom_effect_tooltip = RAJ_india_indivisible_tt
            custom_effect_tooltip = RAJ_trade_federation_of_india_tt
        }
    }

    focus = {
        id = RAJ_night_shifts
        icon = GFX_goal_generic_production2
        prerequisite = { focus = RAJ_acquire_new_resources }
        mutually_exclusive = { focus = RAJ_productivity_mandate }
        x = 2
        y = 0
        relative_position_id = RAJ_productivity_mandate

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_night_shifts
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    
   focus = {
        id = RAJ_provincial_autonomy
        icon = GFX_focus_RAJ_provincial_autonomy
        #prerequisite = { focus = }
        mutually_exclusive = { focus = RAJ_great_depression_price_controls focus = RAJ_his_majestys_loyal_government }
        x = 29
        y = 0
        relative_position_id = RAJ_great_depression_price_controls 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            is_subject = no
        }

        allow_branch = {
        	if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
	            NOT = {
					has_completed_focus = RAJ_his_majestys_loyal_government
					has_completed_focus = RAJ_great_depression_price_controls
				}
			}
        }

        offset = {
        	x = 100
        	y = 0
        	trigger = {
        		has_game_rule = {
        			rule = obsolete_focus_branches_visibility
        			option = HIDE
        		}
        		has_completed_focus = RAJ_great_depression_price_controls
        	}
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY }

        completion_reward = {
            add_dynamic_modifier = {
                modifier = idea_RAJ_independence_movement
            }

            hidden_effect = {
                country_event = { id = GOE_RAJ_partition.1 days = 80 } 
                country_event = { id = GOE_RAJ.29 days = 38 }  #April 18ish
            }

            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
            custom_effect_tooltip = RAJ_provincial_autonomy_tt
        }
    }


    focus = {
        id = RAJ_princely_states_policy
        icon = GFX_focus_rom_handle_king # 
        prerequisite = { focus = RAJ_provincial_autonomy }
        x = -2
        y = 1
        relative_position_id = RAJ_provincial_autonomy 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
              custom_effect_tooltip = RAJ_provincial_autonomy_occupation_law_tt
        }
    }

#    focus = {
#        id = RAJ_establish_the_reserve_bank_of_india
#        icon = GFX_focus_usa_reestablish_the_gold_standard
#        prerequisite = { focus = RAJ_provincial_autonomy focus = RAJ_incorporation_of_the_east_india_company }
#        x = -2
#        y = 0
#        relative_position_id = RAJ_princely_states_policy 
#
#        cost = 5
#
#        ai_will_do = {
#            factor = 1
#        }
#
#        available = {
#
#        }
#        
#        bypass = {
#
#        }
#
#        cancel_if_invalid = yes
#        continue_if_invalid = no
#        available_if_capitulated = no
#
#
#
#        completion_reward = {
#            custom_effect_tooltip = available_industrial_concern
#            show_ideas_tooltip = idea_RAJ_the_reserve_bank_of_india
#            add_political_power = 25
#        }
#    }
#
#    focus = {
#        id = RAJ_hand_over_aden_to_the_crown
#        icon = GFX_goal_tfv_saf_secure_interests_in_africa
#        prerequisite = { focus = RAJ_provincial_autonomy }
#        x = 10
#        y = 1
#        relative_position_id = RAJ_provincial_autonomy
#        #mutually_exclusive = { focus = RAJ_renegotiate_adens_control }
#        cost = 5
#
#        ai_will_do = {
#            factor = 1
#        }
#
#        available = {
#
#        }
#        
#        bypass = {
#            OR = {
#                ENG = { exists = no }
#                AND = {
#                    NOT = { has_full_control_of_state = 659 }
#                    NOT = { ENG = { has_full_control_of_state = 659 } }
#                }
#            }
#        }
#
#        cancel_if_invalid = yes
#        continue_if_invalid = no
#        available_if_capitulated = no
#
#        search_filters = {FOCUS_FILTER_POLITICAL}
#
#        completion_reward = {
#
#        }
#    }

#  focus = {
#      id = RAJ_renegotiate_adens_control
#      icon = GFX_focus_chi_british_cooperation
#      prerequisite = { focus = RAJ_provincial_autonomy }
#      x = 2
#      y = 0
#      relative_position_id = RAJ_hand_over_aden_to_the_crown 
#      #mutually_exclusive = { focus = RAJ_hand_over_aden_to_the_crown }
#      cost = 5

#      ai_will_do = {
#          factor = 1
#      }

#      available = {
#          is_subject_of = ENG
#          ENG = { 
#              exists = yes
#              is_subject = no
#          }
#          has_full_control_of_state = 992
#      }
#      
#      bypass = {

#          is_subject = no
#          has_full_control_of_state = 992
#      }

#      cancel_if_invalid = yes
#      continue_if_invalid = no
#      available_if_capitulated = no

#      search_filters = {FOCUS_FILTER_POLITICAL}

#      completion_reward = {
#          custom_effect_tooltip = RAJ_renegotiate_adens_control_tt
#          ENG = {
#              country_event = {
#                  id = GOE_RAJ.15 hours = 2
#              }
#          }
#      }
#  }



 #   focus = {
 #       id = RAJ_extended_franchise
 #       icon = GFX_focus_generic_self_management
 #       prerequisite = { focus = RAJ_provincial_autonomy }
 #       x = -10
 #       y = 1
 #       relative_position_id = RAJ_provincial_autonomy
#
 #       cost = 5
#
 #       ai_will_do = {
 #           factor = 1
 #       }
#
 #       available = {
#
 #       }
 #        
 #       bypass = {
 #           is_subject = no
 #       }
#
 #       cancel_if_invalid = yes
 #       continue_if_invalid = no
 #       available_if_capitulated = no
#
 #       complete_tooltip = {
 #       }
#
 #       completion_reward = {
 #           if = {
 #               limit = { is_subject = yes }
 #               add_autonomy_ratio = {
 #                   value = 0.1
 #                   localization = RAJ_extended_franchise
 #               }
 #           }
 #           add_stability = 0.05
 #       }
 #   }

    focus = {
        id = RAJ_trade_port
        icon = GFX_focus_POL_develop_polish_shipbuilding
        prerequisite = { focus = RAJ_great_depression_price_controls focus = RAJ_provincial_autonomy }
        x = 19
        y = 1
        relative_position_id = RAJ_great_depression_price_controls 

        offset = {
            x = -4
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_great_depression_price_controls
            }
        }

        offset = {
            x = -13
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                OR = {
                    has_completed_focus = RAJ_look_to_the_past
                    has_completed_focus = RAJ_look_to_the_future
                }
            }
        }

        offset = {
            x = 2
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_provincial_autonomy
            }
        }

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            992 = { is_fully_controlled_by = ROOT }
            NOT = {
                has_completed_focus = RAJ_look_to_the_past
            }
        }
        
        bypass = {


        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            
            992 ={

                add_dynamic_modifier = {
                    modifier = idea_RAJ_aden_treaty_port
                    #scope = TAG #optional, state or country tag or a variable
                }
                add_extra_state_shared_building_slots = 4
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                    instant_build = yes
                }
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_fortify_aden
        icon = GFX_focus_generic_coastal_fort
        prerequisite = { focus = RAJ_trade_port }
        x = 0
        y = 1
        relative_position_id = RAJ_trade_port

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            992 = { is_fully_controlled_by = ROOT }
            NOT = { has_completed_focus = RAJ_look_to_the_past }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            992 ={
                add_building_construction = {
                    type = bunker
                    level = 4
                    instant_build = yes
                    province = 5074
                }

                add_building_construction = {
                    type = coastal_bunker   
                    level = 4
                    instant_build = yes
                    province = 5074
                }

                add_building_construction = {
                    type = naval_base
                    level = 3
                    instant_build = yes
                    province = 5074
                }
                add_extra_state_shared_building_slots = 4
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }

                add_building_construction = {
                    type = dockyard
                    level = 1
                    instant_build = yes
                }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
    }



    focus = {
        id = RAJ_purna_swaraj
        icon = GFX_focus_RAJ_pruna_swaraj
        prerequisite = { focus = RAJ_provincial_autonomy }#focus = RAJ_renegotiate_adens_control focus = RAJ_hand_over_aden_to_the_crown  }
        #prerequisite = { focus = RAJ_extended_franchise }
        x = 0
        y = 1
        relative_position_id = RAJ_provincial_autonomy

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            is_subject = no
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            custom_effect_tooltip = idea_RAJ_independence_movement_tt
            add_to_variable = { RAJ_autonomy_gain_independence_movement = 0.1 tooltip = autonomy_gain_tt }
            add_to_variable = { RAJ_resistance_activity_independence_movement = 0.1 tooltip =  resistance_activity_tt }
            add_to_variable = { RAJ_resistance_target_independence_movement = 0.1 tooltip =  resistance_target_tt }
        }
    }





#   focus = {
#        id = RAJ_give_sikkim_administrative_rights_for_bhutan
#        #icon = GFX_
#        prerequisite = { focus = RAJ_the_second_duar_war focus = RAJ_bhutanese_protectorate }
#        x = 1
#        y = 1
#        relative_position_id = RAJ_the_second_duar_war
#       
#        cost = 10
#
#        ai_will_do = {
#            factor = 1
#        }
#
#        available = {
#
#        }
#        
#        bypass = {
#
#        }
#
#        cancel_if_invalid = yes
#        continue_if_invalid = no
#        available_if_capitulated = no
#
#
#
#        completion_reward = {
#
#        }
#    }

    focus = {
        id = RAJ_mahatma
        icon = GFX_focus_RAJ_mahatma
        prerequisite = { focus = RAJ_purna_swaraj }
        x = -6
        y = 8
        relative_position_id = RAJ_purna_swaraj
        mutually_exclusive = { focus = RAJ_league_against_gandhism }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        allow_branch = {
        	if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
	            NOT = {
	            	has_completed_focus = RAJ_great_depression_price_controls
	            	has_completed_focus = RAJ_his_majestys_loyal_government
	            	has_completed_focus = RAJ_league_against_gandhism
	            }
	        }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_GOE_jawaharlal_nehru
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_mahatma_mohandas_gandhi
            custom_effect_tooltip = generic_skip_one_line_tt
            unlock_decision_tooltip = {
                decision = RAJ_GOE_urge_non_violence
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }

            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_league_against_gandhism
        icon = GFX_focus_spr_crush_the_revolution
        prerequisite = { focus = RAJ_purna_swaraj }
        x = 13
        y = 0
        relative_position_id = RAJ_mahatma
        mutually_exclusive = { focus = RAJ_mahatma }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        allow_branch = {
        	if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
	            NOT = {
	            	has_completed_focus = RAJ_great_depression_price_controls
	            	has_completed_focus = RAJ_his_majestys_loyal_government
	            	has_completed_focus = RAJ_mahatma
	            }
	        }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
        completion_reward = {
            add_popularity = {
                ideology = communism 
                popularity = 0.025
            }

            custom_effect_tooltip = RAJ_league_against_gandhism_tt
            add_political_power = 30
            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
        }
    }


    focus = {
        id = RAJ_uplifting_the_people_of_india
        icon = GFX_goal_support_democracy
        prerequisite = { focus = RAJ_purna_swaraj }
        x = 3
        y = 1
        relative_position_id = RAJ_purna_swaraj
        #mutually_exclusive = { focus = RAJ_league_against_gandhism }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            swap_ideas = {
                remove_idea = idea_RAJ_great_depression_1
                add_idea = idea_RAJ_great_depression_2
            }
            add_autonomy_ratio = { 
                value = 0.05 
            }
        }
    }

    focus = {
        id = RAJ_swadeshi_movement
        icon = GFX_goal_generic_forceful_treaty
        prerequisite = { focus = RAJ_purna_swaraj }
        x =-3
        y = 1
        relative_position_id = RAJ_purna_swaraj
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {

            custom_effect_tooltip = idea_RAJ_independence_movement_tt
            add_to_variable = { RAJ_autonomy_gain_independence_movement = 0.03 tooltip = autonomy_gain_tt }
            add_to_variable = { RAJ_resistance_activity_independence_movement = 0.1 tooltip =  resistance_activity_tt }
            add_to_variable = { RAJ_resistance_target_independence_movement = 0.1 tooltip =  resistance_target_tt }
            custom_effect_tooltip = generic_skip_one_line_tt
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            
        }
    }

    focus = {
        id = RAJ_form_a_federal_court
        icon = GFX_focus_NOR_restore_public_trust_in_the_storting
        prerequisite = { focus = RAJ_uplifting_the_people_of_india }
        x = 1
        y = 1
        relative_position_id = RAJ_uplifting_the_people_of_india
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_ideas = idea_RAJ_federal_court_of_india
        }
    }

    focus = {
        id = RAJ_a_congress_resurgent
        icon = GFX_focus_RAJ_a_congress_resurgent
        prerequisite = { focus = RAJ_mahatma }
        x = 0
        y = 1
        relative_position_id = RAJ_mahatma
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            is_subject = no
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            custom_effect_tooltip = idea_RAJ_independence_movement_tt
            add_to_variable = { RAJ_autonomy_gain_independence_movement = 0.02 tooltip = autonomy_gain_tt }
            add_to_variable = { RAJ_resistance_activity_independence_movement = 0.15 tooltip =  resistance_activity_tt }
            add_to_variable = { RAJ_resistance_target_independence_movement = 0.15 tooltip =  resistance_target_tt }
            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_bhimrao_ramji_ambedkar
        }
    }

    focus = {
        id = RAJ_khadi_movement
        icon = GFX_focus_RAJ_khadi_movement 
        prerequisite = { focus = RAJ_swadeshi_movement }
        x = 0
        y = 1
        relative_position_id = RAJ_swadeshi_movement
       
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_autonomy_ratio = { 
                value = 0.03
                localization = RAJ_khadi_movement
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_boycott_british_made_goods
        icon = GFX_focus_eng_decolonization
        prerequisite = { focus = RAJ_swadeshi_movement }
        x = -2
        y = 1
        relative_position_id = RAJ_swadeshi_movement
       
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_boycott_british_made_goods
                days = 400
            }
        }
    }

    focus = {
        id = RAJ_litteracy_effort
        icon = GFX_focus_research2
        prerequisite = { focus = RAJ_form_a_federal_court }
        x = 0
        y = 1
        relative_position_id = RAJ_form_a_federal_court
       
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_literacy_effort_1
                days = 365
            }
            
            custom_effect_tooltip = will_be_upgraded_to
            show_ideas_tooltip = idea_RAJ_literacy_effort_2
            custom_effect_tooltip = when_expired
        }
    }

    focus = {
        id = RAJ_indo_centric_curriculum
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_litteracy_effort }
        x = 0
        y = 1
        relative_position_id = RAJ_litteracy_effort
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_research_slot = 1
            add_autonomy_score = { 
                value = 20

            }
            
        }
    }

    focus = {
        id = RAJ_all_india_students_federation
        icon = GFX_focus_generic_university_1
        prerequisite = { focus = RAJ_litteracy_effort }
        x = 2
        y = 1
        relative_position_id = RAJ_litteracy_effort
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_popularity = {
                ideology = democratic
                popularity = 0.05
            }
            add_tech_bonus = {
                name = RAJ_all_india_students_federation
                bonus = 0.5
                uses = 1
                category = electronics # optional 
                # technology  = technology_id # optional
            }
            custom_effect_tooltip = RAJ_famine_impact_reduction
            
            add_to_variable = { RAJ_famine_shield = 8 tooltip = RAJ_famine_shield_tt  }
            calculate_famine_shield_and_risk = yes
        }
    }

    focus = {
        id = RAJ_enrollment_of_dali_children
        icon = GFX_focus_RAJ_enrollment_of_dali_children
        prerequisite = { focus = RAJ_indo_centric_curriculum }
        x = -1
        y = 1
        relative_position_id = RAJ_indo_centric_curriculum
       
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}
        search_filters = {FOCUS_FILTER_RESEARCH}
        search_filters = {FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_stability = 0.03
            add_tech_bonus = {
                name = RAJ_enrollment_of_dali_children
                bonus = 0.35
                uses = 1
                category = electronics # optional 
                # technology  = technology_id # optional
            }
            add_autonomy_ratio = { 
                value = 0.05 
                localization = RAJ_enrollment_of_dali_children
            }
        }
    }


    focus = {
        id = RAJ_expand_healthcare_facilities
        icon = GFX_focus_generic_field_hostpital
        prerequisite = { focus = RAJ_enrollment_of_dali_children }
        x = -1
        y = 1
        relative_position_id = RAJ_enrollment_of_dali_children
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            random_core_state = {
                limit = { is_controlled_by = ROOT }
                add_extra_state_shared_building_slots = 1  
            }

            random_core_state = {
                limit = { is_controlled_by = ROOT }
                add_extra_state_shared_building_slots = 1  
            }

            random_core_state = {
                limit = { is_controlled_by = ROOT }
                add_extra_state_shared_building_slots = 1  
            }

            add_tech_bonus = {
                name = RAJ_expand_healthcare_facilities
                bonus = 0.25
                uses = 2
                category = support_tech # optional 
            }

            custom_effect_tooltip = newline_tt
            custom_effect_tooltip = RAJ_famine_impact_reduction
            
            add_to_variable = { RAJ_famine_shield = 5 tooltip = RAJ_famine_shield_tt  }
            calculate_famine_shield_and_risk = yes


        }
    }



    focus = {
        id = RAJ_local_resistance_to_land_taxes
        icon = GFX_focus_SOV_breadbasket_of_the_union
        prerequisite = { focus = RAJ_agricultural_cooperatives   }
        prerequisite = { focus = RAJ_boycott_british_made_goods }
        x = 0
        y = 2
        relative_position_id = RAJ_boycott_british_made_goods
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            every_controlled_state = {
                random_select_amount = 3
                limit = {
                    has_resistance = yes
                    is_in_array = {
                        array = ROOT.owned_states_at_game_start
                        value = THIS
                    }
                }
                add_resistance = 15
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            add_ideas = idea_RAJ_government_budget_shortfall
        }
    }

    focus = {
        id = RAJ_tenancy_reforms
        icon = GFX_focus_generic_low_cost_housing
        prerequisite = { focus = RAJ_uplifting_the_people_of_india }
        x = -2
        y = 1
        relative_position_id = RAJ_uplifting_the_people_of_india
       
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_tenancy_reforms
        }
    }

    focus = {
        id = RAJ_debt_relief
        icon = GFX_focus_generic_currency_reforms
        prerequisite = { focus = RAJ_tenancy_reforms }
        x = -2
        y = 1
        relative_position_id = RAJ_tenancy_reforms
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            remove_ideas = {
                idea_RAJ_great_depression_2
            }
            #add_timed_idea = {
            #    idea = idea_RAJ_debt_relief
            #   days = 270
            #}
        }
    }

    focus = {
        id = RAJ_temple_entry_movements
        icon = GFX_focus_RAJ_temple_entry_movements
        prerequisite = { focus = RAJ_indo_centric_curriculum }
        x = 1
        y = 1
        relative_position_id = RAJ_indo_centric_curriculum
       
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_stability = 0.1
            add_popularity = {
                ideology = democratic
                popularity = 0.1
            }
        }
    }

    focus = {
        id = RAJ_freedom_of_the_press
        icon = GFX_focus_generic_improve_the_administration
        prerequisite = { focus = RAJ_form_a_federal_court }
        x = 2
        y = 1
        relative_position_id = RAJ_form_a_federal_court
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_political_power = 90
          
            add_popularity = {
                ideology = democratic
                popularity = 0.1
            }
        }
    }

    focus = {
        id = RAJ_all_india_kisan_sabha
        icon = GFX_focus_ARG_no_gods_no_masters
        prerequisite = { focus = RAJ_league_against_gandhism }
        x = 12
        y = 1
        relative_position_id = RAJ_league_against_gandhism
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        offset = {
            x = -13
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_red_in_the_shadows
            }
        }

        offset = {
            x = -10
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_forward_bloc
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_WAR_SUPPORT}

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }

            add_popularity = {
                ideology = fascism
                popularity = 0.05
            }

            add_political_power = 60
        }
    }

    focus = {
        id = RAJ_cottage_industries
        icon = GFX_focus_CHL_enlarge_the_textile_industries
        prerequisite = { focus = RAJ_tenancy_reforms }
        x = 1
        y = 2
        relative_position_id = RAJ_tenancy_reforms
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_TFV_AUTONOMY}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_autonomy_ratio = { 
                value = 0.05 
                localization = RAJ_cottage_industries
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }





 #  focus = {
 #      id = RAJ_guarantee_nepalese_independence
 #      #icon = GFX_
 #      prerequisite = { focus = RAJ_haripura_session_of_the_indian_national_congress }
 #      x = 2
 #      y = 0
 #      mutually_exclusive = { focus = RAJ_the_second_gorkha_war }
 #      relative_position_id = RAJ_the_second_gorkha_war
 #      
 #      cost = 10

 #      ai_will_do = {
 #          factor = 1
 #      }

 #      available = {

 #      }
 #      
 #      bypass = {

 #      }

 #      cancel_if_invalid = yes
 #      continue_if_invalid = no
 #      available_if_capitulated = no



 #      completion_reward = {

 #      }
 #  }




    focus = {
        id = RAJ_agricultural_cooperatives
        icon = GFX_focus_generic_agricultural_subsidies
        prerequisite = { focus = RAJ_tenancy_reforms }
        x = -4
        y = 1
        relative_position_id = RAJ_tenancy_reforms
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {
            every_owned_state = {
                limit = { has_state_flag = agcoop_built_infra }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
      
            }

            every_owned_state = { #Need to loop through twice beccause sometimes you can build a civ but not an infra if you already had a 5 infra in a state
                limit = { has_state_flag = agcoop_built_civ }
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }

        completion_reward = {
            custom_effect_tooltip = RAJ_agricultural_cooperatives_tt

            #effect_tooltip = {
            #    every_owned_state = {
            #        limit = {
            #            is_controlled_by = ROOT
            #            industrial_complex > 3 #UPDATE RAJ_agricultural_cooperatives_tt if you change this
            #            infrastructure < 5
            #        }
#
            #        add_building_construction = {
            #            type = infrastructure
            #            level = 1
            #            instant_build = yes
            #        }
            #    }
            #}

            set_variable = { agcoop_infra_build_counter = 0 }
            set_variable = { agcoop_civ_build_counter = 0 }
            for_each_scope_loop = {
                array = owned_states_at_game_start
                
                 if = {
                     limit = {
                        is_controlled_by = ROOT
                        industrial_complex > 3 #UPDATE RAJ_agricultural_cooperatives_tt if you change this
                    }     
                    ROOT = { add_to_variable = { agcoop_infra_build_counter = 1 } } #Count infra if state requirements are correct, even if one isnt build because you already technically fulfilled the requirements
                    if = {
                        limit = {
                            infrastructure < 5
                        }

                        add_building_construction = {
                            type = infrastructure
                            level = 1
                            instant_build = yes
                        }
                        set_state_flag = agcoop_built_infra #used for complete tooltip
                    }

                    log = "INFRA BUILT: [?ROOT.agcoop_infra_build_counter]"
                    set_temp_variable = { t_infra_build_counter  = ROOT.agcoop_infra_build_counter }

                    modulo_temp_variable = { var = t_infra_build_counter value = 2 } #every other infra counts as a civ

                    if = {
                        limit = {
                            check_variable = { t_infra_build_counter = 1 } 
                            check_variable = { ROOT.agcoop_civ_build_counter < 10 } #Max roof
                        }
#
                        
                        add_extra_state_shared_building_slots = 1
                        add_building_construction = {
                            type = industrial_complex
                            level = 1
                            instant_build = yes
                        }
                        set_state_flag = agcoop_built_civ
                        add_to_variable = { ROOT.agcoop_civ_build_counter = 1 }
                    }     
                }
            }
        }
    }

    focus = {
        id = RAJ_tea_exports
        icon = GFX_focus_RAJ_tea_exports
        prerequisite = { focus = RAJ_agricultural_cooperatives  }
        x = 0
        y = 1
        relative_position_id = RAJ_agricultural_cooperatives

        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

            NOT = { has_war_with = ENG }

            
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            if = {
                limit = {
                    is_subject_of = ENG
                }

                unlock_decision_tooltip = {
                    decision = RAJ_GOE_export_tea_subject
                    show_effect_tooltip = yes # default is no
                    show_modifiers = yes # default is no
                }

                custom_effect_tooltip = RAJ_tea_exports_tt
                custom_effect_tooltip = RAJ_tea_exports_tt_2
                unlock_decision_tooltip = {
                    decision = RAJ_GOE_export_tea_free
                    show_effect_tooltip = yes # default is no
                    show_modifiers = yes # default is no
                }
                custom_effect_tooltip = RAJ_tea_exports_tt
            }
            else = {
                unlock_decision_tooltip = {
                    decision = RAJ_GOE_export_tea_free
                    show_effect_tooltip = yes # default is no
                    show_modifiers = yes # default is no
                }
                custom_effect_tooltip = RAJ_tea_exports_tt
            }
        }
    }

    focus = {
        id = RAJ_handloom_weaving
        icon = GFX_focus_generic_industry_3
        prerequisite = { focus = RAJ_cottage_industries focus = RAJ_agricultural_cooperatives }
        x = -1
        y = 1
        relative_position_id = RAJ_cottage_industries
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_autonomy_ratio = { 
                value = 0.1 
                localization = RAJ_handloom_weaving
            }

            try_build_civ_in_core_otherwise_build_in_controlled = yes
            add_tech_bonus = {
                name = RAJ_handloom_weaving
                bonus = 0.35
                uses = 1
                category = industry # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_sikh_religious_guarantees
        icon = GFX_focus_RAJ_sikh_religious_guarantees
        prerequisite = { focus = RAJ_temple_entry_movements focus = RAJ_enrollment_of_dali_children }
        prerequisite = { focus = RAJ_indo_centric_curriculum  }
        x = -1
        y = 1
        relative_position_id = RAJ_temple_entry_movements
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}

        completion_reward = {
            add_timed_idea = {
                idea = idea_sikh_inclusivity_policies
                days = 180
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_GOE_tara_singh

            custom_effect_tooltip = generic_skip_one_line_tt

            RAJ_GOE_ishar_singh = {
                custom_effect_tooltip = unlock_general_tt
            }
            RAJ_GOE_parkash_singh = {
                custom_effect_tooltip = unlock_general_tt
            }


        }
    }

    focus = {
        id = RAJ_punjab_autonomy
        icon = GFX_focus_RAJ_punjab_autonomy
        prerequisite = { focus = RAJ_sikh_religious_guarantees }
        x = 0
        y = 1
        relative_position_id = RAJ_sikh_religious_guarantees
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

            if = {
                limit = {
                    440 = {
                        is_controlled_by_ROOT_or_subject = yes
                    }
                }

                440 = {
                    add_extra_state_shared_building_slots = 2
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_sikh_approval
                    }
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            if = {
                limit = {
                    433 = {
                        is_controlled_by_ROOT_or_subject = yes
                    }
                }

                433 = {
                    add_extra_state_shared_building_slots = 2
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_sikh_approval
                    }
                }
            }


            unlock_decision_tooltip = {
                decision = RAJ_GOE_sikh_recruitment

            }
            

        }
    }

    focus = {
        id = RAJ_national_planning_committee
        icon = GFX_focus_generic_public_works
        prerequisite = { focus = RAJ_tenancy_reforms }
        x = 0
        y = 1
        relative_position_id = RAJ_tenancy_reforms
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_national_planning_comittee
                days = 365
            }
        }
    }

    focus = {
        id = RAJ_forward_bloc
        icon = GFX_focus_RAJ_forward_bloc
        prerequisite = { focus = RAJ_league_against_gandhism }
        x = 0
        y = 2
        relative_position_id = RAJ_league_against_gandhism
        mutually_exclusive = { focus = RAJ_red_in_the_shadows }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        allow_branch = {
        	if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
	            NOT = {
	            	has_completed_focus = RAJ_great_depression_price_controls
	            	has_completed_focus = RAJ_his_majestys_loyal_government
	            	has_completed_focus = RAJ_mahatma
	            	has_completed_focus = RAJ_red_in_the_shadows
	            }
	        }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}

        completion_reward = {
            add_war_support = 0.05
            add_popularity = {
                ideology = neutrality
                popularity = 0.1
            }
            add_popularity = {
                ideology = fascism
                popularity = 0.1
            }
            set_party_name = {
                ideology = neutrality
                long_name = RAJ_forward_bloc_party_name_long
                name = RAJ_forward_bloc_party_name
            }

            custom_effect_tooltip = generic_skip_one_line_tt
            RAJ_subhas_chanda_bose = { custom_effect_tooltip = unlock_general_tt }
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_subhas_chanda_bose

            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }

                every_owned_state = {
                    if = {
                        limit = { 
                            has_resistance = yes
                            occupation_law = no_garrison 
                        }
                        set_occupation_law = local_police_force_garrison
                    }
                }
                set_country_flag = RAJ_hide_no_garrison
                country_event = {
                    id = GOE_RAJ.36
                    days = 22
                    random_days = 15
                }
            }
        }
    }

    focus = {
        id = RAJ_promote_violence_against_the_british
        icon = GFX_focus_AST_never_gallipoli
        prerequisite = { focus = RAJ_forward_bloc }
        x = 1
        y = 1
        relative_position_id = RAJ_forward_bloc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}
        search_filters = {FOCUS_FILTER_WAR_SUPPORT}

        completion_reward = {
            add_war_support = 0.05
            add_popularity = { ideology = fascism popularity = 0.1 }

            if = {
                limit = {
                    has_dynamic_modifier = { modifier = idea_RAJ_independence_movement }
                }

                custom_effect_tooltip = idea_RAJ_independence_movement_tt
                add_to_variable = { RAJ_autonomy_gain_independence_movement = 0.1 tooltip = autonomy_gain_tt }
                add_to_variable = { RAJ_resistance_activity_independence_movement = 0.1 tooltip =  resistance_activity_tt }
                add_to_variable = { RAJ_resistance_target_independence_movement = 0.1 tooltip =  resistance_target_tt }
            }

            unlock_decision_tooltip = {
                decision = RAJ_GOE_urge_violence
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
        }
    }

    focus = {
        id = RAJ_india_united
        icon = GFX_focus_RAJ_seek_allies_with_the_muslim_league
        prerequisite = { focus = RAJ_a_congress_resurgent }
        x = 3
        y = 1
        relative_position_id = RAJ_a_congress_resurgent
        mutually_exclusive = { focus = RAJ_two_nation_theory_dlc }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
             compare_autonomy_state > autonomy_colony
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            custom_effect_tooltip = RAJ_india_united_tt
        }
    }

    focus = {
        id = RAJ_two_nation_theory_dlc
        icon = GFX_focus_RAJ_two_nation_theory
        prerequisite = { focus = RAJ_a_congress_resurgent }
        x = -6
        y = 0
        relative_position_id = RAJ_india_united
        mutually_exclusive = { focus = RAJ_india_united }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            compare_autonomy_state > autonomy_colony
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {

            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_angry
                }
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_happy
                    remove_idea = RAJ_marginalized_muslim_community_angry
                }
            }
            else = {
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_happy
                    remove_idea = RAJ_marginalized_muslim_community
                }
            }
           # add_ideas = idea_RAJ_guided_by_britain     
        }
    }

    focus = {
        id = RAJ_red_in_the_shadows
        icon = GFX_focus_RAJ_red_in_the_shadows
        prerequisite = { focus = RAJ_all_india_kisan_sabha focus = RAJ_rally_the_indian_left }
        x = 13
        y = 1
        relative_position_id = RAJ_all_india_kisan_sabha
        mutually_exclusive = { focus = RAJ_forward_bloc }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        allow_branch = {
        	if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
	            NOT = {
	            	has_completed_focus = RAJ_great_depression_price_controls
	            	has_completed_focus = RAJ_his_majestys_loyal_government
	            	has_completed_focus = RAJ_mahatma
	            	has_completed_focus = RAJ_forward_bloc
	            }
	        }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {

            add_ideas = idea_RAJ_underground_communists
            custom_effect_tooltip = newline_tt
            custom_effect_tooltip = RAJ_red_in_the_shadows_tt

            set_country_flag = stop_unrest_events

            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_rally_the_indian_left
        icon = GFX_focus_generic_join_comintern
        prerequisite = { focus = RAJ_league_against_gandhism }
        x = 2
        y = 0
        relative_position_id = RAJ_all_india_kisan_sabha
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}

        completion_reward = {
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_puran_chand_joshi
            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_bhalchandra_trimbak_ranadive
            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_elamkulam_manakkal_sakaran_namboodiripad
            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_shripad_amrit_dange
            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_sahajanand_saraswati
        }
    }

    focus = {
        id = RAJ_orchestrate_train_robberies 
        icon = GFX_focus_generic_railroad
        prerequisite = { focus = RAJ_red_in_the_shadows }
        x = -2
        y = 1
        relative_position_id = RAJ_red_in_the_shadows

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            OR = {
                has_completed_focus = RAJ_east_india_railways_dlc
                has_completed_focus = RAJ_bombay_baroda_and_central_india_railway
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

            custom_effect_tooltip = RAJ_orchestrate_train_robberies_tt
            custom_effect_tooltip = RAJ_modify_indian_railways_tt  
            effect_tooltip = {

                if = {
                    limit = { check_variable = { RAJ_railway_focuses = 1 } }
                    set_variable = { RAJ_indian_railway_industrial_capacity_factory = 0.03 tooltip = industrial_capacity_factory_tt }
                    
                    add_to_variable = { RAJ_indian_railway_production_speed_infrastructure_factor = -0.02 tooltip = production_speed_rail_way_factor_tt }
                    add_to_variable = { RAJ_indian_railway_production_speed_supply_node_factor = -0.02  tooltip = production_speed_supply_node_factor_tt }
                    add_to_variable = { RAJ_indian_railway_production_speed_rail_way_factor = -0.02 tooltip = production_speed_infrastructure_factor_tt }
                }
                else_if = {
                    limit = { check_variable = { RAJ_railway_focuses = 2 } }
                    set_variable = { RAJ_indian_railway_industrial_capacity_factory = 0.06 tooltip = industrial_capacity_factory_tt }

                    add_to_variable = { RAJ_indian_railway_production_speed_infrastructure_factor = -0.04 tooltip = production_speed_rail_way_factor_tt }
                    add_to_variable = { RAJ_indian_railway_production_speed_supply_node_factor = -0.04  tooltip = production_speed_supply_node_factor_tt }
                    add_to_variable = { RAJ_indian_railway_production_speed_rail_way_factor = -0.04 tooltip = production_speed_infrastructure_factor_tt }
                }
                else_if = {
                    limit = { check_variable = { RAJ_railway_focuses = 3 } }
                    set_variable = { RAJ_indian_railway_industrial_capacity_factory = 0.09 tooltip = industrial_capacity_factory_tt }

                    add_to_variable = { RAJ_indian_railway_production_speed_infrastructure_factor = -0.06 tooltip = production_speed_rail_way_factor_tt }
                    add_to_variable = { RAJ_indian_railway_production_speed_supply_node_factor = -0.06  tooltip = production_speed_supply_node_factor_tt }
                    add_to_variable = { RAJ_indian_railway_production_speed_rail_way_factor = -0.06 tooltip = production_speed_infrastructure_factor_tt }
                }
                else_if = {
                    limit = { check_variable = { RAJ_railway_focuses = 4 } }
                    set_variable = { RAJ_indian_railway_industrial_capacity_factory = 0.12 tooltip = industrial_capacity_factory_tt }
                    
                    add_to_variable = { RAJ_indian_railway_production_speed_infrastructure_factor = -0.09 tooltip = production_speed_rail_way_factor_tt }
                    add_to_variable = { RAJ_indian_railway_production_speed_supply_node_factor = -0.09  tooltip = production_speed_supply_node_factor_tt }
                    add_to_variable = { RAJ_indian_railway_production_speed_rail_way_factor = -0.09 tooltip = production_speed_infrastructure_factor_tt }
                }
                else_if = {
                    limit = { check_variable = { RAJ_railway_focuses = 5 } }
                    set_variable = { RAJ_indian_railway_industrial_capacity_factory = 0.15 tooltip = industrial_capacity_factory_tt }

                    add_to_variable = { RAJ_indian_railway_production_speed_infrastructure_factor = -0.12 tooltip = production_speed_rail_way_factor_tt }
                    add_to_variable = { RAJ_indian_railway_production_speed_supply_node_factor = -0.12  tooltip = production_speed_supply_node_factor_tt }
                    add_to_variable = { RAJ_indian_railway_production_speed_rail_way_factor = -0.12 tooltip = production_speed_infrastructure_factor_tt }
                }
                else = {
                    set_variable = { RAJ_indian_railway_industrial_capacity_factory = 0 tooltip = industrial_capacity_factory_tt }
                }
            }
            hidden_effect = { indian_railways_increase_bonus = yes } 
        }
    }

    focus = {
        id = RAJ_royal_indian_navy_mutiny
        icon = GFX_focus_hol_legacy_of_the_de_zeven_provincien_mutiny
        prerequisite = { focus = RAJ_red_in_the_shadows }
        x = 0
        y = 1
        relative_position_id = RAJ_red_in_the_shadows

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            communism > var:RAJ_royal_indian_navy_mutiny_threshold
            PAK = {
                OR = {
                    is_subject = no
                    is_subject_of = RAJ
                }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community
                }
                remove_ideas = RAJ_marginalized_muslim_community
            }

            else_if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_angry
                }
                remove_ideas = RAJ_marginalized_muslim_community_angry
            }

            else_if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_happy
                }
                remove_ideas = RAJ_marginalized_muslim_community_happy
            }

            custom_effect_tooltip = newline_tt

            add_ideas = idea_RAJ_flames_of_the_revolution
            custom_effect_tooltip = newline_tt

            if = {
                limit = {
                    has_country_flag = RAJ_communist_unions_promised_worker_safety   
                }
                activate_mission = RAJ_communist_unions_promised_worker_safety_mission
                custom_effect_tooltip = RAJ_royal_indian_navy_mutiny_tt2
            }
            else_if = {
                limit = {
                    has_country_flag = RAJ_communist_unions_promised_minimum_wage
                }
                activate_mission = RAJ_communist_unions_promised_minimum_wage_mission
                custom_effect_tooltip = RAJ_royal_indian_navy_mutiny_tt2
            }
            else = {
                custom_effect_tooltip = RAJ_royal_indian_navy_mutiny_tt
                set_country_flag = RAJ_hide_communist_infiltration
            }

            custom_effect_tooltip = newline_tt
            if = {
                limit = {
                    is_subject = yes
                }
                ENG = {
                    set_autonomy = {
                        target=RAJ
                        autonomy_state = autonomy_free
                        end_civil_wars = yes 
                    }
                }
            }
           
           drop_cosmetic_tag = yes
           if = {
                limit = {
                    is_in_faction_with = ENG
                }
                leave_faction = yes
           }
           set_country_flag = RAJ_allow_release_states
           set_country_flag = stop_unrest_events
          # custom_effect_tooltip = RAJ_red_in_the_shadows_tt
           add_country_leader_role = {
               character =  RAJ_GOE_m_n_roy # optional if inside character scope
               promote_leader = yes
               country_leader = {
                   ideology = marxism
                   
                   traits = { likes_mexico marxist_philosopher } 
               }
           }
           set_politics = {
               ruling_party = communism
               elections_allowed = yes
               last_election = "1936.1.1"
               election_frequency = 48
               long_name = RAJ_communism_transitional_council_long # Optional
               name = RAJ_communism_transitional_council# Optional
           }

           custom_effect_tooltip = generic_skip_one_line_tt

            if = {
                limit = {
                    PAK = { exists = no }
                }
                release = PAK
            }
            else = {
                if = {
                    limit = {
                        PAK = { is_subject_of = RAJ }
                    }
                    end_puppet = PAK
                }
            }
            hidden_effect = {
               RAJ = { 
                    RAJ_GOE_muhammad_ali_jinnah = {
                        set_nationality = PAK
                        add_country_leader_role = {
                            promote_leader = yes
                            country_leader = {
                                ideology = centrism
                                traits = { father_of_pakistan } 
                            }
                        }
                    }
               }
               ENG = {
                   add_opinion_modifier = {
                       target = RAJ
                       modifier = modifier_RAJ_ENG_anti_communist
                   }
               }
           }
           PAK = {
                if = {
                    limit = {
                        ENG = {
                            NOT = {
                                has_government = communism
                            }
                        }
                    }
                    add_ideas = idea_RAJ_PAK_british_anti_communist_investments
                    add_opinion_modifier = {
                        target = RAJ
                        modifier = modifier_RAJ_ENG_anti_communist
                    }
                }
                transfer_state = 986
                transfer_state = 441
                transfer_state = 989
                transfer_state = 443
                transfer_state = 428
                transfer_state = 431
                transfer_state = 433

                hidden_effect = {
                    inherit_technology = RAJ
                    986 = { add_core_of = THIS }
                    441 = { add_core_of = THIS }
                    989 = { add_core_of = THIS }
                    443 = { add_core_of = THIS }
                    428 = { add_core_of = THIS }
                    431 = { add_core_of = THIS }
                    433 = { add_core_of = THIS }
                    add_equipment_to_stockpile = { 
                        type = convoy_1
                        amount = 80
                        producer = PAK
                    }

                    add_equipment_to_stockpile = { 
                        type = train_equipment_1
                        amount = 15
                        producer = PAK
                    }

                    433 = {
                        add_building_construction = {
                            type = supply_node
                            level = 1
                            province = 7998
                            instant_build = yes
                        }
                    }

                    build_railway = {
                        level = 1
                        start_province = 7998
                        target_province = 10772
                    }

                    build_railway = {
                        level = 1
                        start_province = 7998
                        target_province = 1908
                    }
                }
            }   
            hidden_effect = {
            
               random_core_state = {
                    limit = {
                        is_controlled_by = PAK   
                    }
                    prioritize = { 443 } #optional: to pick those states first if they fulfill the limit
                    create_unit = {
                        division = "name = \"Infantry Division\" division_template = \"Infantry Division\" start_experience_factor = 0.3 start_equipment_factor = 1 start_manpower_factor = 0.8"
                        owner = PAK

                        count = 27
                    }
                    
                }
            }

            hidden_effect = {
                if = {
                    limit = {
                        has_idea = idea_RAJ_great_depression_1
                    }
                    PAK = {
                        add_ideas = idea_RAJ_great_depression_1
                    }
                }
                else_if = {
                    limit = {
                        has_idea = idea_RAJ_great_depression_2
                    }
                    PAK = {
                        add_ideas = idea_RAJ_great_depression_2
                    }
                }

                PAK = {
                    add_dynamic_modifier = { modifier = idea_RAJ_agrarian_society }
                    set_variable = { RAJ_agrarian_society_conscription_factor = RAJ.RAJ_agrarian_society_conscription_factor } #3
                    set_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = RAJ.RAJ_agrarian_society_mobilization_laws_cost_factor } #9
                    set_variable = { RAJ_agrarian_society_mobilization_speed = RAJ.RAJ_agrarian_society_mobilization_speed } #3
                }

            }

           set_truce = {
               target = PAK
               days = 580
           }


           add_stability = -0.15
        }
    }

 #   focus = {
 #       id = RAJ_accept_russian_muhajir_money
 #       icon = GFX_focus_chi_mission_to_the_soviet_union
 #       prerequisite = { focus = RAJ_industrialize_the_ganges }
 #       x = 0
 #       y = 1
 #       relative_position_id = RAJ_industrialize_the_ganges
#
 #       cost = 10
#
 #       ai_will_do = {
 #           factor = 1
 #       }
#
 #       available = {
 #           capital_scope.controller = { original_tag = ROOT }
 #           
 #       }
 #       
 #       bypass = {
#
 #       }
#
 #       cancel_if_invalid = yes
 #       continue_if_invalid = no
 #       available_if_capitulated = no
#
 #       search_filters = {FOCUS_FILTER_INDUSTRY}
#
 #       completion_reward = {
 #          
 #           if = {
 #               limit = {
 #                   has_dlc = "Arms Against Tyranny"
 #               }
 #               every_military_industrial_organization = {
 #                   add_mio_size = 1
 #               }
#
 #                add_cic = 1800
 #           }
#
 #           capital_scope = {
 #               add_extra_state_shared_building_slots = 3
 #               add_building_construction = {
 #                   type = industrial_complex
 #                   level = 2
 #                   instant_build = yes
 #               }
 #               add_building_construction = {
 #                   type = arms_factory
 #                   level = 1
 #                   instant_build = yes
 #               }
 #           }
 #           add_popularity = {
 #               ideology = communism
 #               popularity = 0.1
 #           }
 #       }
 #   }

    focus = {
        id = RAJ_founding_of_the_peoples_republic
        icon = GFX_focus_CHL_union_of_hispanic_republics 
        prerequisite = { focus = RAJ_royal_indian_navy_mutiny }
        x = 0
        y = 1
        relative_position_id = RAJ_royal_indian_navy_mutiny

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            add_political_power = 100
            set_province_name = {
                id = 2086 
                name = "Indraprastha"
            }

            set_province_name = {
                id = 1349
                name = "Shaktipur"
            }

            set_province_name = {
                id = 8087
                name = "Sanskritiknagar"
            }
            set_province_name = {
                id = 8011
                name = "Vijnanagar"
            }

            set_province_name = {
                id = 10278
                name = "Thamizhnagar"
            }
        }
    }

    focus = {
        id = RAJ_purge_the_reactionaries
        icon = GFX_focus_SOV_military_purge
        prerequisite = { focus = RAJ_founding_of_the_peoples_republic }
        x = -1
        y = 1
        relative_position_id = RAJ_founding_of_the_peoples_republic

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = democratic
                popularity = -0.35
            }

            add_popularity = {
                ideology = neutrality
                popularity = -0.35
            }
            remove_ideas = idea_RAJ_flames_of_the_revolution

            add_war_support = 0.05

        }
    }

    focus = {
        id = RAJ_agrarian_socialism
        icon = GFX_focus_SOV_breadbasket_of_the_union
        prerequisite = { focus = RAJ_purge_the_reactionaries }
        prerequisite = { focus = RAJ_constitution_for_the_masses  }
        x = -2
        y = 1
        mutually_exclusive = { focus = RAJ_urban_industrialism }
        relative_position_id = RAJ_purge_the_reactionaries

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_political_power = 60
            custom_effect_tooltip = RAJ_urban_industrialism_tt2
            effect_tooltip = {
                add_to_variable = { RAJ_fyp_supply_consumption_factor2 = -0.05 tooltip = supply_consumption_factor_tt }
                add_to_variable = { RAJ_fyp_stability_factor2 = 0.05 tooltip = stability_factor_tt }
                add_to_variable = { RAJ_fyp_compliance_growth2 = 0.05 tooltip = compliance_growth_tt }
            }
        }
    }


    focus = {
        id = RAJ_land_of_the_tillers
        icon = GFX_focus_generic_industrialists
        prerequisite = { focus = RAJ_agrarian_socialism }
        x = -3
        y = 1
        mutually_exclusive = {  }
        relative_position_id = RAJ_agrarian_socialism

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MANPOWER}

        completion_reward = {
            add_ideas = idea_RAJ_land_of_the_tillers
        }
    }

    focus = {
        id = RAJ_decentralize_the_party
        icon = GFX_focus_por_workers_of_iberia
        prerequisite = { focus = RAJ_agrarian_socialism }
        x = 1
        y = 1
        mutually_exclusive = {  }
        relative_position_id = RAJ_agrarian_socialism

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_ideas = idea_RAJ_decentralzied_leadership
        }
    }

 

    focus = {
        id = RAJ_five_year_plan
        icon = GFX_focus_generic_soviet_politics
        prerequisite = { focus = RAJ_decentralize_the_party focus = RAJ_central_comittee_authority }
        x = 3
        y = 2
        relative_position_id = RAJ_agrarian_socialism

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            add_dynamic_modifier = { modifier = idea_RAJ_five_year_plan }
            if = {
                limit = {
                    has_completed_focus = RAJ_urban_industrialism
                }
                
                add_to_variable = { RAJ_fyp_production_speed_buildings_factor = 0.1 tooltip = production_speed_buildings_factor_tt }
            }
            else_if = {
                limit = {
                    has_completed_focus = RAJ_agrarian_socialism
                }
                add_to_variable = { RAJ_fyp_supply_consumption_factor = -0.05 tooltip = supply_consumption_factor_tt }
                add_to_variable = { RAJ_fyp_stability_factor = 0.05 tooltip = stability_factor_tt }
                add_to_variable = { RAJ_fyp_compliance_growth = 0.05 tooltip = compliance_growth_tt }
            }
            else = {
                custom_effect_tooltip = RAJ_five_year_plan_tt

            }

            set_country_flag = RAJ_five_year_plan_flag
            add_research_slot = 1
        }
    }

    focus = {
        id = RAJ_soviet_influence
        icon = GFX_focus_generic_soviet_politics
        prerequisite = { focus = RAJ_five_year_plan }
        prerequisite = { focus = RAJ_central_comittee_authority }
        x = 3
        y = 1
        relative_position_id = RAJ_five_year_plan

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_dynamic_modifier = {
                modifier = idea_RAJ_five_year_plan
            }
        }

        bypass = {

        }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {

            set_party_name = {
                ideology = communism
                long_name = RAJ_communism_party_long
                name = RAJ_communism_party
            }
            custom_effect_tooltip = RAJ_five_year_plan_modify_tt
            add_to_variable = { RAJ_fyp_production_speed_industrial_complex_factor = 0.1 tooltip = production_speed_industrial_complex_factor_tt }
            add_to_variable = { RAJ_fyp_consumer_goods_factor = 0.1 tooltip = consumer_goods_factor_tt }
            if = {
                limit = {
                    has_dlc = "La Resistance"
                     has_intelligence_agency = no 
                }

                create_intelligence_agency = yes
            }
        }
    }

    focus = {
        id = RAJ_bhoodan_movement
        icon = GFX_focus_generic_farmland
        prerequisite = { focus = RAJ_land_of_the_tillers }
        x = 0
        y = 1
        relative_position_id = RAJ_land_of_the_tillers

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_STABILITY}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            every_core_state = {
                limit = {
                    is_owned_by = ROOT
                }
                random_select_amount = 3
                add_extra_state_shared_building_slots = 1
            }
            custom_effect_tooltip = generic_skip_one_line_tt

            add_war_support = -0.05
            add_timed_idea = {
                idea = idea_RAJ_bhoodan_movement
                days = 720
            }
        }
    }
    focus = {
        id = RAJ_the_peoples_liberation_army
        icon = GFX_focus_GER_support_the_proletarian_uprising
        prerequisite = { focus = RAJ_soviet_influence }
        x = 0
        y = 1
        relative_position_id = RAJ_soviet_influence

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_ideas = idea_RAJ_the_peoples_liberation_army
        }
    }

    focus = {
        id = RAJ_the_revolutionary_army_marches
        icon = GFX_focus_AFG_mountain_training #
        prerequisite = { focus = RAJ_the_peoples_liberation_army }
        x = 0
        y = 1
        relative_position_id = RAJ_the_peoples_liberation_army

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            swap_ideas = {
                remove_idea = idea_RAJ_the_peoples_liberation_army
                add_idea = idea_RAJ_the_peoples_liberation_army_2
            }
        }
    }

    focus = {
        id = RAJ_quality_training
        icon = GFX_focus_SWE_varnplikt
        prerequisite = { focus = RAJ_the_revolutionary_army_marches }
        x = 0
        y = 1
        relative_position_id = RAJ_the_revolutionary_army_marches

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            swap_ideas = {
                remove_idea = idea_RAJ_the_peoples_liberation_army_2
                add_idea = idea_RAJ_the_peoples_liberation_army_3
            }
        }
    }

    focus = {
        id = RAJ_iron_will_indoctrination
        icon = GFX_focus_SOV_organization_centralization_discipline
        prerequisite = { focus = RAJ_quality_training }
        x = 0
        y = 1
        relative_position_id = RAJ_quality_training

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            swap_ideas = {
                remove_idea = idea_RAJ_the_peoples_liberation_army_3
                add_idea = idea_RAJ_the_peoples_liberation_army_4
            }
        }
    }

   focus = {
        id = RAJ_reorganize_the_five_year_plan_towards_heavy_industry
        icon = GFX_focus_generic_industry_3
        prerequisite = { focus = RAJ_soviet_influence }
        x = 4
        y = 1
        relative_position_id = RAJ_soviet_influence

        #mutually_exclusive = { focus = RAJ_soviet_influence }

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_dynamic_modifier = {
                modifier = idea_RAJ_five_year_plan
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = RAJ_five_year_plan_modify_tt
            add_to_variable = { RAJ_fyp_production_speed_industrial_complex_factor = 0.1 tooltip = production_speed_industrial_complex_factor_tt }
        }
    }


    focus = {
        id = RAJ_invite_soviet_industrial_experts
        icon = GFX_goal_generic_construction2
        prerequisite = { focus = RAJ_reorganize_the_five_year_plan_towards_heavy_industry }
        x = 1
        y = 1
        relative_position_id = RAJ_reorganize_the_five_year_plan_towards_heavy_industry

       # mutually_exclusive = { focus = RAJ_reorganize_the_five_year_plan_towards_heavy_industry }

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_dynamic_modifier = {
                modifier = idea_RAJ_five_year_plan
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

        completion_reward = {
            custom_effect_tooltip = RAJ_five_year_plan_modify_tt
            add_to_variable = { RAJ_fyp_local_resources_factor = 0.1 tooltip = local_resources_factor_tt }
            add_tech_bonus = {
                name = RAJ_invite_soviet_industrial_experts
                bonus = 0.5
                uses = 1
                category = construction_tech # optional 
                ahead_reduction = 1
            }
        }
    }

    focus = {
        id = RAJ_soviet_indian_industrial_cooperation
        icon = GFX_focus_RAJ_seek_help_from_soviet
        prerequisite = { focus = RAJ_soviet_influence }
        x = 2
        y = 0
        relative_position_id = RAJ_reorganize_the_five_year_plan_towards_heavy_industry

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
            any_other_country = {
                    has_government = communism
                    is_faction_leader = yes
                    exists = yes
            }
        }

        bypass = {
            all_other_country = {
                OR = {
                    NOT = { has_government = communism }
                    is_faction_leader = no
                    exists = no
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_offsite_building = {
                type = industrial_complex
                level = 2
            }

            if = {
                limit = {
                    SOV = {
                        exists = yes
                        has_government = communism
                        is_faction_leader = yes
                    }
                }

                SOV = {
                    country_event = { id = generic.2 hours = 2 }
                }
            }
            else = {
                random_other_country = {
                    limit = {
                        has_government = communism
                        is_faction_leader = yes
                        exists = yes
                    }
                    country_event = { id = generic.2 hours = 2 }
                }
            }
        }
    }


    focus = {
        id = RAJ_planned_economy2
        icon = GFX_focus_SOV_merge_plants
        prerequisite = { focus = RAJ_invite_soviet_industrial_experts }
        x = 0
        y = 2
        relative_position_id = RAJ_invite_soviet_industrial_experts

       # mutually_exclusive = { focus = RAJ_reorganize_the_five_year_plan_towards_heavy_industry }

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_dynamic_modifier = {
                modifier = idea_RAJ_five_year_plan
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = RAJ_five_year_plan_modify_tt
            add_to_variable = { RAJ_fyp_consumer_goods_factor = 0.08 tooltip = consumer_goods_factor_tt }
            add_to_variable = { RAJ_fyp_local_resources_factor = 0.05 tooltip = local_resources_factor_tt }
            add_to_variable = { RAJ_fyp_production_speed_industrial_complex_factor = 0.05 tooltip = production_speed_industrial_complex_factor_tt }
            add_to_variable = { RAJ_fyp_production_lack_of_resource_penalty_factor = -0.15 tooltip = production_lack_of_resource_penalty_factor_tt }

        }
    }

    focus = {
        id = RAJ_focus_on_military_industry
        icon = GFX_focus_generic_military_industry
        prerequisite = { focus = RAJ_reorganize_the_five_year_plan_towards_heavy_industry }
        x = -1
        y = 1
        relative_position_id = RAJ_reorganize_the_five_year_plan_towards_heavy_industry

       # mutually_exclusive = { focus = RAJ_reorganize_the_five_year_plan_towards_heavy_industry }

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_dynamic_modifier = {
                modifier = idea_RAJ_five_year_plan
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = RAJ_five_year_plan_modify_tt
            add_to_variable = { RAJ_fyp_production_speed_arms_factory_factor = 0.05 tooltip = production_speed_arms_factory_factor_tt }
            add_to_variable = { RAJ_fyp_production_factory_efficiency_gain_factor = 0.1 tooltip = production_factory_efficiency_gain_factor_tt }
            add_to_variable = { RAJ_fyp_production_factory_max_efficiency_factor = 0.1 tooltip = production_factory_max_efficiency_factor_tt }
        }
    }

    focus = {
        id = RAJ_nationalize_gun_carriage_agency
        icon = GFX_focus_SWE_let_fly_all_guns
        prerequisite = { focus = RAJ_focus_on_military_industry }
        x = 0
        y = 2
        relative_position_id = RAJ_focus_on_military_industry

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_dynamic_modifier = {
                modifier = idea_RAJ_five_year_plan
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = RAJ_five_year_plan_modify_tt
            add_to_variable = { RAJ_fyp_consumer_goods_factor = 0.08 tooltip = consumer_goods_factor_tt }
            add_to_variable = { RAJ_fyp_production_speed_arms_factory_factor = 0.1 tooltip = production_speed_arms_factory_factor_tt }
            add_to_variable = { RAJ_fyp_production_factory_efficiency_gain_factor = 0.03 tooltip = production_factory_efficiency_gain_factor_tt }
            add_to_variable = { RAJ_fyp_production_factory_max_efficiency_factor = 0.03 tooltip = production_factory_max_efficiency_factor_tt }
        }
    }

    focus = {
        id = RAJ_continue_the_five_year_plan
        icon = GFX_focus_generic_printing_press
        prerequisite = { focus = RAJ_socialist_self_reliance  focus =  RAJ_nationalize_gun_carriage_agency focus = RAJ_planned_economy2 }
        x = -6
        y = 2
        relative_position_id = RAJ_nationalize_gun_carriage_agency

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_country_flag = {
                flag = RAJ_five_year_plan_flag
                days > 365
            }
           custom_trigger_tooltip = {
               tooltip = RAJ_five_year_plan_when_removed_tt
               has_country_flag = {
                   flag = RAJ_five_year_plan_flag
                   days > 365
               }
            }
            
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            custom_effect_tooltip = RAJ_continue_the_five_year_plan_tt
            set_variable = { RAJ_fyp_stability_factor_mult = RAJ_fyp_stability_factor }
            multiply_variable = { RAJ_fyp_stability_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_stability_factor = RAJ_fyp_stability_factor_mult }

            set_variable = { RAJ_fyp_production_speed_buildings_factor_mult = RAJ_fyp_production_speed_buildings_factor }
            multiply_variable = { RAJ_fyp_production_speed_buildings_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_production_speed_buildings_factor = RAJ_fyp_production_speed_buildings_factor_mult }

            set_variable = { RAJ_fyp_consumer_goods_factor_mult = RAJ_fyp_consumer_goods_factor }
            multiply_variable = { RAJ_fyp_consumer_goods_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_consumer_goods_factor = RAJ_fyp_consumer_goods_factor_mult }

            set_variable = { RAJ_fyp_research_speed_factor_mult = RAJ_fyp_research_speed_factor }
            multiply_variable = { RAJ_fyp_research_speed_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_research_speed_factor = RAJ_fyp_research_speed_factor_mult }

            set_variable = { RAJ_fyp_production_speed_industrial_complex_factor_mult = RAJ_fyp_production_speed_industrial_complex_factor }
            multiply_variable = { RAJ_fyp_production_speed_industrial_complex_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_production_speed_industrial_complex_factor = RAJ_fyp_production_speed_industrial_complex_factor_mult }

            set_variable = { RAJ_fyp_production_speed_arms_factory_factor_mult = RAJ_fyp_production_speed_arms_factory_factor }
            multiply_variable = { RAJ_fyp_production_speed_arms_factory_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_production_speed_arms_factory_factor = RAJ_fyp_production_speed_arms_factory_factor_mult }

            set_variable = { RAJ_fyp_production_speed_dockyard_factor_mult = RAJ_fyp_production_speed_dockyard_factor }
            multiply_variable = { RAJ_fyp_production_speed_dockyard_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_production_speed_dockyard_factor = RAJ_fyp_production_speed_dockyard_factor_mult }

            set_variable = { RAJ_fyp_production_factory_efficiency_gain_factor_mult = RAJ_fyp_production_factory_efficiency_gain_factor }
            multiply_variable = { RAJ_fyp_production_factory_efficiency_gain_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_production_factory_efficiency_gain_factor = RAJ_fyp_production_factory_efficiency_gain_factor_mult }

            set_variable = { RAJ_fyp_production_factory_max_efficiency_factor_mult = RAJ_fyp_production_factory_max_efficiency_factor }
            multiply_variable = { RAJ_fyp_production_factory_max_efficiency_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_production_factory_max_efficiency_factor = RAJ_fyp_production_factory_max_efficiency_factor_mult }

            set_variable = { RAJ_fyp_local_resources_factor_mult = RAJ_fyp_local_resources_factor }
            multiply_variable = { RAJ_fyp_local_resources_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_local_resources_factor = RAJ_fyp_local_resources_factor_mult }

            set_variable = { RAJ_fyp_production_lack_of_resource_penalty_factor_mult = RAJ_fyp_production_lack_of_resource_penalty_factor }
            multiply_variable = { RAJ_fyp_production_lack_of_resource_penalty_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_production_lack_of_resource_penalty_factor = RAJ_fyp_production_lack_of_resource_penalty_factor_mult }

            set_variable = { RAJ_fyp_line_change_production_efficiency_factor_mult = RAJ_fyp_line_change_production_efficiency_factor }
            multiply_variable = { RAJ_fyp_line_change_production_efficiency_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_line_change_production_efficiency_factor = RAJ_fyp_line_change_production_efficiency_factor_mult }

            set_variable = { RAJ_fyp_production_factory_start_efficiency_factor_mult = RAJ_fyp_production_factory_start_efficiency_factor }
            multiply_variable = { RAJ_fyp_production_factory_start_efficiency_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_production_factory_start_efficiency_factor = RAJ_fyp_production_factory_start_efficiency_factor_mult }

            set_variable = { RAJ_fyp_industry_air_damage_factor_mult = RAJ_fyp_industry_air_damage_factor }
            multiply_variable = { RAJ_fyp_industry_air_damage_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_industry_air_damage_factor = RAJ_fyp_industry_air_damage_factor_mult }

            set_variable = { RAJ_fyp_global_building_slots_factor_mult = RAJ_fyp_global_building_slots_factor }
            multiply_variable = { RAJ_fyp_global_building_slots_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_global_building_slots_factor = RAJ_fyp_global_building_slots_factor_mult }

            set_variable = { RAJ_fyp_industrial_capacity_factory_mult = RAJ_fyp_industrial_capacity_factory }
            multiply_variable = { RAJ_fyp_industrial_capacity_factory_mult = 1.3 }
            set_variable = { RAJ_fyp_industrial_capacity_factory = RAJ_fyp_industrial_capacity_factory_mult }

            set_variable = { RAJ_fyp_compliance_growth_mult = RAJ_fyp_compliance_growth }
            multiply_variable = { RAJ_fyp_compliance_growth_mult = 1.3 }
            set_variable = { RAJ_fyp_compliance_growth = RAJ_fyp_compliance_growth_mult }

            set_variable = { RAJ_fyp_supply_consumption_factor_mult = RAJ_fyp_supply_consumption_factor }
            multiply_variable = { RAJ_fyp_supply_consumption_factor_mult = 1.3 }
            set_variable = { RAJ_fyp_supply_consumption_factor = RAJ_fyp_supply_consumption_factor_mult }

            add_research_slot = 1
        }
    }

    focus = {
        id = RAJ_urban_industrialism
        icon = GFX_focus_generic_join_comintern
        prerequisite = { focus = RAJ_purge_the_reactionaries }
        prerequisite = { focus = RAJ_constitution_for_the_masses  }
        x = 6
        y = 0
        mutually_exclusive = { focus = RAJ_agrarian_socialism }
        relative_position_id = RAJ_agrarian_socialism

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            custom_effect_tooltip = RAJ_urban_industrialism_tt
            
        }
    }

    focus = {
        id = RAJ_focus_on_the_countryside
        icon = GFX_focus_generic_land_reclamation
        prerequisite = { focus = RAJ_agrarian_socialism }
        x = 2
        y = 0
        mutually_exclusive = {  }
        relative_position_id = RAJ_land_of_the_tillers

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            OR = {
                controls_state = 436
                controls_state = 427
                controls_state = 984
                controls_state = 435
                controls_state = 426
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    controls_state = 436
                }

                436 = {
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_rural_development
                    }
                }
            }

            if = {
                limit = {
                    controls_state = 427
                }
                427 = {
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_rural_development
                    }
                }
            }

            if = {
                limit = {
                    controls_state = 984
                }
                984 = {
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_rural_development
                    }
                }
            }

            if = {
                limit = {
                    controls_state = 435
                }
                435 = {
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_rural_development
                    }
                }
            }

            if = {
                limit = {
                    controls_state = 426
                }
                426 = {
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_rural_development
                    }
                }
            }
        }
    }


   focus = {
        id = RAJ_indian_socialism
        
        icon = GFX_focus_RAJ_seek_help_from_soviet 
        prerequisite = { focus = RAJ_five_year_plan }
        prerequisite = { focus = RAJ_decentralize_the_party }
        x = -3
        y = 1
        relative_position_id = RAJ_five_year_plan


        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_dynamic_modifier = {
                modifier = idea_RAJ_five_year_plan
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}

        completion_reward = {
            set_party_name = {
                ideology = communism
                long_name = RAJ_communism_party_long
                name = RAJ_communism_party
            }
            set_rule = { 
                can_create_factions  = yes #
            }

            custom_effect_tooltip = RAJ_five_year_plan_modify_tt
            add_to_variable = { RAJ_fyp_stability_factor = 0.05 tooltip = stability_factor_tt }
            add_to_variable = { RAJ_fyp_research_speed_factor = 0.05  tooltip = research_speed_factor_tt }
        }
    }

    focus = {
        id = RAJ_indian_national_highways
        icon = GFX_focus_generic_road_investment
        prerequisite = { focus = RAJ_indian_socialism focus = RAJ_soviet_influence }
        x = 2
        y = 1
        relative_position_id = RAJ_indian_socialism

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_owned_controlled_state = {
                limit = {
                    infrastructure < 4
                }
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
            random_owned_controlled_state = {
                limit = {
                    infrastructure < 5
                }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    
    focus = {
        id = RAJ_expand_industry_in_hyderabad
        icon = GFX_focus_CHL_enlarge_the_textile_industries
        prerequisite = { focus = RAJ_indian_socialism focus = RAJ_soviet_influence }
        x = 2
        y = 0
        relative_position_id = RAJ_indian_national_highways

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_controlled_state = {
                limit = {
                    is_owned_and_controlled_by = RAJ
                }
                prioritize = { 427 }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }

                add_resource = {
                    type = steel
                    amount = 9
                }
            }
        }
    }


    focus = {
        id = RAJ_nationalize_tata_group
        icon = GFX_focus_DEN_heavy_regulations
        prerequisite = { focus = RAJ_indian_national_highways focus = RAJ_expand_industry_in_hyderabad }
        x = 1
        y = 1
        relative_position_id = RAJ_indian_national_highways

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            controls_state = 429
            has_completed_focus = RAJ_tata_steel_dlc
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_core_state = {
                limit = {
                    is_owned_and_controlled_by = RAJ
                }
                prioritize = { 429 }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                    instant_build = yes
                }
            }

            429 = {
                add_resource = {
                    type = steel
                    amount = 18
                }
            }
        }
    }

    focus = {
        id = RAJ_break_the_zamindars
        icon = GFX_focus_SOV_the_last_purge
        prerequisite = { focus = RAJ_indian_socialism }
        x = -5
        y = 1
        relative_position_id = RAJ_indian_socialism


        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_zamindars_broken
                days = 180
            }
            custom_effect_tooltip = idea_RAJ_break_the_zamindars_tt

            custom_effect_tooltip = newline_tt

            custom_effect_tooltip = RAJ_five_year_plan_modify_tt 
            add_to_variable = { RAJ_fyp_stability_factor = 0.05 tooltip = stability_factor_tt }
            add_to_variable = { RAJ_fyp_compliance_growth = 0.05 tooltip = compliance_growth_tt }

            custom_effect_tooltip = newline_tt

            add_political_power = 60
        }
    }

    focus = {
        id = RAJ_education_for_the_masses
        icon = GFX_focus_generic_socialist_science
        prerequisite = { focus = RAJ_indian_socialism }
        x = 2
        y = 0
        relative_position_id = RAJ_break_the_zamindars


        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_education_for_the_masses
                #bonus = <float>
                uses = 1
                category = computing_tech # optional 
                ahead_reduction = 2
                # technology  = technology_id # optional
            }

            custom_effect_tooltip = newline_tt
            
            custom_effect_tooltip = RAJ_five_year_plan_modify_tt 
            add_to_variable = { RAJ_fyp_research_speed_factor = 0.05  tooltip = research_speed_factor_tt }
        }
    }

    focus = {
        id = RAJ_central_comittee_authority
        icon = GFX_goal_generic_war_with_comintern
        prerequisite = { focus = RAJ_urban_industrialism }
        x = -1
        y = 1
        mutually_exclusive = {  }
        relative_position_id = RAJ_urban_industrialism

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "La Resistance"
                }
                add_ideas = idea_RAJ_central_comittee_authority
            }
            else = {
                add_ideas = idea_RAJ_central_comittee_authority_no_lar
            }
        }
    }

    focus = {
        id = RAJ_planned_but_decentralized
        icon = GFX_focus_prc_agrarian_socialism
        prerequisite = { focus = RAJ_education_for_the_masses focus = RAJ_break_the_zamindars }
        x = -1
        y = 2
        relative_position_id = RAJ_education_for_the_masses


        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = RAJ_five_year_plan_modify_tt
            add_to_variable = { RAJ_fyp_line_change_production_efficiency_factor = 0.1 tooltip = line_change_production_efficiency_factor_tt }
            add_to_variable = { RAJ_fyp_production_factory_start_efficiency_factor = 0.05  tooltip = production_factory_start_efficiency_factor_tt }
            add_to_variable = { RAJ_fyp_industrial_capacity_factory = -0.05 tooltip = industrial_capacity_factory_tt }
            add_to_variable = { RAJ_fyp_compliance_growth = 0.1 tooltip = compliance_growth_tt }

           # add_to_variable = { RAJ_fyp_industry_air_damage_factor = -0.1  tooltip = industry_air_damage_factor_tt }             
        }
    }

    focus = {
        id = RAJ_comrades_of_the_city
        icon = GFX_focus_SWE_landsverk
        prerequisite = { focus = RAJ_urban_industrialism }
        x = 2
        y = 0
        mutually_exclusive = {  }
        relative_position_id = RAJ_central_comittee_authority

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
            controls_state = 439
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {   
            439 = {
                add_dynamic_modifier = {
                    modifier = idea_RAJ_large_scale_urbanization

                }
                add_resource = {
                    type = aluminium
                    amount = 8
                }

                add_resource = {
                    type = tungsten
                    amount = 4
                }
                add_resource = {
                    type = steel
                    amount = 4
                }
            }
        }
    }

    focus = {
        id = RAJ_socialist_self_reliance
        icon = GFX_goal_generic_soviet_construction
        prerequisite = { focus = RAJ_planned_but_decentralized }
        x = 0
        y = 1
        relative_position_id = RAJ_planned_but_decentralized


        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = RAJ_five_year_plan_modify_tt
            add_to_variable = { RAJ_fyp_production_lack_of_resource_penalty_factor = -0.10 tooltip = production_lack_of_resource_penalty_factor_tt }
            add_to_variable = { RAJ_fyp_local_resources_factor = 0.10 tooltip = local_resources_factor_tt }
            add_to_variable = { RAJ_fyp_global_building_slots_factor = 0.15  tooltip = global_building_slots_factor_tt }

           # add_to_variable = { RAJ_fyp_industry_air_damage_factor = -0.1  tooltip = industry_air_damage_factor_tt }             
        }
    }

    focus = {
        id = RAJ_arm_the_peasantry
        icon = GFX_focus_generic_workers_and_farmers_rise
        prerequisite = { focus = RAJ_indian_socialism }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_socialism


        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER }

        completion_reward = {
            add_ideas = idea_RAJ_armed_peasantry      
        }
    }

    focus = {
        id = RAJ_every_man_a_gun
        icon = GFX_focus_ITA_corpo_volontari_della_liberta
        prerequisite = { focus = RAJ_arm_the_peasantry }
        x = 0
        y = 1
        relative_position_id = RAJ_arm_the_peasantry


        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            swap_ideas = {
                 remove_idea = idea_RAJ_armed_peasantry
                 add_idea = idea_RAJ_armed_peasantry_2
             }
        }
    }


    focus = {
        id = RAJ_every_man_a_leader
        icon =GFX_focus_SOV_penal_battalions 
        prerequisite = { focus = RAJ_every_man_a_gun }
        x = 0
        y = 1
        relative_position_id = RAJ_every_man_a_gun


        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            swap_ideas = {
                remove_idea = idea_RAJ_armed_peasantry_2
                add_idea = idea_RAJ_armed_peasantry_3
             }
             random_army_leader = {
                add_trait = {
                    trait = skilled_staffer
                }
             }
        }
    }

    focus = {
        id = RAJ_defenders_of_the_revolution
        icon = GFX_focus_SOV_proclaim_soviet_hegemony
        prerequisite = { focus = RAJ_every_man_a_leader }
        x = 0
        y = 1
        relative_position_id = RAJ_every_man_a_leader


        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER}

        completion_reward = {
            custom_effect_tooltip = RAJ_defenders_of_the_revolution_idea_tt
            custom_effect_tooltip = tech_effect|revolutionary_mass_assault
            hidden_effect = {
                set_technology = {
                    revolutionary_mass_assault = 1
                    popup = no
                }
            }
        }
    }

    focus = {
        id = RAJ_industrialize_the_ganges
        icon = GFX_focus_generic_hydroelectric_energy
        prerequisite = { focus = RAJ_urban_industrialism }
        x = 2
        y = 0
        mutually_exclusive = {  }
        relative_position_id = RAJ_comrades_of_the_city

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            controls_state = 435
            controls_state = 431
            controls_state = 430
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            435 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dam
                    level = 1
                    instant_build = yes
                    province = {
                        id = 4516
                    }
                }
            }

            431 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dam
                    level = 1
                    instant_build = yes
                    province = {
                        id = 4245
                    }
                }
            }

            430 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dam
                    level = 1
                    instant_build = yes
                    province = {
                        id = 11929
                    }
                }
            }
            custom_effect_tooltip = {
                localization_key = building_state_modifier|dam
                INDENT = "    "
            }
        }
    }


    focus = {
        id = RAJ_constitution_for_the_masses
        icon = GFX_focus_generic_treaty
        prerequisite = { focus = RAJ_founding_of_the_peoples_republic }
        x = 2
        y = 0
        relative_position_id = RAJ_purge_the_reactionaries

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.1
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
        }
    }

    focus = {
        id = RAJ_the_red_curtain_falls_over_asia
        icon = GFX_focus_ger_great_red_menace
        prerequisite = { focus = RAJ_royal_indian_navy_mutiny }
        x = 10
        y = 1
        mutually_exclusive = {  }
        relative_position_id = RAJ_royal_indian_navy_mutiny

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            custom_effect_tooltip = RAJ_the_red_curtain_falls_over_asia_desc_tt
        }
    }

    focus = {
        id = RAJ_jugantar
        icon = GFX_focus_focus_fra_maquis
        prerequisite = { focus = RAJ_the_red_curtain_falls_over_asia }
        x = 1
        y = 1
        relative_position_id = RAJ_the_red_curtain_falls_over_asia

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

            OR = {
                PAK = { exists = no }
                PAK = { is_subject_of = ROOT }
                has_war_with = PAK
                AND = {
                    PAK = { NOT = { controls_state = 430 } }
                    PAK = { NOT = { controls_state = 431 } }
                }
            }
        }

        bypass_effect = {
            army_experience = 50
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            custom_effect_tooltip = RAJ_jugantar_tt
            army_experience = 50
        }
    }

    focus = {
        id = RAJ_protest_against_the_howell_monument
        icon = GFX_focus_RAJ_protest_against_the_howell_monument
        prerequisite = { focus = RAJ_forward_bloc }
        x = -2
        y = 0
        relative_position_id = RAJ_promote_violence_against_the_british
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            unlock_decision_tooltip = {
                decision = RAJ_GOE_foment_independence_tension
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
        }
    }

    focus = {
        id = RAJ_indian_legion
        icon = GFX_focus_RAJ_seek_help_from_germany
        prerequisite = { focus = RAJ_protest_against_the_howell_monument }
        x = -5
        y = 1
        relative_position_id = RAJ_protest_against_the_howell_monument
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            add_ideas = idea_RAJ_indian_legion
            custom_effect_tooltip = generic_skip_one_line_tt
            random_army_leader = {
                limit = {
                    NOT = { has_trait = desert_fox }
                }
                add_unit_leader_trait = desert_fox
            }
        }
    }

    focus = {
        id = RAJ_exile_princes
        icon = GFX_focus_rom_parties_end
        prerequisite = { focus = RAJ_the_red_curtain_falls_over_asia }
        x = -1
        y = 1
        relative_position_id = RAJ_the_red_curtain_falls_over_asia

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            custom_effect_tooltip = generic_skip_one_line_tt
            add_timed_idea = {
                idea = idea_RAJ_confiscated_princely_wealth
                days = 740
            }
            set_country_flag = RAJ_exiled_princes_flag
        }
    }

    focus = {
        id = RAJ_integrate_the_princes
        icon = GFX_focus_rom_handle_king
        prerequisite = { focus = RAJ_exile_princes }
        x = 0
        y = 1
        relative_position_id = RAJ_exile_princes

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }

        bypass = {

        }

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters={FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            custom_effect_tooltip = RAJ_india_indivisible_tt
        }

    }

    focus = {
        id = RAJ_infiltrate_aden
        icon = GFX_focus_generic_infiltration
        prerequisite = { focus = RAJ_indian_legion focus = RAJ_go_into_hiding }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_legion
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            NOT = { has_completed_focus = RAJ_give_me_blood_and_i_will_grant_you_freedom }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            custom_effect_tooltip = RAJ_infiltrate_aden_tt
        }
    }

    focus = {
        id = RAJ_go_into_hiding
        icon = GFX_focus_RAJ_go_into_hiding
        prerequisite = { focus = RAJ_protest_against_the_howell_monument }
        x = -3
        y = 1
        relative_position_id = RAJ_protest_against_the_howell_monument
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            NOT = { has_country_flag = has_arrested_bose }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_bose_hiding_raj
                days = 50
            }
            custom_effect_tooltip = RAJ_go_into_hiding_tt              
        }
    }

    focus = {
        id = RAJ_seek_domestic_allies
        icon = GFX_focus_generic_national_security
        prerequisite = { focus = RAJ_go_into_hiding }
        x = 0
        y = 1
        relative_position_id = RAJ_go_into_hiding
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}

        completion_reward = {
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_GOE_ukkirapandi_muthuramalinga_thevar
            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_GOE_sarat_bose
            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = available_chief_of_army
            show_ideas_tooltip = RAJ_mohan_singh 
            
        }
    }

    focus = {
        id = RAJ_give_me_blood_and_i_will_grant_you_freedom
        icon = GFX_focus_RAJ_give_me_blood_and_i_will_grant_you_freedom
        prerequisite = { focus = RAJ_protest_against_the_howell_monument  }
        prerequisite = { focus =   RAJ_promote_violence_against_the_british }
        x = 1
        y = 1
        relative_position_id = RAJ_protest_against_the_howell_monument
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            any_controlled_state = {
                resistance > 65
                is_in_array = {
                    array = RAJ.owned_states_at_game_start
                    value = THIS
                }
                NOT = {
                    state = 992 #Aden
                }
            }
            has_capitulated = no
            has_war_support > 0.5
        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {

            hidden_effect = {
                set_country_flag = stop_unrest_events
                clr_country_flag = RAJ_hide_no_garrison
                if = {
                    limit = {
                        is_subject = yes
                    }
                    overlord = {
                        set_autonomy = {
                            target = RAJ
                            autonomy_state = autonomy_free
                            freedom_level = 1 # 0-1 
                            end_wars  = no # default yes. will not cancel non civil wars if set to no
                            end_civil_wars = no # default yes. will not cancel civil wars if set to no
                        }
                    }
                }
                else = { hidden_effect = { set_country_flag = RAJ_was_not_subject_of_eng } }
                    every_country = {
                        limit = {
                            has_war_with = RAJ
                            NOT = {
                                RAJ = {
                                    any_owned_state = {
                                        is_controlled_by = PREV.PREV
                                    }
                                }
                            }
                        }
                        white_peace = RAJ
                    }
            }

            custom_effect_tooltip = RAJ_give_me_blood_and_i_will_grant_you_freedom_tt
            division_template = {
                name = "Azad Hind Legion"
                is_locked = no
                #division_names_group = NAMELIST_ID # optional
                priority = 0 # optional 
                regiments = {
                    infantry = { x = 0 y = 0 }
                    infantry = { x = 1 y = 0 }
                    infantry = { x = 0 y = 1 }
                    infantry = { x = 1 y = 1 }
                }
                support = {
                    
                }
            }


            hidden_effect = {
            start_civil_war = {
                ideology = democratic
                ruling_party = neutrality
                size = 1 # (0-1) Size modifier of the revolt. Affects stockpile, army, air and navy as well
                states = all
                states_filter = { resistance < 65 }
                keep_all_characters = yes
                keep_political_party_members = yes

                hidden_effect = {
                    ROOT = {
                        drop_cosmetic_tag = yes
                    }

                    RAJ = { set_variable = { revolter_tag = PREV } }
                        ROOT = {
                            every_unit_leader = {
                                limit = { has_trait = loyalty_to_india }
                                set_nationality = PREV.PREV
                            }
                        }
                        division_template = {
                            name = "District Garrison"
                            is_locked = no
                            #division_names_group = NAMELIST_ID # optional
                            priority = 0 # optional 
                            regiments = {
                                infantry = { x = 0 y = 0 }
                                infantry = { x = 0 y = 1 }
                                infantry = { x = 0 y = 2 }
                                infantry = { x = 1 y = 0 }
                                infantry = { x = 1 y = 1 }
                                infantry = { x = 1 y = 2 }
                                infantry = { x = 2 y = 0 }
                                infantry = { x = 2 y = 1 }
                                infantry = { x = 2 y = 2 }     
                            }
                            support = {
                                
                            }
                        }

                        ####### Add Tank division #######
                        if = {  
                            limit = { has_dlc = "No Step Back"}
                            set_technology = {
                                basic_medium_tank_chassis = 1
                                popup = no
                            }
                            create_equipment_variant = {
                                name = "Cruiser Mk. IV"
                                type = medium_tank_chassis_1 # equipment type id, example: ship_hull_carrier_2 

                                upgrades = {
                                    tank_nsb_engine_upgrade = 7
                                    tank_nsb_armor_upgrade = 3
                                }
                                
                                modules = {      
                                    main_armament_slot = tank_small_cannon_2
                                    engine_type_slot = tank_gasoline_engine
                                    special_type_slot_1 = tank_radio_1
                                    turret_type_slot = tank_medium_three_man_tank_turret
                                    suspension_type_slot = tank_christie_suspension
                                    armor_type_slot = tank_riveted_armor
                                }
                                model = ENG_medium_armor_1_entity # optional. Example: GER_light_armor_2_entity
                            }

                            add_equipment_to_stockpile = { 
                                type = medium_tank_chassis_1
                                variant_name = "Cruiser Mk. IV"
                                amount = 350 
                                producer = ENG
                            }

                        }
                        else = {
                            add_equipment_to_stockpile = { 
                                type = medium_tank_equipment_1 
                                amount = 350 
                                producer = ENG
                            }
                        }

                        division_template = {
                            name = "Royal Tank Division"
                            division_names_group = ENG_ARM_01
                            is_locked = no
                            #division_names_group = NAMELIST_ID # optional
                            priority = 2 # optional 
                            regiments = {
                                medium_armor = { x = 0 y = 0 }
                                medium_armor = { x = 0 y = 1 }
                                medium_armor = { x = 0 y = 2 }
                                medium_armor = { x = 0 y = 3 }
                                medium_armor = { x = 0 y = 4 }

                                cavalry = { x = 1 y = 0 }
                                cavalry = { x = 1 y = 1 }
                                cavalry = { x = 1 y = 2 }
                                cavalry = { x = 1 y = 3 }
                                cavalry = { x = 1 y = 4 }
            
                            }
                            support = {
                                
                            }
                        }
                    }
                    ####### Add Tank division #######
                }
                #First check if the "other" raj has any valid state that it can possily have as a capital
               # bose_civil_war_capital_check = yes
               clr_country_flag = bose_opponent_has_valid_capital
                ### Restore cores and spawn divisions ####
                for_each_scope_loop = {
                    array =  RAJ.owned_states_at_game_start 
                    if = {
                        limit = {  
                            has_resistance = yes
                            resistance > 85 
                        }

                        ROOT = { 
                            transfer_state  = PREV 
                        }
                        add_core_of = ROOT

                        create_unit = {
                            division = "name = \"Azad Hind Legion\" division_template = \"Azad Hind Legion\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                            owner = ROOT
                            allow_spawning_on_enemy_provs = yes 
                            count = 3
                        }
                        set_resistance = 0
                    }
                    else_if = {
                        limit = { 
                            has_resistance = yes
                            resistance > 65 
                            resistance < 85
                        }

                        ROOT = { 
                            transfer_state  = PREV 
                        }
                        add_core_of = ROOT

                        create_unit = {
                            division = "name = \"Azad Hind Legion\" division_template = \"Azad Hind Legion\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                            owner = ROOT
                            allow_spawning_on_enemy_provs = yes 
                            count = 1
                        }
                        set_resistance = 0
                    }
                    else = {
                        create_unit = {
                            division = "name = \"District Garrison\" division_template = \"District Garrison\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                            owner = var:RAJ.revolter_tag
                            allow_spawning_on_enemy_provs = yes 
                            count = 1
                        }

                        if = {
                            limit = {
                                NOT = { RAJ = { has_country_flag = bose_opponent_has_valid_capital } }
                            }
                            RAJ = { set_country_flag = bose_opponent_has_valid_capital }
                        }
                    }

                    if = {
                        limit = { has_state_flag = pre_bose_core }
                        force_disable_resistance = { 
                            clear = no #if yes, will clear previously disabled resistance
                            occupier = RAJ
                            occupied = DIP
                        }
                        remove_core_of = DIP 
                        add_core_of = RAJ
                    }

                }

                random_state = { #this used to be a part of the for loop by mistake, leading to the funniest bug report i have ever read: "notice there are 34 newly spawned tank divisions" 
                    limit = {
                        is_controlled_by = PREV
                    }
                    create_unit = {
                        division = "name = \"Royal Tank Division\" division_template = \"Royal Tank Division\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                        owner = var:RAJ.revolter_tag
                        allow_spawning_on_enemy_provs = yes 
                        count = 1
                    }
                }
                
                ### Restore cores and spawn divisions ####

                random_state = {
                   limit = {
                        NOT = { state = 439 }
                        is_in_array = {
                            array = RAJ.owned_states_at_game_start
                            value = THIS
                        }
                        is_controlled_by = ROOT
                   }
                   RAJ = {
                       set_capital  = {
                           state = PREV
                           remember_old_capital = yes #default = yes
                       }
                   }
               }
           }

            ###### #Call Japan In #######
            if = {
                limit = {
                    JAP = {
                        exists = yes
                        is_subject = no
                        has_country_flag = agreed_to_help_bose
                    }
                }

                JAP = { country_event = { id = GOE_RAJ.10 hours = 1  } }
            }

            if = {
                limit = { is_in_faction_with = ENG }
                leave_faction = yes
            }



            if = {
                limit = { RAJ = { has_country_flag = bose_opponent_has_valid_capital } }

                every_other_country = {
                    limit = {
                        original_tag = RAJ
                    }
                    set_variable = { RAJ.RAJ_capital_fit_count = 0 }
                    every_controlled_state = { #try prevent cheese by the player surrounding the capital pre-cw by only picking high resistance states around the enemy capital by picking a capital that at least has an adjectent controlled state
                        set_variable = { RAJ.RAJ_state_fit_count = 0 }

                        every_neighbor_state = {
                            limit = {
                                is_in_array = {
                                    array = RAJ.owned_states_at_game_start
                                    value = THIS
                                }
                                is_controlled_by = RAJ.revolter_tag
                            }

                            add_to_variable = { RAJ.RAJ_state_fit_count = 1 }
                        }

                        if = {
                            limit = { check_variable = { RAJ.RAJ_state_fit_count  > RAJ.RAJ_capital_fit_count } }

                            set_variable = { RAJ.RAJ_capital_fit_count = RAJ.RAJ_state_fit_count }
                            set_variable = { RAJ.best_capital_fit =  THIS }
                            
                        }
                    }
                }
            }
            else = { #If not a random indian state becomes the capital to avoid edge cases where you dont white peace out the other raj
                random_scope_in_array = {
                    array = RAJ.owned_states_at_game_start 
                    limit = { 
                        is_controlled_by = ROOT 
                        NOT = { state = 992 }
                    } 
                    

                    for_each_scope_loop = {
                        array = RAJ.owned_states_at_game_start 
                        add_to_array = { RAJ.owned_states_copy = THIS }
                    }

                    remove_from_array = {
                        array = RAJ.owned_states_copy
                        value = THIS 
                    }
                    var:RAJ.revolter_tag = { transfer_state = PREV }
                    THIS = {
                        teleport_armies = { 
                            limit = {

                                has_war_with = var:RAJ.revolter_tag
                            }
                            to_state_array = RAJ.owned_states_copy
                        }
                    }

                    clear_array = RAJ.owned_states_copy
                }

                if = {
                    limit = { NOT = { has_war_with = var:revolter_tag } }
                    declare_war_on = {
                        target = var:revolter_tag
                        type = annex_everything
                    }
                }
            }

            var:RAJ.revolter_tag = {
                #if = {
                #    limit = { NOT = { has_country_flag =  RAJ_was_not_subject_of_eng }}
                #    ENG = {
                #        set_autonomy = {
                #            target=PREV
                #            autonomy_state = autonomy_puppet
                #            freedom_level = 0.5 
                #            end_wars  = no 
                #            end_civil_wars = no 
                #        }
                #    }
                #
                #    overlord = {
                #        add_to_war = {
                #            targeted_alliance = PREV
                #            enemy = RAJ
                #            hostility_reason = asked_to_join
                #        }
                #    }
                #}

                if = {
                    limit = { check_variable = { RAJ.capital_fit_count > 0 } }

                    set_capital = {
                          state = var:RAJ.best_capital_fit
                      } 
                    
                }
                else = {
                    random_controlled_state = {
                         PREV = { set_capital = { state = PREV } }
                    }
                   PREV = { set_capital = { state = PREV } }
                }

                if = {
                    limit = {
                        RAJ = { has_country_flag = has_arrested_bose }
                    }

                    capital_scope = { set_variable = { global.bose_arrest_location = THIS } }
                }
            }
            ### ADEN ###
            if = {
                limit = {
                    has_completed_focus = RAJ_infiltrate_aden
                }

                if = {
                    limit = {
                        659 = { 
                            controller = {  
                                OR = {
                                    original_tag = ENG
                                    is_in_faction_with = ENG
                                }
                            } 
                        }
                    }
                    659 = {
                        create_unit = {
                            division = "name = \"Azad Hind Legion\" division_template = \"Azad Hind Legion\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                            owner = ROOT
                            allow_spawning_on_enemy_provs = yes 
                            count = 2
                        }
                    }

                }

                if = {
                    limit = {
                        906 = { 
                            controller = {  
                                OR = {
                                    original_tag = ENG
                                    is_in_faction_with = ENG
                                }
                            } 
                        }
                    }
                    906 = {
                        create_unit = {
                            division = "name = \"Azad Hind Legion\" division_template = \"Azad Hind Legion\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                            owner = ROOT
                            allow_spawning_on_enemy_provs = yes 
                            count = 2
                        }
                    }

                }

                if = {
                    limit = {
                        658 = { 
                            controller = {  
                                OR = {
                                    original_tag = ENG
                                    is_in_faction_with = ENG
                                }
                            } 
                        }
                    }
                    658 = {
                        create_unit = {
                            division = "name = \"Azad Hind Legion\" division_template = \"Azad Hind Legion\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                            owner = ROOT
                            allow_spawning_on_enemy_provs = yes 
                            count = 2
                        }
                    }

                }

                if = {
                    limit = {
                        765 = { 
                            controller = {  
                                OR = {
                                    original_tag = ENG
                                    is_in_faction_with = ENG
                                }
                            } 
                        }
                    }
                    765 = {
                        create_unit = {
                            division = "name = \"Azad Hind Legion\" division_template = \"Azad Hind Legion\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                            owner = ROOT
                            allow_spawning_on_enemy_provs = yes 
                            count = 2
                        }
                    }

                }

                if = {
                    limit = {
                        422 = { 
                            controller = {  
                                OR = {
                                    original_tag = ENG
                                    is_in_faction_with = ENG
                                }
                            } 
                        }
                    }
                    422 = {
                        create_unit = {
                            division = "name = \"Azad Hind Legion\" division_template = \"Azad Hind Legion\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                            owner = ROOT
                            allow_spawning_on_enemy_provs = yes 
                            count = 2
                        }
                    }

                }

                if = {
                    limit = {
                        656 = { 
                            controller = {  
                                OR = {
                                    original_tag = ENG
                                    is_in_faction_with = ENG
                                }
                            } 
                        }
                    }
                    declare_war_on = {
                        target = 656.controller
                        type = annex_everything
                    }
                    656 = {
                        create_unit = {
                            division = "name = \"Azad Hind Legion\" division_template = \"Azad Hind Legion\" start_experience_factor = 0.2 start_equipment_factor = 1 start_manpower_factor = 1"
                            owner = ROOT
                            allow_spawning_on_enemy_provs = yes 
                            count = 2
                        }
                    }
                }
            }

            if = {
                limit = { has_completed_focus = RAJ_seek_japanese_support }

                add_ideas = idea_RAJ_japanese_army_advisors
                if = {
                    limit = {
                        has_dlc = "By Blood Alone"
                    }

                    create_equipment_variant = {
                        name = "B4Y"
                        type = cv_small_plane_naval_bomber_airframe_1
                        modules = {
                            fixed_main_weapon_slot = torpedo_mounting
                            fixed_auxiliary_weapon_slot_1 = bomb_locks
                            engine_type_slot = engine_2_1x
                            special_type_slot_1 = empty
                        }
                        icon = "GFX_JAP_cv_naval_bomber1_medium"
                    }

                    add_equipment_to_stockpile = { 
                        type = cv_small_plane_naval_bomber_airframe_1
                        variant_name = "B4Y"
                        amount = 120 
                        producer = JAP
                    }


                    create_equipment_variant = {
                        name = "Ki-10"
                        type = small_plane_airframe_0
                        modules = {
                            fixed_main_weapon_slot = light_mg_2x
                            engine_type_slot = engine_1_1x
                            special_type_slot_1 = empty
                        }
                    }

                    add_equipment_to_stockpile = { 
                        type = small_plane_airframe_0
                        variant_name = "Ki-10"
                        amount = 135 
                        producer = JAP
                    }


                    
                }
                else = {
                    add_equipment_to_stockpile = { 
                        type = nav_bomber_equipment_1
                        amount = 120 
                        producer = JAP
                    }

                    add_equipment_to_stockpile = { 
                        type = fighter_equipment_0 
                        amount = 135 
                        producer = JAP
                    }
                }
            }

            var:revolter_tag = {
                set_cosmetic_tag = RAJ_UK
            }
          
           every_other_country = {
                limit = {
                    original_tag = RAJ
                    has_cosmetic_tag = RAJ_UK
                    has_war_with = ROOT
                }
                RAJ = {
                    every_unit_leader = {
                        limit = {
                            has_trait = loyalty_to_britain
                        }
                        set_nationality = PREV.PREV
                    }
                    RAJ_lord_linlithgow = {
                        set_nationality = PREV.PREV
                        add_country_leader_role = {
                            promote_leader = yes
                            country_leader = {
                                ideology = conservatism
                            }
                        }
                    }
                }
           }

            RAJ = {
                if = {
                    limit = {
                        NOT = { has_country_flag = has_arrested_bose }
                    }

                    add_country_leader_role = {
                        character = RAJ_subhas_chanda_bose
                        promote_leader = yes
                        country_leader={
                            ideology=centrism
                            expire="1965.1.1.1"
                            traits = { nationalistic_freedom_fighter }
                            id=-1
                        }
                    }
                }
                else = {
                    add_country_leader_role = {
                        character = RAJ_subhas_chanda_bose
                        promote_leader = yes
                        country_leader = {
                            ideology = centrism
                            expire = "1965.1.1.1"
                            traits = { in_prison }
                            id = -1
                        }
                    }
                }

            }
            
            if = {
                limit = {
                    has_completed_focus = RAJ_azad_hind_dlc
                }
                add_timed_idea = {
                    idea = idea_RAJ_azad_hind_repair
                    days = 120
                }
            }

            set_cosmetic_tag = RAJ_azad_hind_tag
            every_army_leader = {
                limit = {
                    has_trait = loyalty_to_britain
                }
                set_nationality = ENG
            }

            every_army_leader = {
                limit = {
                    OR = {
                        has_trait = loyalty_to_india
                        has_trait = loyalty_to_pakistan
                        has_trait = loyalty_to_britain
                    }
                }
                set_nationality =  var:RAJ.revolter_tag
            }
        }
    }

    focus = {
        id = RAJ_rani_of_jhansi_regiment
        icon = GFX_focus_generic_women_in_military
        prerequisite = { focus = RAJ_forward_bloc focus = RAJ_red_in_the_shadows }
        x = 13
        y =1
        relative_position_id = RAJ_forward_bloc
        
        offset = {
            x = -5
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_red_in_the_shadows
            }
        }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MANPOWER}

        completion_reward = {
            add_ideas = { idea_RAJ_rani_of_jhansi_regiment }
            add_corps_commander_role = {
                character = RAJ_lakshmi_sahgal
                traits = { }
                skill = 5
                female = yes
                attack_skill = 4
                defense_skill = 2
                planning_skill = 4
                logistics_skill = 2
            }
            division_template = {
                name = "Rani of Jhansi Division"
                division_names_group = RAJ_INF_01
                regiments = {
                    infantry = { x = 0 y = 0 }
                    infantry = { x = 0 y = 1 }
                    infantry = { x = 0 y = 2 }
        
                    infantry = { x = 1 y = 0 }
                    infantry = { x = 1 y = 1 }
                    infantry = { x = 1 y = 2 }
        
                    infantry = { x = 2 y = 0 }
                    infantry = { x = 2 y = 1 }
                    infantry = { x = 2 y = 2 }
                }
            }
        }
        
    }

    focus = {
        id = RAJ_azad_hind_dlc
        icon = GFX_goal_generic_major_war
        prerequisite = { focus = RAJ_protest_against_the_howell_monument }
        x = 6
        y = 1
        relative_position_id = RAJ_protest_against_the_howell_monument
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_completed_focus = RAJ_hindutva }
                }
                set_party_name = {
                    ideology = neutrality
                    long_name = RAJ_azad_hind
                    name = RAJ_azad_hind
                }
            }
            add_popularity = {
                ideology = neutrality
                popularity = 0.2
            }
            add_popularity = {
                ideology = fascism
                popularity = 0.2
            }

            if = {
                limit = { NOT = { has_completed_focus = RAJ_give_me_blood_and_i_will_grant_you_freedom } }
                custom_effect_tooltip = generic_skip_one_line_tt
                custom_effect_tooltip = RAJ_azad_hind_dlc_tt
                show_ideas_tooltip = idea_RAJ_azad_hind_repair
                custom_effect_tooltip = RAJ_azad_hind_dlc_tt_2
            }
            else = {
                add_timed_idea = {
                    idea = idea_RAJ_azad_hind_repair
                    days = 120
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_GOE_arcot_doraiswamy_loganadan
            RAJ_GOE_arcot_doraiswamy_loganadan = { custom_effect_tooltip = unlock_general_tt }
            show_ideas_tooltip = RAJ_GOE_shah_nawaz_khan
            RAJ_GOE_shah_nawaz_khan = { custom_effect_tooltip = unlock_general_tt }
            RAJ_GOE_mohammed_zaman_kiani = { custom_effect_tooltip = unlock_general_tt }
        }
    }

    focus = {
        id = RAJ_seek_japanese_support
        icon = GFX_focus_AST_war_japan
        prerequisite = { focus = RAJ_azad_hind_dlc }
        x = 3
        y = 1
        relative_position_id = RAJ_azad_hind_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = RAJ_seek_japanese_support_tt
            effect_tooltip = {
                show_ideas_tooltip = idea_RAJ_japanese_army_advisors
            }

            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_GOE_rash_behari_bose
        }
    }

    focus = {
        id = RAJ_the_enemy_of_my_enemy
        icon = GFX_focus_jap_cast_the_die
        prerequisite = { focus = RAJ_seek_japanese_support }
        x = 1
        y = 1
        relative_position_id = RAJ_seek_japanese_support
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            JAP = {
                exists = yes
                is_subject = no
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            JAP = { country_event = { id =  GOE_RAJ.7 days = 1 random_days = 3 } }
            custom_effect_tooltip = if_they_accept
            custom_effect_tooltip = RAJ_the_enemy_of_my_enemy_tt
            custom_effect_tooltip = newline_tt
            if = {
                limit = { JAP = { is_ai = yes } }
                custom_effect_tooltip = RAJ_the_enemy_of_my_enemy_tt_2
            }
        }
    }

    focus = {
        id = RAJ_join_the_co_prospherity_sphere
        icon = GFX_focus_chi_collaboration_with_the_japanese
        prerequisite = { focus = RAJ_the_enemy_of_my_enemy }
        x = 1
        y = 1
        relative_position_id = RAJ_the_enemy_of_my_enemy
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            JAP = {
                is_faction_leader = yes
                is_subject = no
                NOT = {
                    has_war_with = ROOT
                }
            }
            is_in_faction = no
            is_subject = no
        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_POLITICAL }

        completion_reward = {
            hidden_effect = {
                JAP = {
                    country_event = { id = generic.2 hours = 2 }
                }
            }
            custom_effect_tooltip = RAJ_join_the_co_prospherity_sphere_tt
        }
    }

    focus = {
        id = RAJ_shaheed_and_swaraj
        icon = GFX_focus_jap_strike_south
        prerequisite = { focus = RAJ_the_enemy_of_my_enemy }
        x = -1
        y = 1
        relative_position_id = RAJ_the_enemy_of_my_enemy
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            controls_state = 733
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

            add_equipment_to_stockpile = { 
                type = convoy_1
                amount = 50
                producer = RAJ
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            733 = {
                add_core_of = RAJ
                set_state_name = STATE_733_shaheed


                add_building_construction = {
                    type = coastal_bunker
                    province = {
                        all_provinces = yes
                    }
                    level = 5
                    instant_build = yes
                }

                add_building_construction = {
                    type = naval_base
                    province = 12251
                    level = 3
                    instant_build = yes
                }

                set_province_name = {
                    id = 12251
                    name = VICTORY_POINTS_12251_bose
                }
                add_extra_state_shared_building_slots = 4
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }

            }

            
            set_capital = {
                state = 733
                remember_old_capital = yes #default = yes
            }
        }
    }

    focus = {
        id = RAJ_azad_hind_dlc_radio
        icon = GFX_focus_SWE_radiotjanst
        prerequisite = { focus = RAJ_azad_hind_dlc }
        x = 1
        y = 1
        relative_position_id = RAJ_azad_hind_dlc
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            if = {
                limit = {
                    has_government = fascism
                }
                add_ideas = idea_RAJ_azad_hind_radio_fascism
                custom_effect_tooltip = generic_skip_one_line_tt
            }
            else_if = {
                limit = {
                    has_government = communism
                }
                add_ideas = idea_RAJ_azad_hind_radio_communism  
                custom_effect_tooltip = generic_skip_one_line_tt
            }
            else = {
                add_ideas = idea_RAJ_azad_hind_radio_unaligned    
                custom_effect_tooltip = generic_skip_one_line_tt
            }
              
            unlock_decision_tooltip = {
                decision = RAJ_GOE_azad_hind_radio_fascism
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }

            unlock_decision_tooltip = {
                decision = RAJ_GOE_azad_hind_radio_unaligned
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
            unlock_decision_tooltip = {
                decision = RAJ_GOE_azad_hind_radio_communism
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }




        }
    }

#   focus = {
#       id = RAJ_seek_international_recognition
#       #icon = GFX_
#      # prerequisite = { focus = RAJ_azad_hind_dlc  }
#       prerequisite = {focus = RAJ_give_me_blood_and_i_will_grant_you_freedom }
#       x = -7
#       y = 2
#       relative_position_id = RAJ_azad_hind_dlc
#       
#       cost = 10

#       ai_will_do = {
#           factor = 1
#       }

#       available = {
#           all_of_scopes = {
#               array = owned_states_at_game_start
#               is_fully_controlled_by = ROOT
#           }  
#       }
#       
#       bypass = {

#       }

#       cancel_if_invalid = yes
#       continue_if_invalid = no
#       available_if_capitulated = no



#       completion_reward = {
#           every_state = { #in case something happens add back cores here 
#               limit = { has_state_flag = pre_bose_core }
#               if = {
#                   limit = { has_resistance = yes }
#                   force_disable_resistance = { 
#                       clear = no #if yes, will clear previously disabled resistance
#                       occupier = RAJ
#                       occupied = DIP
#                   }
#               }
#               add_core_of = RAJ
#           }


#       }
#   }

    focus = {
        id = RAJ_war_taxes
        icon = GFX_focus_RAJ_war_taxes
        prerequisite = { focus = RAJ_azad_hind_dlc }
        x = -1
        y = 1
        relative_position_id = RAJ_azad_hind_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {


            set_variable = { amount_of_times_raised_taxes = 0 }
            set_variable = { RAJ_war_taxes_mil = 0 }
            set_variable = { RAJ_war_taxes_war_support = 0 }
            set_variable = { RAJ_war_taxes_stability = 0 }
            custom_effect_tooltip = RAJ_war_taxes_tt
            unlock_decision_tooltip = {
                decision = RAJ_GOE_raise_war_taxes
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }

            unlock_decision_tooltip = {
                decision = RAJ_GOE_reduce_war_taxes
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
        }
    }

    focus = {
        id = RAJ_the_indian_national_army
        icon = GFX_focus_generic_fascist_troops
        prerequisite = { focus = RAJ_war_taxes }
        x = 0
        y = 1
        relative_position_id = RAJ_war_taxes
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_ideas = idea_RAJ_the_indian_national_army   
        }
    }

    focus = {
        id = RAJ_azad_hind_dlc_bank
        icon = GFX_focus_usa_reestablish_the_gold_standard
        prerequisite = { focus = RAJ_war_taxes }
        x = 2
        y = 1
        relative_position_id = RAJ_war_taxes
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = available_industrial_concern
            show_ideas_tooltip = idea_RAJ_azad_hind_bank
        }
    }

    focus = {
        id = RAJ_education_efforts_2
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_azad_hind_dlc_bank }
        x = 0
        y = 1
        relative_position_id = RAJ_azad_hind_dlc_bank
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            add_research_slot = 1
        }
    }

    focus = {
        id = RAJ_hindutva
        icon = GFX_focus_RAJ_hindutava
        prerequisite = { focus = RAJ_give_me_blood_and_i_will_grant_you_freedom }
        x = -2
        y = 4
        relative_position_id = RAJ_give_me_blood_and_i_will_grant_you_freedom
        mutually_exclusive = { focus = RAJ_netaji }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            set_politics = {
                ruling_party = fascism
                elections_allowed = no
                last_election = "1936.1.1"
                election_frequency = 24
                long_name = RAJ_fascism_party_long  # Optional
                name = RAJ_fascism_party # Optional
            }

            effect_tooltip = {
                promote_character = {
                    ideology = fascism_ideology 
                    character = RAJ_v_d_savarkar
                }
            }

            set_country_flag = RAJ_allow_release_states
        }
    }

    focus = {
        id = RAJ_netaji
        icon = GFX_focus_RAJ_netaji
        prerequisite = { focus = RAJ_give_me_blood_and_i_will_grant_you_freedom }
        x = 4
        y = 0
        relative_position_id = RAJ_hindutva
        mutually_exclusive = { focus = RAJ_hindutva }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}

        completion_reward = {

            add_trait = {
                character = RAJ_subhas_chanda_bose # optional if inside character scope
                trait = netaji
                ideology = centrism #Only required for updating country leader 
            }
            set_country_flag = RAJ_allow_release_states
        }
    }

    focus = {
        id = RAJ_the_second_duar_war
        icon = GFX_focus_generic_attack_bhutan
        prerequisite = { focus = RAJ_netaji }
         mutually_exclusive = { focus = RAJ_bhutanese_protectorate }
        x = 4
        y = 1
        relative_position_id = RAJ_netaji
       

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            BHU = {
                exists = yes
                NOT = { is_subject_of = ROOT }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {

            create_wargoal = {
                type = annex_everything
                target = BHU 
            }
        }
    }


    focus = {
        id = RAJ_coal_fire_and_steel
        icon = GFX_focus_GER_factories_for_resources
        prerequisite = { focus = RAJ_netaji focus = RAJ_hindutva }
        x = -2
        y = 1
        relative_position_id = RAJ_netaji
        #mutually_exclusive = { focus = RAJ_hindutva }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_mil_in_core_otherwise_build_in_controlled = yes
            try_build_civ_in_core_otherwise_build_in_controlled = yes  
            random_core_state = {
                limit = {
                    is_controlled_by = ROOT
                }
                prioritize = { 435 } #optional: to pick those states first if they fulfill the limit
                add_resource = {
                    type = steel
                    amount = 12
                    state = THIS 
                }
            }
        }
    }

    focus = {
        id = RAJ_bhutanese_protectorate
        icon = GFX_focus_generic_attack_bhutan
        prerequisite = { focus = RAJ_netaji }
        x = 2
        y = 0
        relative_position_id = RAJ_the_second_duar_war
        mutually_exclusive = { focus = RAJ_the_second_duar_war }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            BHU = {
                exists = yes
                is_subject = no
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            BHU = {
              country_event = { id = GOE_RAJ.4 hours = 3 random_hours = 2  }
            }
            custom_effect_tooltip = if_they_accept_tt
            custom_effect_tooltip = RAJ_bhutanese_protectorate_tt
        }
    }

    focus = {
        id = RAJ_heavy_industries
        icon = GFX_focus_CONGO_copper_cartridges
        prerequisite = { focus = RAJ_coal_fire_and_steel }
        x = 0
        y = 1
        relative_position_id = RAJ_coal_fire_and_steel
        #mutually_exclusive = { focus = RAJ_hindutva }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                every_military_industrial_organization = {
                    add_mio_size = 1
                }
            }

            if = {
                limit = {
                    capital_scope = {
                        controller = {
                            original_tag = ROOT
                        }
                    }
                }
                capital_scope  = {
                  add_resource = {
                        type = tungsten
                        amount = 6
                    }
                }
            }
            try_build_mil_in_core_otherwise_build_in_controlled = yes
            try_build_mil_in_core_otherwise_build_in_controlled = yes  

        }
    }

    focus = {
        id = RAJ_extend_indian_security_zone
        icon = GFX_goal_generic_more_territorial_claims
        prerequisite = { focus = RAJ_netaji }
        x = 0
        y = 2
        relative_position_id = RAJ_netaji
        #mutually_exclusive = { focus = RAJ_hindutva }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            TIB = {
                exists = no
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            TIB = {
                every_core_state = {
                    limit = {
                        NOT = { state = 601 } #Chinese core
                        controller = {
                            NOT = { original_tag = ROOT }
                            NOT = { is_subject_of = ROOT }
                        }
                        NOT = { 
                            controller = {
                                ROOT = {
                                    has_wargoal_against = {
                                         target = PREV
                                     } 
                                }
                            }

                        }
                    }

                    controller = {
                        ROOT = {
                            create_wargoal = {
                                type = puppet_wargoal_focus
                                target = PREV
                                expire = 0
                            }
                        }
                    }

                }
            }
            if = {
                limit = {
                    CHI = {
                        exists = yes
                        is_subject = no
                    }
                }
                CHI = {
                    country_event = { id = GOE_RAJ.17 hours = 1 }
                }
            }
        }
    }

    focus = {
        id = RAJ_guided_democracy
        icon = GFX_focus_generic_strike_at_democracy2
        prerequisite = { focus = RAJ_netaji }
        mutually_exclusive = { focus = RAJ_authoritarianship }
        x = 12
        y = 1
        relative_position_id = RAJ_netaji
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_country_leader_trait = under_democratic_guise
        }
    }

    focus = {
        id = RAJ_authoritarianship
        icon = GFX_focus_generic_military_dictatorship
        prerequisite = { focus = RAJ_netaji }
        mutually_exclusive = { focus = RAJ_guided_democracy }
        x = -4
        y = 0
        relative_position_id = RAJ_guided_democracy
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_country_leader_trait = authoritarian
        }
    }


    focus = {
        id = RAJ_demand_return_of_imperialist_colonies
        icon = GFX_focus_eng_bring_the_dominions_back_into_the_fold
        prerequisite = { focus = RAJ_authoritarianship focus = RAJ_guided_democracy  }
        x = 2
        y = 1
        relative_position_id = RAJ_authoritarianship
        #mutually_exclusive = { focus = RAJ_hindutva }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            320 = { add_core_of = ROOT }
            321 = { add_core_of = ROOT }
            422 = { add_claim_by = ROOT }
            custom_effect_tooltip = generic_skip_one_line_tt
            if = {
                limit = { 
                    NOT = { has_war_with = 320.owner }
                    320 = { is_fully_controlled_by = 320.owner }

                }

                320 = {
                    owner = {
                        set_variable = { RAJ_demand_return_state = PREV }
                        country_event = { id = GOE_RAJ.18 hours = 2 }
                    }
                }
            }

            if = {
                limit = { 
                    NOT = { has_war_with = 321.owner }
                    321 = { is_fully_controlled_by = 321.owner }

                }

                321 = {
                    owner = {
                        set_variable = { RAJ_demand_return_state = PREV }
                        country_event = { id = GOE_RAJ.18 hours = 2 }
                    }
                }
            }


            if = {
                limit = { 
                    NOT = { has_war_with = 422.owner }
                    422 = { is_fully_controlled_by = 422.owner }

                }

                422 = {
                    owner = {
                        set_variable = { RAJ_demand_return_state = PREV }
                        country_event = { id = GOE_RAJ.18 hours = 2 }
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_strike_burma
        icon = GFX_goal_generic_territory_or_war
        prerequisite = { focus = RAJ_demand_return_of_imperialist_colonies }
        x = 0
        y = 1
        relative_position_id = RAJ_demand_return_of_imperialist_colonies
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            BRM = { 
                exists = yes 
                NOT = { is_subject_of = ROOT }
            }

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            create_wargoal = {
                type = annex_everything
                target = BRM
            }
        }
    }


    focus = {
        id = RAJ_the_sun_sets
        icon = GFX_focus_RAJ_the_sun_sets
        prerequisite = { focus = RAJ_strike_burma }
        x = 0
        y = 1
        relative_position_id = RAJ_strike_burma
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_war_with = MAL }
                }

                create_wargoal = {
                    type = annex_everything
                    target = MAL
                }

                MAL = {
                    every_core_state = {
                        add_claim_by = ROOT
                    }
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            add_ideas = idea_RAJ_anti_imperialism
            
        }
    }


    focus =  {
        id = RAJ_cult_of_personality
        icon = GFX_focus_ICE_embrace_the_workers_revolution
        x = 2
        y = 1
        relative_position_id = RAJ_netaji
        prerequisite = { focus = RAJ_netaji }
        cost = 10
        ai_will_do = {
            factor = 30
        }
        available = {

        }

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_STABILITY}
        search_filters = {FOCUS_FILTER_WAR_SUPPORT}

        completion_reward = {
            add_country_leader_trait = JUNO_cult_of_personality
        }
    }


    focus = {
        id = RAJ_seek_financial_aid_from_the_ussr
        icon = GFX_focus_chi_mission_to_the_soviet_union
        prerequisite = { focus = RAJ_extend_indian_security_zone }
        x = 3
        y = 1
        relative_position_id = RAJ_extend_indian_security_zone
        #mutually_exclusive = { focus = RAJ_hindutva }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            OR = {
                has_war_with = SOV
                NOT = { country_exists = SOV }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_mil_in_core_otherwise_build_in_controlled = yes
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            if = {
                limit = {
                    capital_scope = {
                        controller = {
                            original_tag = ROOT
                        }
                    }
                }
                capital_scope  = {
                    add_resource = {
                        type = oil
                        amount = 5
                    }

                  add_resource = {
                        type = tungsten
                        amount = 4
                    }
                    add_resource = {
                        type = steel
                        amount = 6
                    }
                }
            }
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }

        }
    }

    focus = {
        id = RAJ_appoint_soviet_friendly_government
        icon = GFX_goal_support_communism 
        prerequisite = { focus = RAJ_seek_financial_aid_from_the_ussr }
        x = 2
        y = 1
        relative_position_id = RAJ_seek_financial_aid_from_the_ussr

        cost = 5 

        ai_will_do = {
            factor = 1
            modifier = {
                factor = 0
                has_war_with = SOV
            }
        }

        available = {
            communism > 0.25
            NOT = { has_completed_focus = RAJ_appoint_german_friendly_government }
            if = {
                limit = { SOV = { has_government = communism } }
                NOT = { has_war_with = SOV }
            }
            
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL }
        completion_reward = {

            add_popularity = {
                popularity = 0.35
                ideology = communism
            }
            add_stability = -0.05

            add_opinion_modifier = { modifier = ROM_appoint_soviet_friendly_government target = SOV }
            SOV = { add_opinion_modifier = { modifier = ROM_appoint_soviet_friendly_government target = ROOT } }

            add_country_leader_role = {
                character =  RAJ_subhas_chanda_bose # optional if inside character scope
                promote_leader = yes
                country_leader = {
                    ideology = marxism
                }
            }

            set_politics = {
                ruling_party = communism
                elections_allowed = no
            }

            hidden_effect = {
                if = {
                    limit = {
                        has_completed_focus = RAJ_netaji   
                        NOT = { has_country_leader_with_trait = netaji }
                    }
                    add_country_leader_trait = netaji
                }
                if = {
                    limit = {
                        has_completed_focus = RAJ_cult_of_personality   
                        NOT = { has_country_leader_with_trait = JUNO_cult_of_personality }
                    }
                    add_country_leader_trait = JUNO_cult_of_personality
                }

                if = {
                    limit = {
                        NOT = { has_country_leader_with_trait = nationalistic_freedom_fighter }
                    }
                    add_country_leader_trait = nationalistic_freedom_fighter
                }

                if = {
                    limit = {
                        NOT = { has_country_leader_with_trait = nationalistic_freedom_fighter }
                    }
                    add_country_leader_trait = nationalistic_freedom_fighter
                }

                if = {
                    limit = {
                        has_completed_focus = RAJ_authoritarianship   
                        NOT = { has_country_leader_with_trait = authoritarian }
                    }
                    add_country_leader_trait = authoritarian
                }

                if = {
                    limit = {
                        has_completed_focus = RAJ_guided_democracy   
                        NOT = { has_country_leader_with_trait = under_democratic_guise }
                    }
                    add_country_leader_trait = under_democratic_guise
                }
            }

            complete_national_focus = RAJ_rally_the_indian_left
        }
    }

    focus = {
        id = RAJ_appoint_german_friendly_government
        icon = GFX_goal_support_fascism
        prerequisite = { focus = RAJ_cult_of_personality }
        x = 0
        y = 1
        relative_position_id = RAJ_cult_of_personality

        cost = 5 

        ai_will_do = {
            factor = 1
            modifier = {
                factor = 0
                has_war_with = GER
            }
        }

        available = {
            fascism > 0.25
            NOT = { has_completed_focus = RAJ_appoint_soviet_friendly_government }
            if = {
                limit = { GER = { has_government = fascism } }
                NOT = { has_war_with = GER }
            }
            
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL }
        completion_reward = {

            add_popularity = {
                popularity = 0.35
                ideology = fascism
            }
            add_stability = -0.05


            add_opinion_modifier = { modifier = ROM_appoint_german_friendly_government target = GER }
            GER = { add_opinion_modifier = { modifier = ROM_appoint_german_friendly_government target = ROOT } }


          add_country_leader_role = {
              character =  RAJ_subhas_chanda_bose # optional if inside character scope
              promote_leader = yes
              country_leader = {
                  ideology = fascism_ideology
              }
          }

            set_politics = {
                ruling_party = fascism
                elections_allowed = no
            }

            hidden_effect = {
                if = {
                    limit = {
                        has_completed_focus = RAJ_netaji   
                        NOT = { has_country_leader_with_trait = netaji }
                    }
                    add_country_leader_trait = netaji
                }

                if = {
                    limit = {
                        has_completed_focus = RAJ_cult_of_personality   
                        NOT = { has_country_leader_with_trait = JUNO_cult_of_personality }
                    }
                    add_country_leader_trait = JUNO_cult_of_personality
                }

                if = {
                    limit = {
                        NOT = { has_country_leader_with_trait = nationalistic_freedom_fighter }
                    }
                    add_country_leader_trait = nationalistic_freedom_fighter
                }

                if = {
                    limit = {
                        NOT = { has_country_leader_with_trait = nationalistic_freedom_fighter }
                    }
                    add_country_leader_trait = nationalistic_freedom_fighter
                }

                if = {
                    limit = {
                        has_completed_focus = RAJ_authoritarianship   
                        NOT = { has_country_leader_with_trait = authoritarian }
                    }
                    add_country_leader_trait = authoritarian
                }

                if = {
                    limit = {
                        has_completed_focus = RAJ_guided_democracy   
                        NOT = { has_country_leader_with_trait = under_democratic_guise }
                    }
                    add_country_leader_trait = under_democratic_guise
                }
            }
        }
    }



    focus = {
        id = RAJ_the_second_gorkha_war
        icon = GFX_focus_generic_attack_nepal
        prerequisite = { focus = RAJ_the_second_duar_war focus = RAJ_bhutanese_protectorate }
        x = 1
        y = 1
        relative_position_id = RAJ_the_second_duar_war
        #mutually_exclusive = { focus = RAJ_guarantee_nepalese_independence }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            NEP = {
                exists = no
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            NEP = {
                every_core_state = {
                    limit = {
                        controller = {
                            NOT = { original_tag = ROOT }
                            NOT = { is_subject_of = ROOT }
                        }
                        NOT = { 
                            controller = {
                                ROOT = {
                                    has_wargoal_against = {
                                         target = PREV
                                     } 
                                }
                            }

                        }
                    }

                    controller = {
                        ROOT = {
                            create_wargoal = {
                                type = puppet_wargoal_focus
                                target = PREV
                                expire = 0
                            }
                        }
                    }

                }
            }
        }
    }


    focus = {
        id = RAJ_planned_economy
        icon = GFX_focus_SOV_merge_plants
        prerequisite = { focus = RAJ_seek_financial_aid_from_the_ussr }
        x = 0
        y = 1
        relative_position_id = RAJ_seek_financial_aid_from_the_ussr
       #mutually_exclusive = { focus = RAJ_form_ties_with_leftist_parties }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

            add_research_slot = 1
            add_ideas = idea_RAJ_planned_economy
        }
    }



    focus = {
        id = RAJ_high_altitude_training
        icon = GFX_focus_GRE_a_land_of_mountains
        prerequisite = { focus = RAJ_extend_indian_security_zone }
        x = -1
        y = 1
        relative_position_id = RAJ_extend_indian_security_zone
        #mutually_exclusive = { focus = RAJ_hindutva }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_tech = tech_mountaineers
            OR = {
                TIB = {
                    any_core_state = {
                        is_controlled_by = ROOT
                    }
                }

                NEP = {
                    any_core_state = {
                        is_controlled_by = ROOT
                    }
                }

                BHU = {
                    any_core_state = {
                        is_controlled_by = ROOT
                    }
                }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            division_template = {
                name = "High Altitude Specialists"
                is_locked = no
                priority = 1 # optional 
                regiments = {
                    mountaineers = { x = 0 y = 0 }
                    mountaineers = { x = 0 y = 1 }
                    mountaineers = { x = 0 y = 2 }
                    mountaineers = { x = 0 y = 3 }
                    mountaineers = { x = 1 y = 0 }
                    mountaineers = { x = 1 y = 1 }
                    mountaineers = { x = 1 y = 2 }
                    mountaineers = { x = 1 y = 3 }
                    mountaineers = { x = 2 y = 0 }
                    mountaineers = { x = 2 y = 1 }
                    mountaineers = { x = 2 y = 2 }
                    mountaineers = { x = 2 y = 3 }
                    mountaineers = { x = 3 y = 0 }
                    
                }
                support = {
                    
                }
            }
            custom_effect_tooltip = RAJ_high_altitude_training_tt
            add_ideas = idea_RAJ_high_altitude_training
        }
    }

    focus = {
        id = RAJ_integrate_the_princes2
        icon = GFX_focus_rom_handle_king
        prerequisite = { focus = RAJ_high_altitude_training }
        x = 0
        y = 1
        relative_position_id = RAJ_high_altitude_training

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        
        }

        bypass = {

        }

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters={FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            custom_effect_tooltip = RAJ_india_indivisible_tt
        }

    }

    focus = {
        id = RAJ_strike_against_china
        icon = GFX_focus_attack_china
        prerequisite = { focus = RAJ_extend_indian_security_zone }
        x = 1
        y = 1
        relative_position_id = RAJ_extend_indian_security_zone
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            any_country = {
                is_literally_china = yes
                exists = yes
                NOT = { is_subject_of = ROOT }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            every_country = {
                limit = {
                    is_literally_china = yes
                }
                ROOT = {
                    create_wargoal = {
                        type = annex_everything
                        target = PREV 
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_hindu_mahasabha
        icon = GFX_focus_RAJ_hindu_mahasabha
        prerequisite = { focus = RAJ_hindutva focus = RAJ_netaji }
        x = 0
        y = 1
        relative_position_id = RAJ_hindutva
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_dynamic_modifier = { modifier = idea_RAJ_funded_by_princely_states }
            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = RAJ_hindu_mahasabha_tt
        }
    }

    focus = {
        id = RAJ_akhand_bharat
        icon = GFX_focus_RAJ_akhand_bharat
        prerequisite = { focus = RAJ_hindutva }
        x = -4
        y = 1
        relative_position_id = RAJ_hindutva
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            custom_effect_tooltip = RAJ_akhand_bharat_tt
            unlock_decision_tooltip = {
                decision =  RAJ_form_akhand_bharat
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
        }
    }

    focus = {
        id = RAJ_sanatani
        icon = GFX_focus_generic_spread_fascism
        prerequisite = { focus = RAJ_hindutva }
        x = -2
        y = 1
        relative_position_id = RAJ_hindutva
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_stability = 0.1
            add_popularity = {
                ideology = fascism
                popularity = 0.15
            }
        }
    }

        focus = {
        id = RAJ_hindi_as_a_national_language
        
        icon = GFX_focus_spr_torchbearers_of_tomorrow
        prerequisite = { focus = RAJ_sanatani }
        x = 0
        y = 2
        relative_position_id = RAJ_sanatani
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            add_ideas = idea_RAJ_hindi_as_a_national_language
        }
    }

    focus = {
        id = RAJ_seven_shackles
        icon = GFX_focus_RAJ_seven_shackles
        prerequisite = { focus = RAJ_sanatani }
        x = -2
        y = 0
        relative_position_id = RAJ_hindi_as_a_national_language
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}

        completion_reward = {
            add_stability = 0.08
            add_war_support = 0.08          
            add_popularity = {
                ideology = fascism
                popularity = 0.1
            }

            every_controlled_state = {
                limit = {
                    has_resistance = yes
                }
                add_compliance = 30
            }

        }
    }

    focus = {
        id = RAJ_burn_down_the_cellular_jail
    
        icon = GFX_focus_RAJ_burn_down_the_cellular_jail
        prerequisite = { focus = RAJ_seven_shackles }
        x = -1
        y = 1
        relative_position_id = RAJ_seven_shackles

        cost = 5

        ai_will_do = {

        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL }
        completion_reward = {
            add_war_support = 0.1
            every_controlled_state = {
                limit = {
                    has_resistance = yes
                }
                add_resistance = -30
            }
        }
    }

    focus = {
        id = RAJ_the_sword_and_the_saffron
        icon = GFX_focus_RAJ_indian_gentlemen_offcers 
        prerequisite = { focus = RAJ_sanatani }
        x = 2
        y = 2
        relative_position_id = RAJ_sanatani
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            add_ideas = idea_RAJ_hindu_militarism
        }
    }

    focus = {
        id = RAJ_rashtriya_swayamsevak_sangh
        icon = GFX_focus_SWE_revoke_militia_law
        prerequisite = { focus = RAJ_the_sword_and_the_saffron }
        x = 0
        y = 1
        relative_position_id = RAJ_the_sword_and_the_saffron
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_idea = idea_RAJ_hindu_militarism
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            swap_ideas = {
                remove_idea = idea_RAJ_hindu_militarism
                add_idea = idea_RAJ_hindu_militarism_2
            }
        }
    }

    focus = {
        id = RAJ_the_hindu_martial_tradition
        icon = GFX_focus_focus_fra_fascist_threat
        prerequisite = { focus = RAJ_hindi_as_a_national_language }
        prerequisite = { focus = RAJ_rashtriya_swayamsevak_sangh }
        x = -2
        y = 1
        relative_position_id = RAJ_rashtriya_swayamsevak_sangh
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_idea = idea_RAJ_hindu_militarism_2
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            swap_ideas = {
                remove_idea = idea_RAJ_hindu_militarism_2
                add_idea = idea_RAJ_hindu_militarism_3
            }
        }
    }

    focus = {
        id = RAJ_cultural_reawekening 
        icon = GFX_focus_ITA_liberation_or_death
        prerequisite = { focus = RAJ_seven_shackles }
        prerequisite = { focus = RAJ_hindi_as_a_national_language }
        x = 1
        y = 1
        relative_position_id = RAJ_seven_shackles
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            swap_ideas = {
                remove_idea = idea_RAJ_hindi_as_a_national_language
                add_idea = idea_RAJ_cultural_reawekening
            }

        }
    }

    #NEW ID
    focus = {
        id = RAJ_the_pakistan_movement
        icon = GFX_focus_RAJ_the_pakistan_movement
        prerequisite = { focus = RAJ_two_nation_theory_dlc }
        x = 0
        y = 1
        relative_position_id = RAJ_two_nation_theory_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {

            add_timed_idea = {
                 idea = idea_RAJ_muslims_demanding_a_homeland
                 days = 270
            }

            add_timed_idea = {
                idea = idea_RAJ_growing_hindu_nationalism
                days = 270
            }



        }
    }

    focus = {
        id = RAJ_cripps_mission_dlc
        icon = GFX_goal_generic_major_alliance
        prerequisite = { focus = RAJ_tea_exports }
        x = 0
        y = 1
        relative_position_id = RAJ_tea_exports
        mutually_exclusive = { focus = RAJ_haripura_session_of_the_indian_national_congress  }
        cost = 5

        ai_will_do = {
            factor = 25
        }

        available = {
            is_subject = yes
        }

        bypass = {
            is_subject = no
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no


        search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY }

        completion_reward = {
            add_autonomy_score = { 
                value = 150 
                localization = RAJ_cripps_mission_dlc
            }
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_very_happy
                }
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_happy
                    remove_idea = RAJ_marginalized_muslim_community_very_happy
                }
            }
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_happy
                }
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community
                    remove_idea = RAJ_marginalized_muslim_community_happy
                }
            }
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community
                }
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_angry
                    remove_idea = RAJ_marginalized_muslim_community
                }
            }
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_angry
                }
                add_war_support = -0.05
            }


        }
    }

    focus = {
        id = RAJ_haripura_session_of_the_indian_national_congress
        icon = GFX_goal_generic_dangerous_deal
        prerequisite = {  focus  = RAJ_local_resistance_to_land_taxes }
        x = -2
        y = 0
        relative_position_id = RAJ_cripps_mission_dlc
        mutually_exclusive = { focus = RAJ_cripps_mission_dlc }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            is_subject = no
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_autonomy_score = { 
                value = 50
                localization = RAJ_haripura_session_of_the_indian_national_congress
            }
        }
    }

    focus = {
        id = RAJ_power_sharing_agreement
        icon = GFX_focus_generic_treaty
        prerequisite = { focus =  RAJ_india_united }
        x = 0
        y = 1
        relative_position_id = RAJ_india_united
        
        cost = 5

        ai_will_do = {
            factor = 1 
        }

        available = {
 
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        complete_tooltip = {

        }

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_power_sharing_agreement
                days = 1460
            } 
            every_controlled_state = {
                limit = {
                    is_in_array = {
                        array = RAJ.owned_states_at_game_start
                        value = THIS
                    }
                    has_resistance = yes

                }

                add_compliance = -50
                add_resistance = -30
            }
        }
    }

    focus = {
        id = RAJ_a_permanent_muslim_governmental_seat
        icon = GFX_focus_TUR_turanist_ambition
        prerequisite = { focus = RAJ_power_sharing_agreement }
        x = 2
        y = 1
        relative_position_id = RAJ_power_sharing_agreement
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        complete_tooltip = {

        }

        completion_reward = {
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_angry
                }
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_happy_alt
                    remove_idea = RAJ_marginalized_muslim_community_angry
                }
            }
            else = {
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_happy_alt
                    remove_idea = RAJ_marginalized_muslim_community
                }
            }
        }
    }

    focus = {
        id = RAJ_cabinet_mission_plan
        icon = GFX_focus_ARG_cut_ties_with_britain
        prerequisite = { focus = RAJ_power_sharing_agreement }
        x = 0
        y = 1
        relative_position_id = RAJ_power_sharing_agreement
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        complete_tooltip = {

        }

        completion_reward = {
            add_ideas = idea_RAJ_guided_by_britain
        }
    }

#    focus = {
#        id = RAJ_post_war_independence
#        #icon = GFX_
#        prerequisite = { focus = RAJ_the_pakistan_movement }
#        x = -2
#        y = 1
#        relative_position_id = RAJ_the_pakistan_movement
#        
#        cost = 10
#
#        ai_will_do = {
#            factor = 1
#        }
#
#        available = {
#
#        }
#        
#        bypass = {
#
#        }
#
#        cancel_if_invalid = yes
#        continue_if_invalid = no
#        available_if_capitulated = no
#
#        complete_tooltip = {
#
#        }
#
#        completion_reward = {
#
#        }
#    }

    focus = {
        id = RAJ_lahore_resolution
        icon = GFX_focus_TUR_loosen_the_laws_on_secularism
        prerequisite = { focus = RAJ_the_pakistan_movement }
        x = 0
        y = 1
        relative_position_id = RAJ_the_pakistan_movement
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_TFV_AUTONOMY}

        complete_tooltip = {

        }

        completion_reward = {
           swap_ideas = {
               remove_idea = RAJ_marginalized_muslim_community_happy
               add_idea = RAJ_marginalized_muslim_community_very_happy
           }
        }
    }

    focus = {
        id = RAJ_united_bengal
        icon = GFX_focus_RAJ_united_bengal
        prerequisite = { focus = RAJ_lahore_resolution }
        x = -1
        y = 2
        relative_position_id = RAJ_lahore_resolution 
        mutually_exclusive = { focus = RAJ_eastern_pakistan }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
           OR = {
                is_subject = no
                BAN = {
                    exists = yes
                }
            }
        }
        
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_united_bengal_tt
            add_autonomy_ratio = { 
                value = 0.23
                localization = RAJ_united_bengal
            }
            add_political_power = 250
        }
    }

    focus = {
        id = RAJ_eastern_pakistan
        icon = GFX_focus_RAJ_the_pakistan_movement
        prerequisite = { focus = RAJ_lahore_resolution }
        x =2
        y = 0
        relative_position_id = RAJ_united_bengal
        mutually_exclusive = { focus = RAJ_united_bengal }

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            OR = {
                is_subject = no
                PAK = {
                    exists = yes
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_eastern_pakistan_tt
            add_autonomy_ratio = { 
                value = 0.5 
                localization = RAJ_eastern_pakistan
            }


        }
    }

    focus = {
        id = RAJ_inclusive_nationalism
        icon = GFX_goal_tfv_saf_anti_colonialist_crusade
        prerequisite = { focus = RAJ_cabinet_mission_plan }
        prerequisite = { focus = RAJ_a_permanent_muslim_governmental_seat }
        x = 0
        y = 1
        relative_position_id = RAJ_cabinet_mission_plan
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        complete_tooltip = {

        }

        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.25
                uses = 2
                category = land_doctrine
                name = RAJ_inclusive_nationalism
            }

            add_ideas = idea_RAJ_inclusive_nationalism

        }
    }

    focus = {
        id = RAJ_partition_preparation
        icon = GFX_goal_generic_position_armies
        prerequisite = { focus = RAJ_united_bengal focus = RAJ_eastern_pakistan }
        x = -2
        y = 1
        relative_position_id = RAJ_eastern_pakistan
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = yes
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_partition_preparation_tt
            effect_tooltip = {
                add_timed_idea = {
                    idea = idea_RAJ_partition_chaos_less_bad
                    days = 80
                }
            }
            custom_effect_tooltip = newline_tt
            custom_effect_tooltip = RAJ_partition_preparation_tt_2
            effect_tooltip = {
                add_timed_idea = {
                    idea = idea_RAJ_partition_chaos_bad
                    days = 80
                }
            }
            add_tech_bonus = {
                name = RAJ_partition_preparation
                bonus = 1
                uses = 1
                category = military_police_tech # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_hedgemony_of_the_subcontinent
        icon = GFX_focus_spa_the_spanish_miracle
        x = 0
        y = 1
        relative_position_id = RAJ_eastern_pakistan
        prerequisite = { focus = RAJ_eastern_pakistan  focus = RAJ_united_bengal }
        cost = 10
        available = {
            if = {
                limit = {
                    PAK = {
                        exists = yes
                    }
                }
                OR = {
                    check_variable = { RAJ.num_of_factories >  pak_factories tooltip = pak_factories_tt }
                    check_variable = { RAJ.num_researched_technologies > pak_researched_techs tooltip = pak_tech_tt }
                }
            }
            else = {
                is_subject = no
                hidden_trigger = {
                    has_country_flag = { flag = RAJ_GOE_partition_has_happened }
                }
                custom_trigger_tooltip = {
                    tooltip = RAJ_hedgemony_of_the_subcontinent_tt
                    all_of_scopes = {
                      array = RAJ.owned_states_at_game_start
                      is_owned_by = ROOT 
                    }
                }
            }
        }

        ai_will_do = {
            factor = 20
        }

        bypass = {


        }

        search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_ideas = idea_RAJ_hedgemony_of_the_subcontinent
        }
    }

    focus = {
        id = RAJ_a_secular_state
        icon = GFX_focus_generic_court
        prerequisite = { focus =  RAJ_inclusive_nationalism }
        x = 0
        y = 1
        relative_position_id = RAJ_inclusive_nationalism
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_stability = -0.15
            add_political_power = 150
            set_country_flag = RAJ_allow_release_states
        }
    }


    focus = {
        id = RAJ_indian_independence_act
        icon = GFX_focus_generic_self_management
        prerequisite = { focus = RAJ_haripura_session_of_the_indian_national_congress focus = RAJ_cripps_mission_dlc }
        x = 1
        y = 1
        relative_position_id = RAJ_haripura_session_of_the_indian_national_congress
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            is_subject = no
        }

        bypass_effect = {
            if  = {
                limit = { has_idea = RAJ_princely_states }
                remove_ideas = RAJ_princely_states
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = idea_RAJ_independence_movement_tt
            add_to_variable = { RAJ_autonomy_gain_independence_movement = 0.05 tooltip = autonomy_gain_tt }

            if  = {
                limit = { has_idea = RAJ_princely_states }
                remove_ideas = RAJ_princely_states
            }
        }
    }

    focus = {
        id = RAJ_tryst_with_destiny
        icon = {
            trigger = {
                tag = BAN
            }
            value = GFX_focus_RAJ_tryst_with_destiny_BAN
        }
        icon = {
            trigger = {
                tag = PAK
            }
            value = GFX_focus_RAJ_tryst_with_destiny_PAK
        }
        icon = {
            trigger = {
                NOT = {
                    tag = PAK
                    tag = BAN
                }
            }
            value = GFX_focus_RAJ_tryst_with_destiny
        } 
        prerequisite = { focus = RAJ_united_bengal focus = RAJ_eastern_pakistan focus = RAJ_a_secular_state }
        x = 2
        y = 1
        relative_position_id = RAJ_hedgemony_of_the_subcontinent
        

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
           

            if = {
                limit = {
                    is_ai = yes
                }
                date > 1947.8.15
               OR = {
                    is_historical_focus_on = yes
                    has_game_rule = {
                        rule = RAJ_ai_behavior
                        option = GOE_HISTORICAL
                    }
                }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        complete_tooltip = {

        }

        completion_reward = {
            add_popularity = {
                ideology = democratic
                popularity = 0.15
            }

            add_ideas = idea_RAJ_tryst_with_destiny
        }
    }

    focus = {
        id = RAJ_i_am_death
        icon = GFX_focus_RAJ_i_am_death
        prerequisite = { focus = RAJ_tryst_with_destiny }
        x = -10
        y = 1
        relative_position_id = RAJ_tryst_with_destiny
        mutually_exclusive = { focus = RAJ_sideline_the_conflict focus = RAJ_pledge_for_the_allies }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        allow_branch = {
            has_country_flag = gandhi_survives_assasination_attempt
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            if = {
                limit = {
                    NOT = { 
                        has_country_leader = {
                             character = RAJ_mahatma_mohandas_gandhi 
                         } 
                    }
                }

                RAJ_mahatma_mohandas_gandhi = {
                    add_country_leader_role = {
                        promote_leader = yes
                        country_leader = {
                            ideology = liberalism
                            expire = "1965.1.1"
                            traits = { death } 
                        }
                    }
                }
            }
            else = {
                add_country_leader_trait = death
            }

            set_country_leader_portrait = {
                portrait = GFX_portrait_RAJ_mohandas_gandi_nuclear
            }
            
            set_politics = {
                ruling_party = democratic
                elections_allowed = no
                election_frequency = 48
            }

            set_rule = { can_join_factions = yes }
            set_rule = { CAN_DECLARE_WAR_ON_SAME_IDEOLOGY = yes }
            set_rule = { can_only_justify_war_on_threat_country = no }
            set_rule = { can_join_opposite_factions = yes }
        }
    }

    focus = {
        id = RAJ_sideline_the_conflict 
        icon = GFX_goal_generic_neutrality_focus
        prerequisite = { focus = RAJ_tryst_with_destiny }
        x = -2
        y = 1
        relative_position_id = RAJ_tryst_with_destiny
        mutually_exclusive = { focus = RAJ_i_am_death focus = RAJ_pledge_for_the_allies }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            every_enemy_country = {
                country_event = { id = GOE_RAJ.27 hours = 2 }
            }

            if = {
                limit = {
                    is_in_faction = yes
                }

                leave_faction = yes
            }
            add_timed_idea = {
                idea = neutrality_idea
                days = 90
            }

            add_timed_idea = {
                 idea = idea_RAJ_booming_industry
                 days = 280
             }
        }
    }

    focus = {
        id = RAJ_kingmaker
        icon = GFX_focus_RAJ_kingmaker
        prerequisite = { focus = RAJ_sideline_the_conflict }
        x = -1
        y = 1
        relative_position_id = RAJ_sideline_the_conflict
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_in_faction = no
            has_war = no
        }
        
        bypass = {
 
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        completion_reward = {
            unlock_decision_tooltip = {
                decision = anti_democratic_raids
                show_effect_tooltip = no # default is no
                show_modifiers = no # default is no
            }
            unlock_decision_tooltip = {
                decision = anti_neutrality_raids
                show_effect_tooltip = no # default is no
                show_modifiers = no # default is no
            }

            set_rule = { can_join_factions = yes }
            set_rule = { can_guarantee_other_ideologies = yes }
            set_rule = { can_join_opposite_factions = yes }
            set_rule = { CAN_DECLARE_WAR_ON_SAME_IDEOLOGY = yes }
            set_rule = { can_only_justify_war_on_threat_country = no }


            
            add_ideas = idea_RAJ_kingmaker
            hidden_effect = {
                every_country = {
                    limit = {
                        NOT = {
                            has_war_with = ROOT
                        }
                    }

                    add_ai_strategy = {
                        type = alliance
                        id = ROOT
                        value = 1800
                    }

                    add_ai_strategy = {
                        type = befriend
                        id = ROOT
                        value = 1800
                    }
                }  
            }
        }
    }

#    focus = {
#        id = unhide_gandhi_death
#       # icon = GFX_goal_generic_neutrality_focus
#        prerequisite = {  }
#        x = 7
#        y = -1
#        relative_position_id = RAJ_sideline_the_conflict
#        cost = 0
#
#        ai_will_do = {
#            factor = 1
#        }
#
#        available = {
#        }
#        
#        bypass = {
#
#        }
#
#        cancel_if_invalid = yes
#        continue_if_invalid = no
#        available_if_capitulated = no
#
#        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}
#
#        complete_tooltip = {
#
#        }
#
#        completion_reward = {
#            set_country_flag = gandhi_survives_assasination_attempt
#            mark_focus_tree_layout_dirty = yes
#        }
#    }
#
    focus = {
        id = RAJ_pledge_for_the_allies
        icon = GFX_focus_eng_the_sun_never_sets
        prerequisite = { focus =  RAJ_tryst_with_destiny }
        x = 4
        y = 0
        relative_position_id = RAJ_sideline_the_conflict
        mutually_exclusive = { focus = RAJ_i_am_death focus = RAJ_sideline_the_conflict }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {
            # this is not a bug, it should not have a bypass requirement, do not add one
        }

        search_filters = {FOCUS_FILTER_POLITICAL}

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        completion_reward = {
            set_rule = {
                can_join_factions = yes
            }
            if = {
                limit = {
                    ENG = {
                        is_faction_leader = yes
                        has_government = democratic
                    }
                }

                ENG = {
                    country_event = { id = generic.2 hours = 2 }
                }
            }
            else_if = {
                limit = {
                    USA = {
                        is_faction_leader = yes
                        has_government = democratic
                    }
                }

                USA = {
                    country_event = { id = generic.2 hours = 2 }
                }
            }

            else_if = {
                limit = {
                    FRA = {
                        is_faction_leader = yes
                        has_government = democratic
                    }
                }

                FRA = {
                    country_event = { id = generic.2 hours = 2 }
                }
            }
            else_if = {
                limit = {
                    any_other_country = {
                        is_faction_leader = yes
                        has_government = democratic
                    }
                }
                random_other_country = {
                    limit = {
                        is_faction_leader = yes
                        has_government = democratic
                    }
                    country_event = { id = generic.2 hours = 2 }   
                }
            }
            else = {
                create_faction = "Indian-Prosperity-Sphere"
                set_rule = { 
                    can_create_factions  = yes
                }
            }

        }
    }

    focus = {
        id = RAJ_destroyer_of_worlds
        icon = GFX_focus_wonderweapons
        prerequisite = { focus = RAJ_i_am_death }
        x = 0
        y = 2
        relative_position_id = RAJ_i_am_death
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}
        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        complete_tooltip = {

        }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                technology  = atomic_research # optional
            }

           add_breakthrough_points = {
                specialization = specialization_nuclear 
                value = 1
            }

            add_country_leader_trait = destroyer_of_worlds
        }
    }

#    focus = {
#        id = RAJ_ban_untouchability_once_and_for_all
#        #icon = GFX_
#        prerequisite = { focus = RAJ_sideline_the_conflict focus = RAJ_pledge_for_the_allies }
#        x = 1
#        y = 1
#        relative_position_id = RAJ_sideline_the_conflict
#        
#        cost = 10
#
#        ai_will_do = {
#            factor = 1
#        }
#
#        available = {
#
#        }
#        
#        bypass = {
#
#        }
#
#        cancel_if_invalid = yes
#        continue_if_invalid = no
#        available_if_capitulated = no
#
#        complete_tooltip = {
#
#        }
#
#        completion_reward = {
#            add_stability = 0.1
#            add_popularity = {
#                ideology = democratic
#                popularity = 0.1
#            }
#        }
#    }

    focus = {
        id = RAJ_preamble_to_the_constitution_of_india
        icon = GFX_focus_generic_the_giant_wakes
        prerequisite = { focus = RAJ_sideline_the_conflict focus = RAJ_pledge_for_the_allies focus = RAJ_i_am_death }
        x = 2
        y = 1 
        relative_position_id = RAJ_sideline_the_conflict
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        complete_tooltip = {

        }

        completion_reward = {
            add_stability = 0.1
            add_popularity = {
                ideology = democratic
                popularity = 0.15
            }
        }
    }

    focus = {
        id = RAJ_uranium_tipped_bullets
        icon = GFX_focus_RAJ_uranium_tipped_bullets
        prerequisite = { focus = RAJ_destroyer_of_worlds }
        x = -2
        y = 1
        relative_position_id = RAJ_destroyer_of_worlds 
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
 
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {
            custom_effect_tooltip = RAJ_uranium_tipped_bullets_tt
        }

        completion_reward = {
            custom_effect_tooltip = RAJ_uranium_tipped_bullets_tt
            hidden_effect = {
                set_technology = {
                    uranium_tipped_bullets = 1
                    popup = no
                }
            }
        }
    }

    focus = {
        id = RAJ_rolling_nuke_barrages
        icon = GFX_focus_GER_wunderwaffe
        prerequisite = { focus = RAJ_destroyer_of_worlds }
        x = 2
        y = 1
        relative_position_id = RAJ_destroyer_of_worlds
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        completion_reward = {
            add_ideas = idea_RAJ_rolling_nuke_barrages
        }
    }

    focus = {
        id = RAJ_india_indivisible
        icon = GFX_focus_RAJ_all_india_forward_bloc
        prerequisite = { focus = RAJ_preamble_to_the_constitution_of_india }
        x = 0
        y = 1
        relative_position_id = RAJ_preamble_to_the_constitution_of_india
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_india_indivisible_tt
        }
    }

    focus = {
        id = RAJ_defend_burma
            icon = GFX_goal_generic_defence
        prerequisite = { focus = RAJ_india_indivisible }
        x = 3
        y = 1
        relative_position_id = RAJ_india_indivisible
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            BRM = {
                exists = yes
                is_in_faction_with = ROOT
                controls_province = 1330
            }
            controls_province = 4245
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            build_railway = {
                level = 2
                start_province = 4245
                target_province = 1330 
            }
            BRM = {
                add_manpower = 21000
            }
        }
    }


    focus = {
        id = RAJ_contamination_cleanup_crew
        icon = GFX_focus_RAJ_contamination_cleanup_crew
        prerequisite = { focus = RAJ_uranium_tipped_bullets }
        x = 0
        y = 1
        relative_position_id = RAJ_uranium_tipped_bullets 
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        completion_reward = {
            add_ideas = idea_RAJ_contamination_cleanup_crew
        }
    }

    focus = {
        id = RAJ_jaguar
        icon = GFX_focus_generic_jet_planes
        prerequisite = { focus = RAJ_rolling_nuke_barrages }
        x = 0
        y = 1
        relative_position_id = RAJ_rolling_nuke_barrages
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            random_owned_controlled_state = {
                limit = {
                    can_construct_building = air_facility
                }
                prioritize = { 439 }
                construct_building_in_random_province = {
                    air_facility = 1
                }
            }

            add_breakthrough_points = {
                specialization = specialization_air 
                value = 1
            }

            add_tech_bonus = {
                bonus = 1
                uses = 2
                category = heavy_air # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_an_economy_unbound
        icon = GFX_focus_SWE_landsverk
        prerequisite = { focus = RAJ_india_indivisible }
        x = -3
        y = 1
        relative_position_id = RAJ_india_indivisible
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            add_timed_idea = {
                 idea = idea_RAJ_an_economy_unbound
                 days = 260
             }
        }
    }

    focus = {
        id = RAJ_annex_goa
        icon = GFX_focus_generic_attack_portugal
        prerequisite = { focus = RAJ_india_indivisible }
        x = 2
        y = 0
        relative_position_id = RAJ_an_economy_unbound 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }
        
        bypass = {
            321 = {
                is_owned_by = RAJ
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        complete_tooltip = {

        }

        available = {
            NOT = {
                321 = {
                    is_owned_by = RAJ
                }
            }
        }

        completion_reward = {
            321 = {
                owner = {
                    country_event = { id = GOE_RAJ_goa.1 days = 1 }
                }
            }
        }
    }

    focus = {
        id = RAJ_suppress_paramilitary_organizations
        icon = GFX_focus_PAR_neuter_the_guion_rojo
        prerequisite = { focus = RAJ_india_indivisible }
        x = 2
        y = 0
        relative_position_id = RAJ_annex_goa
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}

        complete_tooltip = {

        }

        completion_reward = {
            remove_ideas = { idea_RAJ_remaining_paramilitary_organizations }
        }
    }

    focus = {
        id = RAJ_bathe_in_hellfire
        icon = GFX_focus_RAJ_bathe_in_hellfire
        prerequisite = { focus = RAJ_contamination_cleanup_crew  }
        prerequisite = { focus = RAJ_jaguar }
        x = 2
        y = 1
        relative_position_id = RAJ_contamination_cleanup_crew
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_bathe_in_hellfire_desc_tt
        }
    }

    focus = {
        id = RAJ_a_tiger_unchained
        icon = GFX_focus_RAJ_a_tiger_unchained
        prerequisite = { focus = RAJ_annex_goa }
        x = 0
        y = 1
        relative_position_id = RAJ_annex_goa 
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        complete_tooltip = {

        }

        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.3
                uses = 2
                category = special_forces_doctrine
                name = RAJ_a_tiger_unchained
            }

            add_ideas = idea_RAJ_a_tiger_unchained
        }
    }

    focus = {
        id = RAJ_import_substitution_industrialisation
        icon = GFX_goal_generic_construction
        prerequisite = { focus = RAJ_an_economy_unbound }
        x = 0
        y = 1
        relative_position_id = RAJ_an_economy_unbound
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_fight_malnutrition
        icon = GFX_focus_generic_field_hostpital
        prerequisite = { focus = RAJ_import_substitution_industrialisation }
        x = 0
        y = 1
        relative_position_id = RAJ_import_substitution_industrialisation 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}
        search_filters = {FOCUS_FILTER_STABILITY}

        complete_tooltip = {

        }

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_fight_malnutrition
                bonus = 0.5
                uses = 2
                category = support_tech # optional 
                # technology  = technology_id # optional
            }

            add_tech_bonus = {
                name = RAJ_fight_malnutrition
                bonus = 0.5
                uses = 1
                category = motorized_equipment # optional 
                # technology  = technology_id # optional
            }

            add_stability = 0.03
            custom_effect_tooltip = RAJ_famine_impact_reduction
            
            add_to_variable = { RAJ_famine_shield = 20 tooltip = RAJ_famine_shield_tt  }
            calculate_famine_shield_and_risk = yes
        }
    }

      focus = {
        id = RAJ_mixed_economy
        icon = GFX_focus_generic_resource_extraction
        prerequisite = { focus = RAJ_import_substitution_industrialisation }
        x = 2
        y = 0
        relative_position_id = RAJ_fight_malnutrition
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_mixed_economy_tt
            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = steel amount > 6 }
                    is_controlled_by = ROOT

                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = steel amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = steel amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = steel amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = steel amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = steel amount = 3 }
                }
            }

            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = oil amount > 6 }
                    is_controlled_by = ROOT
                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = oil amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = oil amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = oil amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = oil amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = oil amount = 3 }
                }
            }

            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = chromium amount > 6 }
                    is_controlled_by = ROOT
                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = chromium amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = chromium amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = chromium amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = chromium amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = chromium amount = 3 }
                }
            }

            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = rubber amount > 6 }
                    is_controlled_by = ROOT
                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = rubber amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = rubber amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = rubber amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = rubber amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = rubber amount = 3 }
                }
            }

            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = tungsten amount > 6 }
                    is_controlled_by = ROOT
                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = tungsten amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = tungsten amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = tungsten amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = tungsten amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = tungsten amount = 3 }
                }
            }

            #
            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = aluminium amount > 6 }
                    is_controlled_by = ROOT
                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = aluminium amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = aluminium amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = aluminium amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = aluminium amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = aluminium amount = 3 }
                }
            }
        }
    }

    focus = {
        id = RAJ_land_reforms
        icon = GFX_focus_generic_land_reclamation
        prerequisite = { focus = RAJ_import_substitution_industrialisation }
        x = 2
        y = 0
        relative_position_id = RAJ_mixed_economy
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            random_core_state = {
                limit = {
                    is_controlled_by = ROOT
                }
                add_extra_state_shared_building_slots = 1   
            }

            random_core_state = {
                limit = {
                    is_controlled_by = ROOT
                }
                add_extra_state_shared_building_slots = 1 
            }
            random_core_state = {
                limit = {
                    is_controlled_by = ROOT
                }
                add_extra_state_shared_building_slots = 1   
            }

        }
    }

    focus = {
        id = RAJ_education_efforts
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_fight_malnutrition }
        x = 0
        y = 1
        relative_position_id = RAJ_fight_malnutrition
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            add_research_slot = 1
        }
    }

    focus = {
        id = RAJ_to_shake_the_world
        icon = GFX_focus_RAJ_to_shake_the_world
        prerequisite = { focus =  RAJ_mixed_economy focus =  RAJ_land_reforms  }
        prerequisite = { focus =  RAJ_education_efforts }
        x = 0
        y = 2
        relative_position_id = RAJ_mixed_economy
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            OR = {
                surrender_progress > 0.15
                AND = {
                    has_war_support > 0.59
                    num_of_factories > 60
                }
                has_idea = tot_economic_mobilisation
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}



        completion_reward = {
           add_research_slot = 1
           try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
           try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
           try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
           try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
        }
    }


  ##################################################################
######################################################################

#    ##  #   #  ##  #   ###  ## ###     ###  ###   ##  #  #  ##  #  # 
#   #  #  # #  #  # #    #  #    #      #  # #  # #  # ## # #  # #  # 
#   #  #   #   #### #    #   #   #      ###  ###  #### # ## #    #### 
#   #  #   #   #  # #    #    #  #      #  # #  # #  # #  # #  # #  # 
###  ##    #   #  # ### ### ##   #      ###  #  # #  # #  #  ##  #  # 

######################################################################
  ##################################################################




focus = {
	id = RAJ_his_majestys_loyal_government
	icon = GFX_focus_RAJ_his_majestys_loyal_government
	
	x = 44
	y = 0
	relative_position_id = RAJ_great_depression_price_controls 
	cost = 5

	mutually_exclusive = { focus = RAJ_great_depression_price_controls focus = RAJ_provincial_autonomy }

	allow_branch = {
		if = {
			limit = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
			NOT = {
				has_completed_focus = RAJ_provincial_autonomy
				has_completed_focus = RAJ_great_depression_price_controls
			}
		}
	}

	offset = {
		x = -40
		y = 0
		trigger = {
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = HIDE
			}
			has_completed_focus = RAJ_great_depression_price_controls
		}
	}

	available = {
		is_subject_of = ENG
	}

	search_filters = { FOCUS_FILTER_POLITICAL }

	completion_reward = {
		add_dynamic_modifier = { modifier = RAJ_a_loyal_government }
		
		custom_effect_tooltip = generic_skip_one_line_tt
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		add_political_power = 70

		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = RAJ_his_majestys_loyal_government_break_free_tt

		hidden_effect = {
			country_event = { id = GOE_RAJ_partition.1 days = 80 } # Unrest event
			country_event = { id = GOE_RAJ.29 days = 38 }  #April 18ish #Freeman retires
		}

		hidden_effect = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
}

focus = {
	id = RAJ_the_government_of_india_act
	icon = GFX_focus_RAJ_all_india_forward_bloc
	prerequisite = { focus = RAJ_his_majestys_loyal_government }
	
	x = -4
	y = 1
	relative_position_id = RAJ_his_majestys_loyal_government 
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

	completion_reward = {
		hidden_effect = {
			set_temp_variable = { RAJ_pp_bonus_based_on_compliance = 0 }
			
			for_each_scope_loop = {
				array = ROOT.owned_states_at_game_start			
				
				if = {
					limit = {
						is_controlled_by = ROOT
						has_resistance = yes
						compliance > 74 #Doesn't accept vars :') WARNING! If changing this value then update the tooltip RAJ_the_government_of_india_act_pp_bonus_tt
					}
					add_to_temp_variable = { ROOT.RAJ_pp_bonus_based_on_compliance = 1 }
					#log = "[THIS.GetName] grants bonus"
				}
			}
			log = "Total states granting bonus = [?ROOT.RAJ_pp_bonus_based_on_compliance]"

			divide_temp_variable = { RAJ_pp_bonus_based_on_compliance = 100 } #Divide so 1 becomes 0.01 (1% PP factor)
			multiply_temp_variable = { RAJ_pp_bonus_based_on_compliance = RAJ_the_government_of_india_act_pp_bonus_based_on_compliance } #Multiply by whatever value deemed good for balance
		}

		custom_effect_tooltip = RAJ_the_government_of_india_act_pp_bonus_tt
		if = {
			limit = {
				NOT = { has_completed_focus = RAJ_the_government_of_india_act } #Stop showing dynamic list of states after completed
				any_state_in = {
					array = ROOT.owned_states_at_game_start

					has_resistance = yes
					compliance > 74 #Doesn't accept vars :') WARNING! If changing this value then update the tooltip RAJ_the_government_of_india_act_pp_bonus_tt
				}
			}
			custom_effect_tooltip = current_states_granting_bonus_tt
			every_controlled_state = { #For tooltip purposes
				limit = {
					is_in_array = {
						array = ROOT.owned_states_at_game_start
						value = THIS
					}
					has_resistance = yes
					compliance > 74 #Doesn't accept vars :') WARNING! If changing this value then update the tooltip RAJ_the_government_of_india_act_pp_bonus_tt
				}
			}
		}
		else_if = {
			limit = {
				NOT = { has_completed_focus = RAJ_the_government_of_india_act } #Stop showing this after completed
			}
			custom_effect_tooltip = no_state_meet_requirements_tt
		}
		add_to_variable = { RAJ_a_loyal_government_political_power_factor = RAJ_pp_bonus_based_on_compliance }
		clear_variable = RAJ_pp_bonus_based_on_compliance

		custom_effect_tooltip = generic_skip_one_line_tt
		add_stability = 0.05

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_famine_impact_reduction
		add_to_variable = { RAJ_famine_shield = 8 tooltip = RAJ_famine_shield_tt  }
		calculate_famine_shield_and_risk = yes

		

		
	}
}

focus = {
	id = RAJ_work_with_local_leaders
	icon = GFX_goal_tripartite_pact
	prerequisite = { focus = RAJ_the_government_of_india_act }
	
	x = 0
	y = 1
	relative_position_id = RAJ_the_government_of_india_act 
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		add_political_power = 70

		activate_mission = RAJ_investments_from_local_leaders
	}
}

focus = {
	id = RAJ_concessions_to_the_industrialists
	icon = GFX_focus_generic_industrialists
	prerequisite = { focus = RAJ_work_with_local_leaders }
	
	x = -1
	y = 1
	relative_position_id = RAJ_work_with_local_leaders 
	cost = 5

	mutually_exclusive = { focus = RAJ_empower_provincial_authorities }

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		random_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				infrastructure < 5
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = RAJ_concessions_to_the_industrialists_chances_tt
		set_variable = { RAJ_local_leaders_infra_chance = 0 }
		set_variable = { RAJ_local_leaders_civs_chance = 0.6 }
		set_variable = { RAJ_local_leaders_mils_chance = 0.4 }
	}
}

focus = {
	id = RAJ_empower_provincial_authorities
	icon = GFX_focus_generic_self_management
	prerequisite = { focus = RAJ_work_with_local_leaders }

	x = 1
	y = 1
	relative_position_id = RAJ_work_with_local_leaders 
	cost = 5

	mutually_exclusive = { focus = RAJ_concessions_to_the_industrialists }

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		army_experience = 25

		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = RAJ_empower_provincial_authorities_chances_tt
		set_variable = { RAJ_local_leaders_infra_chance = 0 }
		set_variable = { RAJ_local_leaders_civs_chance = 0.34 }
		set_variable = { RAJ_local_leaders_mils_chance = 0.33 }
		set_variable = { RAJ_local_leaders_defenses_chance = 0.33 }
	}
}

focus = {
	id = RAJ_confer_with_the_congress
	icon = GFX_focus_RAJ_a_congress_resurgent
	prerequisite = { focus = RAJ_concessions_to_the_industrialists focus = RAJ_empower_provincial_authorities }

	x = 1
	y = 1
	relative_position_id = RAJ_concessions_to_the_industrialists 
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }

	completion_reward = {
		add_political_power = 100

		unlock_decision_category_tooltip = RAJ_concessions_to_the_congress_cat
	}
}

focus = {
	id = RAJ_favor_the_muslim_league
	icon = GFX_focus_RAJ_seek_allies_with_the_muslim_league
	prerequisite = { focus = RAJ_confer_with_the_congress }

	x = -1
	y = 1
	relative_position_id = RAJ_confer_with_the_congress 
	cost = 10

	mutually_exclusive = { focus = RAJ_court_the_princes }

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_political_power_factor = 0.1	tooltip = political_power_factor_tt }
		
		custom_effect_tooltip = generic_skip_one_line_tt
		add_autonomy_score = {
			value = 75
			localization = RAJ_favor_the_muslim_league
		}
		
		if = {
			limit = {
				has_idea = RAJ_marginalized_muslim_community
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			remove_ideas = RAJ_marginalized_muslim_community
		}
	}
}

focus = {
	id = RAJ_the_indian_parliament
	icon = GFX_focus_generic_improve_the_administration
	prerequisite = { focus = RAJ_favor_the_muslim_league focus = RAJ_court_the_princes }

	x = 0
	y = 1
	relative_position_id = RAJ_favor_the_muslim_league 
	cost = 10

	mutually_exclusive = { focus = RAJ_the_integrity_of_india_act }

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_political_power_factor = 0.1	tooltip = political_power_factor_tt }
		add_to_variable = { RAJ_a_loyal_government_political_advisor_cost_factor = -0.5 tooltip = political_advisor_cost_factor_tt }
		add_to_variable = { RAJ_a_loyal_government_party_popularity_stability_factor = 0.1 tooltip = party_popularity_stability_factor_tt }

		custom_effect_tooltip = generic_skip_one_line_tt
		
		custom_effect_tooltip = RAJ_stop_unrest_events_tt
		set_country_flag = stop_unrest_events

		custom_effect_tooltip = generic_skip_one_line_tt
		country_event = GOE_RAJ_partition.11
		effect_tooltip = { #Effect happening in the event
			set_politics = {
				ruling_party = democratic
				election_frequency = 48
				elections_allowed = yes
			}
		}
	}
}

focus = {
	id = RAJ_court_the_princes
	icon = GFX_focus_RAJ_war_taxes
	prerequisite = { focus = RAJ_confer_with_the_congress }

	x = 1
	y = 1
	relative_position_id = RAJ_confer_with_the_congress 
	cost = 5

	mutually_exclusive = { focus = RAJ_favor_the_muslim_league }

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_political_power_factor = 0.1	tooltip = political_power_factor_tt }
		add_to_variable = { RAJ_a_loyal_government_consumer_goods_factor = -0.1	tooltip = consumer_goods_factor_tt }

		custom_effect_tooltip = generic_skip_one_line_tt
		every_core_state = {
			limit = {
				is_controlled_by = ROOT
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
				has_resistance = yes #To target princely states
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 3
			add_extra_state_shared_building_slots = 2
		}
	}
}

focus = {
	id = RAJ_the_integrity_of_india_act
	icon = GFX_focus_usa_voter_registration_act
	prerequisite = { focus = RAJ_court_the_princes focus = RAJ_favor_the_muslim_league }

	x = 2
	y = 1
	relative_position_id = RAJ_favor_the_muslim_league 
	cost = 10

	mutually_exclusive = { focus = RAJ_the_indian_parliament }

	search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_resistance_target = -0.1 tooltip = resistance_target_tt }
		add_to_variable = { RAJ_a_loyal_government_resistance_damage_to_garrison = -0.25 tooltip = resistance_damage_to_garrison_tt }
		add_to_variable = { RAJ_a_loyal_government_political_power_factor = -0.15 tooltip = political_power_factor_tt }

		custom_effect_tooltip = generic_skip_one_line_tt
		if = { #FREEMAN
			limit = {
				has_country_leader = {
					ruling_only = yes
					character = RAJ_freeman_freeman_thomas
				}
			}
			custom_effect_tooltip = {
				localization_key = character_becomes_leader_of_ideology_party
				CHARACTER = RAJ_freeman_freeman_thomas
				IDEOLOGY = democratic
			}
			hidden_effect = {
				if = {  #completed focus RAJ_consult_with_congress_leaders and got the improved trait
					limit = {
						has_country_leader_with_trait = staunch_imperialist_alt_consult
					}
					add_country_leader_role = {
						character =  RAJ_freeman_freeman_thomas
						promote_leader = yes
						country_leader = {
							ideology = conservatism
							expire = 1965.1.1
							traits = { seasoned_administrator staunch_imperialist_alt_consult } 
						}
					}
				}
				else = { #Basic traits for Loyalist branch
					add_country_leader_role = {
						character =  RAJ_freeman_freeman_thomas
						promote_leader = yes
						country_leader = {
							ideology = conservatism
							expire = 1965.1.1
							traits = { seasoned_administrator staunch_imperialist_alt } 
						}
					}
				}
			}
		}
		else_if = { #LINLITHGOW
			limit = {
				has_country_leader = {
					ruling_only = yes
					character = RAJ_lord_linlithgow
				}
			}
			custom_effect_tooltip = {
				localization_key = character_becomes_leader_of_ideology_party
				CHARACTER = RAJ_lord_linlithgow
				IDEOLOGY = democratic
			}
			hidden_effect = {
				if = { #completed focus RAJ_consult_with_congress_leaders and got the improved trait
					limit = {
						has_country_leader_with_trait = aloof_authority_alt_consult
					}
					add_country_leader_role = {
						character =  RAJ_lord_linlithgow
						promote_leader = yes
						country_leader = {
							ideology = conservatism
							expire = 1965.1.1
							traits = { aloof_authority_alt_consult } 
						}
					}
				}
				else_if = { #completed focus RAJ_linlithgows_declaration_of_war and got the Belligerent trait
					limit = {
						has_completed_focus = RAJ_linlithgows_declaration_of_war
					}
					add_country_leader_role = {
						character =  RAJ_lord_linlithgow
						promote_leader = yes
						country_leader = {
							ideology = conservatism
							expire = 1965.1.1
							traits = { aloof_authority_alt belligerent_viceroy } 
						}
					}
				}
				else = { #Basic traits for Loyalist branch
					add_country_leader_role = {
						character =  RAJ_lord_linlithgow
						promote_leader = yes
						country_leader = {
							ideology = conservatism
							expire = 1965.1.1
							traits = { aloof_authority_alt } 
						}
					}
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		retire_character = RAJ_mahatma_mohandas_gandhi
		retire_character = RAJ_GOE_jawaharlal_nehru
		retire_character = RAJ_subhas_chanda_bose
		if = {
			limit = {
				NOT = { has_completed_focus = RAJ_favor_the_muslim_league }
			}
			retire_character = RAJ_GOE_muhammad_ali_jinnah
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_stop_unrest_events_tt
		set_country_flag = stop_unrest_events
	}
}

focus = {
	id = RAJ_princely_state_donations_GOE
	icon = GFX_goal_generic_improve_relations
	prerequisite = { focus = RAJ_court_the_princes }

	x = 1
	y = 2
	relative_position_id = RAJ_court_the_princes 
	cost = 5

	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		swap_ideas = {
			remove_idea = RAJ_princely_states
			add_idea = RAJ_princely_states_donations_troops
		}

		country_event = { id = tfv_raj.1 days = 7 random_days = 2 }
	}
}

focus = {
	id = RAJ_the_jewel_becomes_the_crown
	icon = GFX_focus_RAJ_the_jewel_becomes_the_crown
	prerequisite = { focus = RAJ_the_indian_parliament focus = RAJ_the_integrity_of_india_act }

	x = -1
	y = 1
	relative_position_id = RAJ_the_indian_parliament 
	cost = 10

	available = {
		ENG = {
			OR = {
				has_capitulated = yes
				surrender_progress > 0.05
			}
			is_ally_with = ROOT
		}
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_industrial_capacity_factory = 0.15 tooltip = industrial_capacity_factory_tt }
		add_to_variable = { RAJ_a_loyal_government_industrial_capacity_dockyard = 0.35 tooltip = industrial_capacity_dockyard_tt }

		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				is_subject_of = ENG
			}
			ENG = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_free
				}
			}
		}
		set_major = yes

		if = { #Transfer British Navy to RAJ -> Only when ENG is AI
			limit = {
				ENG = {
					is_ai = yes
				}
			}
			ENG = {
				transfer_navy = {
				    target = ROOT
				}
			}
		}

		if = { #Just a fail safe
			limit = {
				ENG = {
					has_character = ENG_winston_churchill
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			country_event = { id = GOE_RAJ_loyalist.11 hours = 36 random_hours = 12 }
		}
	}
}

focus = {
	id = RAJ_the_punjab_accord
	icon = GFX_focus_RAJ_sikh_religious_guarantees
	prerequisite = { focus = RAJ_the_indian_parliament focus = RAJ_the_integrity_of_india_act }

	x = 1
	y = 1
	relative_position_id = RAJ_the_indian_parliament 
	cost = 10

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER }

	completion_reward = {
		add_timed_idea = {
			idea = idea_sikh_inclusivity_policies
			days = 180
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = RAJ_GOE_tara_singh

		custom_effect_tooltip = generic_skip_one_line_tt

		show_unit_leaders_tooltip = RAJ_GOE_ishar_singh
		show_unit_leaders_tooltip = RAJ_GOE_parkash_singh

		add_ace = {
			type = "fighter_good"
			name = "Mohinder"
			surname = "Pujji"
			callsign = "Singh" #Actual middle name
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		unlock_decision_tooltip = RAJ_GOE_sikh_recruitment
	}
}


focus = {
	id = RAJ_the_dominion_of_india
	icon = GFX_focus_RAJ_the_dominion_of_india
	prerequisite = { focus = RAJ_the_punjab_accord }

	x = 0
	y = 1
	relative_position_id = RAJ_the_punjab_accord 
	cost = 10

	available = {
		is_subject_of = ENG
		has_autonomy_state = autonomy_dominion
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_extra_trade_to_overlord_factor = -0.25 tooltip = extra_trade_to_overlord_factor_tt }
		add_to_variable = { RAJ_a_loyal_government_conscription_factor = 0.05 tooltip = conscription_factor_tt }

		custom_effect_tooltip = generic_skip_one_line_tt
		add_stability = 0.1
		add_war_support = 0.1
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_the_dominion_of_india_every_owned_state_compliance_tt
		every_owned_state = {
			limit = {
				has_resistance = yes
				compliance < 100
			}

			add_compliance = 15
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_loyalist_branch_capstone_focuses_become_free_tt
	}
}

focus = {
	id = RAJ_curtail_the_zamindars
	icon = GFX_goal_generic_political_pressure
	prerequisite = { focus = RAJ_work_with_local_leaders }
	
	x = 5
	y = 1
	relative_position_id = RAJ_work_with_local_leaders 
	cost = 5

	mutually_exclusive = { focus = RAJ_expand_the_zamindari_system }

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		add_political_power = 100
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				infrastructure < 5
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

focus = {
	id = RAJ_raise_import_duties
	icon = GFX_focus_RAJ_issue_bonds_on_the_stock_market
	prerequisite = { focus = RAJ_curtail_the_zamindars }
	
	x = -1
	y = 1
	relative_position_id = RAJ_curtail_the_zamindars 
	cost = 5

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

	completion_reward = {
		add_ideas = RAJ_high_import_duties

		custom_effect_tooltip = generic_skip_one_line_tt
		ENG = {
			add_opinion_modifier = {
				target = ROOT
				modifier = RAJ_high_import_duties
			}
		}
	}
}

focus = {
	id = RAJ_imperial_industry_initiative
	icon = GFX_goal_generic_construct_mil_factory
	prerequisite = { focus = RAJ_raise_import_duties }
	
	x = -1
	y = 1
	relative_position_id = RAJ_raise_import_duties 
	cost = 10

	available = {
		has_tech = construction3
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		swap_ideas = {
			remove_idea = RAJ_high_import_duties
			add_idea = RAJ_imperial_industry_initiative
		}

		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 3
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}

focus = {
	id = RAJ_rural_development_plan
	icon = GFX_focus_generic_energy
	prerequisite = { focus = RAJ_raise_import_duties }
	
	x = 1
	y = 1
	relative_position_id = RAJ_raise_import_duties 
	cost = 5

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		unlock_decision_category_tooltip = RAJ_population_decisions
	}
}

focus = {
	id = RAJ_the_great_recovery
	icon = GFX_focus_generic_industry_3
	prerequisite = { focus = RAJ_imperial_industry_initiative }
	prerequisite = { focus = RAJ_rural_development_plan }
	
	x = 1
	y = 1
	relative_position_id = RAJ_imperial_industry_initiative 
	cost = 10

	available = {
		industrial_complex > 39
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

	completion_reward = {
		swap_ideas = {
			remove_idea = RAJ_imperial_industry_initiative
			add_idea = RAJ_the_great_recovery
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		if = {
			limit = {
				has_idea = idea_RAJ_great_depression_1
			}
			remove_ideas = idea_RAJ_great_depression_1
			custom_effect_tooltip = generic_skip_one_line_tt
			add_timed_idea = {
				idea = idea_RAJ_great_depression_2
				days = 1095
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				arms_factory > 0
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				industrial_complex > 0
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				dockyard > 0
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
	}
}

focus = {
	id = RAJ_reform_the_agricultural_sector
	icon = GFX_focus_generic_farmland
	prerequisite = { focus = RAJ_curtail_the_zamindars }
	
	x = 1
	y = 1
	relative_position_id = RAJ_curtail_the_zamindars 
	cost = 5

	search_filters = { FOCUS_FILTER_STABILITY }

	completion_reward = {
		add_stability = 0.05

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_famine_impact_reduction
		add_to_variable = { RAJ_famine_shield = 8 tooltip = RAJ_famine_shield_tt  }
		calculate_famine_shield_and_risk = yes
	}
}

focus = {
	id = RAJ_expand_the_zamindari_system
	icon = GFX_goal_generic_dangerous_deal
	prerequisite = { focus = RAJ_his_majestys_loyal_government }
	
	x = 4
	y = 0
	relative_position_id = RAJ_curtail_the_zamindars 
	cost = 5

	mutually_exclusive = { focus = RAJ_curtail_the_zamindars }

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

	completion_reward = {
		add_ideas = RAJ_the_zamindari_system
	}
}

focus = {
	id = RAJ_crown_commodities
	icon = GFX_focus_RAJ_tea_exports
	prerequisite = { focus = RAJ_expand_the_zamindari_system }
	
	x = -1
	y = 1
	relative_position_id = RAJ_expand_the_zamindari_system 
	cost = 10

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

	completion_reward = {
		add_autonomy_score = {
			value = 75
			localization = RAJ_crown_commodities
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				has_idea = idea_RAJ_great_depression_1
			}
			remove_ideas = idea_RAJ_great_depression_1
			custom_effect_tooltip = generic_skip_one_line_tt
			add_timed_idea = {
				idea = idea_RAJ_great_depression_2
				days = 1095
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		random_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		if = {
			limit = {
				is_ally_with = ENG
			}
			custom_effect_tooltip = RAJ_crown_commodities_cg_to_the_empire_tt
			event_option_tooltip = GOE_RAJ_loyalist.01.a
			hidden_effect = {
				ENG = {
					country_event = { id = GOE_RAJ_loyalist.01 hours = 8 random_hours = 4 }

					every_subject_country = {
						limit = {
							NOT = { tag = ROOT }
						}
						country_event = { id = GOE_RAJ_loyalist.01 hours = 8 random_hours = 4 }
					}
				}
			}
		}
	}
}

focus = {
	id = RAJ_rural_mechanization_program
	icon = GFX_focus_generic_supply_line
	prerequisite = { focus = RAJ_reform_the_agricultural_sector focus = RAJ_crown_commodities }
	
	x = 1
	y = 1
	relative_position_id = RAJ_reform_the_agricultural_sector 
	cost = 5

	available = {
		has_tech = motorised_infantry
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

	completion_reward = {
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		add_tech_bonus = {
			name = RAJ_rural_mechanization_program
			bonus = 0.75
			uses = 1
			category = cat_production
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = RAJ_famine_impact_reduction
		add_to_variable = { RAJ_famine_shield = 5 tooltip = RAJ_famine_shield_tt  }
		calculate_famine_shield_and_risk = yes
	}
}

focus = {
	id = RAJ_the_riches_of_the_raj
	icon = GFX_focus_generic_mining_industry
	prerequisite = { focus = RAJ_expand_the_zamindari_system }
	
	x = 1
	y = 1
	relative_position_id = RAJ_expand_the_zamindari_system 
	cost = 10

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		custom_effect_tooltip = RAJ_the_riches_of_the_raj_targets_oil_tt
		custom_effect_tooltip = generic_states_affected_no_prev_line_tt
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				has_resources_amount = {
					resource = oil
					amount > 0
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			hidden_effect = {
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = RAJ_the_riches_of_the_raj_targets_tt
		custom_effect_tooltip = generic_states_affected_no_prev_line_tt
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				OR = {
					has_resources_amount = {
						resource = steel
						amount > 19
					}
					has_resources_amount = {
						resource = tungsten
						amount > 19
					}
					has_resources_amount = {
						resource = chromium
						amount > 19
					}
					has_resources_amount = {
						resource = aluminium
						amount > 19
					}
					has_resources_amount = {
						resource = rubber
						amount > 19
					}
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			hidden_effect = {
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}

				if = {
					limit = {
						has_resources_amount = {
							resource = steel
							amount > 19
						}
					}
					add_resource = {
						type = steel
						amount = 4
					}
				}
				if = {
					limit = {
						has_resources_amount = {
							resource = tungsten
							amount > 19
						}
					}
					add_resource = {
						type = tungsten
						amount = 4
					}
				}
				if = {
					limit = {
						has_resources_amount = {
							resource = chromium
							amount > 19
						}
					}
					add_resource = {
						type = chromium
						amount = 4
					}
				}
				if = {
					limit = {
						has_resources_amount = {
							resource = aluminium
							amount > 19
						}
					}
					add_resource = {
						type = aluminium
						amount = 4
					}
				}
				if = {
					limit = {
						has_resources_amount = {
							resource = rubber
							amount > 19
						}
					}
					add_resource = {
						type = rubber
						amount = 4
					}
				}
			}
		}
	}
}

focus = {
	id = RAJ_strengthen_ties_with_british_investors_GOE
	icon = GFX_goal_generic_positive_trade_relations
	prerequisite = { focus = RAJ_crown_commodities focus = RAJ_the_riches_of_the_raj }
	
	x = 1
	y = 1
	relative_position_id = RAJ_crown_commodities 
	cost = 5

	available = {
		is_ally_with = ENG
	}

	bypass_if_unavailable = yes

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		add_autonomy_ratio = { #TODO_Mnau: Evaluate this
			value = -0.15
			localization = RAJ_strengthen_ties_with_british_investors
		}
		
		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			add_equipment_subsidy = {
				cic = 1000
				equipment_type = infantry_equipment
				seller_tags = { ENG } 
			}
			add_equipment_subsidy = {
				cic = 1000
				equipment_type = motorized_equipment
				seller_tags = { ENG } 
			}
			add_equipment_subsidy = {
				cic = 1000
				equipment_type = artillery_equipment
				seller_tags = { ENG } 
			}
			add_equipment_subsidy = {
				cic = 1000
				equipment_type = light_tank_chassis
				seller_tags = { ENG } 
			}
			custom_effect_tooltip = generic_skip_one_line_tt
		}

		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}

focus = {
	id = RAJ_imperial_rail_renewal_act
	icon = GFX_goal_generic_construct_infrastructure
	prerequisite = { focus = RAJ_the_riches_of_the_raj }
	
	x = 1
	y = 1
	relative_position_id = RAJ_the_riches_of_the_raj 
	cost = 10

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		swap_ideas = {
			remove_idea = RAJ_the_zamindari_system
			add_idea = RAJ_the_zamindari_system_2
		}

		custom_effect_tooltip = RAJ_imperial_rail_renewal_act_tt
		if = {
			limit = {
				OR = { #These are the two starting focuses in the industrial branch
					has_completed_focus = RAJ_east_india_railways_dlc
					has_completed_focus = RAJ_bombay_baroda_and_central_india_railway
				}
			}
			custom_effect_tooltip = generic_current_effects
		}
		if = {
			limit = {
				has_completed_focus = RAJ_east_india_railways_dlc
			}
			random_owned_controlled_state = {
				prioritize = { 431 } #WEST BENGAL (Calcutta)
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_completed_focus = RAJ_bombay_baroda_and_central_india_railway
			}
			random_owned_controlled_state = {
				prioritize = { 430 } #EAST BENGAL (Bangladesh)
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_completed_focus = RAJ_great_indian_peninsula_railway_dlc
			}
			random_owned_controlled_state = {
				prioritize = { 429 } #BOMBAY
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_completed_focus = RAJ_south_indian_railway_company
			}
			random_owned_controlled_state = {
				prioritize = { 423 } #SOUTHERN MADRAS (Madras)
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_completed_focus = RAJ_north_western_state_railway
			}
			random_owned_controlled_state = {
				prioritize = { 433 } #RAJAHSTHAN (Jaipur)
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

focus = {
	id = RAJ_exploit_the_frontier
	icon = GFX_goal_generic_construction2
	prerequisite = { focus = RAJ_imperial_rail_renewal_act }
	
	x = -1
	y = 1
	relative_position_id = RAJ_imperial_rail_renewal_act 
	cost = 5

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		custom_effect_tooltip = {
			localization_key = generic_unlocks_decisions_explanation_tt
			DECISIONS = prospect_for_resources
			EXPLANATION = RAJ_exploit_the_frontier_decisions_tt
		}
	}
}

focus = {
	id = RAJ_overlords_railway_investment
	icon = GFX_focus_generic_railroad
	prerequisite = { focus = RAJ_imperial_rail_renewal_act }
	
	x = 1
	y = 1
	relative_position_id = RAJ_imperial_rail_renewal_act 
	cost = 5

	available = {
		is_ally_with = ENG
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		swap_ideas = {
			remove_idea = RAJ_the_zamindari_system_2
			add_idea = RAJ_the_zamindari_system_3
		}

		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
}

focus = {
	id = RAJ_territorial_development_scheme
	icon = GFX_goal_generic_construct_civilian
	prerequisite = { focus = RAJ_rural_development_plan }
	prerequisite = { focus = RAJ_reform_the_agricultural_sector }
	
	x = 1
	y = 1
	relative_position_id = RAJ_rural_development_plan 
	cost = 5

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		custom_effect_tooltip = RAJ_land_clearance_effect_tt
		hidden_effect = {
			every_owned_state = {
				limit = { has_state_flag = RAJ_industrialized_this_state }
				add_extra_state_shared_building_slots = 1
			}
		}
	}
}

focus = {
	id = RAJ_the_empires_workshop
	icon = GFX_goal_generic_construct_civ_factory
	prerequisite = { focus = RAJ_crown_commodities }
	prerequisite = { focus = RAJ_strengthen_ties_with_british_investors_GOE }
	
	x = -1
	y = 1
	relative_position_id = RAJ_strengthen_ties_with_british_investors_GOE 
	cost = 10

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		add_autonomy_score = {
			value = 150
			localization = RAJ_the_empires_workshop
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		add_tech_bonus = {
			name = RAJ_the_empires_workshop
			bonus = 0.75
			uses = 2
			category = industry
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		random_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}

		if = {
			limit = {
				is_ally_with = ENG
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = RAJ_the_empires_workshop_civs_to_the_empire_subjects_tt
			every_subject_country = {
				limit = {
					NOT = { tag = ROOT }
				}
				event_option_tooltip = GOE_RAJ_loyalist.02.a
			}

			hidden_effect = {
				ENG = {
					if = {
						limit = {
							any_core_state = {
								is_fully_controlled_by = PREV
								free_building_slots = {
									building = industrial_complex
									size > 1
									include_locked = yes
								}
							}
						}
						country_event = { id = GOE_RAJ_loyalist.02 hours = 8 random_hours = 4 }
					}

					every_subject_country = {
						limit = {
							NOT = { tag = ROOT }
						}
						if = {
							limit = {
								any_core_state = {
									is_fully_controlled_by = PREV
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
								}
							}
							country_event = { id = GOE_RAJ_loyalist.02 hours = 8 random_hours = 4 }
						}
					}
				}
			}
		}
	}
}

focus = {
	id = RAJ_institute_of_fundamental_research_GOE
	icon = GFX_focus_research
	prerequisite = { focus = RAJ_territorial_development_scheme focus = RAJ_the_empires_workshop }
	
	x = 1
	y = 1
	relative_position_id = RAJ_territorial_development_scheme 
	cost = 10

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_research_speed_factor = 0.05 tooltip = research_speed_factor_tt }

		custom_effect_tooltip = generic_skip_one_line_tt
		
		add_research_slot = 1

		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				NOT = {
					has_tech = atomic_research
				}
			}
			add_tech_bonus = {
				name = RAJ_institute_of_fundamental_research
				bonus = 1.0
				uses = 1
				category = nuclear
			}
			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.25
			}
		}
		else = {
			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.75
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				RAJ_homi_j_bhabha = {
					has_scientist_level = {
						specialization = specialization_nuclear
						level < 5
					}
				}
			}
			RAJ_homi_j_bhabha = {
				add_scientist_level = {
					specialization = specialization_nuclear
					level = 1
				}
			}
		}
	}
}

focus = {
	id = RAJ_keep_calm_and_carry_on
	icon = GFX_goal_generic_secret_weapon
	prerequisite = { focus = RAJ_institute_of_fundamental_research_GOE }

	x = 0
	y = 1
	relative_position_id = RAJ_institute_of_fundamental_research_GOE 
	cost = 10

	available = {
		has_war = yes
		arms_factory > 39
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		add_research_slot = 1
		custom_effect_tooltip = generic_skip_one_line_tt

		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			add_ideas = RAJ_war_industry
		}
		else = {
			add_ideas = RAJ_war_industry_no_aat
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		random_owned_controlled_state = {
			limit = {
				is_fully_controlled_by = ROOT
				land_facility < 1
				air_facility < 1
				nuclear_facility < 1
				naval_facility < 1
			}
			prioritize = { 439 }
			construct_building_in_random_province = {
				land_facility = 1
			}
		}

		add_breakthrough_points = {
			specialization = specialization_land
			value = 1
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_loyalist_branch_capstone_focuses_become_free_tt
	}
}

focus = {
	id = RAJ_indian_gentleman_officers
	icon = GFX_focus_RAJ_indian_gentlemen_offcers
	prerequisite = { focus = RAJ_his_majestys_loyal_government }
	
	x = 14
	y = 1
	relative_position_id = RAJ_his_majestys_loyal_government 
	cost = 5

	search_filters = { FOCUS_FILTER_ARMY_XP }

	completion_reward = {
		army_experience = 35
		custom_effect_tooltip = generic_skip_one_line_tt
		add_dynamic_modifier = { modifier = RAJ_indian_gentlemen_officers_goe }
	}
}

focus = {
	id = RAJ_the_aden_protectorate
	icon = GFX_focus_generic_coastal_fort
	prerequisite = { focus = RAJ_indian_gentleman_officers }
	
	x = -2
	y = 2
	relative_position_id = RAJ_indian_gentleman_officers 
	cost = 10

	available = {
		992 = { is_fully_controlled_by = ROOT }
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		992 = {
			add_dynamic_modifier = {
				modifier = idea_RAJ_aden_treaty_port
			}

			#Factories
			if = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			else_if = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			else_if = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			#Infrastructure
			if = {
				limit = {
					infrastructure < 4
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			else_if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			#Forts
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 5074
			}

			#Naval Forts
			add_building_construction = {
				type = coastal_bunker
				level = 4
				instant_build = yes
				province = 5074
			}

			#Naval Bases
			add_building_construction = {
				type = naval_base
				level = 4
				instant_build = yes
				province = 5074
			}
		}
	}
}

focus = {
	id = RAJ_linlithgows_declaration_of_war
	icon = GFX_goal_generic_propaganda
	prerequisite = { focus = RAJ_indian_gentleman_officers }
	
	x = -1
	y = 1
	relative_position_id = RAJ_indian_gentleman_officers 
	cost = 5

	mutually_exclusive = { focus = RAJ_consult_with_congress_leaders }

	available = {
		has_country_leader = {
			ruling_only = yes
			character = RAJ_lord_linlithgow
		}
		is_subject_of = ENG
		ENG = {
			has_war = yes
		}
	}

	bypass = {
		NOT = { is_subject_of = ENG }
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL_CHARACTER }

	completion_reward = {
		if = {
			limit = {
				ENG = { has_war = no }
			}
			custom_effect_tooltip = RAJ_linlithgows_declaration_of_war_tt
		}
		if = {
			limit = {
				ENG = { has_war = yes }
			}
			custom_effect_tooltip = RAJ_linlithgows_declaration_of_war_current_effects_tt
			ENG = {
				every_enemy_country = {
					limit = {
						NOT = { has_war_with = ROOT }
					}
					hidden_effect = { #Tooltip purposes
						ROOT = {
							declare_war_on = {
								target = PREV
								type = annex_everything
							}
						}
					}
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		effect_tooltip = { #TOOLTIP (trait management handled after)
			if = {
				limit = {
					has_country_leader = {
						character = RAJ_lord_linlithgow
						ruling_only = no
					}
				}
				RAJ_lord_linlithgow = {
					add_country_leader_trait = {
						ideology = centrism
						trait = belligerent_viceroy
					}
				}
			}
			else = {
				add_country_leader_role = {
					character =  RAJ_lord_linlithgow
					country_leader = {
						ideology = centrism
						expire = 1965.1.1
						traits = { belligerent_viceroy } 
					}
				}
			}
		}
		hidden_effect = {
			RAJ_lord_linlithgow = {
				add_country_leader_trait = {
					ideology = centrism
					trait = belligerent_viceroy
				}
				#Add trait to the democratic role too if necessary (granted by RAJ_the_integrity_of_india_act)
				if = {
					limit = {
						has_ideology_group = democratic
					}
					add_country_leader_trait = {
						ideology = conservatism
						trait = belligerent_viceroy
					}
				}
			}
		}
	}
}

focus = {
	id = RAJ_consult_with_congress_leaders
	icon = GFX_focus_generic_treaty
	prerequisite = { focus = RAJ_indian_gentleman_officers }
	
	x = 1
	y = 1
	relative_position_id = RAJ_indian_gentleman_officers 
	cost = 5

	mutually_exclusive = { focus = RAJ_linlithgows_declaration_of_war }

	available = {
		is_subject_of = ENG
		ENG = {
			has_war = yes
		}
	}

	bypass = {
		NOT = { is_subject_of = ENG }
	}

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_POLITICAL_CHARACTER }

	completion_reward = {
		if = {
			limit = {
				ENG = { has_war = no }
			}
			custom_effect_tooltip = RAJ_linlithgows_declaration_of_war_tt
		}
		if = {
			limit = {
				ENG = { has_war = yes }
			}
			custom_effect_tooltip = RAJ_linlithgows_declaration_of_war_current_effects_tt
			ENG = {
				every_enemy_country = {
					limit = {
						NOT = { has_war_with = ROOT }
					}
					hidden_effect = { #Tooltip purposes
						ROOT = {
							declare_war_on = {
								target = PREV
								type = annex_everything
							}
						}
					}
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		add_political_power = 70
		add_autonomy_score = { 
			value = 350
			localization = RAJ_consult_with_congress_leaders
		}
		
		custom_effect_tooltip = generic_skip_one_line_tt
		
		if = {
			limit = {
				has_country_leader = {
					character = RAJ_freeman_freeman_thomas
					ruling_only = yes
				}
			}
			RAJ_freeman_freeman_thomas = {
				swap_country_leader_traits = {
					remove = staunch_imperialist_alt
					add = staunch_imperialist_alt_consult
					ideology = centrism
				}
			}

			if = { #Add the trait to the democratic leader role too if appropriate
				limit = {
					has_completed_focus = RAJ_the_integrity_of_india_act
				}
				RAJ_freeman_freeman_thomas = {
					swap_country_leader_traits = {
						remove = staunch_imperialist_alt
						add = staunch_imperialist_alt_consult
						ideology = conservatism
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_leader = {
					character = RAJ_lord_linlithgow
					ruling_only = yes
				}
			}
			RAJ_lord_linlithgow = {
				swap_country_leader_traits = {
					remove = aloof_authority_alt
					add = aloof_authority_alt_consult
					ideology = centrism
				}
			}

			if = { #Add the trait to the democratic leader role too if appropriate
				limit = {
					has_completed_focus = RAJ_the_integrity_of_india_act
				}
				RAJ_lord_linlithgow = {
					swap_country_leader_traits = {
						remove = aloof_authority_alt
						add = aloof_authority_alt_consult
						ideology = conservatism
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_leader = {
					character = RAJ_GOE_jawaharlal_nehru
					ruling_only = yes
				}
			}
			RAJ_GOE_jawaharlal_nehru = {
				add_country_leader_trait = support_from_congress
			}
		}
		else_if = {
			limit = {
				has_country_leader = {
					character = RAJ_mahatma_mohandas_gandhi
					ruling_only = yes
				}
			}
			RAJ_mahatma_mohandas_gandhi = {
				add_country_leader_trait = support_from_congress
			}
		}
	}
}

focus = {
	id = RAJ_preemptive_invasion_of_iran
	icon = GFX_focus_generic_attack_iran
	prerequisite = { focus = RAJ_indian_gentleman_officers }
	
	x = 2
	y = 2
	relative_position_id = RAJ_indian_gentleman_officers 
	cost = 10

	available = {
		threat > 0.5
		OR = {
			is_subject = no
			is_subject_of = ENG
		}
		NOT = {
			is_in_faction_with = PER
			has_guaranteed = PER
			has_non_aggression_pact_with = PER
		}
	}

	search_filters = {  }

	completion_reward = {
		if = {
			limit = {
				is_subject_of = ENG
			}
			ENG = { country_event = { id = GOE_RAJ_loyalist.03 hours = 4 random_hours = 1 } }
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				declare_war_on = {
					target = PER
					type = annex_everything
				}
			}
		}
		else = {
			create_wargoal = {
				type = annex_everything
				target = PER
			}
		}
	}
}

focus = {
	id = RAJ_mobilization_of_the_indian_army
	icon = GFX_focus_RAJ_indianisation_of_army
	prerequisite = { focus = RAJ_linlithgows_declaration_of_war focus = RAJ_consult_with_congress_leaders }
	
	x = 1
	y = 1
	relative_position_id = RAJ_linlithgows_declaration_of_war 
	cost = 10

	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }

	completion_reward = {
		add_timed_idea = {
			idea = RAJ_mobilization_of_the_indian_army
			days = 365
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				OR = {
					has_idea = disarmed_nation
					has_idea = volunteer_only
				}
			}
			add_ideas = limited_conscription
		}
		else_if = {
			limit = {
				has_idea = limited_conscription
			}
			add_ideas = extensive_conscription
		}
	}
}

focus = {
	id = RAJ_support_naval_invasions
	icon = GFX_focus_generic_naval_invasion
	prerequisite = { focus = RAJ_mobilization_of_the_indian_army }
	
	x = -1
	y = 1
	relative_position_id = RAJ_mobilization_of_the_indian_army 
	cost = 10

	available = {
		NOT = { has_idea = RAJ_mobilization_of_the_indian_army }
		has_war = yes
		has_tech = marines
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

	completion_reward = {
		add_timed_idea = {
			idea = RAJ_naval_invasion_support
			days = 365
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		add_tech_bonus = {
			name = RAJ_support_naval_invasions
			bonus = 0.75
			uses = 2
			category = marine_tech
			category = tp_tech
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		random_owned_state = {
			limit = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
				naval_base > 0
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			prioritize = { 431 } #Calcutta

			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}

			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province =  {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}

		random_owned_state = {
			limit = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
				naval_base > 0
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			prioritize = { 430 } #Bangladesh

			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}

			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province =  {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}

		random_owned_state = {
			limit = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
				naval_base > 0
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			prioritize = { 429 } #Bombay

			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}

			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province =  {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
}

focus = {
	id = RAJ_assume_eastern_naval_responsibilities
	icon = GFX_goal_generic_construct_naval_dockyard
	prerequisite = { focus = RAJ_mobilization_of_the_indian_army }
	
	x = 1
	y = 1
	relative_position_id = RAJ_mobilization_of_the_indian_army 
	cost = 10

	available = {
		NOT = { has_idea = RAJ_mobilization_of_the_indian_army }
		has_war = yes
		has_tech = interwar_antiair
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			has_tech = early_ship_hull_light
			has_tech = early_ship_hull_cruiser
			has_tech = basic_battery
			has_tech = basic_torpedo
		}
		else = {
			has_tech = early_destroyer
		}
	}

	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		if = { 
			limit = { has_dlc = "Man the Guns" }
			set_technology = { coastal_defense_ships = 1 } 
		}
		add_tech_bonus = {
			name = RAJ_assume_eastern_naval_responsibilities
			bonus = 1
			uses = 2
			category = naval_equipment
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		add_doctrine_cost_reduction = {
			name = RAJ_assume_eastern_naval_responsibilities
			cost_reduction = 0.75
			uses = 2
			category = naval_doctrine
		}

		every_owned_state = {
			limit = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
				naval_base > 0
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			random_select_amount = 3
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}

			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		add_equipment_to_stockpile = { 
			type = convoy
			amount = 50 
			producer = ROOT
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		unlock_decision_category_tooltip = generic_refit_civilian_ships_category

		custom_effect_tooltip = generic_skip_one_line_tt

		set_country_flag = refit_convoy_ships_flag #Necessary flag for unlocking Refit Civilian Ships decs 
		#The variants created here replace the variants that can be created via decisions
		set_country_flag = refit_to_destroyer_flag
		set_country_flag = refit_to_cruiser_flag

		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			# DESTROYER
			create_equipment_variant = { #Made-up
				name = "Refitted Destroyer Class" 		
				type = ship_hull_light_1
				name_group = "RAJ_DD_HISTORICAL" #Note: Doesn't matter if ROOT is not DEN, the effect will grab the appropriate country-specific name list anyways
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_light_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = light_ship_engine_1
					fixed_ship_torpedo_slot = ship_torpedo_1
					mid_1_custom_slot = empty
					rear_1_custom_slot = empty
				}
				obsolete = yes
				design_team = mio:RAJ_garden_reach_shipbuilders_organization
			}
			#Line Production
			add_equipment_production = {
				equipment = {
					type = ship_hull_light_1
					creator = "RAJ"
					version_name = "Refitted Destroyer Class"
				}
				requested_factories = 1
				progress = 0.75
				amount = 3
				industrial_manufacturer = mio:RAJ_garden_reach_shipbuilders_organization
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			# Light Cruiser
			create_equipment_variant = { #Made-up
				name = "Refitted Cruiser Class"				
				type = ship_hull_cruiser_1
				name_group = RAJ_CL_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_light_medium_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = cruiser_ship_engine_1
					fixed_ship_armor_slot = ship_armor_cruiser_1
					fixed_ship_secondaries_slot = dp_ship_secondaries_1
					mid_1_custom_slot = empty
					mid_2_custom_slot = empty
					rear_1_custom_slot = empty
				}
				obsolete = yes
				design_team = mio:RAJ_garden_reach_shipbuilders_organization
			}
			#Line Production
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_1
					creator = "RAJ"
					version_name = "Refitted Cruiser Class"
				}
				requested_factories = 1
				progress = 0.75
				amount = 1
				industrial_manufacturer = mio:RAJ_garden_reach_shipbuilders_organization
			}
		}
		#NO MTG
		else = {
			# DESTROYER	
			create_equipment_variant = { #Made-up
				name = "Refitted Destroyer Class"
				type = destroyer_1
				upgrades = {
					ship_torpedo_upgrade = 0
					destroyer_engine_upgrade = 0
					ship_ASW_upgrade = 0
					ship_anti_air_upgrade = 0
				}
				obsolete = yes
				design_team = mio:RAJ_garden_reach_shipbuilders_organization
			}	
			#Line Production
			add_equipment_production = {
				equipment = {
					type = destroyer_1
					creator = "RAJ"
					version_name = "Refitted Destroyer Class"
				}
				requested_factories = 1
				progress = 0.75
				amount = 3
				industrial_manufacturer = mio:RAJ_garden_reach_shipbuilders_organization
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					NOT = { has_tech = early_light_cruiser }
				}
				hidden_effect = {
					set_technology = {
						early_light_cruiser = 1
					}
				}
			}
			# CRUISER
			create_equipment_variant = { #Made-up
				name = "Refitted Cruiser Class"
				type = light_cruiser_1
				upgrades = {
					ship_reliability_upgrade = 0
					ship_engine_upgrade = 0
					ship_gun_upgrade = 0
					ship_anti_air_upgrade = 0
				}
				obsolete = yes
				design_team = mio:RAJ_garden_reach_shipbuilders_organization
			}
			#Line Production
			add_equipment_production = {
				equipment = {
					type = light_cruiser_1
					creator = "RAJ"
					version_name = "Refitted Cruiser Class"
				}
				requested_factories = 1
				progress = 0.75
				amount = 1
				industrial_manufacturer = mio:RAJ_garden_reach_shipbuilders_organization
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		# COASTAL DEFENSE SHIP
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			create_equipment_variant = { #Made-up
				name = "Refitted Coastal Defense Ship"
				type = ship_hull_cruiser_coastal_defense_ship
				name_group = RAJ_BC_HISTORICAL
				parent_version = 0
				allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
				modules = {
					front_1_custom_slot = ship_anti_air_1
					mid_1_custom_slot = ship_anti_air_1
					#mid_2_custom_slot = ship_anti_air_1
					rear_1_custom_slot = ship_light_medium_battery_1
					fixed_ship_battery_slot = ship_light_medium_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = cruiser_ship_engine_1
					fixed_ship_secondaries_slot = ship_secondaries_1
					fixed_ship_armor_slot = ship_armor_cruiser_1
				}
				design_team = mio:RAJ_garden_reach_shipbuilders_organization
			}
			#Line Production
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_coastal_defense_ship
					creator = "RAJ"
					version_name = "Refitted Coastal Defense Ship"
				}
				requested_factories = 1
				progress = 0.75
				amount = 3
				industrial_manufacturer = mio:RAJ_garden_reach_shipbuilders_organization
			}
		}
	}
}

focus = {
	id = RAJ_south_east_asia_command
	icon = GFX_goal_generic_small_arms
	prerequisite = { focus = RAJ_mobilization_of_the_indian_army }
	
	x = 0
	y = 2
	relative_position_id = RAJ_mobilization_of_the_indian_army 
	cost = 10

	available = {
		NOT = { has_idea = RAJ_mobilization_of_the_indian_army }
	}

	search_filters = {  }

	completion_reward = {
		custom_effect_tooltip = RAJ_south_east_asia_command_rename_dm_tt
		hidden_effect = {
			remove_dynamic_modifier = {	modifier = RAJ_indian_gentlemen_officers_goe }
			add_dynamic_modifier = { modifier = RAJ_south_east_asia_command_dm }
		}
		custom_effect_tooltip = RAJ_modify_south_east_asia_command_dm_tt
		add_to_variable = { RAJ_south_east_asia_command_dm_max_command_power = 50 tooltip = max_command_power_tt }
		add_to_variable = { RAJ_south_east_asia_command_dm_command_power_gain = 0.2 tooltip = command_power_gain_tt }
		add_to_variable = { RAJ_south_east_asia_command_dm_special_forces_cap = 0.25 tooltip = special_forces_cap_tt }

		country_event = GOE_RAJ_loyalist.06
	}
}

focus = {
	id = RAJ_desert_training
	icon = GFX_focus_PER_desert_training
	prerequisite = { focus = RAJ_south_east_asia_command }
	
	x = -4
	y = 1
	relative_position_id = RAJ_south_east_asia_command 
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

	completion_reward = {
		custom_effect_tooltip = {
			localization_key = generic_enables_tech_tt
			TECH_EFFECT = tech_effect|desert_training_tech
			TECH_NAME = desert_training_tech
		}
		hidden_effect = { set_technology = { desert_training_tech = 1 } }

		custom_effect_tooltip = generic_skip_one_line_tt

		random_army_leader = {
			limit = { #General/FM doesn't have a terrain trait already
				NOT = {
					has_trait = desert_fox
					has_trait = swamp_fox
					has_trait = trait_mountaineer
					has_trait = hill_fighter
					has_trait = jungle_rat
					has_trait = ranger
					has_trait = urban_assault_specialist
					has_trait = winter_specialist
				}
			}
			add_unit_leader_trait = desert_fox
			add_skill_level = 1
			add_logistics = 1
			add_defense = 1
			add_planning = 1
		}
	}
}

focus = {
	id = RAJ_fortify_el_alamein
	icon = GFX_goal_generic_defence
	prerequisite = { focus = RAJ_desert_training }
	
	x = 0
	y = 1
	relative_position_id = RAJ_desert_training 
	cost = 10

	available = {
		447 = {
			controller = {
				OR = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
				has_full_control_of_state = PREV
			}
		}
		custom_override_tooltip = {
			tooltip = {
				localization_key = generic_requires_divs_in_state_tt
				NUM_DIVISIONS = 0 #Needs to match "count" in num_divisions_in_states
				STATE = [447.GetName] #Needs to match "states" in num_divisions_in_states
			}
			num_divisions_in_states = {
				count > 0
				states = { 447 }
				#exclude = {  }
			}
		}
	}

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		add_autonomy_score = {
			value = 150
			localization = RAJ_fortify_el_alamein
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		447 = { #ALEXANDRIA
			#Air base
			add_building_construction = {
				type = air_base
				level = 4
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 4
					instant_build = yes
				}
			}

			#Forts - El-Alamein
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 1071
			}

			#Forts - Alexandria
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 4076
			}

			#Naval Forts - Alexandria
			add_building_construction = {
				type = coastal_bunker
				level = 4
				instant_build = yes
				province = 4076
			}

			add_dynamic_modifier = {
				modifier = RAJ_fortified_position
				days = 365
			}
		}
	}
}

focus = {
	id = RAJ_jungle_training_GOE
	icon = GFX_focus_generic_jungle_training
	prerequisite = { focus = RAJ_south_east_asia_command }
	
	x = -1
	y = 1
	relative_position_id = RAJ_south_east_asia_command 
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

	completion_reward = {
		custom_effect_tooltip = {
			localization_key = generic_enables_tech_tt
			TECH_EFFECT = tech_effect|jungle_training_tech
			TECH_NAME = jungle_training_tech
		}
		hidden_effect = { set_technology = { jungle_training_tech = 1 } }

		custom_effect_tooltip = generic_skip_one_line_tt
		random_army_leader = {
			limit = { #General/FM doesn't have a terrain trait already
				NOT = {
					has_trait = desert_fox
					has_trait = swamp_fox
					has_trait = trait_mountaineer
					has_trait = hill_fighter
					has_trait = jungle_rat
					has_trait = ranger
					has_trait = urban_assault_specialist
					has_trait = winter_specialist
				}
			}
			add_unit_leader_trait = jungle_rat
			add_skill_level = 1
			add_logistics = 1
			add_defense = 1
			add_planning = 1
		}
		
	}
}

focus = {
	id = RAJ_defense_of_malaya
	icon = GFX_focus_FIN_coastal_defense
	prerequisite = { focus = RAJ_jungle_training_GOE }
	
	x = -1
	y = 1
	relative_position_id = RAJ_jungle_training_GOE 
	cost = 10

	available = {
		336 = {
			controller = {
				OR = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
				has_full_control_of_state = PREV
			}
		}
		custom_override_tooltip = {
			tooltip = {
				localization_key = generic_requires_divs_in_state_tt
				NUM_DIVISIONS = 0 #Needs to match "count" in num_divisions_in_states
				STATE = [336.GetName] #Needs to match "states" in num_divisions_in_states
			}
			num_divisions_in_states = {
				count > 0
				states = { 336 }
				#exclude = {  }
			}
		}
	}

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_ANNEXATION }

	completion_reward = {
		add_autonomy_score = {
			value = 150
			localization = RAJ_defense_of_malaya
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		336 = { #SINGAPORE
			#Air base
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}

			#Forts - Singapore
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 12299
			}

			#Forts - Kuala Lumpur
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 10297
			}

			#Naval Forts - Singapore
			add_building_construction = {
				type = coastal_bunker
				level = 4
				instant_build = yes
				province = 12299
			}

			#Naval Forts - Kuala Lumpur
			add_building_construction = {
				type = coastal_bunker
				level = 4
				instant_build = yes
				province = 10297
			}

			add_dynamic_modifier = {
				modifier = RAJ_fortified_position
				days = 365
			}
		}


		#Event to annex Malay
		if = { # MAL is independent -> Send event to them
			limit = {
				MAL = {
					exists = yes 
					controls_state = 336 #SINGAPORE
					OR = { #To avoid transferring states controlled by enemy, messing up the controller.
						has_war = no
						all_enemy_country = {
							has_war_with = ROOT	
						}
					}
					is_subject = no
					is_in_faction = no
					is_ai = yes #No point on sending an event to get annexed to a player, would be just clickbait
				}
				NOT = {
					has_war_with = MAL
					any_allied_country = { has_war_with = MAL }
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			MAL = { save_event_target_as = RAJ_annexing_country_target }
			MAL = { country_event = { id = GOE_RAJ_loyalist.07 hours = 8 random_hours = 4 } }
		}
		else_if = { # MAL is subject of an ally -> Send event to overlord
			limit = {
				is_ally_with = MAL.OVERLORD
				MAL = {
					is_ai = yes #Do not annex a player without they having a say
					exists = yes 
					controls_state = 336 #SINGAPORE
					OR = { #To avoid transferring states controlled by enemy, messing up the controller.
						has_war = no
						all_enemy_country = {
							has_war_with = ROOT	
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			MAL = { save_event_target_as = RAJ_annexing_country_target }
			var:MAL.OVERLORD = { country_event = { id = GOE_RAJ_loyalist.08 hours = 8 random_hours = 4 } }
		}
	}
}

focus = {
	id = RAJ_hill_training
	icon = GFX_focus_generic_hill_training
	prerequisite = { focus = RAJ_south_east_asia_command }
	
	x = 1
	y = 1
	relative_position_id = RAJ_south_east_asia_command 
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

	completion_reward = {
		custom_effect_tooltip = {
			localization_key = generic_enables_tech_tt
			TECH_EFFECT = tech_effect|hills_training_tech
			TECH_NAME = hills_training_tech
		}
		hidden_effect = { set_technology = { hills_training_tech = 1 } }

		custom_effect_tooltip = generic_skip_one_line_tt

		random_army_leader = {
			limit = { #General/FM doesn't have a terrain trait already
				NOT = {
					has_trait = desert_fox
					has_trait = swamp_fox
					has_trait = trait_mountaineer
					has_trait = hill_fighter
					has_trait = jungle_rat
					has_trait = ranger
					has_trait = urban_assault_specialist
					has_trait = winter_specialist
				}
			}
			add_unit_leader_trait = hill_fighter
			add_skill_level = 1
			add_logistics = 1
			add_defense = 1
			add_planning = 1
		}
	}
}

focus = {
	id = RAJ_defense_of_burma
	icon = GFX_goal_generic_construct_military
	prerequisite = { focus = RAJ_jungle_training_GOE focus = RAJ_hill_training }
	
	x = 1
	y = 1
	relative_position_id = RAJ_jungle_training_GOE 
	cost = 10

	available = {
		995 = {
			controller = {
				OR = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
				has_full_control_of_state = PREV
			}
		}

		998 = {
			controller = {
				OR = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
				has_full_control_of_state = PREV
			}
		}

		custom_override_tooltip = {
			tooltip = {
				localization_key = generic_requires_divs_in_state_tt
				NUM_DIVISIONS = 0 #Needs to match "count" in num_divisions_in_states
				STATE = [995.GetName] #Needs to match "states" in num_divisions_in_states
			}
			num_divisions_in_states = {
				count > 0
				states = { 995 }
				#exclude = {  }
			}
		}

		custom_override_tooltip = {
			tooltip = {
				localization_key = generic_requires_divs_in_state_tt
				NUM_DIVISIONS = 0 #Needs to match "count" in num_divisions_in_states
				STATE = [998.GetName] #Needs to match "states" in num_divisions_in_states
			}
			num_divisions_in_states = {
				count > 0
				states = { 998 }
				#exclude = {  }
			}
		}
	}

	bypass = {
		995 = {
			controller = {
				NOT = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
			}
		}

		998 = {
			controller = {
				NOT = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
			}
		}
	}

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_ANNEXATION }

	completion_reward = {
		add_autonomy_score = {
			value = 150
			localization = RAJ_defense_of_burma
		}
		custom_effect_tooltip = generic_skip_one_line_tt

			####
		### PEGU (Rangoon) ###
			####
		995 = { #PEGU
			#Air base
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}

			#Forts - PEGU (Rangoon)
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 1330
			}

			#Forts - PEGU
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 12127
			}
	
			#Naval Base - Rangoon
			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province = 1330
			}
		}
			####
		### TENASSERIM (Pegu expanded effects) ###
			####
		if = {
			limit = {
				994 = {
					controller = {
						is_ally_with = ROOT
						OR = {
							controls_province = 4336
							controls_province = 4293
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			994 = {
				if = {
					limit = {
						controller = {
							controls_province = 4336
						}
					}
					#Forts - TENASSERIM (Southern province)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 4336
					}
				}
				if = {
					limit = {
						controller = {
							controls_province = 4293
						}
					}
					#Forts - TENASSERIM (Southern province)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 4293
					}
				}
			}

		}

		custom_effect_tooltip = generic_skip_one_line_tt
			####
		### SAGAING (Myitkyina) ###
			####
		998 = { #SAGAING
			#Air base
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}

			#Forts - SAGAING I (Border with Yunnan)
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 4318
			}
			#Forts - SAGAING II (Border with Yunnan)
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 4996
			}
			#Forts - SAGAING III (Border with Yunnan)
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 4425
			}
		}

			####
		### FEDERATED SHAN STATES (SAGAING expanded effects) ###
			####
		if = {
			limit = {
				999 = {
					controller = {
						is_ally_with = ROOT
						OR = {
							controls_province = 10920
							controls_province = 12363
							controls_province = 4210
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			999 = {
				if = {
					limit = {
						controller = {
							controls_province = 10920
						}
					}
					#Forts - FEDERATES SHAN STATES I (Border with Yunnan)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 10920
					}
				}
				if = {
					limit = {
						controller = {
							controls_province = 12363
						}
					}
					#Forts - FEDERATES SHAN STATES II (Border with Yunnan)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 12363
					}
				}
				if = {
					limit = {
						controller = {
							controls_province = 4210
						}
					}
					#Forts - FEDERATES SHAN STATES III (Border with Yunnan)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 4210
					}
				}
			}
		}

			####
		### KENTUNG AND YAWNGHWE (SAGAING expanded effects) ###
			####
		if = {
			limit = {
				993 = {
					controller = {
						is_ally_with = ROOT
						OR = {
							controls_province = 7400
							controls_province = 7909
							controls_province = 7974
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			993 = {
				if = {
					limit = {
						controller = {
							controls_province = 7400
						}
					}
					#Forts - FEDERATES SHAN STATES I (Border with Yunnan & Vietnam)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 7400
					}
				}
				if = {
					limit = {
						controller = {
							controls_province = 7909
						}
					}
					#Forts - FEDERATES SHAN STATES II (Border with Yunnan)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 7909
					}
				}
				if = {
					limit = {
						controller = {
							controls_province = 7974
						}
					}
					#Forts - FEDERATES SHAN STATES III (Border with Yunnan)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 7974
					}
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		every_state = {
			limit = {
				OR = {
					state = 995
					state = 998
					AND = {
						state = 994
						controller = {
							is_ally_with = ROOT
						}
					}
					AND = {
						state = 999
						controller = {
							is_ally_with = ROOT
						}
					}
					AND = {
						state = 993
						controller = {
							is_ally_with = ROOT
						}
					}
				}
			}
			add_dynamic_modifier = {
				modifier = RAJ_fortified_position
				days = 365
			}
		}

		#Event to annex Burma
		if = { # BRM is independent -> Send event to them
			limit = {
				BRM = {
					exists = yes 
					controls_state = 995 # PEGU (Rangoon)
					controls_state = 998 # SAGAING (Myitkyina)
					OR = { #To avoid transferring states controlled by enemy, messing up the controller.
						has_war = no
						all_enemy_country = {
							has_war_with = ROOT	
						}
					}
					is_subject = no
					is_in_faction = no
					is_ai = yes #No point on sending an event to get annexed to a player, would be just clickbait
				}
				NOT = {
					has_war_with = BRM
					any_allied_country = { has_war_with = BRM }
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			BRM = { save_event_target_as = RAJ_annexing_country_target }
			BRM = { country_event = { id = GOE_RAJ_loyalist.77 hours = 8 random_hours = 4 } }
		}
		else_if = { # BRM is subject of an ally -> Send event to overlord
			limit = {
				is_ally_with = BRM.OVERLORD
				BRM = {
					is_ai = yes #Do not annex a player without they having a say
					exists = yes 
					controls_state = 995 # PEGU (Rangoon)
					controls_state = 998 # SAGAING (Myitkyina)
					OR = { #To avoid transferring states controlled by enemy, messing up the controller.
						has_war = no
						all_enemy_country = {
							has_war_with = ROOT	
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			BRM = { save_event_target_as = RAJ_annexing_country_target }
			var:BRM.OVERLORD = { country_event = { id = GOE_RAJ_loyalist.88 hours = 8 random_hours = 4 } }
		}
	}
}

focus = {
	id = RAJ_holding_the_gates_of_india
	icon = GFX_focus_SWE_hedgehog_defense
	prerequisite = { focus = RAJ_defense_of_burma }
	
	x = 0
	y = 1
	relative_position_id = RAJ_defense_of_burma 
	cost = 10

	available = {
		990 = { #MANIPUR (Imphal)
			state_is_fully_controlled_by_ROOT_or_subject = yes
		}
	}

	search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

	completion_reward = {
		990 = { #MANIPUR (Imphal)
			#Air base
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}

			#Forts - Imphal
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province =  {
					all_provinces = yes
				}
			}

			add_dynamic_modifier = {
				modifier = RAJ_fortified_position
				days = 365
			}
		}

			####
		### ARUNACHAL PRADESH (border with Burma) ###
			####
		if = {
			limit = {
				434 = { #ARUNACHAL PRADESH
					controller = {
						is_ally_with = ROOT
						controls_province = 1996
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			434 = {
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 1996
				}

				add_dynamic_modifier = {
					modifier = RAJ_fortified_position
					days = 365
				}
			}
		}

			####
		### ASSAM (border with Burma) ###
			####
		if = {
			limit = {
				432 = { #ASSAM
					controller = {
						is_ally_with = ROOT
						OR = {
							controls_province = 1581
							controls_province = 10090
							controls_province = 997
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			432 = { #ASSAM
				if = {
					limit = {
						controller = {
							controls_province = 1581
						}
					}
					add_building_construction = {
						type = bunker
						level = 4
						instant_build = yes
						province = 1581
					}
				}

				if = {
					limit = {
						controller = {
							controls_province = 10090
						}
					}
					add_building_construction = {
						type = bunker
						level = 4
						instant_build = yes
						province = 10090
					}
				}

				if = {
					limit = {
						controller = {
							controls_province = 997
						}
					}
					add_building_construction = {
						type = bunker
						level = 4
						instant_build = yes
						province = 997
					}
				}

				add_dynamic_modifier = {
					modifier = RAJ_fortified_position
					days = 365
				}
			}
		}

			####
		### EAST BENGAL (Bangladesh - border with Burma) ###
			####
		if = {
			limit = {
				430 = { #EAST BENGAL (Bangladesh)
					controller = {
						is_ally_with = ROOT
						controls_province = 9991
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			430 = {
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 9991
				}

				add_dynamic_modifier = {
					modifier = RAJ_fortified_position
					days = 365
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		add_ace = {
			type = "fighter_good"
			name = "Dodla"
			surname = "Reddy"
			callsign = "Ranga" #Actual middle name
		}

		add_ace = {
			type = "support_good" #By WW2 he flew fighters but after hw was part of bomber squadrons, this gives some variety and hopefully more useful than strat. bomber
			name = "Chandra"
			surname = "Varma"
			callsign = "Bandy"
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_loyalist_branch_capstone_focuses_become_free_tt
	}
}

focus = {
	id = RAJ_free_abyssinia
	icon = GFX_focus_generic_naval_invasion_tank
	prerequisite = { focus = RAJ_hill_training }
	
	x = 1
	y = 1
	relative_position_id = RAJ_hill_training 
	cost = 10

	available = {
		has_tech = marines
		992 = { #ADEN
			controller = {
				is_ally_with = ROOT
			}
		}
	}

	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_south_east_asia_command_dm_tt
		add_to_variable = { RAJ_south_east_asia_command_dm_extra_marine_supply_grace = 48 tooltip = extra_marine_supply_grace_tt }
		add_to_variable = { RAJ_south_east_asia_command_dm_shore_bombardment_bonus = 0.2 tooltip = shore_bombardment_bonus_tt }
		add_to_variable = { RAJ_south_east_asia_command_dm_modifier_army_sub_unit_marine_attack_factor = 0.1 tooltip = modifier_army_sub_unit_marine_attack_factor_tt }
		add_to_variable = { RAJ_south_east_asia_command_dm_special_forces_cap = 0.1 tooltip = special_forces_cap_tt }
		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			add_doctrine_cost_reduction = {
				name = RAJ_free_abyssinia
				cost_reduction = 0.75
				uses = 2
				category = cat_marines_doctrine
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		add_equipment_to_stockpile = { 
			type = convoy
			amount = 50 
			producer = ROOT
		}
		
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_template = "Marines" }
				}
				load_oob = "unlock_marines"
			}
		}

		division_template = {
			name = "Royal Marines"
			#template_counter = 33
			regiments = {
				marine = { x = 0 y = 0 }
				marine = { x = 0 y = 1 }
				marine = { x = 1 y = 0 }
				marine = { x = 1 y = 1 }
				marine = { x = 2 y = 0 }
				marine = { x = 2 y = 1 }
			}
			support = {
				engineer = { x = 0 y = 0 }
				recon = { x = 0 y = 1 }
				artillery = { x = 0 y = 2 }
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		992 = {
			create_unit = {
				division = "division_template = \"Royal Marines\" start_experience_factor = 0.7 start_equipment_factor = 1.0"
				owner = ROOT
				count = 3
			}
		}
	}
}

focus = {
	id = RAJ_urban_training
	icon = GFX_focus_generic_urban_training
	prerequisite = { focus = RAJ_south_east_asia_command }
	
	x = 4
	y = 1
	relative_position_id = RAJ_south_east_asia_command 
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

	completion_reward = {
		custom_effect_tooltip = {
			localization_key = generic_enables_tech_tt
			TECH_EFFECT = tech_effect|urban_training_tech
			TECH_NAME = urban_training_tech
		}
		hidden_effect = { set_technology = { urban_training_tech = 1 } }
		
		custom_effect_tooltip = generic_skip_one_line_tt

		random_army_leader = {
			limit = { #General/FM doesn't have a terrain trait already
				NOT = {
					has_trait = desert_fox
					has_trait = swamp_fox
					has_trait = trait_mountaineer
					has_trait = hill_fighter
					has_trait = jungle_rat
					has_trait = ranger
					has_trait = urban_assault_specialist
					has_trait = winter_specialist
				}
			}
			add_unit_leader_trait = urban_assault_specialist
			add_skill_level = 1
			add_logistics = 1
			add_defense = 1
			add_planning = 1
		}
	}
}

focus = {
	id = RAJ_the_defense_of_hong_kong
	icon = GFX_goal_generic_fortify_city
	prerequisite = { focus = RAJ_urban_training }
	
	x = 0
	y = 1
	relative_position_id = RAJ_urban_training 
	cost = 10

	available = {
		326 = {
			controller = {
				OR = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
				has_full_control_of_state = PREV
			}
		}
		custom_override_tooltip = {
			tooltip = {
				localization_key = generic_requires_divs_in_state_tt
				NUM_DIVISIONS = 0 #Needs to match "count" in num_divisions_in_states
				STATE = [326.GetName] #Needs to match "states" in num_divisions_in_states
			}
			num_divisions_in_states = {
				count > 0
				states = { 326 }
				#exclude = {  }
			}
		}
	}

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		add_autonomy_score = {
			value = 150
			localization = RAJ_the_defense_of_hong_kong
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		326 = { #HONG KONG
			#Air base
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}

			#Forts - Hong Kong
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 10062
			}

			#Naval Forts - Hong Kong
			add_building_construction = {
				type = coastal_bunker
				level = 4
				instant_build = yes
				province = 10062
			}

			#Naval Bases - Hong Kong
			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province = 10062
			}
		
			add_dynamic_modifier = {
				modifier = RAJ_fortified_position
				days = 365
			}
		}
	}
}



    #############
    ##DOCTRINE###
    #############
    

    focus = {
        id = RAJ_keep_british_generals
        icon = GFX_focus_RAJ_british_investors
        x = -4
        y = 0
        relative_position_id = RAJ_indianize_the_army
        mutually_exclusive = { focus = RAJ_indianize_the_army }

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_in_faction_with = ENG
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            every_army_leader = {
                limit = {
                    has_trait = loyalty_to_britain
                }
                remove_trait = {
                    trait = loyalty_to_britain
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            every_army_leader = {
                limit = {
                    has_trait = loyalty_to_pakistan
                }
                remove_trait = {
                    trait = loyalty_to_pakistan
                }
            }

            custom_effect_tooltip = RAJ_keep_british_generals_tt
        }
    }

    focus = {
        id = RAJ_defense_of_india_act
        icon = GFX_goal_panzerwaffe
        prerequisite = { focus = RAJ_indianize_the_army focus = RAJ_keep_british_generals }
        x = -2
        y = 1
        relative_position_id = RAJ_indianize_the_army
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_war_support > 0.5
            NOT = { has_idea = capital_investment_model }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_idea = war_economy }
                }
                add_ideas = war_economy
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            every_owned_state = {
                limit = {
                    has_resistance = yes
                }
                add_resistance = -10
            }
        }
    }

    focus = {
        id = RAJ_learn_from_the_crown
        icon = GFX_focus_chi_british_cooperation
        prerequisite = { focus = RAJ_keep_british_generals }

        x = 0
        y = 1
        relative_position_id = RAJ_keep_british_generals

        cost = 5

        available = {
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            add_doctrine_cost_reduction = {
                name = RAJ_learn_from_the_crown
                cost_reduction = 0.75
                uses = 1
                category = land_doctrine
            }
        }
    }

    focus = {
        id = RAJ_join_the_shadow_scheme
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_learn_from_the_crown }

        x = -2
        y = 1
        relative_position_id = RAJ_learn_from_the_crown

        cost = 10

        available = {
            ENG = {
                has_completed_focus = shadow_scheme_focus
            }
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            ETH_add_random_mil_factory_effect = yes
            ETH_add_random_mil_factory_effect = yes
        }
    }

    focus = {
        id = RAJ_colonial_cadet_exchange
        icon = GFX_focus_generic_fascist_troops
        prerequisite = { focus = RAJ_learn_from_the_crown }

        x = 0
        y = 1
        relative_position_id = RAJ_learn_from_the_crown

        cost = 5

        available = {
            has_manpower > 100000
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_generals.1 days = 1}
            }
            custom_effect_tooltip = if_they_accept_tt
            effect_tooltip = {
                add_manpower = -100000
                add_timed_idea = {
                     idea = idea_RAJ_soldiers_training_in_britain
                     days = 365
                }
            }
            custom_effect_tooltip = RAJ_colonial_cadet_exchange_tt
            effect_tooltip = {
                RAJ = {
                    division_template = {
                        name = "Royal Indian Infantry"
                        is_locked = yes
                        support={
                            artillery={ x=0 y=0 }
                            recon={ x=0 y=1 }
                        }
                        regiments={
                            infantry={ x=0 y=0 }
                            infantry={ x=0 y=1 }
                            infantry={ x=0 y=2 }
                            infantry={ x=1 y=0 }
                            infantry={ x=1 y=1 }
                            infantry={ x=1 y=2 }
                            infantry={ x=2 y=0 }
                            infantry={ x=2 y=1 }
                            infantry={ x=2 y=2 }
                        }
                    }

                    random_core_state = {
                        prioritize = { 439 }
                        create_unit = {
                            division = "name = \"Royal Indian Infantry\" division_template = \"Royal Indian Infantry\" start_experience_factor = 0.8 start_equipment_factor = 1.0 start_manpower_factor = 1.0"
                            owner = RAJ
                            allow_spawning_on_enemy_provs = no 
                            count = 10
                        }
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_learn_from_the_secret_intelligence_service
        icon = GFX_focus_generic_secret_service_agency
        prerequisite = { focus = RAJ_colonial_cadet_exchange }

        x = -2
        y = 1
        relative_position_id = RAJ_colonial_cadet_exchange

        cost = 5

        allow_branch = {
            has_dlc = "La Resistance"
        }

        bypass = {

        }

        available = {
            is_in_faction_with = ENG
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_intelligence_agency = yes }
                }
                create_intelligence_agency = yes
            }
            add_ideas = { idea_RAJ_help_from_the_secret_intelligence_agency }
        }
    }

    focus = {
        id = RAJ_purchase_british_supply_equipment
        icon = GFX_focus_generic_british_trade
        prerequisite = { focus = RAJ_colonial_cadet_exchange }

        x = 0
        y = 1
        relative_position_id = RAJ_colonial_cadet_exchange

        cost = 10

        available = {
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_generals.7 days = 1 }
            }
            custom_effect_tooltip = if_they_accept_tt
            effect_tooltip = {
                RAJ = {
                    add_equipment_to_stockpile = { 
                        type = motorized_equipment_1
                        amount = 1600
                        producer = ENG
                    }
                    add_equipment_to_stockpile = { 
                        type = train_equipment
                        amount = 10
                        producer = ENG
                    }
                    add_equipment_to_stockpile = { 
                        type = support_equipment
                        amount = 500
                        producer = ENG
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_forming_an_indian_doctrine
        icon = GFX_focus_RAJ_indian_gurkhas
        prerequisite = { focus = RAJ_indianize_the_army }

        x = 0
        y = 1
        relative_position_id = RAJ_indianize_the_army

        cost = 5

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            army_experience = 50
            add_war_support = 0.05
        }
    }

    focus = {
        id = RAJ_model_after_germany
        icon = GFX_focus_chi_mission_to_germany
        prerequisite = { focus = RAJ_forming_an_indian_doctrine }

        x = -2
        y = 1
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_model_after_usa }
        mutually_exclusive = { focus = RAJ_model_after_soviet }

        cost = 10

        available = {
            NOT = { has_war_with = GER }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = fascism
                popularity = 0.05
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            add_ideas = { idea_RAJ_indian_army_doctrine_ger }
        }
    }

    focus = {
        id = RAJ_model_after_usa
        icon = GFX_focus_generic_befriend_usa
        prerequisite = { focus = RAJ_forming_an_indian_doctrine }

        x = 0
        y = 1
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_model_after_germany }
        mutually_exclusive = { focus = RAJ_model_after_soviet }

        cost = 10

        available = {
            NOT = { has_war_with = USA }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = democratic
                popularity = 0.05
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            add_ideas = { idea_RAJ_indian_army_doctrine_usa }
        }
    }

    focus = {
        id = RAJ_model_after_soviet
        icon = GFX_focus_chi_mission_to_the_soviet_union
        prerequisite = { focus = RAJ_forming_an_indian_doctrine }

        x = 2
        y = 1
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_model_after_usa }
        mutually_exclusive = { focus = RAJ_model_after_germany }
        
        cost = 10

        available = {
            NOT = { has_war_with = SOV }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            add_ideas = { idea_RAJ_indian_army_doctrine_sov }
        }
    }

    focus = {
        id = RAJ_automating_the_army
        icon = GFX_goal_generic_army_tanks
        prerequisite = { focus = RAJ_model_after_usa focus = RAJ_model_after_germany }


        x = -1
        y = 2
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_for_the_people_by_the_people }

        cost = 10

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 1.0
                uses = 1
                category = cat_mechanized_equipment
            }
            add_tech_bonus = {
                bonus = 0.75
                uses = 1
                category = armor
            }
        }
    }

    focus = {
        id = RAJ_for_the_people_by_the_people
        icon = GFX_focus_ETH_freedom_at_gunpoint
        prerequisite = { focus = RAJ_model_after_usa focus = RAJ_model_after_soviet }

        x = 1
        y = 2
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_automating_the_army }

        cost = 10

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_for_the_people_by_the_people
                bonus = 0.75
                uses = 2
                category = infantry_weapons
            }
            add_tech_bonus = {
                name = RAJ_for_the_people_by_the_people
                bonus = 0.5
                uses = 1
                category = artillery
            }
            add_tech_bonus = {
                name = RAJ_for_the_people_by_the_people
                bonus = 0.5
                uses = 1
                category = support_tech
            }
        }
    }

    #############
    ##RAILWAYS###
    #############
    focus = {
        id = RAJ_east_india_railways_dlc
        icon = GFX_goal_generic_construct_infrastructure
        #prerequisite = { focus =  }
        x = 7
        y = 0
        relative_position_id = RAJ_indianize_the_army
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {

            indian_railways_increase_bonus = yes

            custom_effect_tooltip = generic_skip_one_line_tt

            if = {
                limit = {
                    controls_province = 2086
                    controls_province = 4245
                }

                build_railway = {
                    level = 1
                    start_province = 2086
                    target_province = 4245
                }
            }

            if = {
                limit = {
                    controls_state = 431
                }

                431 = {
                    add_building_construction = {
                        type = supply_node
                        level = 1
                        instant_build = yes
                        province = 7593
                    }
                }
            }

            add_to_variable = { RAJ_railway_focuses = 1 }
        }
    }

    focus = {
        id = RAJ_the_calcutta_line
        icon = GFX_goal_fortify_the_westwall
        #prerequisite = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_east_india_railways_dlc
        
        prerequisite = { focus =  RAJ_east_india_railways_dlc }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            431 = {
                is_fully_controlled_by = ROOT
            }
            430 = {
                is_fully_controlled_by = ROOT
            }
            432 = {
                is_fully_controlled_by = ROOT
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {

            431 = {
                custom_effect_tooltip = RAJ_the_calcutta_line_tt
                hidden_effect = {

                    if = {
                        limit = {
                            any_province_building_level = {
                                province = {
                                    id = 1159
                                    id = 4245
                                    id = 10077
                                    id = 4644
                                    id = 7593
                                    id = 7537
                                }
                                building = bunker
                                level < 10
                            }
                        }
                        add_building_construction = {
                            type = bunker
                            level = 2
                            instant_build = yes
                            province = {
                                id = 1159
                                id = 4245
                                id = 10077
                                id = 4644
                                id = 7593
                                id = 7537
                            }
                        }
                    }
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            430 = {
                custom_effect_tooltip = RAJ_the_calcutta_line_tt
                hidden_effect = {
                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 9935
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 2843
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 7124
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 4162
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 11929
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 9993
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 9993
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 4616
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 10443
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 10389
                    }   

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 12423
                    } 
                }         
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            432 = {
                add_building_construction = {
                    type = bunker
                    level = 2
                    instant_build = yes
                    province  = 13208
                }
            }

        }
    }

    focus = {
        id = RAJ_bombay_baroda_and_central_india_railway
        icon = GFX_goal_generic_construct_infrastructure
        #prerequisite = { focus =  }
        x = 4
        y = 0
        relative_position_id = RAJ_east_india_railways_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            indian_railways_increase_bonus = yes
            if = {
                limit = {
                    429 = {
                        infrastructure < 5
                    }
                }
                429 = {
                    add_building_construction = {
                        type = infrastructure
                        level = 1
                        instant_build = yes
                    }
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt
            if = {
                limit = {
                    controls_province = 1349
                    controls_province = 4950
                }

                build_railway = {
                    level = 2
                    start_province = 1349
                    target_province = 4950
                }
            }

            if = {
                limit = {
                    controls_province = 4950
                    controls_province = 2086
                }

                build_railway = {
                    level = 2
                    start_province = 4950
                    target_province = 2086
                }
            }

            if = {
                limit = {
                    controls_province = 1349
                    controls_province = 9975
                }

                build_railway = {
                    level = 1
                    start_province = 1349
                    target_province = 9975
                }
            }

            if = {
                limit = {
                    controls_province = 1349
                    controls_province = 9975
                }

                build_railway = {
                    level = 1
                    start_province = 9975
                    target_province = 2086
                }
            }

            add_to_variable = { RAJ_railway_focuses = 1 }

        }
    }

    focus = {
        id = RAJ_great_indian_peninsula_railway_dlc
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_east_india_railways_dlc focus = RAJ_bombay_baroda_and_central_india_railway }
        x = 2
        y = 1
        relative_position_id = RAJ_east_india_railways_dlc 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            indian_railways_increase_bonus = yes
            add_to_variable = { RAJ_railway_focuses = 1 }
        }
    }

    focus = {
        id = RAJ_south_indian_railway_company
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_great_indian_peninsula_railway_dlc }
        x = -2
        y = 1
        relative_position_id = RAJ_great_indian_peninsula_railway_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            indian_railways_increase_bonus = yes
            add_to_variable = { RAJ_railway_focuses = 1 }
        }
    }

    focus = {
        id = RAJ_supply_center_fortifications
        icon = GFX_goal_generic_fortify_city
        prerequisite = { focus = RAJ_great_indian_peninsula_railway_dlc }
        x = 0
        y = 1
        relative_position_id = RAJ_great_indian_peninsula_railway_dlc 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_supply_center_fortifications_tt
            hidden_effect = {
                every_owned_state = {
                    add_building_construction = {
                        type = bunker
                        level = 3
                        instant_build = yes
                        province = {
                            all_provinces = yes
                            limit_to_supply_node = yes
                        }
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_north_western_state_railway
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_great_indian_peninsula_railway_dlc }
        x = 2
        y = 1
        relative_position_id = RAJ_great_indian_peninsula_railway_dlc 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            indian_railways_increase_bonus = yes
            add_to_variable = { RAJ_railway_focuses = 1 }

        }
    }

    focus = {
        id = RAJ_prioritize_army_cargo
        icon = GFX_focus_GER_kriegslokomotive
        prerequisite = { focus = RAJ_supply_center_fortifications }
        x = -2
        y = 1
        relative_position_id = RAJ_supply_center_fortifications
        mutually_exclusive = { focus = RAJ_prioritize_civilian_cargo }
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            #add_ideas = idea_RAJ_army_cargo
            if = {
                limit = {
                    has_dlc = "No Step Back"
                }

                add_equipment_bonus = {
                    name = RAJ_prioritize_army_cargo
                    bonus = {
                        train_equipment_3 = { #Valid for BBA and not BBA
                            armor_value = 0.1 # HP = BASE_TRAIN_HP + armor_value
                            air_attack = 0.15
                            instant = yes
                        }
                    }
                }

                set_technology = {
                    armored_train = 1
                    popup = no
                }
            }
            else = {
                add_ideas = idea_RAJ_cargo_no_nsb
            }


        }
    }

    focus = {
        id = RAJ_prioritize_civilian_cargo
        icon = GFX_focus_generic_railroad
        prerequisite = { focus = RAJ_supply_center_fortifications }
        x = 4
        y = 0
        relative_position_id = RAJ_prioritize_army_cargo
        mutually_exclusive = { focus = RAJ_prioritize_army_cargo }
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_famine_impact_reduction
            
            add_to_variable = { RAJ_famine_shield = 10 tooltip = RAJ_famine_shield_tt  }
            calculate_famine_shield_and_risk = yes
            add_to_variable = { famine_reduction = 1 }
            add_equipment_to_stockpile = { 
                type = train_equipment_1
                amount = 15
                producer = RAJ
            }
        }
    }

    focus = {
        id = RAJ_ammunition_factory_khadki
        icon = GFX_goal_generic_construct_mil_factory
        #prerequisite = { focus =  }
        x = 6
        y = 0
        relative_position_id = RAJ_bombay_baroda_and_central_india_railway
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_core_state = {
                limit = {
                    is_owned_by = RAJ
                }
                prioritize = { 429 } #optional: to pick those states first if they fulfill the limit
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }

            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
                    add_mio_size = 1
                }
            }
            else = {
                upgrade_ordance_factories_no_aat = yes
            }
        }
    }

    focus = {
        id = RAJ_royal_indian_artillery_dlc
        #icon = GFX_
        prerequisite = {  }
        x = 8
        y = 0
        relative_position_id = RAJ_ammunition_factory_khadki
        icon = GFX_focus_SWE_let_fly_all_guns
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_royal_indian_artillery_dlc
                bonus = 0.5
                uses = 2
                category = artillery # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_military_pensions
        icon = GFX_focus_SWE_defense_act
        #prerequisite = { focus = RAJ_local_recruitment_offices }
        x = 8
        y = 0
        relative_position_id = RAJ_royal_indian_artillery_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_timed_idea = { idea = idea_RAJ_military_pensions days = 400 }
        }
    }
    
    focus = {
        id = RAJ_local_recruitment_offices
        icon = GFX_focus_SWE_varnplikt
        #prerequisite = { focus =  }
        x = 6
        y = 0
        relative_position_id = RAJ_military_pensions
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_raj_or_raj_inheritor = yes
        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = RAJ_local_recruitment_offices_tt
            remove_agrarian_society_if_void = yes

        }
    }

    focus = {
        id = RAJ_specialized_dietary_requirement
        icon = GFX_focus_RAJ_specialized_dietery_requirements
        prerequisite = { focus = RAJ_military_pensions focus = RAJ_royal_indian_artillery_dlc  }
        x = 1
        y = 1
        relative_position_id = RAJ_royal_indian_artillery_dlc 
        mutually_exclusive = { focus = RAJ_standardized_rations }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_ideas = idea_RAJ_specialized_dietary_requirement
        }
    }
    

    focus = {
        id = RAJ_standardized_rations
        icon = GFX_focus_SWE_rations
        prerequisite = { focus = RAJ_military_pensions focus = RAJ_royal_indian_artillery_dlc  }
        x = 2
        y = 0
        relative_position_id = RAJ_specialized_dietary_requirement
        mutually_exclusive = { focus = RAJ_specialized_dietary_requirement }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_ideas = idea_RAJ_standardized_rations
        }
    }


    focus = {
        id = RAJ_quinine
        icon = GFX_focus_RAJ_quinine
        prerequisite = { focus = RAJ_specialized_dietary_requirement focus = RAJ_standardized_rations } 
        x = 1
        y = 1
        relative_position_id = RAJ_specialized_dietary_requirement
       
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            set_country_flag = has_quinine
            custom_effect_tooltip = RAJ_quinine_tt
            custom_effect_tooltip = newline_tt
            unlock_decision_tooltip = {
                decision = RAJ_deploy_emergency_healthcare
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
        }
    }
    
    focus = {
        id = RAJ_armoured_corps_center_and_school
        icon = GFX_goal_generic_army_tanks
        prerequisite = { focus = RAJ_royal_indian_artillery_dlc }
        x = -3
        y = 1
        relative_position_id = RAJ_royal_indian_artillery_dlc
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            random_army_leader = {
                limit = {
                    NOT = { has_trait = panzer_leader }
                }
                add_trait = {
                    trait = panzer_leader
                }
            }
            add_tech_bonus = {
                name = RAJ_armoured_corps_center_and_school
                bonus = 0.3
                uses = 2
                category = armor # optional 
                # technology  = technology_id # optional
            }
        }
    }
    

    focus = {
        id = RAJ_legacy_of_military_service
        #icon = GFX_
        prerequisite = { focus = RAJ_local_recruitment_offices }
        x = 0
        y = 1
        relative_position_id = RAJ_local_recruitment_offices
        icon = GFX_focus_generic_commonwealth_build_infantry
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.09 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.27 tooltip = mobilization_laws_cost_factor_tt }
            remove_agrarian_society_if_void = yes
        }
    }
    

    focus = {
        id = RAJ_indian_states_force
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_military_pensions }
        x = 0
        y = 1
        relative_position_id = RAJ_military_pensions
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            every_controlled_state = {
                random_select_amount = 2
                limit = {
                    is_in_array = {
                        array = ROOT.owned_states_at_game_start
                        value = THIS
                    }

                    has_resistance = yes
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    


    focus = {
        id = RAJ_womens_auxiliary_corps
        icon = GFX_focus_SWE_lottakoren
        prerequisite = { focus = RAJ_military_pensions }
        x = 2
        y = 1
        relative_position_id = RAJ_military_pensions
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            add_ideas = idea_RAJ_womens_auxiliary_corps
        }
    }

    focus = {
        id = RAJ_indian_army_corps_of_engineers
        icon = GFX_focus_SOV_organize_wreckers
        prerequisite = { focus = RAJ_legacy_of_military_service focus = RAJ_military_pensions }
        x = -3
        y = 1
        relative_position_id = RAJ_legacy_of_military_service
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            every_army_leader = {
                random_select_amount = 2
                add_trait = {
                    trait = trait_engineer
                }
                add_logistics = 2
            }

            add_tech_bonus = {
                name = RAJ_indian_army_corps_of_engineers
                bonus = 1
                uses = 1
                category = engineers_tech # optional 
                # technology  = technology_id # optional
            }
        }
    }
    

    focus = {
        id = RAJ_relax_agrarian_society_criteria
        icon = GFX_focus_secret_rearmament
        prerequisite = { focus = RAJ_legacy_of_military_service}
        x = -1
        y = 1
        relative_position_id = RAJ_legacy_of_military_service 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_stability > 0.59
        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MANPOWER}

        completion_reward = {
            custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.09 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.27 tooltip = mobilization_laws_cost_factor_tt }
            remove_agrarian_society_if_void = yes
                        
        }
    }
    

    focus = {
        id = RAJ_mechanization_of_the_cavalry
        icon = GFX_focus_generic_mechanized
        prerequisite = { focus = RAJ_armoured_corps_center_and_school }
        x = 0
        y = 1
        relative_position_id = RAJ_armoured_corps_center_and_school 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_mechanization_of_the_cavalry
                bonus = 1
                uses = 1
                category = cat_mechanized_equipment # optional 
                # technology  = technology_id # optional
            }
            army_experience = 20
        }
    }
    

    focus = {
        id = RAJ_mountain_tanks
        icon = GFX_focus_generic_army_tanks2
        prerequisite = { focus = RAJ_mechanization_of_the_cavalry }
        x = 0
        y = 1
        relative_position_id = RAJ_mechanization_of_the_cavalry
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {

            custom_effect_tooltip = mountain_tanks_tt
           # hidden_effect = {
                set_technology = {
                    mountain_tanks = 1
                    popup = yes
                }
           # }
        }
    }
    

    focus = {
        id = RAJ_siege_batteries
        icon = GFX_focus_generic_railway_gun
        prerequisite = { focus = RAJ_indian_army_corps_of_engineers }
        x = -1
        y = 1
        relative_position_id = RAJ_indian_army_corps_of_engineers
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "No Step Back"
                }
                #Required techs for railway guns
                if = {
                    limit = {
                        NOT = { has_tech = armored_train }
                    }
                    set_technology = { armored_train = 1 }
                }
                if = {
                    limit = {
                        NOT = { has_tech = railway_gun }
                    }
                    set_technology = { railway_gun = 1 }
                }

                create_railway_gun = {
                    equipment = railway_gun_equipment_1
                    name = "BL 9.2-inch Railway Gun"
                }
            }
            else = {
                add_ideas = idea_RAJ_siege_batteries
            }

            random_army_leader = {
                limit = {
                    NOT = { has_trait = fortress_buster }
                }
                add_trait = {
                    trait = fortress_buster
                }
            }
        }
    }
    

    focus = {
        id = RAJ_mountain_guns
        icon = GFX_focus_RAJ_mountain_guns
        prerequisite = { focus = RAJ_royal_indian_artillery_dlc }
        x = -1
        y = 1
        relative_position_id = RAJ_royal_indian_artillery_dlc
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            custom_effect_tooltip = mountain_guns_tt
            hidden_effect = {
                set_technology = {
                    mountain_gun = 1
                    popup = no
                }
            }

        }
    }
    

    focus = {
        id = RAJ_frontier_corps
        icon = GFX_focus_generic_military_academy
        prerequisite = { focus = RAJ_military_pensions }
        x = -2
        y = 1
        relative_position_id = RAJ_military_pensions
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = logistics_tech # optional 
                ahead_reduction = 2
                # technology  = technology_id # optional
            }
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                add_doctrine_cost_reduction = {
                    cost_reduction = 0.25
                    uses = 1
                    category = special_forces_doctrine
                }
            }
            else = {
                army_experience = 50
            }
        }
    }
    

    focus = {
        id = RAJ_regimental_loyalty
        icon = GFX_goal_generic_axis_build_infantry
        prerequisite = { focus = RAJ_legacy_of_military_service }
        x = 2
        y = 0
        relative_position_id = RAJ_relax_agrarian_society_criteria
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_war_support > 0.4
        }
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MANPOWER}

        completion_reward = {
            custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.09 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.27 tooltip = mobilization_laws_cost_factor_tt }
            remove_agrarian_society_if_void = yes
        }
    }
    
    focus = {
        id = RAJ_the_burma_rifles
        icon = GFX_goal_generic_army_doctrines
        prerequisite = { focus = RAJ_frontier_corps }
        x = 0
        y = 1
        relative_position_id = RAJ_frontier_corps
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_doctrine_cost_reduction = {
                name = RAJ_the_burma_rifles
                cost_reduction = 0.35
                uses = 1
                category = land_doctrine
            }

            add_tech_bonus = {
                bonus = 0.4
                uses = 1
                category = infantry_weapons # optional 
                # technology  = technology_id # optional
                name = RAJ_the_burma_rifles
            }
        }
    }

    focus = {
        id = RAJ_gurkhas
        icon = GFX_focus_RAJ_indian_gurkhas
        prerequisite = { focus = RAJ_the_burma_rifles  }
        x = 0
        y = 1
        relative_position_id = RAJ_the_burma_rifles
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        } 

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                add_doctrine_cost_reduction = {
                    name = RAJ_gurkhas
                    cost_reduction = 0.35
                    uses = 3
                    category = special_forces_doctrine
                }
                add_potential_special_forces_tree = yes
            }
            else = {
                army_experience = 100
            }
            division_template = {
                name = "Gurkha Rifles"
                is_locked = no
                #division_names_group = NAMELIST_ID # optional
                priority = 2 # optional 
                #template_counter = <INT> # optional
                regiments = {
                    infantry = { x = 0 y = 0 }
                    infantry = { x = 0 y = 1 }
                    infantry = { x = 0 y = 2 }
                    infantry = { x = 0 y = 3 }
                    infantry = { x = 1 y = 0 }
                    infantry = { x = 1 y = 1 }
                    infantry = { x = 1 y = 2 }
                    infantry = { x = 1 y = 3 }
                    artillery_brigade = { x = 2 y = 0 }
                    
                }
                support = {
                    artillery = { x = 0 y = 0 }
                    engineer = { x = 0 y = 1 }
                    anti_air = { x = 0 y = 2 }
                }
            }

            random_owned_controlled_state = {

                prioritize = { 439 } #optional: to pick those states first if they fulfill the limit
                if = {
                    limit = {
                       ROOT = { is_subject_of = ENG } 
                    }


                    create_unit = {
                        division = "name = \"1st King George V's Own Gurkha Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }

                    create_unit = {
                        division = "name = \"6th Queen Elizabeth's Own Gurkha Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }
                }
                else = {
                    create_unit = {
                        division = "name = \"The Sirmoor Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }

                    create_unit = {
                        division = "name = \"Gurkha Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }
                }
                
            }



        }
    }



    focus = {
        id = RAJ_lions_of_the_great_war_dlc
        icon = GFX_focus_RAJ_lions_of_the_great_war
        prerequisite = { focus = RAJ_gurkhas }
        x = 0
        y = 1
        relative_position_id = RAJ_gurkhas

        cost = 10

        ai_will_do = {
            factor = 25
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_XP FOCUS_FILTER_WAR_SUPPORT }
        completion_reward = {
            add_ideas = idea_RAJ_lions_of_the_great_war
            army_experience = 30
            custom_effect_tooltip = RAJ_create_unit_sikh_tt
            hidden_effect = {

                division_template = {
                name = "Sikh Regiment" #sikh regiment, bro
                division_names_group = RAJ_INF_01
                regiments = {
                        infantry = { x = 0 y = 0 }
                        infantry = { x = 0 y = 1 }
                        infantry = { x = 0 y = 2 }
        
                        infantry = { x = 1 y = 0 }
                        infantry = { x = 1 y = 1 }
                        infantry = { x = 1 y = 2 }

                        infantry = { x = 2 y = 0 }
                        infantry = { x = 2 y = 1 }
                        infantry = { x = 2 y = 2 }
                            }
                        }
        
                    random_owned_controlled_state = {
                            prioritize = { 439 }
                            create_unit = { 
                                division = "name = \"1. Sikh Regiment\" division_template = \"Sikh Regiment\" start_experience_factor = 0.5" 
                                owner = RAJ
                                }
        
                    }
                }

        }
    }
    

    focus = {
        id = RAJ_abolish_agrarian_society_criteria
        icon = GFX_focus_generic_manpower
        prerequisite = { focus = RAJ_relax_agrarian_society_criteria  focus = RAJ_regimental_loyalty }
        x = -1
        y = 1
        relative_position_id = RAJ_regimental_loyalty
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_war_support > 0.68
            OR = {
                has_war_with_major = yes
                surrender_progress > 0.2
            }
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = RAJ_abolish_agrarian_society_criteria_tt
            subtract_from_variable = { RAJ_recruitment_offices_timeout_max = 3 }
            remove_agrarian_society_if_void = yes
        }
    }

    

    focus = {
        id = RAJ_indian_territorial_force
        icon = GFX_goal_generic_more_territorial_claims
        prerequisite = { focus = RAJ_frontier_corps }
        x = -2
        y = 1
        relative_position_id = RAJ_frontier_corps
        

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no


        search_filters = { FOCUS_FILTER_MANPOWER }
        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.35
                uses = 1
                category = land_doctrine
            }

           custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.03 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.09 tooltip = mobilization_laws_cost_factor_tt }
        }
    }
    

    focus = {
        id = RAJ_military_engineer_services
        icon = GFX_goal_fortify_the_westwall
        prerequisite = { focus = RAJ_indian_army_corps_of_engineers }
        x = 1
        y = 1
        relative_position_id = RAJ_indian_army_corps_of_engineers
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                uses = 1
                ahead_reduction = 2
                category = engineers_tech # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_help_from_the_nagas
        icon = GFX_goal_generic_military_deal
        prerequisite = { focus = RAJ_indian_territorial_force  }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_territorial_force
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_help_from_the_nagas
                ahead_reduction = 1
                uses = 1
                category = recon_tech # optional 
            }
            hidden_effect = {
                set_technology = {
                    tech_recon_focus_bonus = 1
                    popup = no
                }
            }
            custom_effect_tooltip = tech_recon_focus_bonus_tt

        }
    }
    

    focus = {
        id = RAJ_re_establish_the_khyber_rifles
        icon = GFX_focus_ETH_freedom_at_gunpoint
        prerequisite = { focus = RAJ_indian_territorial_force focus = RAJ_mountain_guns }
        x = -5
        y = 1
        relative_position_id = RAJ_indian_territorial_force
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            random_army_leader = {
                limit = {
                    NOT = { has_trait = hill_fighter }   
                }

                add_trait = {
                    trait = hill_fighter
                }
            }

            random_army_leader = {
                limit = {
                    NOT = { has_trait = trait_mountaineer }   
                }

                add_trait = {
                    trait = trait_mountaineer
                }
            }

        }
    }
    

    focus = {
        id = RAJ_campaign_against_agrarian_societys
        icon = GFX_goal_generic_small_arms
        prerequisite = { focus = RAJ_abolish_agrarian_society_criteria }
        x = 0
        y = 1
        relative_position_id = RAJ_abolish_agrarian_society_criteria
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        search_filters = { FOCUS_FILTER_MANPOWER }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            unlock_decision_tooltip = {
                decision = RAJ_GOE_campaign_against_agrarian_societys
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
            remove_agrarian_society_if_void = yes
        }
    }
    
    focus = {
        id = RAJ_assam_oil_dlc
        icon = GFX_goal_generic_oil_refinery
        prerequisite = { focus = RAJ_east_india_railways_dlc  }
        x = -4
        y = 1
        relative_position_id = RAJ_east_india_railways_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            controls_state = 432
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            432 = {
                add_resource = {
                    type = oil
                    amount = 12
                }
            }

            add_tech_bonus = {
                name = RAJ_assam_oil
                bonus = 1
                uses = 1
                category = synth_resources # optional 
                # technology  = technology_id # optional
            }
        }
    }
    

    focus = {
        id = RAJ_tata_steel_dlc
        icon = GFX_goal_generic_construct_civilian
        prerequisite = { focus = RAJ_bombay_baroda_and_central_india_railway }
        x = 0
        y = 1
        relative_position_id = RAJ_bombay_baroda_and_central_india_railway
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            controls_state = 429
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            429 = {
                add_resource = {
                    type = steel
                    amount = 24
                }
            }
        }
    }

    focus = {
        id = RAJ_chindits_dlc
        icon = GFX_goal_generic_special_forces
        prerequisite = { focus = RAJ_re_establish_the_khyber_rifles }
        x = 0
        y = 1
        relative_position_id = RAJ_re_establish_the_khyber_rifles 
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            if = {
                limit = {   #prevent ai from stealing orde from ETH if player
                    is_ai = yes
                }
                OR = {
                    any_other_country = {
                        has_character = RAJ_orde_wingate 
                        is_ai = yes 
                    }

                    any_other_country = {
                        NOT = { has_character = RAJ_orde_wingate  }
                    }
                }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {

            create_orde_wingate = yes
            if = {
                limit = {
                    RAJ_orde_wingate = {
                        has_character_flag = is_in_ethiopia
                    }
                    OR = {
                        ETH = { is_ai = yes }
                        AND = {
                            ETH = { is_ai = no }
                            RAJ = { is_ai = no }
                        }
                    }
                }

                RAJ_orde_wingate = {
                    hidden_effect = {
                        if = {
                            limit = {
                                has_character_flag = is_in_ethiopia
                                NOT = { ROOT = { has_war_with = ENG } }
                            } 
                            clr_character_flag = is_in_ethiopia
                        }
                        set_character_flag = is_in_raj
                    }
                    set_nationality = RAJ
                }
            }

            add_ideas = idea_RAJ_chindits
        }
    }
    

    focus = {
        id = RAJ_viceroys_body_guard
        icon = GFX_goal_generic_cavalry
        prerequisite = { focus = RAJ_indian_states_force }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_states_force
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_tech = tech_military_police }
                }
                set_technology = {
                    tech_military_police = 1
                    popup = yes
                }
            }

            add_tech_bonus = {
                name = RAJ_viceroys_body_guard
                bonus = 1
                uses = 1
                category = military_police_tech # optional 
                # technology  = technology_id # optional
            }
            if = {
                limit = {
                    is_subject = yes
                }
                division_template = {
                    name = "Viceroys Body Guard"
                    is_locked = no
                    #division_names_group = NAMELIST_ID # optional
                    priority = 2 # optional 
                    #template_counter = <INT> # optional
                    regiments = {
                        cavalry = { x = 0 y = 0 }
                        cavalry = { x = 0 y = 1 }
                        cavalry = { x = 0 y = 2 }
                        cavalry = { x = 0 y = 3 }
                        cavalry = { x = 1 y = 0 }
                        cavalry = { x = 1 y = 1 }
                        cavalry = { x = 1 y = 2 }
                        cavalry = { x = 1 y = 3 }
                        cavalry = { x = 2 y = 0 }
                        cavalry = { x = 2 y = 1 }
                        cavalry = { x = 2 y = 2 }
                        cavalry = { x = 2 y = 3 }
                    }
                    support = {
                        military_police = { x = 0 y  = 0 }
                    }
                }
                random_owned_controlled_state = {
                    prioritize = { 438 } #optional: to pick those states first if they fulfill the limit
                    create_unit = {
                        division = "name = \"Viceroys Body Guard\" division_template = \"Viceroys Body Guard\" start_experience_factor = 0.7 start_equipment_factor = 1 start_manpower_factor = 1"
                        owner = RAJ
                    }
                }
            }
            else = {
                division_template = {
                    name = "Presidents Bodyguard"
                    is_locked = no
                    #division_names_group = NAMELIST_ID # optional
                    priority = 2 # optional 
                    #template_counter = <INT> # optional
                    regiments = {
                        cavalry = { x = 0 y = 0 }
                        cavalry = { x = 0 y = 1 }
                        cavalry = { x = 0 y = 2 }
                        cavalry = { x = 0 y = 3 }
                        cavalry = { x = 1 y = 0 }
                        cavalry = { x = 1 y = 1 }
                        cavalry = { x = 1 y = 2 }
                        cavalry = { x = 1 y = 3 }
                        cavalry = { x = 2 y = 0 }
                        cavalry = { x = 2 y = 1 }
                        cavalry = { x = 2 y = 2 }
                        cavalry = { x = 2 y = 3 }
                    }
                    support = {
                        military_police = { x = 0 y  = 0 }
                    }
                }
                random_owned_controlled_state = {
                    prioritize = {  438 } #optional: to pick those states first if they fulfill the limit
                    create_unit = {
                        division = "name = \"Presidents Bodyguard\" division_template = \"Presidents Bodyguard\" start_experience_factor = 0.7 start_equipment_factor = 1 start_manpower_factor = 1"
                        owner = RAJ
                    }
                }
            }


        }
    }
    

    focus = {
        id = RAJ_engineering_revolution
        icon = GFX_focus_SWE_landsverk
        prerequisite = { focus = RAJ_mechanization_of_the_cavalry focus = RAJ_ordnance_factory_khamaria_jabalpur }
        x = -2
        y = 1
        relative_position_id = RAJ_mechanization_of_the_cavalry
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_engineering_revolution
                bonus = 1
                uses = 1
                category = engineers_tech # optional 
                # technology  = technology_id # optional
            }
           try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
        }
    }
    

    focus = {
        id = RAJ_gun_and_shell_factory_cossipore
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_ammunition_factory_khadki }
        x = 2
        y = 1
        relative_position_id = RAJ_ammunition_factory_khadki
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_gun_and_shell_facatory_cassiopore
                    }
                }
            }
            else = {
                upgrade_ordance_factories_art_no_aat = yes
            }

            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    
    focus = {
        id = RAJ_rifle_factory_ishapore_west_bengal
        icon = GFX_goal_generic_small_arms
        prerequisite = { focus = RAJ_ammunition_factory_khadki }
        x = -2
        y = 1
        relative_position_id = RAJ_ammunition_factory_khadki
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                mio:RAJ_ammunition_factory_khadki_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_rifle_factory_ishapore
                    }
                }
            }
            else = {
                upgrade_ordance_factories_no_aat = yes
            }

            try_build_mil_in_core_otherwise_build_in_controlled = yes
            
        }
    }

    focus = {
        id = RAJ_ordnance_factory_kanpur_uttar_pradesh
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_rifle_factory_ishapore_west_bengal }
        x = 0
        y = 1
        relative_position_id = RAJ_rifle_factory_ishapore_west_bengal   
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_ordnance_factory_kanpur_uttar_pradesh_inf
                    }
                }

                mio:RAJ_ordnance_factory_kanpur_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_ordnance_factory_kanpur_uttar_pradesh_art
                    }
                }
            }
            else = {
                upgrade_ordance_factories_no_aat = yes
                upgrade_ordance_factories_art_no_aat = yes
            }

            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_ordnance_factory_medak
        icon = GFX_focus_CHL_domestic_production_of_the_willys_mb
        prerequisite = { focus = RAJ_rifle_factory_ishapore_west_bengal }
        x = -2
        y = 1
        relative_position_id = RAJ_rifle_factory_ishapore_west_bengal   
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ordnance_factory_medak_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_apc_research_effort
                    }
                }
            }
            else = {
                add_tech_bonus = {
                    name = RAJ_ordnance_factory_medak
                    bonus = 0.75
                    uses = 1
                    category = cat_mechanized_equipment # optional 
                    # technology  = technology_id # optional
                }

            }
            try_build_mil_in_core_otherwise_build_in_controlled = yes

        }
    }





    focus = {
        id = RAJ_chariot_of_victory
        icon = GFX_focus_generic_mechanized
        prerequisite = { focus = RAJ_ordnance_factory_medak focus = RAJ_ordnance_factory_kanpur_uttar_pradesh }
        x = 1
        y = 1
        relative_position_id = RAJ_ordnance_factory_medak   
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 1
                category = cat_mechanized_equipment # optional 
                name = RAJ_chariot_of_victory
                # technology  = technology_id # optional
            }
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ordnance_factory_medak_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_chariot_of_victory
                    }
                }
            }
            else = {
                if = {
                    limit = {
                        has_idea = idea_medak
                    }
                    swap_ideas = {
                        remove_idea = idea_medak
                        add_idea = idea_medak_1
                    }
                }
                else = {
                    effect_tooltip = {
                        swap_ideas = {
                            remove_idea = idea_medak
                            add_idea = idea_medak_1
                        }
                    }
                }
            }

            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    
   

    focus = {
        id = RAJ_indian_air_force
        icon = GFX_goal_generic_build_airforce
        #prerequisite = { focus =  }
        x = 6
        y = 0
        relative_position_id = RAJ_local_recruitment_offices
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_AIR_XP}

        completion_reward = {
            add_dynamic_modifier = {
                modifier = idea_RAJ_indian_air_force
            }
            set_variable = {
                var = RAJ_indian_air_force_xp_gain
                value = 0.2
                tooltip = experience_gain_air_tt  #Optional. localized text with LEFT and RIGHT tokens in it, tokens will replaced by values
            }

        }
    }
    

    focus = {
        id = RAJ_cordite_factory_aruvankadu_tamil_nadu
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_gun_and_shell_factory_cossipore }
        x = -1
        y = 1
        relative_position_id = RAJ_gun_and_shell_factory_cossipore
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                mio:RAJ_ordnance_factory_kanpur_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_cordite_factory_aruvankadu_tamil_nadu
                        show_modifiers = yes
                    }
                }
            }
            else = {
                upgrade_ordance_factories_art_no_aat = yes
            }

             try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_the_burma_road
        icon = GFX_focus_generic_road_investment
        prerequisite = { focus = RAJ_east_india_railways_dlc }
        x = -2
        y = 1
        relative_position_id = RAJ_east_india_railways_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            BRM = {
                is_in_faction_with = ROOT
                controls_state = 995
                controls_state = 640
                controls_state = 998
            }

            CHI = {
                any_enemy_country = {
                    is_major = yes
                    NOT = { 
                        original_tag = BRM 
                        is_in_faction_with = RAJ
                        original_tag = RAJ
                    }
                }
                exists = yes
                is_subject = no
                NOT = { has_idea = idea_RAJ_allied_equipment_support }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            CHI = {
                add_ideas = idea_RAJ_allied_equipment_support
            }
        }
    }
    

    focus = {
        id = RAJ_womens_auxiliary_air_force
        icon = GFX_focus_SOV_women_in_aviation
        prerequisite = { focus = RAJ_indian_air_force }
        x = -2
        y = 1
        relative_position_id = RAJ_indian_air_force
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            
            custom_effect_tooltip = idea_RAJ_indian_air_force_modify_tt
            set_variable = {
                var = RAJ_indian_air_air_accidents_factor
                value = -0.15
                tooltip = air_accidents_factor_tt  
            }
        }
    }
    

    focus = {
        id = RAJ_trainer_planes
        icon = GFX_focus_generic_air_bases
        prerequisite = { focus = RAJ_indian_air_force }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_air_force
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_AIR_XP}

        completion_reward = {
            custom_effect_tooltip = idea_RAJ_indian_air_force_modify_tt
            set_variable = {
                var = RAJ_indian_air_training_xp_gain_factor
                value = 0.15
                tooltip = air_training_xp_gain_factor_tt  
            }

            set_variable = {
                var = RAJ_indian_air_mission_xp_gain_factor
                value = 0.15
                tooltip = air_mission_xp_gain_factor_tt  #Optional. localized text with LEFT and RIGHT tokens in it, tokens will replaced by values
            }



        }
    }

    focus = {
        id = RAJ_spitfire
        icon = GFX_goal_generic_air_fighter2
        prerequisite = { focus = RAJ_trainer_planes }
        x = -2
        y = 1
        relative_position_id = RAJ_trainer_planes
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}

        completion_reward = {

            air_experience = 25
            add_tech_bonus = {
                name = RAJ_spitfire
                bonus = 1
                uses = 1
                category = light_fighter
            }
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_supermarine_organization = {
                    add_mio_size = 1
                }
            }
        }
    }
    

    focus = {
        id = RAJ_ground_pounder
        icon = GFX_focus_SWE_marauder_bombers
        prerequisite = { focus = RAJ_trainer_planes }
        x = 2
        y = 1
        relative_position_id = RAJ_trainer_planes
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = idea_RAJ_indian_air_force_modify_tt
            set_variable = {
                var = RAJ_indian_air_air_cas_present_factor
                value = 0.1
                tooltip = air_cas_present_factor_tt  
            }

            set_variable = {
                var = RAJ_indian_air_air_cas_efficiency
                value = 0.05
                tooltip = air_cas_efficiency_tt  
            }
        }
    }
    

    focus = {
        id = RAJ_douglas_dakota
        icon = GFX_goal_generic_air_bomber
        prerequisite = { focus = RAJ_trainer_planes }
        x = 4
        y = 1
        relative_position_id = RAJ_trainer_planes
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_douglas_dakota
                bonus = 1
                uses = 1
                category = transport_planes_cat # optional 
            }

            if = {
                limit = {
                    has_dlc = "By Blood Alone"
                }
                add_tech_bonus = {
                    name = RAJ_douglas_dakota
                    uses = 1
                    ahead_reduction = 2
                    technology  = bba_strategic_airlifter # optional
                }
            }

            else = {
                add_tech_bonus = {
                    name = RAJ_douglas_dakota
                    uses = 1
                    ahead_reduction = 2
                    technology  = strategic_airlifter # optional
                }
            }
        }
    }
    

    focus = {
        id = RAJ_vultee_vengeance
        icon = GFX_focus_generic_cas_aircraft
        prerequisite = { focus = RAJ_ground_pounder  }
        x = 0
        y = 1
        relative_position_id = RAJ_ground_pounder
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "By Blood Alone"
                }

                add_tech_bonus = {
                    name = RAJ_spitfire
                    bonus = 1
                    uses = 1
                    category = cat_air_bombs
                }
            }
            else = {
                air_experience = 60
            }

            custom_effect_tooltip = idea_RAJ_indian_air_force_modify_tt
            set_variable = {
                var = RAJ_indian_air_air_agility_factor
                value = 0.08
                tooltip = air_agility_factor_tt  
            }
        }
    }
    

    focus = {
        id = RAJ_ordnance_factory_khamaria_jabalpur
        icon = GFX_focus_CHL_high_quality_nitrate
        prerequisite = { focus = RAJ_gun_and_shell_factory_cossipore }
        x = 1
        y = 1
        relative_position_id = RAJ_gun_and_shell_factory_cossipore
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_ordnance_factory_khamaria_jabalpur
                    }
                }
            }
            else = {
                upgrade_ordance_factories_no_aat = yes
            }

             
             try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_the_ledo_road
        icon = GFX_focus_SOV_the_road_of_life
        prerequisite = { focus = RAJ_the_burma_road }
        x = 0
        y = 1
        relative_position_id = RAJ_the_burma_road
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            OR = {
                controls_state = 434
                controls_state = 990
                controls_state = 432
            }
            CHI = {
                any_enemy_country = {
                    is_major = yes
                    NOT = { 
                        original_tag = BRM 
                        is_in_faction_with = RAJ
                        original_tag = RAJ
                    }
                }
                exists = yes
                is_subject = no
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            
            if = {
                limit = {
                   434 = { 
                        is_owned_and_controlled_by = ROOT
                        infrastructure < 5 
                    }
                }
                434 = {
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }
            else = {
                random_controlled_state = {
                    limit = { 
                        infrastructure < 5 
                    }
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }
            
            if = {
                limit = {
                   990 = { 
                        is_owned_and_controlled_by = ROOT
                        infrastructure < 5 
                   }
                }
                990 = {
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }
            else = {
                random_controlled_state = {
                    limit = { 
                        infrastructure < 5 
                    }
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }
            
            
            if = {
                limit = {
                   432 = { 
                        is_owned_and_controlled_by = ROOT
                        infrastructure < 5 
                   }
                }
                432 = {
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }
            else = {
                random_controlled_state = {
                    limit = { 
                        infrastructure < 5 
                    }
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }

        }
    }
    

    focus = {
        id = RAJ_long_range_escorts
        icon = GFX_focus_generic_multi_role_aircraft
        prerequisite = { focus = RAJ_trainer_planes }
        x = 2
        y = 0
        relative_position_id = RAJ_spitfire
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}

        completion_reward = {
            air_experience = 25
            add_tech_bonus = {
                name = RAJ_long_range_escorts
                bonus = 1
                uses = 1
                category = cat_heavy_fighter
            }

        }
    }
    

    focus = {
        id = RAJ_british_air_experts
        icon = GFX_focus_generic_air_partners
        prerequisite = { focus = RAJ_spitfire focus = RAJ_long_range_escorts }
        x = 1
        y = 1
        relative_position_id = RAJ_spitfire
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_AIR_XP}

        completion_reward = {
            custom_effect_tooltip = idea_RAJ_indian_air_force_modify_tt
            add_to_variable = {
                var = RAJ_indian_air_force_xp_gain
                value = 0.3
                tooltip = experience_gain_air_tt  #Optional. localized text with LEFT and RIGHT tokens in it, tokens will replaced by values
            }
        }
    }

    focus = {
        id = RAJ_special_operations_executive
        icon = GFX_focus_generic_paratrooper 
        prerequisite = { focus = RAJ_british_air_experts }
        x = -1
        y = 1
        relative_position_id = RAJ_british_air_experts
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_tech = paratroopers }
                }
                set_technology = {
                    paratroopers = 1
                    popup = no
                }
            }
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                add_doctrine_cost_reduction = {
                    name = RAJ_special_operations_executive
                    cost_reduction = 0.75
                    uses = 1
                    category = special_forces_doctrine
                }
                army_experience = 30
                navy_experience = 30
                air_experience = 30
            }
            else = {
                army_experience = 45
                navy_experience = 45
                air_experience = 45
            }
        }
    }
    

    focus = {
        id = RAJ_the_ordnance_factories_board
        icon = GFX_focus_eng_concessions_to_the_trade_unions
        prerequisite = { focus = RAJ_cordite_factory_aruvankadu_tamil_nadu focus = RAJ_ordnance_factory_kanpur_uttar_pradesh }
        x = -2
        y = 1
        relative_position_id = RAJ_cordite_factory_aruvankadu_tamil_nadu
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

            if = {
                limit = {
                    NOT = { has_dlc = "Arms Against Tyranny" }
                }
                has_completed_focus = RAJ_rifle_factory_ishapore_west_bengal
                has_completed_focus = RAJ_gun_and_shell_factory_cossipore
            }

            if = {
                limit = {
                     has_dlc = "Arms Against Tyranny"
                }
                OR = {
                    mio:RAJ_ammunition_factory_khadki_organization = { has_mio_size > 7  }                   
                    mio:RAJ_ordnance_factory_kanpur_organization  = { has_mio_size > 7  } 
                    mio:RAJ_ordnance_factory_medak_organization  = { has_mio_size > 7  }  
                    mio:RAJ_vickers_armstrong_organization  = { has_mio_size > 7  }   
                }
            }
            
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                unlock_mio_policy_tooltip = {
                    policy = mio_policy_RAJ_general_ordnance_factory_board
                }
            }
            else = {
                try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
            }

            try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_smiling_buddah
        icon = GFX_focus_smiling_buddha
        prerequisite = { focus = RAJ_british_air_experts focus = RAJ_abolish_agrarian_society_criteria }
        x = -3
        y = 1
        relative_position_id = RAJ_british_air_experts
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    NOT = {
                        has_tech = atomic_research
                    }
                }
                add_tech_bonus = {
                    name = RAJ_the_smiling_buddha
                    bonus = 3.0
                    uses = 1
                    category = nuclear
                }
                add_breakthrough_progress = {
                    specialization = specialization_nuclear
                    value = 0.5
                }
            }
            else = {
                add_breakthrough_progress = {
                    specialization = specialization_nuclear
                    value = 1
                }
            }

        }
    }
    

    focus = {
        id = RAJ_royal_indian_air_force_dlc
        icon = GFX_focus_eng_special_air_service
        prerequisite = { focus = RAJ_british_air_experts }
        x = 1
        y = 1
        relative_position_id = RAJ_british_air_experts
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_AIR_XP}

        completion_reward = {
            air_experience = 100
            add_doctrine_cost_reduction = {
                cost_reduction = 0.5
                uses = 2
                category = air_doctrine
            }
        }
    }

    focus = {
        id = RAJ_royal_indian_navy_dlc
        icon = GFX_goal_generic_navy_doctrines_tactics
        #prerequisite = { focus = RAJ_expand_mazagon_dock_dlc
        #focus = RAJ_found_scindia_shipyard_dlc }
        x = 8
        y = 0
        relative_position_id = RAJ_indian_air_force

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_RESEARCH }
        completion_reward = {
            add_dynamic_modifier = {
                modifier = idea_RAJ_royal_indian_navy
            }
            set_variable = {
                var = RAJ_royal_indian_navy_xp_gain
                value = 0.2
                tooltip = experience_gain_navy_tt  #Optional. localized text with LEFT and RIGHT tokens in it, tokens will replaced by values
            }
        }
    }

    focus = {
        id = RAJ_expand_mazagon_dock_dlc
        icon = GFX_goal_generic_construct_naval_dockyard
        prerequisite = { focus = RAJ_royal_indian_navy_dlc }
        x = -2
        y = 1
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        ai_will_do = {
            factor = 20
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP }
        complete_tooltip = {
            random_state = {
                limit = {
                    has_state_flag = RAJ_expand_mazagon_dock_dlc
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                if = {
                    limit = { has_state_flag = RAJ_expand_mazagon_dock_dlc_NB }
                    add_building_construction = {
                        type = naval_base
                        level = 2
                        instant_build = yes
                        province = 1349
                    }
                }
            }
        }

        completion_reward = {
            navy_experience = 50
            random_owned_controlled_state = {
                prioritize = { 429 }
                limit = {
                    is_coastal = yes
                    free_building_slots = {
                        building = dockyard
                        size > 0
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                set_state_flag = RAJ_expand_mazagon_dock_dlc
                if = {
                    limit = { state = 429 }
                    add_building_construction = {
                        type = naval_base
                        level = 2
                        instant_build = yes
                        province = 1349
                    }
                    set_state_flag = RAJ_expand_mazagon_dock_dlc_NB
                }
            }
        }
    }

    focus = {
        id = RAJ_black_swan_sloops
        icon = GFX_focus_generic_destroyer
        prerequisite = { focus = RAJ_royal_indian_navy_dlc }
        x = 0
        y = 1
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        ai_will_do = {
            factor = 20
        }

        available = {
            if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                has_tech = basic_ship_hull_light
            }
            else = {
                has_tech = basic_destroyer
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 2
                category = cat_anti_air # optional 
                # technology  = technology_id # optional
            }
            if = {
                limit = {
                    has_dlc = "Man the Guns"
                }

                create_equipment_variant = {
                    name = "Black Swan Class"                
                    type = ship_hull_light_2
                    modules={
                        fixed_ship_anti_air_slot=ship_anti_air_2
                        fixed_ship_radar_slot=ship_sonar_1
                        fixed_ship_engine_slot=light_ship_engine_2
                        mid_1_custom_slot=ship_anti_air_1
                        rear_1_custom_slot=ship_depth_charge_1
                        fixed_ship_battery_slot=ship_light_battery_1
                    }
                }

                create_ship = {
                    type = ship_hull_light_2 
                    equipment_variant = "Black Swan Class" 
                    creator = RAJ
                    exclude_refitting = no
                }
            }
            else = {
                create_equipment_variant = {
                    name = "Black Swan Class"
                    type = destroyer_2
                    upgrades = {
                        ship_reliability_upgrade = 0
                        ship_engine_upgrade = 0
                        ship_gun_upgrade = 0
                        ship_anti_air_upgrade = 2
                    }
                    obsolete = yes
                }
                create_ship = {
                    type = destroyer_2
                    creator = RAJ
                    equipment_variant = "Black Swan Class"
                     # optionalname = "ship_name"
                     exclude_refitting = no
                }
            }

        }
    }

    focus = {
        id = RAJ_indian_marine_corps
        icon = GFX_goal_generic_navy_battleship
        prerequisite = { focus = RAJ_royal_indian_navy_dlc }
        x = 2
        y = 1
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.3
                uses = 1
                category = naval_doctrine
            }
            add_tech_bonus = {
                bonus = 0.3
                uses = 1
                category = marine_tech
            }
        }
    }

    focus = {
        id = RAJ_madras_ship_repair_factories
        icon = GFX_focus_generic_refit_civilian_ships
        prerequisite = { focus = RAJ_indian_marine_corps }
        x = 1
        y = 1
        relative_position_id = RAJ_indian_marine_corps

        cost = 5

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 423 }
                limit = {
                    is_coastal = yes
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = dockyard
                    level = 1
                    instant_build = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_found_scindia_shipyard_dlc
        icon = GFX_goal_generic_construct_naval_dockyard
        prerequisite = { focus = RAJ_black_swan_sloops focus = RAJ_expand_mazagon_dock_dlc }
        x = 1
        y = 2
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        ai_will_do = {
            factor = 20
        }

        available = {

        }

        bypass = {

        }

        mutually_exclusive = { focus = RAJ_obtain_british_naval_contracts }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP }
        complete_tooltip = {
            random_state = {
                limit = {
                    has_state_flag = RAJ_found_scindia_shipyard_dlc
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                if = {
                    limit = { has_state_flag = RAJ_found_scindia_shipyard_dlc_NB }
                    add_building_construction = {
                        type = naval_base
                        level = 2
                        instant_build = yes
                        province = 10255
                    }
                }
            }
        }

        completion_reward = {
            navy_experience = 25
            random_owned_controlled_state = {
                prioritize = { 426 }
                limit = {
                    is_coastal = yes
                    free_building_slots = {
                        building = dockyard
                        size > 0
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                set_state_flag = RAJ_found_scindia_shipyard_dlc
                if = {
                    limit = { state = 426 }
                    add_building_construction = {
                        type = naval_base
                        level = 2
                        instant_build = yes
                        province = 10255
                    }
                    set_state_flag = RAJ_found_scindia_shipyard_dlc_NB
                }
            }
        }
    }

    focus = {
        id = RAJ_dominate_the_bay_of_bengal
        icon = GFX_goal_generic_navy_submarine
        prerequisite = { focus = RAJ_found_scindia_shipyard_dlc }
        x = 1
        y = 3
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 1
                category = mio_cat_tech_all_destroyer_and_modules
            }
            add_tech_bonus = {
                bonus = 1.0
                uses = 1
                category = mio_cat_tech_all_submarine_and_modules
            }
        }

    }

    focus = {
        id = RAJ_indian_cruiser_development
        icon = GFX_focus_generic_cruiser2
        prerequisite = { focus = RAJ_found_scindia_shipyard_dlc }
        x = 3
        y = 3
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = mio_cat_tech_all_cruiser_and_modules
            }
        }

    }

    focus = {
        id = RAJ_womens_royal_indian_naval_service
        icon = GFX_focus_generic_women_in_military
        prerequisite = { focus = RAJ_indian_cruiser_development }
        x = 4
        y = 4
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_NAVY_XP }

        completion_reward = {
            add_ideas = RAJ_womens_royal_indian_naval_service_spirit
            navy_experience = 25
        }

    }

    focus = {
        id = RAJ_increase_funding_for_the_GRSE
        icon = GFX_focus_generic_economic_recovery
        prerequisite = { focus = RAJ_dominate_the_bay_of_bengal focus = RAJ_indian_cruiser_development }
        x = 1
        y = 4
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 431 }
                limit = {
                    is_coastal = yes
                }
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = dockyard
                    level = 3
                    instant_build = yes
                }
            }
        }

    }

    focus = {
        id = RAJ_obtain_british_naval_contracts
        icon = GFX_focus_RAJ_british_investors
        prerequisite = { focus = RAJ_black_swan_sloops focus = RAJ_expand_mazagon_dock_dlc }
        x = -1
        y = 2
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        available = {
            is_in_faction_with = ENG
        }

        mutually_exclusive = { focus = RAJ_found_scindia_shipyard_dlc }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_navy.1 days = 1 }
            }
        }
    }

    focus = {
        id = RAJ_eastern_shipyard_construction
        icon = GFX_focus_generic_refit_civilian_ships
        prerequisite = { focus = RAJ_increase_funding_for_the_GRSE }
        x = 1
        y = 1
        relative_position_id = RAJ_increase_funding_for_the_GRSE

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_core_state = {
                limit = {
                    is_owned_and_controlled_by = RAJ
                    is_coastal = yes
                }
                prioritize = { 423 424 426 431 }
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = dockyard
                    level = 3
                    instant_build = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_purchase_decomissioned_british_ships
        icon = GFX_focus_generic_navy_battleship2
        prerequisite = { focus = RAJ_obtain_british_naval_contracts }
        x = -1
        y = 3
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        available = {
            has_idea = RAJ_british_naval_agreement
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_navy.7 days = 1 }
            }
        }
    }

    focus = {
        id = RAJ_request_transfer_of_british_commanders
        icon = GFX_focus_generic_naval_discipline
        prerequisite = { focus = RAJ_obtain_british_naval_contracts }
        x = -3
        y = 3
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        available = {
            has_idea = RAJ_british_naval_agreement
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_navy.4 days = 1 }
            }
        }
    }

    focus = {
        id = RAJ_obtain_modern_ship_contracts
        icon = GFX_goal_generic_navy_cruiser
        prerequisite = { focus = RAJ_purchase_decomissioned_british_ships }
        x = -1
        y = 4
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        available = {
            has_idea = RAJ_british_naval_agreement 
            ENG = {
                if = {
                    limit = { has_dlc = "Man the Guns" }
                    has_tech = basic_ship_hull_cruiser
                }
                else = {
                    has_tech = basic_light_cruiser
                }
            }
        }

        bypass = {
            ENG = {
                NOT = {
                    if = {
                        limit = { has_dlc = "Man the Guns" }
                        has_tech = basic_ship_hull_cruiser
                    }
                    else = {
                        has_tech = basic_light_cruiser
                    }
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_navy.10 days = 1 }
            }
        }
    }

    focus = {
        id = RAJ_modernizing_navy_dlc
        icon = GFX_focus_generic_naval_invasion
        prerequisite = { focus = RAJ_obtain_modern_ship_contracts focus = RAJ_increase_funding_for_the_GRSE }
        x = 0
        y = 5
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 10

        ai_will_do = {
            factor = 25
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            add_ideas = RAJ_modernized_navy_spirit
        }
    }


    focus = {
        id = RAJ_red_punjab_operation
        icon = GFX_goal_generic_attack_allies
        prerequisite = { focus = RAJ_the_red_curtain_falls_over_asia }
        x = 3
        y = 1
        relative_position_id = RAJ_the_red_curtain_falls_over_asia

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            NOT = { has_war_with = PAK }
        }
        
        bypass = {
            OR = {
                PAK = {
                    OR = {
                        exists = no
                        is_subject_of = ROOT
                    }
                }

                has_war_with = PAK
                controls_state = 986
            }

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            unlock_decision_tooltip = {
                decision = RAJ_red_punjab_operation_decision
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
        }
    }

    focus = {
        id = RAJ_secure_rajahsthan
        icon = GFX_goal_generic_position_armies
        prerequisite = { focus = RAJ_the_red_curtain_falls_over_asia }
        x = 2
        y = 0
        relative_position_id = RAJ_red_punjab_operation

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            NOT = { has_war_with = PAK }
            controls_state = 437
            controls_state = 991
        }
        
        bypass = {
            OR = {
                PAK = {
                    OR = {
                        exists = no
                        is_subject_of = ROOT
                    }
                }

                has_war_with = PAK
                controls_state = 433
            }

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            unlock_decision_tooltip = {
                decision = RAJ_secure_rajahsthan_decision
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
        }
    }

    focus = {
        id = RAJ_strike_eastern_pakistan
        icon = GFX_focus_generic_provoke_border_clashes
        prerequisite = { focus = RAJ_the_red_curtain_falls_over_asia }
        x = 4
        y = 0
        relative_position_id = RAJ_red_punjab_operation

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            NOT = { has_war_with = PAK }
        }
        
        bypass = {
            OR = {
                PAK = {
                    OR = {
                        exists = no
                        is_subject_of = ROOT
                    }
                }

                has_war_with = PAK
                controls_state = 431
            }

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            unlock_decision_tooltip = {
                decision = RAJ_secure_west_bengal_decision
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
        }
    }

    focus = {
        id = RAJ_deathblow_to_imperial_remnants
        icon = GFX_goal_generic_secret_weapon
        prerequisite = { focus = RAJ_red_punjab_operation focus = RAJ_secure_rajahsthan focus = RAJ_strike_eastern_pakistan }
        x = 2
        y = 1
        relative_position_id = RAJ_red_punjab_operation

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            NOT = {
                has_truce_with = PAK
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            create_wargoal = {
                type = annex_everything
                target = PAK 
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            PAK = {
                every_core_state = {
                    add_core_of = ROOT
                }
            }

            if = {
                limit = {
                    BRM = {
                        is_in_faction_with = ENG
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = BRM 
                }
                custom_effect_tooltip = generic_skip_one_line_tt
                BRM = {
                    every_core_state = {
                        add_core_of = ROOT
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_stopping_the_japanese_threat_into_central_asia
        icon = GFX_goal_generic_secret_weapon
        prerequisite = { focus = RAJ_deathblow_to_imperial_remnants }
        x = 2
        y = 1
        relative_position_id = RAJ_deathblow_to_imperial_remnants

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            NOT = { is_in_faction_with = JAP }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    JAP = {
                        OR = {
                            any_enemy_country = {
                                is_literally_china = yes
                            } 
                            is_in_faction_with = SIA
                            has_government = fascism
                            has_government = neutrality
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = JAP
                }
            }
            add_ideas = idea_RAJ_anti_japanese_war
        }
    }



    focus = {
        id = RAJ_nationalize_british_owned_factories
        icon = GFX_focus_AUS_raid_military_storages
        prerequisite = { focus = RAJ_deathblow_to_imperial_remnants }
        x = -2
        y = 1
        relative_position_id = RAJ_deathblow_to_imperial_remnants

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
        }
    }

}       
