shared_focus = {
	id = Commonwealth_form_joint_alliance
	
	dynamic = yes 
	
	icon = GFX_focus_POL_complete_april_constitution

	x = 27
	y = 8
	
	offset = {
		x = 34
		y = -8
		trigger = {
			has_focus_tree = canadian_focus
		}
	}
	
	offset = {
		x = 34
		y = -8
		trigger = {
			has_focus_tree = australian_focus
		}
	}
	
	offset = {
		x = 22
		y = -8
		trigger = {
			has_focus_tree = new_zealander_focus
		}
	}
	
	offset = {
		x = 24
		y = -8
		trigger = {
			has_focus_tree = south_african_focus
		}
	}
	
	cost = 5

	

	available = {
		is_faction_leader = yes 
		
		any_allied_country = {
			Commonwealth_is_Commonwealth = yes 
		}
		
		is_subject = no 
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 0
			is_historical_focus_on = yes 
		}
	}

	search_filters = { FOCUS_FILTER_POLITICAL }

	completion_reward = {
		if = {
			limit = {	
				Commonwealth_alliance_created_already = no
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
						Commonwealth_is_Commonwealth = yes
					}
					set_country_flag = Commonwealth_already_member_flag
				}
			}
			Commonwealth_create_Commonwealth_alliance = yes 
		}
	}
}

joint_focus = {
	id = Commonwealth_command
	
	icon = GFX_goal_generic_army_doctrines
	
	prerequisite = { focus = Commonwealth_form_joint_alliance }
	
	x = -4
	y = 1
	relative_position_id = Commonwealth_form_joint_alliance
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_stability > 0.5
		has_war_support > 0.25
	}

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_AIR_XP }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}


	completion_reward = {
		air_experience = 25
		navy_experience = 25
		army_experience = 25
		add_command_power = 25		
		add_ideas = { Commonwealth_command_ns }
	}
}

joint_focus = {
	id = Commonwealth_political_cooperation
	icon = GFX_focus_generic_improve_the_administration
	prerequisite = { focus = Commonwealth_form_joint_alliance }

	x = 0
	y = 1
	relative_position_id = Commonwealth_form_joint_alliance
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		is_faction_leader = yes
	}

	search_filters = { FOCUS_FILTER_POLITICAL }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {

	}

	completion_reward_joint_originator = {
		add_political_power = 100
		add_stability = 0.1
		if = {
			limit = {
				has_global_flag = Commonwealth_democratic_alliance_formed
			}
			add_popularity = {
				ideology = democratic 
				popularity = 0.1
			}
		}
		else_if = {
			limit = {
				has_global_flag = Commonwealth_communist_alliance_formed
			}
			add_popularity = {
				ideology = communism 
				popularity = 0.1
			}	
		}
		else_if = {
			limit = {
				has_global_flag = Commonwealth_monarchist_alliance_formed
			}
			add_popularity = {
				ideology = neutrality 
				popularity = 0.1
			}	
		}
	}

	completion_reward_joint_member = {
		add_political_power = 50
		add_stability = 0.1
		if = {
			limit = {
				has_global_flag = Commonwealth_democratic_alliance_formed
			}
			add_popularity = {
				ideology = democratic 
				popularity = 0.05
			}
		}
		else_if = {
			limit = {
				has_global_flag = Commonwealth_communist_alliance_formed
			}
			add_popularity = {
				ideology = communism 
				popularity = 0.05
			}	
		}
		else_if = {
			limit = {
				has_global_flag = Commonwealth_monarchist_alliance_formed
			}
			add_popularity = {
				ideology = neutrality 
				popularity = 0.05
			}	
		}
	}
}

joint_focus = {
	id = Commonwealth_economic_union
	icon = GFX_goal_generic_positive_trade_relations
	prerequisite = { focus = Commonwealth_political_cooperation }

	x = 1
	y = 1
	relative_position_id = Commonwealth_political_cooperation
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_stability > 0.55
		num_of_civilian_factories > 15	
	}

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}


	completion_reward = {
		add_ideas = { Commonwealth_economic_union_ns }
	}
}

joint_focus = {
	id = Commonwealth_shared_intelligence
	
	icon = GFX_goal_generic_intelligence_exchange
	
	prerequisite = { focus = Commonwealth_political_cooperation }

	x = -1
	y = 1
	relative_position_id = Commonwealth_political_cooperation
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
	}

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}


	completion_reward = {
		if = {
			limit = {
				NOT = { has_dlc = "La Resistance" }
				
			}
			add_stability = 0.1
			add_war_support = 0.05
			add_political_power = 50
		}
	}

	completion_reward_joint_originator = {
		if = {
			limit = {
				has_dlc = "La Resistance"
				has_intelligence_agency = no
			}
			create_intelligence_agency = yes
		}
	}

	completion_reward_joint_member = {
		if = {
			limit = {
				has_dlc = "La Resistance"
				has_intelligence_agency = no
			}
			create_intelligence_agency = yes
		}		
	}
}

joint_focus = {
	id = Commonwealth_first_joint_institution

	dynamic = yes

	icon = GFX_goal_generic_scientific_exchange


	prerequisite = { focus = Commonwealth_shared_intelligence }
	prerequisite = { focus = Commonwealth_economic_union }

	x = 1
	y = 1
	relative_position_id = Commonwealth_shared_intelligence
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes	
		is_faction_leader = yes 
	}

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}


	completion_reward = {
		hidden_effect = {
			if = {
				limit = {Commonwealth_democratic_alliance_viable = yes }
				add_to_variable = { Commonwealth_democratic_alliance_leader_dmod_research = 0.075 }
				add_to_variable = { Commonwealth_democratic_alliance_leader_dmod_training_time = 0.12 }
				add_to_variable = { Commonwealth_democratic_alliance_member_dmod_research = 0.05 }
				add_to_variable = { Commonwealth_democratic_alliance_member_dmod_training_time = 0.08 }
			}
			else_if = {
				limit = { Commonwealth_communist_alliance_viable = yes }
				add_to_variable = { Commonwealth_communist_alliance_leader_dmod_max_eff = 0.15 }
				add_to_variable = { Commonwealth_communist_alliance_leader_dmod_max_planning = -0.1 }
				add_to_variable = { Commonwealth_communist_alliance_member_dmod_max_eff = 0.1 }
				add_to_variable = { Commonwealth_communist_alliance_member_dmod_max_planning = -0.08 }
			}
			else_if = {
				limit = { Commonwealth_monarchist_alliance_viable = yes }
				add_to_variable = { Commonwealth_monarchist_alliance_leader_dmod_prod_eff_gain = 0.25 } 
				add_to_variable = { Commonwealth_monarchist_alliance_leader_dmod_construction = -0.1 } 
				add_to_variable = { Commonwealth_monarchist_alliance_member_dmod_prod_eff_gain = 0.17 } 
				add_to_variable = { Commonwealth_monarchist_alliance_member_dmod_construction = -0.07 } 
			}
		}
	}

	completion_reward_joint_originator = {
		custom_effect_tooltip = Commonwealth_modifies_leader_dmod_TT 
		effect_tooltip = {
			if = {
				limit = { Commonwealth_democratic_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_democratic_alliance_leader_dmod_research
					value = 0.075
					tooltip = research_speed_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_democratic_alliance_leader_dmod_training_time
					value = 0.12
					tooltip = training_time_factor_tt
				}
			}
			else_if = {
				limit = { Commonwealth_communist_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_communist_alliance_leader_dmod_max_eff
					value = 0.15 
					tooltip = production_factory_max_efficiency_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_communist_alliance_leader_dmod_max_planning
					value = -0.1
					tooltip = max_planning_factor_tt
				}
			}
			else_if = {
				limit = { Commonwealth_monarchist_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_monarchist_alliance_leader_dmod_prod_eff_gain
					value = 0.2
					tooltip = production_factory_efficiency_gain_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_monarchist_alliance_leader_dmod_construction
					value = -0.1
					tooltip = production_speed_buildings_factor_tt
				}
			}
		}
	}

	completion_reward_joint_member = {
		custom_effect_tooltip = Commonwealth_modifies_member_dmod_TT 
		effect_tooltip = {
			if = {
				limit = { Commonwealth_democratic_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_democratic_alliance_member_dmod_research
					value = 0.05
					tooltip = research_speed_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_democratic_alliance_member_dmod_training_time
					value = 0.08
					tooltip = training_time_factor_tt
				}
			}
			else_if = {
				limit = { Commonwealth_communist_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_communist_alliance_member_dmod_max_eff
					value = 0.1 
					tooltip = production_factory_max_efficiency_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_communist_alliance_member_dmod_max_planning
					value = -0.08
					tooltip = max_planning_factor_tt
				}
			}
			else_if = {
				limit = { Commonwealth_monarchist_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_monarchist_alliance_member_dmod_prod_eff_gain
					value = 0.17
					tooltip = production_factory_efficiency_gain_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_monarchist_alliance_member_dmod_construction
					value = -0.07
					tooltip = production_speed_buildings_factor_tt
				}
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_second_institution

	icon = GFX_goal_generic_scientific_exchange

	dynamic = yes 
	
	prerequisite = { focus = Commonwealth_first_joint_institution  }

	x = 0
	y = 1
	relative_position_id = Commonwealth_first_joint_institution
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		is_faction_leader = yes 
	}

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		hidden_effect = {
			if = {
				limit = {Commonwealth_democratic_alliance_viable = yes }
				add_to_variable = { Commonwealth_democratic_alliance_leader_dmod_prod_eff_start = 0.2}
				add_to_variable = { Commonwealth_democratic_alliance_leader_dmod_war_support = -0.15 }
				add_to_variable = { Commonwealth_democratic_alliance_member_dmod_prod_eff_start = 0.15 }
				add_to_variable = { Commonwealth_democratic_alliance_member_dmod_war_support = -0.1 }
			}
			else_if = {
				limit = { Commonwealth_communist_alliance_viable = yes }
				add_to_variable = { Commonwealth_communist_alliance_leader_dmod_research = 0.075 }
				add_to_variable = { Commonwealth_communist_alliance_leader_dmod_resource_penalty = 0.1 }
				add_to_variable = { Commonwealth_communist_alliance_member_dmod_research = 0.05 }
				add_to_variable = { Commonwealth_communist_alliance_member_dmod_resource_penalty = 0.06 }
			}
			else_if = {
				limit = { Commonwealth_monarchist_alliance_viable = yes }
				add_to_variable = { Commonwealth_monarchist_alliance_leader_dmod_max_org = 0.2 } 
				add_to_variable = { Commonwealth_monarchist_alliance_leader_dmod_drift_defense = -0.15 } 
				add_to_variable = { Commonwealth_monarchist_alliance_member_dmod_max_org = 0.12 } 
				add_to_variable = { Commonwealth_monarchist_alliance_member_dmod_drift_defense = -0.1 } 
			}
		}
	}

	completion_reward_joint_originator = {
		custom_effect_tooltip = Commonwealth_modifies_leader_dmod_TT 
		effect_tooltip = {
			if = {
				limit = { Commonwealth_democratic_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_democratic_alliance_leader_dmod_prod_eff_start
					value = 0.2
					tooltip = production_factory_start_efficiency_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_democratic_alliance_leader_dmod_war_support
					value = -0.15
					tooltip = war_support_factor_tt
				}
			}
			else_if = {
				limit = { Commonwealth_communist_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_communist_alliance_leader_dmod_research
					value = 0.075
					tooltip = research_speed_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_communist_alliance_leader_dmod_resource_penalty
					value = 0.1
					tooltip = production_lack_of_resource_penalty_factor_tt
				}
			}
			else_if = {
				limit = { Commonwealth_monarchist_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_monarchist_alliance_leader_dmod_max_org
					value = 0.2
					tooltip = army_org_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_monarchist_alliance_leader_dmod_fascism
					value = -0.15
					tooltip = drift_defence_factor_tt
				}
			}
		}
	}

	completion_reward_joint_member = {
		custom_effect_tooltip = Commonwealth_modifies_member_dmod_TT 
		effect_tooltip = {
			if = {
				limit = { Commonwealth_democratic_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_democratic_alliance_member_dmod_prod_eff_start
					value = 0.15
					tooltip = production_factory_start_efficiency_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_democratic_alliance_member_dmod_war_support
					value = -0.1
					tooltip = war_support_factor_tt
				}
			}
			else_if = {
				limit = { Commonwealth_communist_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_communist_alliance_member_dmod_research
					value = 0.05
					tooltip = research_speed_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_communist_alliance_member_dmod_resource_penalty
					value = 0.06
					tooltip = production_lack_of_resource_penalty_factor_tt
				}
			}
			else_if = {
				limit = { Commonwealth_monarchist_alliance_viable = yes }
				add_to_variable = {
					var = Commonwealth_monarchist_alliance_member_dmod_max_org
					value = 0.12
					tooltip = army_org_factor_tt
				}
				add_to_variable = {
					var = Commonwealth_monarchist_alliance_member_dmod_fascism
					value = -0.1
					tooltip = drift_defence_factor_tt
				}
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_Commonwealth_army
	icon = GFX_goal_generic_army_doctrines

	dynamic = yes 
	
	prerequisite = { focus = Commonwealth_command }

	x = 1
	y = 1
	relative_position_id = Commonwealth_command
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_army_manpower = { size > 84999 } 
		num_divisions > 15
	}

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MANPOWER }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}


	completion_reward = {

	}

	completion_reward_joint_originator = {
		army_experience = 30
		#add_manpower = 8000
		add_ideas = { Commonwealth_joint_army_originator_ns_1 }
	}

	completion_reward_joint_member = {
		army_experience = 40
		add_manpower = 4000
		add_ideas = { Commonwealth_joint_army_member_ns_1 }
	}
}

joint_focus = {
	id = Commonwealth_joint_military_exercises
	
	icon = GFX_focus_generic_military_mission
	
	prerequisite = { focus = Commonwealth_Commonwealth_army }

	x = 0
	y = 1
	relative_position_id = Commonwealth_Commonwealth_army
	cost = 5

	available = {
		Commonwealth_basic_available_trigger = yes
		has_army_manpower = { size > 89999 } 
		num_divisions > 20
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}


	completion_reward = {
	}

	completion_reward_joint_originator = {
		army_experience = 25
		add_doctrine_cost_reduction = {
			name = Commonwealth_joint_military_exercises
			cost_reduction = 0.25
			uses = 2
			category = land_doctrine 
		}
	}

	completion_reward_joint_member = {
		army_experience = 40
		add_doctrine_cost_reduction = {
			name = Commonwealth_joint_military_exercises
			cost_reduction = 0.25
			uses = 1
			category = land_doctrine 
		}	
	}
}

joint_focus = {
	id = Commonwealth_Egyptian_Delta_Fortress
	
	icon = GFX_goal_generic_fortify_city
	
	prerequisite = { focus = Commonwealth_joint_military_exercises }
	x = 1
	y = 1
	relative_position_id = Commonwealth_joint_military_exercises
	cost = 5

	available = {

	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		if = {
			random_owned_state = {
				limit = {	
					is_controlled_by = ROOT
					free_building_slots = {
					 	building = arms_factory
					 	size > 1 
					 	include_locked = yes 
					} 
				}
				add_extra_state_shared_building_slots = 2 
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					bunker > 0
				}
				
				add_building_construction = {
					type = bunker 
					level = 3
					province = {
  						all_provinces = yes
  						limit_to_victory_point > 0
  						limit_to_coastal = yes
  					}
				}
			}
		}
	}

	completion_reward = {
		EGY = {
			random_owned_state = {
				limit = {	
					is_controlled_by = EGY
				}
				add_extra_state_shared_building_slots = 2 
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {	
					is_controlled_by = EGY
				}
				add_building_construction = {
					type = bunker 
					level = 3 
					province = {
  						all_provinces = yes
  						limit_to_victory_point > 0
  						limit_to_coastal = yes
  					}
				}
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_unified_recruitment
	
	icon = GFX_focus_chi_army_reform
	
	prerequisite = { focus = Commonwealth_joint_military_exercises }

	x = -1
	y = 1
	relative_position_id = Commonwealth_joint_military_exercises
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_army_manpower = { size > 89999 } 
		num_divisions > 20
	}

	search_filters = { FOCUS_FILTER_MANPOWER }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}



	completion_reward_joint_originator = {
		if = {
			limit = {
				has_idea = Commonwealth_joint_army_originator_ns_1
			}
			swap_ideas = {
				remove_idea = Commonwealth_joint_army_originator_ns_1
				add_idea = Commonwealth_joint_army_originator_ns_2
			}
		}
		else_if = {
			limit = {
				has_idea = Commonwealth_joint_army_member_ns_1 
			}
			swap_ideas = {
				remove_idea = Commonwealth_joint_army_member_ns_1
				add_idea = Commonwealth_joint_army_originator_ns_2
			}
		}
		else = {
			add_ideas = { Commonwealth_joint_army_originator_ns_2 } 
		}
	}

	completion_reward_joint_member = {
		if = {
			limit = {
				has_idea = Commonwealth_joint_army_originator_ns_1
			}
			swap_ideas = {
				remove_idea = Commonwealth_joint_army_originator_ns_1
				add_idea = Commonwealth_joint_army_member_ns_1
			}
		}
		else_if = {
			limit = {
				has_idea = Commonwealth_joint_army_member_ns_1 
			}
			swap_ideas = {
				remove_idea = Commonwealth_joint_army_member_ns_1
				add_idea = Commonwealth_joint_army_member_ns_2
			}
		}
		else = {
			add_ideas = { Commonwealth_joint_army_member_ns_2 } 
		}	
	}
}

joint_focus = {
	id = Commonwealth_mechanized_army
	
	icon = GFX_goal_generic_army_tanks
	
	prerequisite = { focus = Commonwealth_unified_recruitment }
	mutually_exclusive = { focus = Commonwealth_infantry_first }
	x = 0
	y = 1
	relative_position_id = Commonwealth_unified_recruitment
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_tech = motorised_infantry
		has_army_size = {
			size > 7
			type = motorized
		}

	}

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}


	completion_reward = {
		
	}

	completion_reward_joint_originator = {
		army_experience = 20
		add_tech_bonus = {
			name = Commonwealth_mechanized_army
			bonus = 0.25
			uses = 2
			category = cat_mechanized_equipment
		}
		add_tech_bonus = {
			name = Commonwealth_mechanized_army
			bonus = 0.20
			uses = 1
			category = armor
		}
	}

	completion_reward_joint_member = {
		army_experience = 20
		add_tech_bonus = {
			name = Commonwealth_mechanized_army
			bonus = 0.25
			uses = 1
			category = cat_mechanized_equipment
		}
		add_tech_bonus = {
			name = Commonwealth_mechanized_army
			bonus = 0.15
			uses = 1
			category = armor
		}
	}
}

joint_focus = {
	id = Commonwealth_infantry_first
	
	icon = GFX_goal_generic_allies_build_infantry
	
	prerequisite = { focus = Commonwealth_unified_recruitment }
	mutually_exclusive = { focus = Commonwealth_mechanized_army }
	x = 2
	y = 1
	relative_position_id = Commonwealth_unified_recruitment
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_army_size = {
			size > 30
			type = infantry
		}
		has_army_manpower = { size > 99999 } 
	}

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}


	completion_reward = {
	}

	completion_reward_joint_originator = {
		army_experience = 20
		add_tech_bonus = {
			name = Commonwealth_infantry_first
			bonus = 0.25
			uses = 2
			category = infantry_weapons
		}
	}

	completion_reward_joint_member = {
		army_experience = 20
		add_tech_bonus = {
			name = Commonwealth_infantry_first
			bonus = 0.20
			uses = 1
			category = infantry_weapons
		}
	}
}

joint_focus = {
	id = Commonwealth_Commonwealth_navy

	icon = GFX_goal_generic_build_navy

	dynamic = yes 
	
	prerequisite = { focus = Commonwealth_command }

	x = -3
	y = 1
	relative_position_id = Commonwealth_command
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_navy_size = {
			size > 24
		}
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		hidden_effect = {
			set_variable = { Commonwealth_navy_originator_dmod_naval_doctrine_cost_factor = 0 }
			set_variable = { Commonwealth_navy_member_dmod_naval_doctrine_cost_factor = 0 }
			set_variable = { Commonwealth_navy_originator_dmod_naval_repair_speed_factor = 0 }
			set_variable = { Commonwealth_navy_member_dmod_naval_repair_speed_factor = 0 }
			set_variable = { Commonwealth_navy_originator_dmod_navy_leader_cost_factor = 0 }
			set_variable = { Commonwealth_navy_member_dmod_navy_leader_cost_factor = 0 }
		}
	}

	completion_reward_joint_originator = {
		add_dynamic_modifier = { modifier = Commonwealth_navy_originator_dmod }
		add_command_power = 60
	}

	completion_reward_joint_member = {
		add_dynamic_modifier = { modifier = Commonwealth_navy_member_dmod }
		add_command_power = 40
	}
}

joint_focus = {
	id = Commonwealth_naval_exercises
	
	icon = GFX_goal_generic_occupy_states_coastal
	
	prerequisite = { focus = Commonwealth_Commonwealth_navy }

	x = 0
	y = 1
	relative_position_id = Commonwealth_Commonwealth_navy
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_navy_size = {
			size > 34
		}
		num_of_naval_factories > 17
	}

	search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		hidden_effect = {
			set_variable = {
				var = Commonwealth_navy_originator_dmod_naval_doctrine_cost_factor
				value = -0.1
			}
			set_variable = {
				var = Commonwealth_navy_member_dmod_naval_doctrine_cost_factor
				value = -0.075
			}
		}
	}

	completion_reward_joint_originator = {
		Commonwealth_navy_member_to_originator = yes
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_navy_dmod
		effect_tooltip = {
			set_variable = {
				var = Commonwealth_navy_originator_dmod_naval_doctrine_cost_factor
				value = -0.1
				tooltip = naval_doctrine_cost_factor_tt
			}
		}
		add_doctrine_cost_reduction = {
			name = Commonwealth_naval_exercises
			cost_reduction = 0.2
			uses = 3
			category = naval_doctrine 
		}
	}

	completion_reward_joint_member = {
		Commonwealth_navy_originator_to_member = yes
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_navy_dmod
		effect_tooltip = {
			set_variable = {
				var = Commonwealth_navy_member_dmod_naval_doctrine_cost_factor
				value = -0.075
				tooltip = naval_doctrine_cost_factor_tt
			}
		}
		add_doctrine_cost_reduction = {
			name = Commonwealth_naval_exercises
			cost_reduction = 0.10
			uses = 2
			category = naval_doctrine 
		}		 
	}
}

joint_focus = {
	id = Commonwealth_naval_officer_academy
	
	icon = GFX_focus_generic_military_academy
	
	prerequisite = { focus = Commonwealth_Commonwealth_navy }

	x = 2
	y = 1
	relative_position_id = Commonwealth_Commonwealth_navy
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_navy_size = {
			size > 19
		}
	}

	search_filters = { FOCUS_FILTER_NAVY_XP }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		navy_experience = 50 
	}
}

joint_focus = {
	id = Commonwealth_Guard_Strait_Of_Malacca
	
	icon = GFX_focus_generic_coastal_fort

	prerequisite = { focus = Commonwealth_naval_exercises }
	x = -1
	y = 1
	relative_position_id = Commonwealth_naval_exercises
	cost = 5

	

	available = {

	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		if = {
			random_owned_state = {
				limit = {	
					is_controlled_by = ROOT
					free_building_slots = {
					 	building = dockyard
					 	size > 1 
					 	include_locked = yes 
					} 
				}
				add_extra_state_shared_building_slots = 2 
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					naval_base > 0
					naval_base < 8
				}
				add_building_construction = {
					type = naval_base
					level = 3
					instant_build = yes
					province = {
  						all_provinces = yes
  						limit_to_coastal = yes
  						limit_to_naval_base = yes 
					}
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					coastal_bunker > 0
				}
				add_building_construction = {
					type = coastal_bunker 
					level = 3 
					province = {
  						all_provinces = yes
  						limit_to_victory_point > 0
  						limit_to_coastal = yes
  					}
				}
			}
		}
	}

	completion_reward = {
		MAL = {
			random_owned_state = {
				limit = {	
					is_controlled_by = MAL
				}
				add_extra_state_shared_building_slots = 2 
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = MAL
					naval_base < 8
				}
				add_building_construction = {
					type = naval_base
					level = 4
					instant_build = yes
					province = {
  						all_provinces = yes
  						limit_to_coastal = yes
  						limit_to_naval_base = yes 
					}
				}
			}
			every_owned_state = {
				limit = {	
					is_controlled_by = MAL
					coastal_bunker > 0
				}
				add_building_construction = {
					type = coastal_bunker 
					level = 3 
					province = {
  						all_provinces = yes
  						limit_to_victory_point > 0
  						limit_to_coastal = yes
  					}
				}
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_Guard_The_Suez
	
	icon = GFX_focus_generic_coastal_fort
	
	prerequisite = { focus = Commonwealth_naval_exercises }
	x = 1
	y = 1
	relative_position_id = Commonwealth_naval_exercises
	cost = 5

	

	available = {

	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		if = {
			random_owned_state = {
				limit = {	
					is_controlled_by = ROOT
					free_building_slots = {
					 	building = dockyard
					 	size > 1 
					 	include_locked = yes 
					} 
				}
				add_extra_state_shared_building_slots = 2 
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					naval_base > 0
					naval_base < 8
				}
				add_building_construction = {
					type = naval_base
					level = 4
					instant_build = yes
					province = {
  						all_provinces = yes
  						limit_to_coastal = yes
  						limit_to_naval_base = yes 
					}
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					coastal_bunker > 0
				}
				add_building_construction = {
					type = coastal_bunker 
					level = 3 
					province = {
  						all_provinces = yes
  						limit_to_victory_point > 0
  						limit_to_coastal = yes
  					}
				}
			}
		}
	}

	completion_reward = {
		EGY = {
			random_owned_state = {
				limit = {	
					is_controlled_by = EGY
				}
				add_extra_state_shared_building_slots = 2 
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = EGY
					naval_base < 8
				}
				add_building_construction = {
					type = naval_base
					level = 4
					instant_build = yes
					province = {
  						all_provinces = yes
  						limit_to_coastal = yes
  						limit_to_naval_base = yes 
					}
				}
			}
			every_owned_state = {
				limit = {	
					is_controlled_by = EGY
				}
				add_building_construction = {
					type = coastal_bunker 
					level = 3 
					province = {
  						all_provinces = yes
  						limit_to_victory_point > 0
  						limit_to_coastal = yes
  					}
				}
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_naval_research_institute
	
	icon = GFX_goal_generic_navy_doctrines_tactics
	
	prerequisite = { focus = Commonwealth_Guard_Strait_Of_Malacca focus = Commonwealth_Guard_The_Suez }

	x = 1
	y = 1
	relative_position_id = Commonwealth_Guard_Strait_Of_Malacca
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_naval_factories > 14
		num_researched_technologies > 25
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		add_tech_bonus = {
			name = Commonwealth_naval_research_institute
			bonus = 0.25
			uses = 3 
			category = naval_equipment
		}
	}

	completion_reward_joint_member = {
		add_tech_bonus = {
			name = Commonwealth_naval_research_institute
			bonus = 0.2
			uses = 2 
			category = naval_equipment
		}
	}
}

joint_focus = {
	id = Commonwealth_submarine_cooperation
	
	icon = GFX_goal_generic_navy_submarine
	
	prerequisite = { focus = Commonwealth_naval_research_institute }
	mutually_exclusive = { focus = Commonwealth_carrier_effort focus = Commonwealth_amphibious_forces }
	x = 0
	y = 1
	relative_position_id = Commonwealth_naval_research_institute
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_navy_size = {
			size > 39
		}
		num_of_naval_factories > 19
	}

	search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		add_ideas = Commonwealth_joint_submarines_effort
		navy_experience = 50
		add_tech_bonus = {
			name = Commonwealth_submarine_cooperation
			bonus = 0.3 
			uses = 1
			category = ss_tech
		}
		add_tech_bonus = {
			name = Commonwealth_submarine_cooperation 
			ahead_reduction = 1
			uses = 1
			category = naval_equipment
		}
		random_owned_controlled_state = {
			limit = {
				is_coastal = yes
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes 
				}
			}	
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
			
		}
	}

	completion_reward_joint_member = {
		add_ideas = Commonwealth_joint_submarines_effort
		navy_experience = 20
		add_tech_bonus = {
			name = Commonwealth_submarine_cooperation
			bonus = 0.25 
			uses = 1 
			category = ss_tech
		}
		add_tech_bonus = {
			name = Commonwealth_submarine_cooperation 
			ahead_reduction = 1
			uses = 1
			category = naval_equipment
		}		
	}
}

joint_focus = {
	id = Commonwealth_amphibious_forces
	
	icon = GFX_goal_generic_amphibious_assault
	
	prerequisite = { focus = Commonwealth_naval_officer_academy }
	prerequisite = { focus = Commonwealth_joint_military_exercises }
	prerequisite = { focus = Commonwealth_naval_research_institute }
	mutually_exclusive = { focus = Commonwealth_carrier_effort focus = Commonwealth_submarine_cooperation }

	x = 0
	y = 3
	relative_position_id = Commonwealth_naval_officer_academy
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes	
		has_navy_size = {
			size > 29
		}
		num_of_naval_factories > 17
	}

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		navy_experience = 25
		army_experience = 25
		add_ideas = Commonwealth_joint_amphibious_effort
		add_tech_bonus = {
			name = Commonwealth_amphibious_forces 
			bonus = 0.25
			uses = 1 
			category = tp_tech
		}
		add_tech_bonus = {
			name = Commonwealth_amphibious_forces
			bonus = 0.3 
			uses = 1
			category = marine_tech
		}
		add_tech_bonus = {
			name = Commonwealth_amphibious_forces
			bonus = 0.25
			uses = 1
			technology = amphibious_mechanized_infantry
		}
		
	}

	completion_reward_joint_member = {	
		add_ideas = Commonwealth_joint_amphibious_effort
		add_tech_bonus = {
			name = Commonwealth_amphibious_forces 
			bonus = 0.2
			uses = 1 
			category = tp_tech
		}
		add_tech_bonus = {
			name = Commonwealth_amphibious_forces
			bonus = 0.2 
			uses = 1 
			category = marine_tech
		}
		add_tech_bonus = {
			name = Commonwealth_amphibious_forces
			bonus = 0.25
			uses = 1
			technology = amphibious_mechanized_infantry
		}
	}
}

joint_focus = {
	id = Commonwealth_Commonwealth_airforce
	
	icon = GFX_goal_generic_build_airforce

	dynamic = yes 
	
	prerequisite = { focus = Commonwealth_command }

	x = -5
	y = 0
	relative_position_id = Commonwealth_Commonwealth_navy
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_deployed_air_force_size = {
			size > 199
		}
	}

	search_filters = {}

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		hidden_effect = {
			set_variable = { Commonwealth_airforces_originator_dmod_cas_factor = 0 }
			set_variable = { Commonwealth_airforces_originator_dmod_strat_bombing_factor = 0 }
			set_variable = { Commonwealth_airforces_originator_dmod_intercept_efficiency = 0 }
			set_variable = { Commonwealth_airforces_originator_dmod_superiority_efficiency = 0 }
			set_variable = { Commonwealth_airforces_originator_dmod_range_factor = 0 }
			set_variable = { Commonwealth_airforces_originator_dmod_air_base_production = 0 }
			set_variable = { Commonwealth_airforces_member_dmod_cas_factor = 0 }
			set_variable = { Commonwealth_airforces_member_dmod_strat_bombing_factor = 0 }
			set_variable = { Commonwealth_airforces_member_dmod_intercept_efficiency = 0 }
			set_variable = { Commonwealth_airforces_member_dmod_superiority_efficiency = 0 }
			set_variable = { Commonwealth_airforces_member_dmod_range_factor = 0 }
			set_variable = { Commonwealth_airforces_member_dmod_air_base_production = 0 }	
		}
	}

	completion_reward_joint_originator = {
		add_dynamic_modifier = {
			modifier = Commonwealth_airforces_originator_dmod
		}
	}

	completion_reward_joint_member = { 
		add_dynamic_modifier = {
			modifier = Commonwealth_airforces_member_dmod
		}
	}
}

joint_focus = {
	id = Commonwealth_air_exercises
	icon = GFX_focus_generic_cas_aircraft
	prerequisite = { focus = Commonwealth_Commonwealth_airforce }

	x = 0
	y = 1
	relative_position_id = Commonwealth_Commonwealth_airforce
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_deployed_air_force_size = {
			size > 349
		}
	}

	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		air_experience = 25
		add_doctrine_cost_reduction = {
			name = Commonwealth_air_exercises
			cost_reduction = 0.25
			uses = 2
			category = air_doctrine 
		}	
	}

	completion_reward_joint_member = {
		air_experience = 50
		add_doctrine_cost_reduction = {
			name = Commonwealth_air_exercises
			cost_reduction = 0.15
			uses = 2
			category = air_doctrine 
		}	
	}
}

joint_focus = {
	id = Commonwealth_North_African_Air_Control
	
	icon = GFX_focus_generic_air_bases
	
	prerequisite = { focus = Commonwealth_air_exercises }
	mutually_exclusive = { focus = Commonwealth_Pacific_Air_Control focus = Commonwealth_Indian_Air }

	x = 0
	y = 1
	relative_position_id = Commonwealth_air_exercises
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_tech = decimetric_radar
		has_tech = interwar_antiair
		air_base > 9
		any_owned_state = {
			air_base > 3 
		}
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
	 	every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			free_building_slots = {
	 				building = radar_station
	 				size > 1 
	 				include_locked = no 
	 			}
	 		}
	 		random_select_amount = 3
	 		add_building_construction = {
	 			type = radar_station
	 			level = 1
	 			instant_build = yes
	 		}
	 	}
	 	every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			air_base > 3 
	 			free_building_slots = {
	 				building = air_base
	 				size > 2 
	 				include_locked = no 
	 			}
	 		}
	 		random_select_amount = 3
	 		add_building_construction = {
	 			type = air_base
	 			level = 2
	 			instant_build = yes
	 		}
	 	}
	 	every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			free_building_slots = {
	 				building = anti_air_building
	 				size > 0
	 				include_locked = no 
	 			}
	 		}
	 		random_select_amount = 3
	 		add_building_construction = {
	 			type = anti_air_building
	 			level = 1
	 			instant_build = yes
	 		}
	 	}
	}

	completion_reward = {
		EGY = {
			every_owned_state = {
				limit = {
					is_controlled_by = EGY
					free_building_slots = {
						building = radar_station
						size > 0 
						include_locked = no 
					}
				}
				random_select_amount = 2
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = EGY
					free_building_slots = {
						building = air_base
						size > 1 
						include_locked = no 
					}
				}
				random_select_amount = 2
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = EGY
					free_building_slots = {
						building = anti_air_building
						size > 0
						include_locked = no 
					}
				}
				random_select_amount = 3
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
		}		
	}
}

joint_focus = {
	id = Commonwealth_Pacific_Air_Control
	
	icon = GFX_focus_generic_air_bases
	
	prerequisite = { focus = Commonwealth_air_exercises }
	mutually_exclusive = { focus = Commonwealth_North_African_Air_Control focus = Commonwealth_Indian_Air }

	x = -2
	y = 1
	relative_position_id = Commonwealth_air_exercises
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_tech = decimetric_radar
		has_tech = interwar_antiair
		air_base > 9
		any_owned_state = {
			air_base > 3 
		}
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
	 	every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			free_building_slots = {
	 				building = radar_station
	 				size > 1 
	 				include_locked = no 
	 			}
	 		}
	 		random_select_amount = 3
	 		add_building_construction = {
	 			type = radar_station
	 			level = 1
	 			instant_build = yes
	 		}
	 	}
	 	every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			air_base > 3 
	 			free_building_slots = {
	 				building = air_base
	 				size > 2 
	 				include_locked = no 
	 			}
	 		}
	 		random_select_amount = 3
	 		add_building_construction = {
	 			type = air_base
	 			level = 2
	 			instant_build = yes
	 		}
	 	}
	 	every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			free_building_slots = {
	 				building = anti_air_building
	 				size > 0
	 				include_locked = no 
	 			}
	 		}
	 		random_select_amount = 3
	 		add_building_construction = {
	 			type = anti_air_building
	 			level = 1
	 			instant_build = yes
	 		}
	 	}
	}

	completion_reward_joint_member = {
		if = {
			limit = {
				any_owned_state = {
					state = 520
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = radar_station
						size > 0 
						include_locked = no 
					}
				}
				random_select_amount = 2
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					air_base > 2 
					free_building_slots = {
						building = air_base
						size > 1 
						include_locked = no 
					}
				}
				random_select_amount = 2
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = anti_air_building
						size > 0
						include_locked = no 
					}
				}
				random_select_amount = 3
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
		}		
	}
}

joint_focus = {
	id = Commonwealth_Indian_Air
	
	icon = GFX_focus_generic_air_bases
	
	prerequisite = { focus = Commonwealth_air_exercises }
	mutually_exclusive = { focus = Commonwealth_North_African_Air_Control focus = Commonwealth_Pacific_Air_Control }

	x = 2
	y = 1
	relative_position_id = Commonwealth_air_exercises
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_tech = decimetric_radar
		has_tech = interwar_antiair
		air_base > 9
		any_owned_state = {
			air_base > 3 
		}
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
	 	every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			free_building_slots = {
	 				building = radar_station
	 				size > 1 
	 				include_locked = no 
	 			}
	 		}
	 		random_select_amount = 3
	 		add_building_construction = {
	 			type = radar_station
	 			level = 1
	 			instant_build = yes
	 		}
	 	}
	 	every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			air_base > 3 
	 			free_building_slots = {
	 				building = air_base
	 				size > 2 
	 				include_locked = no 
	 			}
	 		}
	 		random_select_amount = 3
	 		add_building_construction = {
	 			type = air_base
	 			level = 2
	 			instant_build = yes
	 		}
	 	}
	 	every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			free_building_slots = {
	 				building = anti_air_building
	 				size > 0
	 				include_locked = no 
	 			}
	 		}
	 		random_select_amount = 3
	 		add_building_construction = {
	 			type = anti_air_building
	 			level = 1
	 			instant_build = yes
	 		}
	 	}
	}

	completion_reward_joint_member = {
		if = {
			limit = {
				any_owned_state = {
					state = 520
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = radar_station
						size > 0 
						include_locked = no 
					}
				}
				random_select_amount = 2
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					air_base > 2 
					free_building_slots = {
						building = air_base
						size > 1 
						include_locked = no 
					}
				}
				random_select_amount = 2
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = anti_air_building
						size > 0
						include_locked = no 
					}
				}
				random_select_amount = 3
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
		}		
	}
}

joint_focus = {
	id = Commonwealth_air_production
	
	icon = GFX_focus_generic_aircraft_production
	
	prerequisite = { focus = Commonwealth_North_African_Air_Control focus = Commonwealth_Pacific_Air_Control focus = Commonwealth_Indian_Air }

	x = 0
	y = 1
	relative_position_id = Commonwealth_North_African_Air_Control
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_deployed_air_force_size = {
			size > 299
		}
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		if = {
			limit = {
				has_dynamic_modifier = { modifier = Commonwealth_airforces_member_dmod }
			}
			remove_dynamic_modifier = {
			 	modifier = Commonwealth_airforces_member_dmod
			}
			add_dynamic_modifier = {
				modifier = Commonwealth_airforces_originator_dmod
			}
		}
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_airforce_dmod
		custom_effect_tooltip = Commonwealth_airforces_dmod_production_cost_originator_TT
		hidden_effect = {
			add_ideas = {
				Commonwealth_hidden_airforces_originator_dmod
			}
		}
	}

	completion_reward_joint_member = {
		if = {
			limit = {
				has_dynamic_modifier = { modifier = Commonwealth_airforces_originator_dmod } 
			}
			remove_dynamic_modifier = {	modifier = Commonwealth_airforces_originator_dmod	}
			add_dynamic_modifier = { modifier = Commonwealth_airforces_member_dmod }
		} 
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_airforce_dmod
		custom_effect_tooltip = Commonwealth_airforces_dmod_production_cost_member_TT
		hidden_effect = { add_ideas = Commonwealth_hidden_airforces_member_dmod }
	}
}

joint_focus = {
	id = Commonwealth_naval_aircraft
	icon = GFX_goal_generic_air_naval_bomber
	prerequisite = { focus = Commonwealth_Commonwealth_airforce }
	prerequisite = { focus = Commonwealth_Commonwealth_navy }

	x = 3
	y = 1
	relative_position_id = Commonwealth_Commonwealth_airforce
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_airforce_dmod
		custom_effect_tooltip = Commonwealth_airforces_dmod_naval_originator_TT
		hidden_effect ={
			add_ideas = {
				Commonwealth_hidden_airforces_naval_originator_dmod
			}
		}
	}

	completion_reward_joint_member = {
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_airforce_dmod
		custom_effect_tooltip = Commonwealth_airforces_dmod_naval_member_TT
		hidden_effect = {
			add_ideas = { Commonwealth_hidden_airforces_naval_member_dmod }
		} 
	}
}



joint_focus = {
	id = Commonwealth_bomber_command
	
	icon = GFX_goal_generic_air_bomber
	
	prerequisite = { focus = Commonwealth_air_production }

	mutually_exclusive = { focus = Commonwealth_fighter_command }

	x = -1
	y = 1
	relative_position_id = Commonwealth_air_production
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		OR = {
			has_deployed_air_force_size = {
				size > 249
				type = cas
			}
			has_deployed_air_force_size = {
				size > 249
				type = tactical_bomber
			}
			has_deployed_air_force_size = {
				size > 249
				type = strategic_bomber
			}
		}
	}

	search_filters = {} 

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		hidden_effect = {
			add_to_variable = {
				var = Commonwealth_airforces_originator_dmod_cas_factor
				value = 0.15
			}
			add_to_variable = {
				var = Commonwealth_airforces_originator_dmod_strat_bombing_factor
				value = 0.15
			}
			add_to_variable = {
				var = Commonwealth_airforces_member_dmod_cas_factor
				value = 0.10
				tooltip = air_cas_present_factor_tt
			}
			add_to_variable = {
				var = Commonwealth_airforces_member_dmod_strat_bombing_factor
				value = 0.10
				tooltip = air_strategic_bomber_bombing_factor_tt
			}
		}
	}

	completion_reward_joint_originator = {
		Commonwealth_airforce_member_to_originator = yes 
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_airforce_dmod		
		effect_tooltip = {
			add_to_variable= {
				var = Commonwealth_airforces_originator_dmod_cas_factor
				value = 0.15
				tooltip = air_cas_present_factor_tt
			}
			add_to_variable = {
				var = Commonwealth_airforces_originator_dmod_strat_bombing_factor
				value = 0.15
				tooltip = air_strategic_bomber_bombing_factor_tt
			}
		}
	}

	completion_reward_joint_member = {  
		Commonwealth_airforce_originator_to_member = yes
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_airforce_dmod		
		effect_tooltip = {
			set_variable = {
				var = Commonwealth_airforces_member_dmod_cas_factor
				value = 0.10
				tooltip = air_cas_present_factor_tt
			}
			add_to_variable = {
				var = Commonwealth_airforces_member_dmod_strat_bombing_factor
				value = 0.10
				tooltip = air_strategic_bomber_bombing_factor_tt
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_fighter_command
	icon = GFX_goal_generic_air_fighter2
	prerequisite = { focus = Commonwealth_air_production }

	mutually_exclusive = { focus = Commonwealth_bomber_command }

	x = 1
	y = 1
	relative_position_id = Commonwealth_air_production
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		OR = {
			has_deployed_air_force_size = {
				size > 349
				type = heavy_fighter
			}
			has_deployed_air_force_size = {
				size > 349
				type = fighter
			}
		}
	}

	search_filters = {}

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		hidden_effect = {
			add_to_variable = {
				var = Commonwealth_airforces_originator_dmod_intercept_efficiency
				value = 0.15
			}
			add_to_variable = {
				var = Commonwealth_airforces_originator_dmod_superiority_efficiency
				value = 0.15
			}
			add_to_variable = {
				var = Commonwealth_airforces_member_dmod_intercept_efficiency
				value = 0.10
			}
			add_to_variable = {
				var = Commonwealth_airforces_member_dmod_superiority_efficiency
				value = 0.10
			}
		}
	}
	completion_reward_joint_originator = {
		Commonwealth_airforce_member_to_originator = yes 
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_airforce_dmod		
		effect_tooltip = {
			add_to_variable = {
				var = Commonwealth_airforces_originator_dmod_intercept_efficiency
				value = 0.15
				tooltip = air_intercept_efficiency_tt
			}
			add_to_variable = {
				var = Commonwealth_airforces_originator_dmod_superiority_efficiency
				value = 0.15
				tooltip = air_superiority_efficiency_tt
			}
		}

	}

	completion_reward_joint_member = {  
		Commonwealth_airforce_originator_to_member = yes 
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_airforce_dmod		
		effect_tooltip = {
			add_to_variable = {
				var = Commonwealth_airforces_member_dmod_intercept_efficiency
				value = 0.10
				tooltip = air_intercept_efficiency_tt
			}
			add_to_variable = {
				var = Commonwealth_airforces_member_dmod_superiority_efficiency
				value = 0.10
				tooltip = air_superiority_efficiency_tt
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_carrier_effort
	
	icon = GFX_goal_generic_navy_carrier
	
	prerequisite = { focus = Commonwealth_naval_aircraft }
	prerequisite = { focus = Commonwealth_naval_research_institute }
	mutually_exclusive = { focus = Commonwealth_submarine_cooperation focus = Commonwealth_amphibious_forces }

	x = 0
	y = 3
	relative_position_id = Commonwealth_naval_aircraft
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_navy_size = {
			size > 0
			type = carrier
		}
		has_deployed_air_force_size = {
			size > 399
		}
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}
	completion_reward_joint_originator = {
		navy_experience = 50
		add_ideas = Commonwealth_joint_carrier_effort
		every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			free_building_slots = {
	 				building = dockyard
	 				size > 0
	 				include_locked = yes 
	 			}
	 		}
	 		random_select_amount = 2
	 		add_extra_state_shared_building_slots = 1 
	 		add_building_construction = {
	 			type = dockyard
	 			level = 1
	 			instant_build = yes
	 		}
	 	}
	 	add_tech_bonus = {
	 		name = Commonwealth_carrier_effort
	 		bonus = 0.25
	 		uses = 1 
	 		category = cv_tech
	 	}
	}

	completion_reward_joint_member = {
		navy_experience = 40
		add_ideas = Commonwealth_joint_carrier_effort
		random_owned_controlled_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			free_building_slots = {
	 				building = dockyard
	 				size > 0
	 				include_locked = yes 
	 			}
	 		}
	 		add_extra_state_shared_building_slots = 1  
	 		add_building_construction = {
	 			type = dockyard
	 			level = 1
	 			instant_build = yes
	 		}
	 	}
	 	add_tech_bonus = {
	 		name = Commonwealth_carrier_effort
	 		bonus = 0.25 
	 		uses = 1 
	 		category = cv_tech
	 	}
	}
}

joint_focus = {
	id = Commonwealth_Commonwealth_research

	icon = GFX_focus_research2

	dynamic = yes 
	
	prerequisite = { focus = Commonwealth_form_joint_alliance }

	x = 6
	y = 1
	relative_position_id = Commonwealth_form_joint_alliance
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_researched_technologies > 25

	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = { 
		add_to_tech_sharing_group = commonwealth_research
	}

	completion_reward_joint_member = {
		add_to_tech_sharing_group = commonwealth_research
	}
}

joint_focus = {
	id = Commonwealth_materiel_design
	
	icon = GFX_focus_generic_reorient_production
	
	prerequisite = { focus = Commonwealth_Commonwealth_research }

	x = 1
	y = 1
	relative_position_id = Commonwealth_Commonwealth_research
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_researched_technologies > 50
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		add_tech_bonus = {
			name = Commonwealth_materiel_design
			bonus = 1
			uses = 2 
			category = infantry_weapons
		}
	}

	completion_reward_joint_member = {	
		add_tech_bonus = {
			name = Commonwealth_materiel_design
			bonus = 0.45
			uses = 2 
			category = infantry_weapons
		}
	}
}

joint_focus = {
	id = Commonwealth_Commonwealth_construction_developments
	
	icon = GFX_goal_generic_construction
	
	prerequisite = { focus = Commonwealth_Commonwealth_research }

	x = -1
	y = 1
	relative_position_id = Commonwealth_Commonwealth_research
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_researched_technologies > 30
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		add_tech_bonus = {
			name = Commonwealth_Commonwealth_construction_developments
			bonus = 1 
			uses = 2 
			category = construction_tech
		}
	}

	completion_reward_joint_member = {
		add_tech_bonus = {
			name = Commonwealth_Commonwealth_construction_developments
			bonus = 0.75 
			uses = 1 
			category = construction_tech
		}	
	}
}

joint_focus = {
	id = Commonwealth_Commonwealth_industry

	icon = GFX_goal_generic_construct_civ_factory

	dynamic = yes 
	
	prerequisite = { focus = Commonwealth_Commonwealth_construction_developments }

	x = 0
	y = 1
	relative_position_id = Commonwealth_Commonwealth_construction_developments
	cost = 10

	

	available = {
		num_of_civilian_factories > 15	
		Commonwealth_basic_available_trigger = yes
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}


	completion_reward = {
		
	}

	completion_reward_joint_originator = {
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT 
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes 
				}
				NOT = { state = 914 } # Not even here, Jan Mayen 
			}
			add_extra_state_shared_building_slots = 1
			random_select_amount = 3
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}

	completion_reward_joint_member = {
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT 
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes 
				}
				NOT = { state = 914 } # Not even here, Jan Mayen 
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_civilian_contributions
	
	icon = GFX_goal_generic_construction
	
	prerequisite = { focus = Commonwealth_Commonwealth_industry }

	x = -2
	y = 1

	relative_position_id = Commonwealth_Commonwealth_industry

	cost = 5


	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_civilian_factories > 20
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		add_timed_idea = {
			idea = Commonwealth_development_fund_originator_ns
			days = 365
		}
	}

	completion_reward_joint_member = {
		add_timed_idea = {
			idea = Commonwealth_development_fund_member_ns
			days = 365
		}
	}
}

joint_focus = {
	id = Commonwealth_fill_the_infrastructure_gaps
	
	icon = GFX_goal_generic_construct_infrastructure
	
	prerequisite = { focus = Commonwealth_civilian_contributions }
	mutually_exclusive = { focus = Commonwealth_develop_resources }

	x = -1
	y = 1
	relative_position_id = Commonwealth_civilian_contributions
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_civilian_factories > 20
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT 
				infrastructure < 3 
				NOT = { state = 914 } # Not Jan Mayen 
			}
			random_select_amount = 2
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
	}

	completion_reward_joint_member = {
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT 
				infrastructure < 3 
				NOT = { state = 914 } # Not Jan Mayen - This joke better be worth it. 
			}
			random_select_amount = 2
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_develop_resources
	
	icon = GFX_focus_generic_mining_industry
	
	prerequisite = { focus = Commonwealth_civilian_contributions }
	mutually_exclusive = { focus = Commonwealth_fill_the_infrastructure_gaps }

	x = 1
	y = 1
	relative_position_id = Commonwealth_civilian_contributions
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_civilian_factories > 25
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		if = {
			limit = {
				any_owned_state = {
					is_controlled_by = ROOT
					has_resources_amount = {
						resource = oil
						amount > 0  
					}
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					has_resources_amount = {
						resource = oil
						amount > 0  
					}
				}
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
		else = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					state_has_any_resource = no
				}
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
		every_owned_state = {
			limit = { 
				is_controlled_by = ROOT 
				state_has_any_resource = yes 
			}
			add_dynamic_modifier = {
				modifier = Commonwealth_efficient_resource_extraction
			}
		}
		
	}

	completion_reward_joint_member = {
		if = {
			limit = {
				any_owned_state = {
					is_controlled_by = ROOT
					has_resources_amount = {
						resource = oil
						amount > 0  
					}
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					has_resources_amount = {
						resource = oil
						amount > 0  
					}
				}
				add_resource = {
					type = oil
					amount = 2
				}
			}
		}
		else = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					state_has_any_resource = no
				}
				add_resource = {
					type = oil
					amount = 2
				}
			}
		}
		every_owned_state = {
			limit = { 
				is_controlled_by = ROOT 
				state_has_any_resource = yes 
			}
			add_dynamic_modifier = {
				modifier = Commonwealth_efficient_resource_extraction
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_naval_construction
	
	icon = GFX_goal_generic_construct_naval_dockyard
	
	prerequisite = { focus = Commonwealth_fill_the_infrastructure_gaps focus = Commonwealth_develop_resources }
	mutually_exclusive = { focus = Commonwealth_nuclear_production }
	x = 1
	y = 1
	relative_position_id = Commonwealth_fill_the_infrastructure_gaps
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_naval_factories > 15
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			is_coastal = yes 
	 			free_building_slots = {
	 				building = dockyard
	 				size > 1
	 				include_locked = yes 
	 			}
	 		}
	 		random_select_amount = 3
	 		add_extra_state_shared_building_slots = 1
	 		add_building_construction = {
	 			type = dockyard
	 			level = 1
	 			instant_build = yes
	 		}
	 	}		
	}

	completion_reward_joint_member = {
		every_owned_state = {
	 		limit = {
	 			is_controlled_by = ROOT
	 			is_coastal = yes 
	 			free_building_slots = {
	 				building = dockyard
	 				size > 0
	 				include_locked = yes 
	 			}
	 		}
	 		random_select_amount = 2
	 		add_extra_state_shared_building_slots = 1 
	 		add_building_construction = {
	 			type = dockyard
	 			level = 1
	 			instant_build = yes
	 		}
	 	}
	}
}

joint_focus = {
	id = Commonwealth_research_investments 
	
	icon = GFX_focus_research2
	
	prerequisite = { focus = Commonwealth_materiel_design }

	x = 0
	y = 1
	relative_position_id = Commonwealth_materiel_design
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		modify_tech_sharing_bonus = {
			id = commonwealth_research
			bonus = 0.1
		}
	}
	
	completion_reward_joint_member = {
		if = { limit = { amount_research_slots < 5 } add_research_slot = 1 }
	}
}

joint_focus = {
	id = Commonwealth_nuclear_research
	
	icon = GFX_focus_wonderweapons
	
	prerequisite = { focus = Commonwealth_Commonwealth_industry }
	mutually_exclusive = { focus = Commonwealth_Commonwealth_rocketry }

	x = 0
	y = 1
	relative_position_id = Commonwealth_Commonwealth_industry
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_researched_technologies > 50
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		add_tech_bonus = {
			name = Commonwealth_nuclear_research
			bonus = 1.5
			uses = 1
			category = nuclear
		}
	}

	completion_reward_joint_member = {
		add_tech_bonus = {
			name = Commonwealth_nuclear_research
			bonus = 0.5
			uses = 1
			category = nuclear
		}
	}
}

joint_focus = {
	id = Commonwealth_nuclear_production
	
	icon = GFX_goal_generic_secret_weapon
	
	#prerequisite = { focus = Commonwealth_develop_resources }
	prerequisite = { focus = Commonwealth_fill_the_infrastructure_gaps focus = Commonwealth_develop_resources }
	prerequisite = { focus = Commonwealth_nuclear_research }
	mutually_exclusive = { focus = Commonwealth_naval_construction }
	x = 0
	y = 2
	relative_position_id = Commonwealth_nuclear_research
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_tech = nuclear_reactor
		num_researched_technologies > 55
		num_of_civilian_factories > 25
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT 
				free_building_slots = {
	 				building = arms_factory
	 				size > 0
	 				include_locked = yes 
	 			}
			}
			random_select_amount = 2
	 		add_extra_state_shared_building_slots = 1 
	 		add_building_construction = {
	 			type = nuclear_reactor
	 			level = 1
	 			instant_build = yes
	 		}			
		}
	}

	completion_reward_joint_member = {
		IF = {
			limit = {
				has_tech = nuclear_reactor
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT 
					free_building_slots = { 
		 				building = nuclear_reactor
		 				size > 0
		 				include_locked = yes 
		 			}
		 		}
		 		add_extra_state_shared_building_slots = 1 
		 		add_building_construction = {
		 			type = nuclear_reactor
		 			level = 1
		 			instant_build = yes
		 		}	
			}
	 				
		}
	}
}



joint_focus = {
	id = Commonwealth_Commonwealth_rocketry
	
	icon = GFX_focus_rocketry
	
	prerequisite = { focus = Commonwealth_research_investments }
	prerequisite = { focus = Commonwealth_Commonwealth_military_industry }
	mutually_exclusive = { focus = Commonwealth_nuclear_research }
	x = 0
	y = 1
	relative_position_id = Commonwealth_research_investments
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_researched_technologies > 55
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		add_tech_bonus = {
			name = Commonwealth_Commonwealth_rocketry
			bonus = 0.25
			uses = 2 
			category = rocketry
		}
	}

	completion_reward_joint_member = {
		add_tech_bonus = {
			name = Commonwealth_Commonwealth_rocketry
			bonus = 0.25
			uses = 1 
			category = rocketry
		}
	}
}

joint_focus = {
	id = Commonwealth_jet_engines
	
	icon = GFX_focus_generic_jet_planes 

	dynamic = yes 
	prerequisite = { focus = Commonwealth_Commonwealth_rocketry }
	prerequisite = { focus = Commonwealth_military_industry_hub focus = Commonwealth_ad_hoc_military_industry }
	mutually_exclusive = { focus = Commonwealth_machine_tools_research focus = Commonwealth_equipment_conversion_focus }
	x = 0
	y = 2
	relative_position_id = Commonwealth_Commonwealth_rocketry
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		has_deployed_air_force_size = {
			size > 999
		}
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		add_tech_bonus = {
			name = Commonwealth_jet_engines
			bonus = 2
			ahead_reduction = 2
			uses = 2
			category = jet_technology 
		}
	}

	completion_reward_joint_member = {
		add_tech_bonus = {
			name = Commonwealth_jet_engines
			bonus = 1
			ahead_reduction = 1
			uses = 1
			category = jet_technology 
		}
	}
}

joint_focus = {
	id = Commonwealth_Commonwealth_military_industry

	icon = GFX_goal_generic_construct_mil_factory

	dynamic = yes
	
	prerequisite = { focus = Commonwealth_materiel_design }

	x = 2
	y = 1 
	relative_position_id = Commonwealth_materiel_design
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_military_factories > 10
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		set_variable = { Commonwealth_mil_industry_originator_production_speed_arms_factory_factor = 0 }
		set_variable = { Commonwealth_mil_industry_originator_dmod_efficiency_gain_factor = 0 }
		set_variable = { Commonwealth_mil_industry_originator_dmod_equipment_conversion_speed = 0 }
		set_variable = { Commonwealth_mil_industry_originator_dmod_start_efficiency_factor = 0 }
		set_variable = { Commonwealth_mil_industry_member_dmod_start_efficiency_factor = 0 }
	}

	completion_reward_joint_originator = {
		add_dynamic_modifier = {
			modifier = Commonwealth_mil_industry_originator_dmod
		}
		random_owned_state = {
			limit = {
				is_controlled_by = ROOT 
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes  
				}
			}
			add_extra_state_shared_building_slots = 2 
			add_building_construction = {
				type = arms_factory
				level = 2 
				instant_build = yes 
			}
		}
	}

	completion_reward_joint_member = {
		add_dynamic_modifier = {
			modifier = Commonwealth_mil_industry_member_dmod
		}
		random_owned_state = {
			limit = {
				is_controlled_by = ROOT 
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes  
				}
			}
			add_extra_state_shared_building_slots = 1 
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes 
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_standarized_parts
	
	icon = GFX_goal_generic_small_arms
	
	prerequisite = { focus = Commonwealth_Commonwealth_military_industry }

	x = 0
	y = 1
	relative_position_id = Commonwealth_Commonwealth_military_industry
	cost = 5

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_military_factories > 20
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		hidden_effect = {
			add_to_variable = {
				var = Commonwealth_mil_industry_originator_dmod_efficiency_gain_factor
				value = 0.2
			}
			add_to_variable = {
				var = Commonwealth_mil_industry_member_dmod_efficiency_gain_factor
				value = 0.1
			}
		}
	}

	completion_reward_joint_originator = {
		Commonwealth_mil_industry_member_to_originator = yes 
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_military_industry_dmod
		effect_tooltip = {
			add_to_variable = {
				var = Commonwealth_mil_industry_originator_dmod_efficiency_gain_factor
				value = 0.10
				tooltip = production_factory_efficiency_gain_factor_tt
			}
		}
	}

	completion_reward_joint_member = {
		Commonwealth_mil_industry_originator_to_member = yes 
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_military_industry_dmod
		effect_tooltip = {
			add_to_variable = {
				var = Commonwealth_mil_industry_member_dmod_efficiency_gain_factor
				value = 0.15
				tooltip = production_factory_efficiency_gain_factor_tt
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_military_industry_hub
	
	icon = GFX_goal_generic_construct_mil_factory
	
	prerequisite = { focus = Commonwealth_standarized_parts }
	mutually_exclusive = { focus = Commonwealth_ad_hoc_military_industry }
	x = -1
	y = 1
	relative_position_id = Commonwealth_standarized_parts
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_military_factories > 15
		any_owned_state = {
			arms_factory > 3
		}
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
	}

	completion_reward_joint_originator = {
		if = {
			limit = {
				NOT = {
					any_owned_state = {
						arms_factory > 3
					}		
				}
			}
			effect_tooltip = {
				capital_scope = {
					add_extra_state_shared_building_slots = 3
					add_dynamic_modifier = {
						modifier = Commonwealth_military_industry_hub_leader_dmod
						scope = ROOT
					}
				}
			}
		}
		random_owned_state = {
			limit = {
				is_controlled_by = ROOT
				arms_factory > 3
			}
			add_extra_state_shared_building_slots = 3
			add_dynamic_modifier = {
				modifier = Commonwealth_military_industry_hub_leader_dmod
				scope = ROOT
			}
		}
	}

	completion_reward_joint_member = {
		if = {
			limit = {
				NOT = {
					any_owned_state = {
						arms_factory > 1
					}		
				}
			}
			custom_effect_tooltip = Commonwealth_modify_Commonwealth_military_industry_dmod
			effect_tooltip = {
				capital_scope = {
					add_extra_state_shared_building_slots = 2
					add_dynamic_modifier = {
						modifier = Commonwealth_military_industry_hub_member_dmod
						scope = ROOT
					}
				}
			}
		}		
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_military_industry_dmod
		random_owned_state = {
			limit = {
				is_controlled_by = ROOT
				arms_factory > 1
			}
			add_extra_state_shared_building_slots = 2
			add_dynamic_modifier = {
				modifier = Commonwealth_military_industry_hub_member_dmod
				scope = ROOT
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_ad_hoc_military_industry
	
	icon = GFX_goal_generic_production
	
	prerequisite = { focus = Commonwealth_standarized_parts }
	mutually_exclusive = { focus = Commonwealth_military_industry_hub }
	x = 1
	y = 1
	relative_position_id = Commonwealth_standarized_parts
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_military_factories > 15
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		hidden_effect = {
			set_variable = { Commonwealth_mil_industry_originator_production_speed_arms_factory_factor = 0.10 }
			set_variable = { Commonwealth_mil_industry_member_production_speed_arms_factory_factor = 0.05 }
		}
	}

	completion_reward_joint_originator = {
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_military_industry_dmod		
		effect_tooltip = {
			add_to_variable = {
				var = Commonwealth_mil_industry_originator_production_speed_arms_factory_factor
				value = 0.05
				tooltip = production_speed_arms_factory_factor_tt
			}
		}
	}

	completion_reward_joint_member = {
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_military_industry_dmod
		effect_tooltip = {
			add_to_variable = {
				var = Commonwealth_mil_industry_member_production_speed_arms_factory_factor
				value = 0.10
				tooltip = production_speed_arms_factory_factor_tt
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_equipment_conversion_focus
	
	icon = GFX_focus_generic_license_production
	
	prerequisite = { focus = Commonwealth_military_industry_hub focus = Commonwealth_ad_hoc_military_industry }
	mutually_exclusive = { focus = Commonwealth_jet_engines focus = Commonwealth_machine_tools_research }
	x = 1
	y = 1
	relative_position_id = Commonwealth_ad_hoc_military_industry
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_military_factories > 25
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward = {
		hidden_effect = {
			add_to_variable = {
				var = Commonwealth_mil_industry_originator_dmod_equipment_conversion_speed
				value = 0.15
			}
			add_to_variable = {
				var = Commonwealth_mil_industry_member_dmod_equipment_conversion_speed
				value = 0.15
			}
		}
	}

	completion_reward_joint_originator = {
		Commonwealth_mil_industry_member_to_originator = yes 
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_military_industry_dmod
		effect_tooltip = {
			add_to_variable = {
				var = Commonwealth_mil_industry_originator_dmod_equipment_conversion_speed
				value = 0.15
				tooltip = equipment_conversion_speed_tt
			}
		}
	}

	completion_reward_joint_member = {
		Commonwealth_mil_industry_originator_to_member = yes
		custom_effect_tooltip = Commonwealth_modify_Commonwealth_military_industry_dmod
		effect_tooltip = {
			add_to_variable = {
				var = Commonwealth_mil_industry_member_dmod_equipment_conversion_speed
				value = 0.15
				tooltip = equipment_conversion_speed_tt
			}
		}
	}
}

joint_focus = {
	id = Commonwealth_machine_tools_research
	
	icon = GFX_focus_generic_modernize_industry
	
	prerequisite = { focus = Commonwealth_military_industry_hub focus = Commonwealth_ad_hoc_military_industry }
	mutually_exclusive = { focus = Commonwealth_jet_engines focus = Commonwealth_equipment_conversion_focus }

	x = 1
	y = 1
	relative_position_id = Commonwealth_military_industry_hub
	cost = 10

	

	available = {
		Commonwealth_basic_available_trigger = yes
		num_of_military_factories > 20
		num_researched_technologies > 45
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	joint_trigger = {
  		Commonwealth_basic_joint_trigger = yes 
	}

	completion_reward_joint_originator = {
		add_tech_bonus = {
			name = Commonwealth_machine_tools_research
			bonus = 0.3 
			uses = 2 
			category = cat_production
		}
	}

	completion_reward_joint_member = {
		add_tech_bonus = {
			name = Commonwealth_machine_tools_research
			bonus = 0.25 
			uses = 1
			category = cat_production
		}
	}
}


