### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = wuw_hungarian_focus

	country = {
		factor = 0

		modifier = {
			add = 50
			tag = HUN
			#always = no
		}
	}

	default = no

	continuous_focus_position = { x = 50 y = 1750 }

	shared_focus = HABSBURG_part_of_something_bigger

	initial_show_position = {
	    focus = wuw_HUN_continue_the_regency
	}


	focus = {
		id = wuw_HUN_end_the_regency
		icon = GFX_focus_hun_elect_a_king
		#prerequisite = { focus = }
		mutually_exclusive = { focus = wuw_HUN_continue_the_regency focus = wuw_HUN_end_the_white_terror }
		x = 17
		y = 0
		#relative_position_id =

		cost = 5

		ai_will_do = {
			factor = 10
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
			}
		}

		offset = {
			x = -5
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_reinstate_the_pragmatic_sanction
			}
		}

		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -4
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_establishing_a_new_dynasty
			}
		}

		available = {
			NOT = {
				has_government = communism
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 50

			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_horthy_admiral_tt

			set_party_name = { ideology = neutrality long_name = HUN_legitimists_party_long name = HUN_legitimists_party }

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_jusztinian_seredi
			show_ideas_tooltip = HUN_gusztav_gratz

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = wuw_HUN_continue_the_regency
		icon = GFX_focus_rom_handle_king
		#prerequisite = { focus = }
		mutually_exclusive = { focus = wuw_HUN_end_the_regency focus = wuw_HUN_end_the_white_terror }
		x = 16
		y = 0
		relative_position_id = wuw_HUN_end_the_regency

		cost = 5

		ai_will_do = {
			factor = 1
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_end_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
			}
		}

		offset = {
			x = -22
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_continue_the_regency
			}
		}

		offset = {
			x = -2
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_strengthen_horthys_reign
			}
		}

		offset = {
			x = 2
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_undermine_the_admiral
			}
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			add_political_power = 50
			add_stability = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_jusztinian_seredi

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_end_the_white_terror
		icon = GFX_focus_hun_assassinate_horthy
		#prerequisite = { focus = }
		mutually_exclusive = { focus = wuw_HUN_end_the_regency focus = wuw_HUN_continue_the_regency }
		x = 31
		y = 0
		relative_position_id = wuw_HUN_end_the_regency

		cost = 5

		ai_will_do = {
			factor = 5
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_regency }
			}
		}

		offset = {
			x = -38
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_end_the_white_terror
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_establish_the_second_republic
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_join_the_comintern
			}
		}

		available = {
			OR = {
				AND = {
					is_subject = no
					has_government = neutrality
				}
				has_government = democratic
				has_government = communism
			}
		}

		bypass = {
			OR = {
				has_government = democratic
				has_government = communism
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			add_timed_idea = {
				idea = HUN_resurgent_communist_party_idea
				days = 180
			}

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_crack_down_on_radicals
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = wuw_HUN_end_the_regency }
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_end_the_regency

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_timed_idea = {
				idea = HUN_crackdown_on_extremism
				days = 360
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			#IF = {
			#	limit = {
			#		has_idea = HUN_hungarian_national_defense_association
			#	}
			#}
			#swap_ideas = {
			#	remove_idea = HUN_hungarian_national_defense_association
			#	add_idea = HUN_hungarian_national_defense_association_cracked_down
			#}

		}
	}

	focus = {
		id = wuw_HUN_subvert_gombos_troops
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		prerequisite = { focus = wuw_HUN_end_the_regency }
		#prerequisite = { focus = wuw_HUN_reach_out_to_candidates }
		#mutually_exclusive = { focus =  }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_end_the_regency

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			retire_character = HUN_gyula_gombos_de_jakfa

			custom_effect_tooltip = generic_skip_one_line_tt

			remove_ideas = HUN_hungarian_national_defense_association

		}
	}

	focus = {
		id = wuw_HUN_reach_out_to_candidates
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = wuw_HUN_subvert_gombos_troops }
		prerequisite = { focus = wuw_HUN_crack_down_on_radicals }
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_subvert_gombos_troops

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_hungarian_monarchy_2

		}
	}

	focus = {
		id = wuw_HUN_reinstate_the_pragmatic_sanction
		icon = GFX_focus_POL_habsburg
		prerequisite = { focus = wuw_HUN_reach_out_to_candidates }
		mutually_exclusive = { focus = wuw_HUN_abide_by_the_little_ententes_stipulations }
		x = -6
		y = 1
		relative_position_id = wuw_HUN_reach_out_to_candidates

		cost = 10

		ai_will_do = {
			factor = 15
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations }
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
			}
		}

		offset = {
			x = 6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_reinstate_the_pragmatic_sanction
			}
		}

		available = {
			has_government = neutrality
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			swap_ideas = {
				remove_idea = HUN_hungarian_monarchy_2
				add_idea = HUN_hungarian_monarchy_resored_habsburgs
			}

			every_country = {
				limit = {
					exists = yes
					has_war = no
					is_subject = no
					NOT = {
						is_in_faction_with = ROOT
					}
					OR = {
						original_tag = ROM
						original_tag = YUG
						original_tag = CZE
						original_tag = SLO
					}
				}
				country_event = {
					id = WW_hungary.29
					days = 2
					random_days = 3
				}
			}
			custom_effect_tooltip = wuw_HUN_reinstate_the_pragmatic_sanction_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					OR = {
						ROM = {
							exists = yes
							is_subject = no
							NOT = {
								is_in_faction_with = ROOT
							}
						}
						YUG = {
							exists = yes
							is_subject = no
							NOT = {
								is_in_faction_with = ROOT
							}
						}
						CZE = {
							exists = yes
							is_subject = no
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				country_event = {
					id = WW_hungary.30
					hours = 0
				}
				custom_effect_tooltip = if_we_accept_newline_tt
				effect_tooltip = {
					add_timed_idea = {
						idea = HUN_promises_of_peace
						days = 365
					}
				}
			}

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_abide_by_the_little_ententes_stipulations
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = wuw_HUN_reach_out_to_candidates }
		mutually_exclusive = { focus = wuw_HUN_reinstate_the_pragmatic_sanction }
		x = 6
		y = 1
		relative_position_id = wuw_HUN_reach_out_to_candidates

		cost = 10

		ai_will_do = {
			factor = 10
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_reinstate_the_pragmatic_sanction }
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		#offset = {
		#	x = -4
		#	y = 0
		#	trigger = {
		#		has_game_rule = {
		#			rule = obsolete_focus_branches_visibility
		#			option = HIDE
		#		}
		#		has_completed_focus = wuw_HUN_establishing_a_new_dynasty
		#	}
		#}

		available = {
			OR = {
				has_government = neutrality
				has_government = democratic
				has_government = fascism
			}
			OR = {
				AND = {
					CZE = {
						exists = yes
						NOT = {
							has_war_with = ROOT
						}
						is_subject = no
					}
				}
				AND = {
					ROM = {
						exists = yes
						NOT = {
							has_war_with = ROOT
						}
						is_subject = no
					}
				}
				AND = {
					YUG = {
						exists = yes
						NOT = {
							has_war_with = ROOT
						}
						is_subject = no
					}
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			every_country = {
				limit = {
					OR = {
						original_tag = ROM
						original_tag = CZE
						original_tag = YUG
						original_tag = SLO
					}
					NOT = {
						OR = {
							has_war_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = HUN_following_entente_stipulations
				}
				ROOT = {
					add_opinion_modifier = {
						target = PREV
						modifier = HUN_following_entente_stipulations
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			swap_ideas = {
				remove_idea = HUN_hungarian_monarchy_2
				add_idea = HUN_hungarian_monarchy_nice
			}

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_aid_the_carlist_struggle
		icon = GFX_focus_spa_supremacy_of_the_communion
		prerequisite = { focus = wuw_HUN_reinstate_the_pragmatic_sanction }
		#mutually_exclusive = { focus = wuw_HUN_reinstate_the_pragmatic_sanction }
		x = -5
		y = 1
		relative_position_id = wuw_HUN_reinstate_the_pragmatic_sanction

		cost = 5

		allow_branch = {
			has_dlc = "La Resistance"
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
				NOT = { has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations }
			}
		}

		offset = {
			x = 3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_invite_otto_to_the_throne
			}
		}

		offset = {
			x = 3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_the_old_habsburg_king
			}
		}

		ai_will_do = {
			factor = 25
		}

		available = {
			has_government = neutrality
			has_war = no
			SPR_scw_in_progress = yes
			country_exists = SPB
			NOT = { has_war_with = SPB }
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			SPB = {
				add_opinion_modifier = {
				    target = ROOT
				    modifier = POR_helped_in_civil_war
				}
				add_manpower = 10000
			}
			add_manpower = -10000

			custom_effect_tooltip = generic_skip_one_line_tt

			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 2000
				}
			}
			send_equipment = {
			    equipment = infantry_equipment
			    amount = 2000
			    target = SPB
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = HUN_supporting_carlists
				days = 730
			}

			hidden_effect = {
				ROOT = {

					add_ai_strategy = {
						type = send_volunteers_desire
						id = SPB
						value = 200
					}
				}
			}

			set_rule = { can_send_volunteers = yes }

		}
	}

	focus = {
		id = wuw_HUN_invite_otto_to_the_throne
		icon = GFX_focus_HUN_invite_otto_to_the_throne
		prerequisite = { focus = wuw_HUN_reinstate_the_pragmatic_sanction }
		mutually_exclusive = { focus = wuw_HUN_the_old_habsburg_king }
		x = -3
		y = 1
		relative_position_id = wuw_HUN_reinstate_the_pragmatic_sanction

		cost = 5

		ai_will_do = {
			factor = 20
		}

		offset = {
			x = 3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_invite_otto_to_the_throne
			}
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_the_old_habsburg_king }
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
				NOT = { has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations }
			}
		}

		available = {
			has_government = neutrality
			NOT = {
				has_global_flag = AUS_otto_von_habsburg_has_joined_austria_flag
			}
		}

		bypass = {
			has_global_flag = GER_reformed_austro_hungarian_empire
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_MANPOWER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			promote_character = HUN_otto_von_habsburg
			swap_ideas = {
				remove_idea = HUN_hungarian_monarchy_resored_habsburgs
				add_idea = HUN_hungarian_monarchy_resored_habsburgs_otto
			}

			hidden_effect = {
				news_event = { id = news.290 }
				set_global_flag = HUN_otto_von_habsburg_has_joined_hungary_flag
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_joseph_august_von_habsburg_becomes_available_as_field_marshal_tt
			custom_effect_tooltip = HUN_otto_von_habsburg_becomes_available_as_field_marshal_tt
			custom_effect_tooltip = HUN_antal_freiherr_becomes_available_as_general_tt

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_the_old_habsburg_king
		icon = GFX_focus_HUN_the_old_habsburg_king
		prerequisite = { focus = wuw_HUN_reinstate_the_pragmatic_sanction }
		mutually_exclusive = { focus = wuw_HUN_invite_otto_to_the_throne }
		x = 3
		y = 1
		relative_position_id = wuw_HUN_reinstate_the_pragmatic_sanction

		cost = 5

		ai_will_do = {
			factor = 10
		}

		offset = {
			x = -3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_the_old_habsburg_king
			}
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_invite_otto_to_the_throne }
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
				NOT = { has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations }
			}
		}

		available = {
			has_government = neutrality
			NOT = {
				has_global_flag = GER_reformed_austro_hungarian_empire
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_MANPOWER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_country_leader_role = {
			    character = HUN_joseph_august_von_habsburg
			    promote_leader = yes
			    country_leader = {
			        ideology = despotism
			        expire = "1965.1.1.1"
			        traits = { HUN_the_old_warden }
			    }
			}

			swap_ideas = {
				remove_idea = HUN_hungarian_monarchy_resored_habsburgs
				add_idea = HUN_hungarian_monarchy_resored_habsburgs_otto
			}

			add_doctrine_cost_reduction = {
				name = HUN_feldmarchall_augusts_expertise
				cost_reduction = 0.25
				uses = 1
				category = cat_grand_battle_plan
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_joseph_august_von_habsburg_becomes_available_as_field_marshal_tt
			custom_effect_tooltip = HUN_antal_freiherr_becomes_available_as_general_tt

			hidden_effect = {
				news_event = { id = wuw_HUN_news_events.6 }

				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}

			}

		}
	}

	focus = {
		id = wuw_HUN_attempt_economic_independence
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = wuw_HUN_the_old_habsburg_king focus = wuw_HUN_invite_otto_to_the_throne }
		#mutually_exclusive = { focus = wuw_HUN_invite_otto_to_the_throne }
		x = -3
		y = 1
		relative_position_id = wuw_HUN_the_old_habsburg_king

		cost = 10

		offset = {
			x = 2
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_invite_otto_to_the_throne
			}
		}

		ai_will_do = {
			factor = 15
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					has_idea = HUN_gombos_trade_treaty
				}
				remove_ideas = {
					HUN_gombos_trade_treaty
				}
				add_stability = -0.1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_secure_army_loyalty
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = wuw_HUN_attempt_economic_independence }
		#mutually_exclusive = { focus = wuw_HUN_invite_otto_to_the_throne }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_attempt_economic_independence

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = neutrality
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_XP }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = HUN_every_fascist_sympathizer_tt
			every_army_leader = {
				limit = {
					has_trait = trait_HUN_fascist_sympathies
				}
				retire = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			army_experience = 50

			add_manpower = 20000

			add_war_support = 0.1

		}
	}

	focus = {
		id = wuw_HUN_the_lands_of_the_crown_of_saint_stephen
		icon = GFX_focus_HUN_the_lands_of_the_crown_of_saint_stephen
		prerequisite = { focus = wuw_HUN_invite_otto_to_the_throne }
		#mutually_exclusive = { focus = wuw_HUN_invite_otto_to_the_throne }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_invite_otto_to_the_throne

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_stability = 0.1
			add_war_support = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			set_cosmetic_tag = HUN_transleithanian_kingdom

			every_state = {
				limit = {
					OR = {
						state = 76
						state = 83
						state = 84
						state = 82
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_core_of = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HABSBURG_joint_ft_unlock_tt

			hidden_effect = {
				set_global_flag = AH_joint_tree_activated_flag

				every_country = {
					limit = {
						HABSBURG_is_a_habsburg_viable_nation = yes
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

			# Set Hungary as Leader of the federation
			set_variable = { global.AH_originator_country = ROOT }

		}
	}

	focus = {
		id = wuw_HUN_demand_austrian_restoration
		icon = GFX_focus_AUS_heritage_of_an_empire
		prerequisite = { focus = wuw_HUN_the_lands_of_the_crown_of_saint_stephen }
		#mutually_exclusive = { focus = wuw_HUN_the_lands_of_the_crown_of_saint_stephen }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_lands_of_the_crown_of_saint_stephen

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			has_government = neutrality
			AUS = {
				has_civil_war = no
				OR = {
					exists = yes
					AND = {
						exists = no
						4 = {
							is_owned_by = ROOT
						}
						152 = {
							is_owned_by = ROOT
						}
						153 = {
							is_owned_by = ROOT
						}
						848 = {
							is_owned_by = ROOT
						}
						976 = {
							is_owned_by = ROOT
						}
					}
				}
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		bypass = {

			OR = {
				has_country_flag = HUN_created_austrian_monarchy
				has_global_flag = GER_reformed_austro_hungarian_empire
			}

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					AUS = {
						exists = yes
						is_subject = no
					}
				}
				AUS = {
					country_event = {
						id = WW_hungary.32
						days = 1
						random_days = 2
					}
				}
				custom_effect_tooltip = HUN_unify_with_austria_tt
			}
			ELSE_IF = {
				limit = {
					AUS = {
						is_subject = yes
						NOT = {
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = AUS
				}
			}
			ELSE_IF = {
				limit = {
					AUS = {
						is_subject_of = ROOT
					}
				}
				add_political_power = 75
				add_stability = 0.05
				add_war_support = 0.025
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = HUN_seize_control_of_burgenland_dec
			unlock_decision_tooltip = HUN_place_a_habsburg_on_the_austrian_throne

		}
	}

	focus = {
		id = wuw_HUN_protect_czechoslovakia
		icon = GFX_focus_generic_befriend_bohemia
		prerequisite = { focus = wuw_HUN_demand_austrian_restoration }
		#mutually_exclusive = { focus = wuw_HUN_demand_austrian_restoration }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_demand_austrian_restoration

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			is_subject = no
			has_government = neutrality
			CZE = {
				OR = {
					AND = {
						exists = yes
						has_civil_war = no
						NOT = {
							has_war_with = ROOT
						}
					}
					exists = no
				}
			}
		}

		bypass = {

			OR = {
				has_country_flag = HUN_created_bohemian_monarchy
				has_global_flag = GER_reformed_austro_hungarian_empire
			}

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					CZE = {
						exists = yes
						is_subject = no
					}
				}
				CZE = {
					country_event = {
						id = WW_hungary.55
						days = 1
						random_days = 2
					}
				}
				custom_effect_tooltip = HUN_protect_czechoslovakia_tt
			}
			ELSE_IF = {
				limit = {
					CZE = {
						exists = yes
						is_subject = yes
						NOT = {
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = CZE
				}
			}
			ELSE_IF = {
				limit = {
					CZE = {
						exists = yes
						is_subject_of = ROOT
					}
				}
				add_political_power = 75
				add_stability = 0.05
				add_war_support = 0.025
			}
			ELSE_IF = {
				limit = {
					CZE = {
						exists = no
					}
				}
				add_war_support = 0.05
				every_state = {
					limit = {
						is_core_of = CZE
						NOT = {
							OR = {
								is_owned_by = ROOT
								is_claimed_by = ROOT
							}
						}
					}
					add_claim_by = ROOT
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = HUN_place_a_habsburg_on_the_bohemian_throne

		}
	}

	focus = {
		id = wuw_HUN_seek_an_alliance_with_the_kaiser
		icon = GFX_focus_ger_revive_kaiserreich
		prerequisite = { focus = wuw_HUN_demand_austrian_restoration }
		mutually_exclusive = { focus = wuw_HUN_a_grand_habsburg_alliance focus = wuw_HUN_the_old_grand_alliance }
		x = -3
		y = 1
		relative_position_id = wuw_HUN_demand_austrian_restoration

		cost = 5

		ai_will_do = {
			factor = 25
		}

		available = {
			GER = {
				has_government = neutrality
				OR = {
					is_faction_leader = yes
					is_in_faction = no
				}
			}
			NOT = {
				has_global_flag = GER_Rejected_HUN_central_powers
			}
			is_subject = no
		}

		bypass = {
			is_in_faction_with = GER
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					GER = {
						is_faction_leader = yes
					}
				}
				# We will attempt to join the German faction
				GER = {
					country_event = {
						id = WW_hungary.35
						hours = 24
						random_hours = 12
					}
				}
			}
			ELSE = {
				set_rule = { can_create_factions = yes }
				create_faction = GER_central_powers_faction
				# We create our own faction and invite Germany
				GER = {
					country_event = {
						id = WW_hungary.38
						hours = 24
						random_hours = 12
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_grand_habsburg_alliance
		icon = GFX_focus_HABSBURG_for_the_glory_of_the_empire
		prerequisite = { focus = wuw_HUN_demand_austrian_restoration }
		mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser focus = wuw_HUN_the_old_grand_alliance }
		x = -5
		y = 1
		relative_position_id = wuw_HUN_demand_austrian_restoration

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = neutrality
			is_subject = no
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 25

			create_faction = habsburg_alliance_faction

			set_rule = { can_create_factions = yes }

		}
	}

	focus = {
		id = wuw_HUN_the_old_grand_alliance
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = wuw_HUN_demand_austrian_restoration }
		mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser focus = wuw_HUN_a_grand_habsburg_alliance }
		x = -7
		y = 1
		relative_position_id = wuw_HUN_demand_austrian_restoration

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = neutrality
			ENG = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
				is_faction_leader = yes
				has_civil_war = no
			}
			is_subject = no
			NOT = {
				has_global_flag = ENG_Rejected_HUN_grand_alliance
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {

			# We will attempt to join the British faction
			ENG = {
				country_event = {
					id = WW_hungary.41
					hours = 24
					random_hours = 12
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_demand_wiedist_restoration
		icon = GFX_focus_generic_befriend_wiedist_albania
		prerequisite = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser focus = wuw_HUN_a_grand_habsburg_alliance }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_a_grand_habsburg_alliance

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			is_subject = no
			ALB = {
				has_civil_war = no
				OR = {
					exists = yes
					AND = {
						exists = no
						934 = {
							is_owned_by = ROOT
						}
						44 = {
							is_owned_by = ROOT
						}
						805 = {
							is_owned_by = ROOT
						}
					}
				}
				NOT = {
					has_war_with = ROOT
				}
				NOT = {
					has_cosmetic_tag = ALB_wiedist_principality
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					ALB = {
						exists = yes
						is_subject = no
					}
				}
				ALB = {
					country_event = {
						id = WW_hungary.44
						days = 1
						random_days = 2
					}
				}
			}
			ELSE_IF = {
				limit = {
					ALB = {
						is_subject = yes
						NOT = {
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ALB
				}
				unlock_decision_tooltip = HUN_place_wied_on_the_albanian_throne
			}
			ELSE_IF = {
				limit = {
					ALB = {
						OR = {
							is_subject_of = ROOT
							exists = no
						}
					}
				}

				802 = {
					add_core_of = ALB
				}

				970 = {
					add_core_of = ALB
				}

				every_state = {
					limit = {
						is_controlled_by = ROOT
						NOT = {
							is_core_of = ROOT
						}
						is_core_of = ALB
					}
					transfer_state_to = ALB
				}

				ALB = {
					drop_cosmetic_tag = yes
					set_cosmetic_tag = ALB_wiedist_principality
					set_party_name = {
						ideology = neutrality
						long_name = ALB_house_of_wied_party_long
						name = ALB_house_of_wied_party
					}	
					promote_character = ALB_wilhelm_of_wied
				}

				IF = {
					limit = {
						ALB = {
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
					puppet = ALB
				}

				hidden_effect = {
					set_country_flag = HUN_created_wiedist_monarchy
				}

			}

		}
	}

	focus = {
		id = wuw_HUN_habsburg_ascension_in_spain
		icon = GFX_focus_spa_no_compromise_on_carlist_ideals
		prerequisite = { focus = wuw_HUN_a_grand_habsburg_alliance }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_a_grand_habsburg_alliance

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = neutrality
			is_subject = no
			is_faction_leader = yes
			has_global_flag = scw_over
			OR = {
				SPR = {
					exists = yes
					has_civil_war = no
					OR = {
						has_government = neutrality
						has_government = fascism
					}
				}
				AND = {
					SPR = {
						exists = no
					}
					OR = {
						41 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 41
						}
					}
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					SPR = {
						exists = yes
						is_subject = no
					}
				}
				SPR = {
					country_event = {
						id = WW_hungary.51
						days = 1
						random_days = 2
					}
				}
			}
			ELSE_IF = {
				limit = {
					SPR = {
						is_subject = yes
						NOT = {
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SPR
				}
				unlock_decision_tooltip = HUN_place_a_habsburg_on_the_spanish_throne
			}
			ELSE_IF = {
				limit = {
					SPR = {
						OR = {
							is_subject_of = ROOT
							exists = no
						}
					}
				}

				every_state = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							any_country = {
								is_subject_of = ROOT
								controls_state = PREV
							}
						}
						NOT = {
							is_core_of = ROOT
						}
						is_core_of = SPR
						NOT = {
							is_owned_and_controlled_by = SPR
						}
					}
					transfer_state_to = SPR
				}

				SPR = {
					drop_cosmetic_tag = yes
					set_cosmetic_tag = SPR_habsburg
					country_event = {
						id = WW_hungary.50
						hours = 0
					}
				}

				IF = {
					limit = {
						SPR = {
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
					puppet = SPR
				}

				hidden_effect = {
					set_country_flag = HUN_created_spanish_habsburg_monarchy
				}

			}

		}
	}

	focus = {
		id = wuw_HUN_a_habsburg_poland
		icon = GFX_focus_POL_end_the_regency
		prerequisite = { focus = wuw_HUN_a_grand_habsburg_alliance }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = -2
		y = 2
		relative_position_id = wuw_HUN_a_grand_habsburg_alliance

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = neutrality
			is_subject = no
			is_faction_leader = yes
			OR = {
				POL = {
					exists = yes
					has_civil_war = no
				}
				AND = {
					POL = {
						exists = no
					}
					OR = {
						10 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 10
						}
					}
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					POL = {
						exists = yes
						is_subject = no
					}
				}
				POL = {
					country_event = {
						id = WW_hungary.47
						days = 1
						random_days = 2
					}
				}
			}
			ELSE_IF = {
				limit = {
					POL = {
						is_subject = yes
						NOT = {
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = POL
				}
				unlock_decision_tooltip = HUN_place_a_habsburg_on_the_polish_throne
			}
			ELSE_IF = {
				limit = {
					POL = {
						OR = {
							is_subject_of = ROOT
							exists = no
						}
					}
				}

				every_state = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							any_country = {
								is_subject_of = ROOT
								controls_state = PREV
							}
						}
						NOT = {
							is_core_of = ROOT
						}
						is_core_of = POL
						NOT = {
							is_owned_and_controlled_by = POL
						}
						NOT = {
							OR = {
								state = 762
								state = 88
								state = 91
								state = 89
								state = 80
								state = 72
								state = 93
							}
						}
					}
					transfer_state_to = POL
				}

				POL = {
					drop_cosmetic_tag = yes
					set_cosmetic_tag = POL_KINGDOM
					IF = {
						limit = {
							has_character = POL_karl_albrecht
						}
						promote_character = POL_karl_albrecht
					}
				}

				IF = {
					limit = {
						POL = {
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
					puppet = POL
				}

				hidden_effect = {
					set_country_flag = HUN_created_polish_habsburg_monarchy
				}

			}

		}
	}

	focus = {
		id = wuw_HUN_press_maximilians_and_the_iturbides_claims
		icon = GFX_focus_mex_jefe_maximo
		prerequisite = { focus = wuw_HUN_a_grand_habsburg_alliance }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser focus = wuw_HUN_the_old_grand_alliance }
		x = -3
		y = 1
		relative_position_id = wuw_HUN_a_grand_habsburg_alliance

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

			has_government = neutrality
			is_subject = no
			is_faction_leader = yes
			OR = {
				MEX = {
					exists = yes
					has_civil_war = no
					NOT = {
						has_government = communism
					}
				}
				AND = {
					MEX = {
						exists = no
					}
					OR = {
						277 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 277
						}
					}
				}
			}

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

				IF = {
					limit = {
						MEX = {
							exists = yes
							is_subject = no
						}
					}
					MEX = {
						country_event = {
							id = WW_hungary.62
							days = 1
							random_days = 2
						}
					}
				}
				ELSE_IF = {
					limit = {
						MEX = {
							is_subject = yes
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
					create_wargoal = {
						type = puppet_wargoal_focus
						target = MEX
					}
					unlock_decision_tooltip = HUN_place_a_habsburg_on_the_mexican_throne
				}
				ELSE_IF = {
					limit = {
						MEX = {
							OR = {
								is_subject_of = ROOT
								exists = no
							}
						}
					}

					every_state = {
						limit = {
							OR = {
								is_controlled_by = ROOT
								any_country = {
									is_subject_of = ROOT
									controls_state = PREV
								}
							}
							NOT = {
								is_core_of = ROOT
							}
							is_core_of = MEX
							NOT = {
								is_owned_and_controlled_by = MEX
							}
						}
						transfer_state_to = MEX
					}

					MEX = {
						drop_cosmetic_tag = yes
						set_cosmetic_tag = MEX_habsburg_empire
						country_event = {
							id = WW_hungary.61
							hours = 0
						}
					}

					IF = {
						limit = {
							MEX = {
								NOT = {
									is_subject_of = ROOT
								}
							}
						}
						puppet = MEX
					}

					hidden_effect = {
						set_country_flag = HUN_created_mexican_habsburg_monarchy
					}

				}
		}
	}

	focus = {
		id = wuw_HUN_reenlist_the_sich_riflemen
		icon = GFX_focus_HUN_reenlist_the_sich_riflemen
		prerequisite = { focus = wuw_HUN_a_grand_habsburg_alliance }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_a_grand_habsburg_alliance

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			NOT = {
				has_war_with = UKR
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = HUN_sich_riflemen_infantry_recruitment
			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Ukrainski Sichovi Striltsi"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Ukrainski Sichovi Striltsi"
					division_names_group = AUSHUN_INF_01
					role = infantry
					template_counter = 91
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}

				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Pershyy Dyvizion Ukrainskih Sichovih Striltsiv'\" division_template = \"Ukrainski Sichovi Striltsi\" start_experience_factor = 0.4 start_equipment_factor = 0.6"
					    owner = ROOT
					    officer = {
					    	name = HUN_yevhen_konovalets
					    }
					}
					create_unit = {
					    division = "name = \"Druhyy Dyvizion Ukrainskih Sichovih Striltsiv\" division_template = \"Ukrainski Sichovi Striltsi\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
					    owner = ROOT
					    officer = {
					    	name = HUN_andriy_melnyk
					    }
					}
					create_unit = {
					    division = "name = \"Tretiy Dyvizion Ukrainskih Sichovih Striltsiv\" division_template = \"Ukrainski Sichovi Striltsi\" start_experience_factor = 0.2 start_equipment_factor = 0.5"
					    owner = ROOT
					    officer = {
					    	name = HUN_yuriy_otmarstein
					    }
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_vasyl_vyshivani_becomes_available_as_field_marshal_tt

		}
	}

	focus = {
		id = wuw_HUN_the_kingdom_of_ukraine
		icon = GFX_focus_HUN_the_kingdom_of_ukraine
		prerequisite = { focus = wuw_HUN_reenlist_the_sich_riflemen }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_reenlist_the_sich_riflemen

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

			is_subject = no

			UKR = {
				exists = no
			}

			custom_trigger_tooltip = {
				tooltip = wuw_HUN_the_kingdom_of_ukraine_required_states_tt
				AND = {
					OR = {
						93 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 93
						}
					}
					OR = {
						199 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 199
						}
					}
					OR = {
						201 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 201
						}
					}
					OR = {
						202 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 202
						}
					}
					OR = {
						198 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 198
						}
					}
					OR = {
						834 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 834
						}
					}
					OR = {
						192 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 192
						}
					}
					OR = {
						203 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 203
						}
					}
					OR = {
						197 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 197
						}
					}
					OR = {
						193 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 193
						}
					}
					OR = {
						225 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 225
						}
					}
					OR = {
						259 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 259
						}
					}
					OR = {
						226 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 226
						}
					}
					OR = {
						196 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 196
						}
					}
					OR = {
						200 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 200
						}
					}
					OR = {
						227 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 227
						}
					}
					OR = {
						221 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 221
						}
					}
					OR = {
						228 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 228
						}
					}
					OR = {
						137 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 137
						}
					}
					OR = {
						218 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 218
						}
					}
					OR = {
						234 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 234
						}
					}
				}
			}
		}

		bypass = {
			UKR = {
				is_subject_of = ROOT
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			ROOT = {
				HUN_vasyl_vyshyvanyi = { set_nationality = UKR }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_the_kingdom_of_ukraine_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							any_country = {
								is_subject_of = ROOT
								controls_state = PREV
							}
						}
						NOT = {
							is_core_of = ROOT
						}
						OR = {
							state = 93
							state = 199
							state = 201
							state = 198
							state = 834
							state = 192
							state = 766
							state = 202
							state = 193
							state = 225
							state = 259
							state = 203
							state = 197
							state = 226
							state = 196
							state = 200
							state = 221
							state = 227
							state = 228
							state = 137
							state = 218
							state = 234
						}
					}
					transfer_state_to = UKR
				}

				every_state = {
					limit = {
						NOT = {
							is_core_of = UKR
						}
						OR = {
							state = 93
							state = 199
							state = 201
							state = 198
							state = 834
							state = 192
							state = 766
							state = 202
							state = 193
							state = 225
							state = 259
							state = 203
							state = 197
							state = 226
							state = 196
							state = 200
							state = 221
							state = 227
							state = 228
							state = 137
							state = 218
							state = 234
						}
					}
					add_core_of = UKR
				}

				UKR = {
					drop_cosmetic_tag = yes
					country_event = {
					    id = WW_hungary.54
					    days = 0
					}
				}

				puppet = UKR

				set_country_flag = HUN_created_ukrainian_habsburg_monarchy
			}

		}
	}

	focus = {
		id = wuw_HUN_restore_the_georgian_monarchy
		icon = GFX_focus_generic_befriend_monarchist_georgia
		prerequisite = { focus = wuw_HUN_the_kingdom_of_ukraine }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_kingdom_of_ukraine

		cost = 5

		ai_will_do = {
			factor = 25
		}

		available = {

			is_subject = no

			GEO = {
				exists = no
			}

			custom_trigger_tooltip = {
				tooltip = wuw_HUN_the_kingdom_of_georgia_required_states_tt
				AND = {
					OR = {
						231 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 231
						}
					}
					OR = {
						826 = {
							is_controlled_by = ROOT
						}
						any_country = {
							is_subject_of = ROOT
							controls_state = 826
						}
					}
				}
			}

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			every_state = {
				limit = {
					OR = {
						is_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							controls_state = PREV
						}
					}
					NOT = {
						is_core_of = ROOT
					}
					OR = {
						state = 231
						state = 826
					}
				}
				transfer_state_to = GEO
			}

			GEO = {
				drop_cosmetic_tag = yes
			}

			puppet = GEO

			set_country_flag = HUN_created_georgian_monarchy

		}
	}

	focus = {
		id = wuw_HUN_reclaim_transylvania
		icon = GFX_focus_YUG_autonomous_transylvania
		prerequisite = { focus = wuw_HUN_protect_czechoslovakia }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_protect_czechoslovakia

		will_lead_to_war_with = ROM
		will_lead_to_war_with = TRA

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

			is_puppet = no
			has_army_manpower = { size > 200000 }

			NOT = {
				OR = {
					76 = {
						is_owned_by = ROOT
					}
					83 = {
						is_owned_by = ROOT
					}
					84 = {
						is_owned_by = ROOT
					}
				}
			}

			76 = {
				OWNER = {
					NOT = {
						OR = {
							is_in_faction_with = ROOT
							has_war_with = ROOT
						}
					}
				}
			}

			IF = {
				limit = {
					ROM = {
						owns_state = 76
					}
				}
				strength_ratio = { tag = ROM ratio > 0.66 }
			}


		}

		bypass = {

			OR = {
				76 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
				76 = {
					is_owned_by = ROOT
				}
			}

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			every_state = {
				limit = {
					OR = {
						state = 76
						state = 83
						state = 84
						state = 82
					}
					NOT = {
						OR = {
							is_claimed_by = ROOT
							is_core_of = ROOT
							is_owned_by = ROOT
						}
					}
				}
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_demands_tt
			random_country = {
				limit = {
					owns_state = 76
				}
				country_event = {
					id = WW_hungary.4
					days = 2
					random_days = 3
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_reintigrate_slovakia
		icon = GFX_focus_generic_befriend_slovakia
		prerequisite = { focus = wuw_HUN_protect_czechoslovakia }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 2
		y = 2
		relative_position_id = wuw_HUN_protect_czechoslovakia

		will_lead_to_war_with = SLO
		will_lead_to_war_with = CZE

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

			is_subject = no

			NOT = {
				AND = {
					664 = {
						is_core_of = ROOT
						is_owned_and_controlled_by = ROOT
					}
					70 = {
						is_core_of = ROOT
						is_owned_and_controlled_by = ROOT
					}
					71 = {
						is_core_of = ROOT
						is_owned_and_controlled_by = ROOT
					}
					73 = {
						is_core_of = ROOT
						is_owned_and_controlled_by = ROOT
					}
				}
			}

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			every_state = {
				limit = {
					NOT = {
						is_core_of = ROOT
					}
					OR = {
						state = 664
						state = 70
						state = 71
						state = 73
						state = 72
					}
				}
				add_core_of = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_state = {
				limit = {
					NOT = {
						is_owned_by = ROOT
					}
					any_country = {
						is_subject_of = ROOT
						owns_state = PREV
					}
					OR = {
						state = 664
						state = 70
						state = 71
						state = 73
						state = 72
					}
				}
				transfer_state_to = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_country = {
				limit = {
					NOT = {
						OR = {
							original_tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
					OR = {
						owns_state = 664
						owns_state = 70
						owns_state = 71
						owns_state = 73
						owns_state = 72
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_core_state
						target = PREV
						#generator = { state_id }
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_restore_the_duchy_of_teschen
		icon = GFX_focus_generic_befriend_teschen
		prerequisite = { focus = wuw_HUN_protect_czechoslovakia }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 3
		y = 3
		relative_position_id = wuw_HUN_protect_czechoslovakia

		will_lead_to_war_with = GER
		will_lead_to_war_with = POL
		will_lead_to_war_with = SIL

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

			is_subject = no
			has_government = neutrality

			any_other_country = {
				OR = {
					owns_state = 762
					owns_state = 67
					owns_state = 66
				}
				NOT = {
					has_war_with = ROOT
				}
			}

			has_army_manpower = { size > 250000 }

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					CZE = {
						is_subject_of = ROOT
					}
				}
				every_state = {
					limit = {
						is_core_of = SIL
						NOT = {
							OR = {
								is_claimed_by = CZE
								is_core_of = CZE
								is_owned_by = CZE
							}
						}
					}
					add_core_of = CZE
				}
				ELSE = {
					every_state = {
						limit = {
							is_core_of = SIL
							NOT = {
								OR = {
									is_claimed_by = ROOT
									is_core_of = ROOT
									is_owned_by = ROOT
								}
							}
						}
						add_claim_by = ROOT
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_demands_tt
			every_country = {
				limit = {
					AND = {
						OR = {
							AND = {
								owns_state = 762
								controls_state = 762
							}
							AND = {
								owns_state = 67
								controls_state = 67
							}
							AND = {
								owns_state = 66
								controls_state = 66
							}
						}
						NOT = {
							OR = {
								has_war_with = ROOT
								original_tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				country_event = {
					id = WW_hungary.72
					days = 2
					random_days = 3
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_hungarian_galicia
		icon = GFX_focus_generic_attack_poland
		prerequisite = { focus = wuw_HUN_reclaim_transylvania }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_reclaim_transylvania

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

			is_subject = no

			NOT = {
				AND = {
					88 = {
						is_owned_by = ROOT
					}
					89 = {
						is_owned_by = ROOT
					}
					91 = {
						is_owned_by = ROOT
					}
					80 = {
						is_owned_by = ROOT
					}
				}
			}

		}

		bypass = {

			OR = {
				all_country = {
					OR = {
						owns_state = 88
						owns_state = 89
						owns_state = 91
						owns_state = 80
					}
					has_war_with = ROOT
				}
				AND = {
					owns_state = 88
					owns_state = 89
					owns_state = 91
					owns_state = 80
				}
			}

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			every_state = {
				limit = {
					OR = {
						state = 88
						state = 89
						state = 91
						state = 80
					}
					NOT = {
						OR = {
							is_claimed_by = ROOT
							is_core_of = ROOT
							is_owned_by = ROOT
						}
					}
				}
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_demands_tt
			every_country = {
				limit = {
					AND = {
						OR = {
							AND = {
								owns_state = 88
								controls_state = 88
							}
							AND = {
								owns_state = 89
								controls_state = 89
							}
							AND = {
								owns_state = 91
								controls_state = 91
							}
							AND = {
								owns_state = 80
								controls_state = 80
							}
						}
						NOT = {
							OR = {
								has_war_with = ROOT
								original_tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				country_event = {
					id = WW_hungary.58
					days = 2
					random_days = 3
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_the_triple_kingdom
		icon = GFX_focus_YUG_banovina_of_croatia
		prerequisite = { focus = wuw_HUN_protect_czechoslovakia }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_protect_czechoslovakia

		will_lead_to_war_with = YUG
		will_lead_to_war_with = CRO

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

			is_subject = no
			has_government = neutrality

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					CRO = {
						exists = yes
						is_subject = no
					}
				}
				CRO = {
					country_event = {
						id = WW_hungary.66
						days = 1
						random_days = 2
					}
				}
			}
			ELSE_IF = {
				limit = {
					CRO = {
						is_subject = yes
						NOT = {
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = CRO
				}
				unlock_decision_tooltip = HUN_place_a_habsburg_on_the_croatian_throne
			}
			ELSE_IF = {
				limit = {
					CRO = {
						is_subject_of = ROOT
					}
				}
				add_political_power = 75
				add_stability = 0.05
				add_war_support = 0.025

				custom_effect_tooltip = generic_skip_one_line_tt

				every_state = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							any_country = {
								is_subject_of = ROOT
								controls_state = PREV
							}
						}
						NOT = {
							is_core_of = ROOT
						}
						is_core_of = CRO
						NOT = {
							is_owned_and_controlled_by = CRO
						}
					}
					transfer_state_to = CRO
				}

				CRO = {
					drop_cosmetic_tag = yes
					set_cosmetic_tag = CRO_croatia_slavonia_kingdom
					country_event = {
						id = WW_hungary.65
						hours = 0
					}
				}

				IF = {
					limit = {
						CRO = {
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
					puppet = CRO
				}

				hidden_effect = {
					set_country_flag = HUN_created_croatian_habsburg_monarchy
				}
			}
			ELSE_IF = {
				limit = {
					CRO = {
						exists = no
						AND = {
							109 = {
								is_owned_and_controlled_by = ROOT
							}
							103 = {
								is_owned_and_controlled_by = ROOT
							}
						}
					}
				}
				add_political_power = 50

				every_state = {
					limit = {
						OR  = {
							state = 104
							state = 804
						}
						NOT = {
							is_core_of = CRO
						}
					}
					add_core_of = CRO
				}

				CRO = {
					every_core_state = {
						limit = {
							OR = {
								is_controlled_by = ROOT
								any_country = {
									is_subject_of = ROOT
									controls_state = PREV
								}
							}
							NOT = {
								is_core_of = ROOT
							}
							NOT = {
								is_owned_and_controlled_by = CRO
							}
						}
						transfer_state_to = CRO
					}
				}

				CRO = {
					drop_cosmetic_tag = yes
					set_cosmetic_tag = CRO_croatia_slavonia_kingdom
					country_event = {
						id = WW_hungary.65
						hours = 0
					}
				}

				IF = {
					limit = {
						CRO = {
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
					puppet = CRO
				}

				hidden_effect = {
					set_country_flag = HUN_created_croatian_habsburg_monarchy
				}
			}
			ELSE_IF = {
				limit = {
					CRO = {
						exists = no
						any_other_country = {
							NOT = {
								OR = {
									is_subject_of = ROOT
									is_in_faction_with = ROOT
								}
							}
							OR = {
								owns_state = 109
								owns_state = 103
							}
						}
					}
				}

				CRO = {
					every_core_state = {
						limit = {
							NOT = {
								OR = {
									is_core_of = ROOT
									is_claimed_by = ROOT
									is_owned_by = ROOT
								}
							}
						}
						add_claim_by = ROOT
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				every_country = {
					limit = {
						NOT = {
							OR = {
								is_subject_of = ROOT
								is_in_faction_with = ROOT
								original_tag = ROOT
								original_tag = CRO
							}
						}
						OR = {
							owns_state = 109
							owns_state = 103
						}
					}
					ROOT = {
						create_wargoal = {
							type = take_claimed_state
							target = PREV
						}
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				unlock_decision_tooltip = HUN_place_a_habsburg_on_the_croatian_throne
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_state = {
				limit = {
					OR = {
						state = 45
						state = 764
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_core_of = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					AUS = {
						exists = yes
						is_subject_of = ROOT
					}
				}
				every_state = {
					limit = {
						OR = {
							state = 102
							state = 853
						}
						NOT = {
							is_core_of = AUS
						}
					}
					add_core_of = AUS
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_restore_the_lombardo_venetian_kingdom
		icon = GFX_focus_attack_italy
		prerequisite = { focus = wuw_HUN_the_triple_kingdom }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_triple_kingdom

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

			is_subject = no
			has_government = neutrality

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

				IF = {
					limit = {
						LBV = {
							exists = yes
							is_subject = no
						}
					}
					LBV = {
						country_event = {
							id = WW_hungary.69
							days = 1
							random_days = 2
						}
					}
				}
				ELSE_IF = {
					limit = {
						LBV = {
							is_subject = yes
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
					create_wargoal = {
						type = puppet_wargoal_focus
						target = LBV
					}
					unlock_decision_tooltip = HUN_place_a_habsburg_on_the_lombardo_venetian_throne
				}
				ELSE_IF = {
					limit = {
						LBV = {
							is_subject_of = ROOT
						}
					}
					add_political_power = 75
					add_stability = 0.05
					add_war_support = 0.025

					custom_effect_tooltip = generic_skip_one_line_tt

					every_state = {
						limit = {
							OR = {
								is_controlled_by = ROOT
								any_country = {
									is_subject_of = ROOT
									controls_state = PREV
								}
							}
							NOT = {
								is_core_of = ROOT
							}
							is_core_of = LBV
							NOT = {
								is_owned_and_controlled_by = LBV
							}
						}
						transfer_state_to = LBV
					}

					LBV = {
						drop_cosmetic_tag = yes
					}

					IF = {
						limit = {
							LBV = {
								NOT = {
									is_subject_of = ROOT
								}
							}
						}
						puppet = LBV
					}

					hidden_effect = {
						set_country_flag = HUN_created_lombardo_venetian_habsburg_monarchy
					}
				}
				ELSE_IF = {
					limit = {
						LBV = {
							exists = no
							AND = {
								OR = {
									160 = {
										is_owned_and_controlled_by = ROOT
									}
									any_country = {
										is_subject_of = ROOT
										controls_state = 160
									}
								}
								OR = {
									850 = {
										is_owned_and_controlled_by = ROOT
									}
									any_country = {
										is_subject_of = ROOT
										controls_state = 850
									}
								}
								OR = {
									159 = {
										is_owned_and_controlled_by = ROOT
									}
									any_country = {
										is_subject_of = ROOT
										controls_state = 159
									}
								}
							}
						}
					}
					add_political_power = 50

					LBV = {
						every_core_state = {
							limit = {
								OR = {
									is_controlled_by = ROOT
									any_country = {
										is_subject_of = ROOT
										controls_state = PREV
									}
								}
								NOT = {
									is_core_of = ROOT
								}
								NOT = {
									is_owned_and_controlled_by = LBV
								}
							}
							transfer_state_to = LBV
						}
					}

					LBV = {
						drop_cosmetic_tag = yes
					}

					IF = {
						limit = {
							LBV = {
								NOT = {
									is_subject_of = ROOT
								}
							}
						}
						puppet = LBV
					}

					hidden_effect = {
						set_country_flag = HUN_created_lombardo_venetian_habsburg_monarchy
					}
				}
				ELSE_IF = {
					limit = {
						LBV = {
							exists = no
							any_other_country = {
								NOT = {
									OR = {
										is_subject_of = ROOT
										is_in_faction_with = ROOT
									}
								}
								OR = {
									owns_state = 160
									owns_state = 850
									owns_state = 159
								}
							}
						}
					}

					LBV = {
						every_core_state = {
							limit = {
								NOT = {
									OR = {
										is_core_of = ROOT
										is_claimed_by = ROOT
										is_owned_by = ROOT
									}
								}
							}
							add_claim_by = ROOT
						}
					}

					custom_effect_tooltip = generic_skip_one_line_tt

					every_country = {
						limit = {
							NOT = {
								OR = {
									is_subject_of = ROOT
									is_in_faction_with = ROOT
									original_tag = ROOT
									original_tag = LBV
								}
							}
							OR = {
								owns_state = 160
								owns_state = 850
								owns_state = 159
							}
						}
						ROOT = {
							create_wargoal = {
								type = take_claimed_state
								target = PREV
							}
						}
					}

					custom_effect_tooltip = generic_skip_one_line_tt

					unlock_decision_tooltip = HUN_place_a_habsburg_on_the_lombardo_venetian_throne
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				IF = {
					limit = {
						AUS = {
							exists = yes
							is_subject_of = ROOT
						}
					}
					every_state = {
						limit = {
							OR = {
								state = 736
								state = 39
							}
							NOT = {
								is_core_of = AUS
							}
						}
						add_core_of = AUS
					}
				}
			}
	}

	focus = {
		id = wuw_HUN_reverse_the_risorgimento
		icon = GFX_focus_ETH_the_patriots
		prerequisite = { focus = wuw_HUN_restore_the_lombardo_venetian_kingdom }
		
		x = -2
		y = 1
		relative_position_id = wuw_HUN_restore_the_lombardo_venetian_kingdom

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			is_subject = no
			any_state = {
				is_core_of = ITA
				is_controlled_by_ROOT_or_subject = yes
			}
			ITA = {
				OR = {
					exists = no
					has_capitulated = yes
					is_subject_of = ROOT
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 100

			custom_effect_tooltip = wuw_HUN_reverse_the_risorgimento_tt
			hidden_effect = {
				IF = { #set up Sardinia-Piedmont puppet
					limit = {
						158 = {
							is_owned_or_subject_trigger = yes
						}
						114 = {
							is_owned_or_subject_trigger = yes
						}
						SPM = {
							exists = no
						}
					}
					SPM = {
						transfer_state = 158
						transfer_state = 114
						add_offsite_building = {
							type = industrial_complex
							level = 2
						}
						add_offsite_building = {
							type = arms_factory
							level = 1
						}
						add_political_power = 75
						delete_unit_template_and_units = {
							division_template = "Battaglione delle Guardie Reali"
							disband = yes #if yes, will refund equipment/manpower.
						}

						division_template = {
							name = "Battaglione delle Guardie Reali"
							division_names_group = ITA_INF_01
							role = infantry
							is_locked = no
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
								infantry = { x = 2 y = 0 }
								infantry = { x = 2 y = 1 }
								infantry = { x = 2 y = 2 }
							}
							support = {
								engineer = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}
						}

						random_state = {
							limit = {
								is_fully_controlled_by = PREV
								is_owned_by = PREV
								is_core_of = PREV
							}
							create_unit = {
							    division = "name = \"Primo Battaglione delle Guardie Reali'\" division_template = \"Battaglione delle Guardie Reali\" start_experience_factor = 0.4 start_equipment_factor = 0.9"
							    owner = PREV
							}
						}
					}
					ITA = {
						ITA_vittorio_emanuele_iii = { set_nationality = SPM }
					}
					SPM = {
						country_event = {
							id = WW_hungary.79
							hours = 0
						}
					}
					puppet = SPM
				}
				IF = { # Sardinia-Piedmont puppet can gain Corsica if you control it
					limit = {
						1 = {
							is_owned_or_subject_trigger = yes
						}
					}
					SPM = {
						transfer_state = 1
						add_state_core = 1
					}
				}
				IF = { # Sardinia-Piedmont puppet can gain Savoy if you control it
					limit = {
						735 = {
							is_owned_or_subject_trigger = yes
						}
					}
					SPM = {
						transfer_state = 735
						add_state_core = 735
					}
				}

				IF = { # Lombardy-Venetia puppet can gain Ticino if you control it
					limit = {
						AND = {
							846 = {
								is_owned_or_subject_trigger = yes
							}
							LBV = {
								is_subject_of = ROOT
							}
						}

					}
					LBV = {
						transfer_state = 846
						add_state_core = 846
					}
				}

				IF = { #set up Tuscany puppet
					limit = {
						162 = {
							is_owned_or_subject_trigger = yes
						}
						TOS = {
							exists = no
						}
					}
					TOS = {
						transfer_state = 162
						add_offsite_building = {
							type = industrial_complex
							level = 2
						}
						add_offsite_building = {
							type = arms_factory
							level = 1
						}
						add_political_power = 75
						delete_unit_template_and_units = {
							division_template = "Battaglione delle Guardie Reali"
							disband = yes #if yes, will refund equipment/manpower.
						}

						division_template = {
							name = "Battaglione delle Guardie Reali"
							division_names_group = ITA_INF_01
							role = infantry
							is_locked = no
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
								infantry = { x = 2 y = 0 }
								infantry = { x = 2 y = 1 }
								infantry = { x = 2 y = 2 }
							}
							support = {
								engineer = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}
						}

						random_state = {
							limit = {
								is_fully_controlled_by = PREV
								is_owned_by = PREV
								is_core_of = PREV
							}
							create_unit = {
							    division = "name = \"Primo Battaglione delle Guardie Reali'\" division_template = \"Battaglione delle Guardie Reali\" start_experience_factor = 0.4 start_equipment_factor = 0.9"
							    owner = PREV
							}
						}
					}
					puppet = TOS
				}

				IF = { #set up Papal puppet
					limit = {
						2 = {
							is_owned_or_subject_trigger = yes
						}
						157 = {
							is_owned_or_subject_trigger = yes
						}
						161 = {
							is_owned_or_subject_trigger = yes
						}
						PAP = {
							exists = no
						}
					}
					PAP = {
						transfer_state = 2
						transfer_state = 157
						transfer_state = 161
						add_offsite_building = {
							type = industrial_complex
							level = 2
						}
						add_offsite_building = {
							type = arms_factory
							level = 1
						}
						add_political_power = 75
						delete_unit_template_and_units = {
							division_template = "Battaglione delle Guardie Reali"
							disband = yes #if yes, will refund equipment/manpower.
						}

						division_template = {
							name = "Battaglione delle Guardie Reali"
							division_names_group = ITA_INF_01
							role = infantry
							is_locked = no
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
								infantry = { x = 2 y = 0 }
								infantry = { x = 2 y = 1 }
								infantry = { x = 2 y = 2 }
							}
							support = {
								engineer = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}
						}

						random_state = {
							limit = {
								is_fully_controlled_by = PREV
								is_owned_by = PREV
								is_core_of = PREV
							}
							create_unit = {
							    division = "name = \"Primo Battaglione delle Guardie Papa\" division_template = \"Battaglione delle Guardie Reali\" start_experience_factor = 0.4 start_equipment_factor = 0.9"
							    owner = PREV
							}
						}
					}
					ITA = {
						ITA_papa_pio_xii = { set_nationality = PAP }
					}
					PAP = {
						country_event = {
							id = WW_hungary.78
							hours = 0
						}
					}
					puppet = PAP
				}

				IF = { #set up Neapolitanian puppet
					limit = {
						117 = {
							is_owned_or_subject_trigger = yes
						}
						849 = {
							is_owned_or_subject_trigger = yes
						}
						156 = {
							is_owned_or_subject_trigger = yes
						}
						115 = {
							is_owned_or_subject_trigger = yes
						}
						TTS = {
							exists = no
						}
					}
					TTS = {
						transfer_state = 117
						transfer_state = 849
						transfer_state = 156
						transfer_state = 115
						add_offsite_building = {
							type = industrial_complex
							level = 2
						}
						add_offsite_building = {
							type = arms_factory
							level = 1
						}
						add_political_power = 75
						delete_unit_template_and_units = {
							division_template = "Battaglione delle Guardie Reali"
							disband = yes #if yes, will refund equipment/manpower.
						}

						division_template = {
							name = "Battaglione delle Guardie Reali"
							division_names_group = ITA_INF_01
							role = infantry
							is_locked = no
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
								infantry = { x = 2 y = 0 }
								infantry = { x = 2 y = 1 }
								infantry = { x = 2 y = 2 }
							}
							support = {
								engineer = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}
						}

						random_state = {
							limit = {
								is_fully_controlled_by = PREV
								is_owned_by = PREV
								is_core_of = PREV
							}
							create_unit = {
							    division = "name = \"Primo Battaglione delle Guardie Reali'\" division_template = \"Battaglione delle Guardie Reali\" start_experience_factor = 0.4 start_equipment_factor = 0.9"
							    owner = PREV
							}
						}
					}
					puppet = TTS
				}

				IF = { # Neapolitanian/two sicilies puppet can gain Malta if you control it
					limit = {
						116 = {
							is_owned_or_subject_trigger = yes
						}
					}
					TTS = {
						transfer_state = 116
						add_state_core = 116
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_reclaim_the_holy_city
		icon = GFX_focus_generic_catholic_dominion
		prerequisite = { focus = wuw_HUN_restore_the_lombardo_venetian_kingdom }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_restore_the_lombardo_venetian_kingdom

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {

			454 = {
				is_fully_controlled_by = owner
				owner = {
					NOT = {
						has_war_with = ROOT
					}
				}
			}

		}

		bypass = {
			454 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			454 = {
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = { owns_state = 454 }
					454 = {
						is_fully_controlled_by = owner
						owner = {
							NOT = {
								has_war_with = ROOT
							}
						}
					}
				}
				454 = {
					owner = {
						country_event = {
							id = WW_hungary.75
						 	hours = 6
						 	random_hours = 2
						}
					}
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					transfer_state = 454 #PALESTINE
					add_war_support = 0.03
					454 = {
						set_state_category = town
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = bunker
							level = 2
							province = 4206
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 1086
							instant_build = yes
						}
						IF = {
							limit = {
								anti_air_building < 5
							}
							add_building_construction = {
								type = anti_air_building
								level = 1
								instant_build = yes
							}
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_holy_empire
		icon = GFX_focus_generic_pope
		prerequisite = { focus = wuw_HUN_reclaim_the_holy_city }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_reclaim_the_holy_city

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

			has_government = neutrality
			454 = {
				is_owned_and_controlled_by = ROOT
			}

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_a_holy_empire_tt

			IF = {
				limit = {
					has_country_leader = {
						ruling_only = yes
						character = HUN_otto_von_habsburg
					}
				}
				add_trait = {
				    character = HUN_otto_von_habsburg
				    ideology = despotism
				    trait = blessed_monarch_trait
				}
			}

			hidden_effect = {

				IF = {
					limit = {
						AUS = {
							has_country_leader = {
								ruling_only = yes
								character = HUN_joseph_august_von_habsburg
							}
						}
					}
					AUS = {
						add_trait = {
						    character = HUN_joseph_august_von_habsburg
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						ALB = {
							has_country_leader = {
								ruling_only = yes
								character = ALB_wilhelm_of_wied
							}
						}
					}
					ALB = {
						add_trait = {
						    character = ALB_wilhelm_of_wied
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						CRO = {
							has_country_leader = {
								ruling_only = yes
								character = CRO_joseph_francis
							}
						}
					}
					CRO = {
						add_trait = {
						    character = CRO_joseph_francis
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						SPR = {
							has_country_leader = {
								ruling_only = yes
								character = SPA_karl_pius_von_habsburg
							}
						}
					}
					SPR = {
						add_trait = {
						    character = SPA_karl_pius_von_habsburg
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						CZE = {
							has_country_leader = {
								ruling_only = yes
								character = CZE_albrecht_franz
							}
						}
					}
					CZE = {
						add_trait = {
						    character = CZE_albrecht_franz
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						POL = {
							has_country_leader = {
								ruling_only = yes
								character = POL_karl_albrecht
							}
						}
					}
					POL = {
						add_trait = {
						    character = POL_karl_albrecht
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						UKR = {
							has_country_leader = {
								ruling_only = yes
								character = HUN_vasyl_vyshyvanyi
							}
						}
					}
					UKR = {
						add_trait = {
						    character = HUN_vasyl_vyshyvanyi
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						MEX = {
							has_country_leader = {
								ruling_only = yes
								character = MEX_maria_de_iturbide
							}
						}
					}
					MEX = {
						add_trait = {
						    character = MEX_maria_de_iturbide
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						LBV = {
							has_country_leader = {
								ruling_only = yes
								character = LBV_robert_von_habsburg
							}
						}
					}
					LBV = {
						add_trait = {
						    character = LBV_robert_von_habsburg
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						GEO = {
							has_country_leader = {
								ruling_only = yes
								character = GEO_george_bagration
							}
						}
					}
					GEO = {
						add_trait = {
						    character = GEO_george_bagration
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						TTS = {
							has_country_leader = {
								ruling_only = yes
								character = TTS_ferdinand_pius
							}
						}
					}
					TTS = {
						add_trait = {
						    character = TTS_ferdinand_pius
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}

				IF = {
					limit = {
						TOS = {
							has_country_leader = {
								ruling_only = yes
								character = TOS_joseph_ferdinand_von_habsburg
							}
						}
					}
					TOS = {
						add_trait = {
						    character = TOS_joseph_ferdinand_von_habsburg
						    ideology = despotism
						    trait = blessed_monarch_trait
						}
					}
				}



			}


		}
	}

	focus = {
		id = wuw_HUN_integrate_bohemian_and_austrian_industries
		icon = GFX_focus_SOV_merge_plants
		prerequisite = { focus = wuw_HUN_a_hungarian_galicia }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_a_hungarian_galicia

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

			has_government = neutrality
			is_subject = no

			OR = {
				AUS = {
					is_subject_of = ROOT
				}
				4 = {
					is_owned_and_controlled_by = ROOT
				}
			}

			OR = {
				CZE = {
					is_subject_of = ROOT
				}
				9 = {
					is_owned_and_controlled_by = ROOT
				}
			}

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				prioritize = { 4 9 43 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = CZE_skoda_armor_organization

				mio:CZE_skoda_armor_organization = {
					add_mio_size = 1
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = CZE_ckd_praga_organization

				mio:CZE_ckd_praga_organization = {
					add_mio_size = 1
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = AUS_ELIN_organization

				mio:AUS_ELIN_organization = {
					add_mio_size = 1
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = AUS_osterreichische_fleugzeugfabrik_organization

				mio:AUS_osterreichische_fleugzeugfabrik_organization = {
					add_mio_size = 1
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = AUS_stabilimento_tecnico_triestino_organization

				mio:AUS_stabilimento_tecnico_triestino_organization = {
					add_mio_size = 1
				}
				ELSE = {
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT
							is_fully_controlled_by = ROOT
						}
						prioritize = { 9 }
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT
							is_fully_controlled_by = ROOT
						}
						prioritize = { 4 }
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_multi_ethnic_empire
		icon = GFX_focus_generic_workers
		prerequisite = { focus = wuw_HUN_reclaim_the_holy_city focus = wuw_HUN_a_hungarian_galicia }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_a_hungarian_galicia

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

			has_government = neutrality

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_a_multi_ethnic_empire

		}
	}

	focus = {
		id = wuw_HUN_renovato_imperii
		icon = GFX_focus_proclaim_the_restauration_of_Austria_Hungary
		prerequisite = { focus = wuw_HUN_a_holy_empire focus = wuw_HUN_integrate_bohemian_and_austrian_industries }
		prerequisite = { focus = wuw_HUN_a_multi_ethnic_empire }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_a_multi_ethnic_empire

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

			has_government = neutrality
			is_subject = no

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			set_cosmetic_tag = HUN_EMPIRE

			custom_effect_tooltip = generic_skip_one_line_tt

			add_political_power = 100
			add_stability = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_renovato_imperii_tt

			hidden_effect = {
				news_event = { id = wtt_news.56 hours = 6 }
				set_global_flag = form_austria_hungary_flag
			}

		}
	}

	focus = {
		id = wuw_HUN_the_bastion_of_catholicism
		icon = GFX_focus_generic_vatican_state
		prerequisite = { focus = wuw_HUN_the_old_habsburg_king }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_old_habsburg_king

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = neutrality
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_bastion_of_catholicism

			IF = {
				limit = {
					AND = {
						has_dlc = "By Blood Alone"
						ITA = {
							exists = yes
							has_completed_focus = ITA_seek_papal_support
						}
					}
				}
				ITA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = embraced_catholicism
					}
				}
			}

			IF = {
				limit = {
					AND = {
						has_dlc = "La Resistance"
						POR = {
							has_completed_focus = POR_concordat_with_the_holy_see
						}
					}
				}
				POR = {
					add_opinion_modifier = {
						target = ROOT
						modifier = embraced_catholicism
					}
				}
			}

			IF = {
				limit = {
					AND = {
						has_dlc = "La Resistance"
						SPR = {
							has_completed_focus = SPA_defenders_of_catholicism
						}
					}
				}
				SPR = {
					add_opinion_modifier = {
						target = ROOT
						modifier = embraced_catholicism
					}
				}
			}

			IF = {
				limit = {
					AND = {
						has_dlc = "Trial of Allegiance"
						CHL = {
							OR = {
								has_completed_focus = CHL_repeal_the_separation_of_church_an_state
								has_completed_focus = CHL_state_catholicism
							}
						}
					}
				}
				CHL = {
					add_opinion_modifier = {
						target = ROOT
						modifier = embraced_catholicism
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_enact_agrarian_reform
		icon = GFX_focus_generic_farmland
		prerequisite = { focus = wuw_HUN_the_bastion_of_catholicism }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_bastion_of_catholicism

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = ROM_agrarian_reform

		}
	}

	focus = {
		id = wuw_HUN_honor_the_great_war_veterans
		icon = GFX_focus_HABSBURG_reform_gemeinsame_armee
		prerequisite = { focus = wuw_HUN_the_old_habsburg_king }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_the_old_habsburg_king

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = neutrality
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MILITARY_CHARACTER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = HUN_every_vitez_tt
			every_army_leader = {
				limit = {
					has_trait = trait_HUN_vitez
				}
				add_skill_level = 1
				add_attack = 1
				add_defense = 1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_war_support = 0.05

			army_experience = 25

		}
	}

	focus = {
		id = wuw_HUN_royal_hussars
		icon = GFX_focus_HABSBURG_defensive_hussars
		prerequisite = { focus = wuw_HUN_secure_army_loyalty }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_secure_army_loyalty

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = neutrality
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_MANPOWER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = { POL_royal_hussars_idea }

			custom_effect_tooltip = wuw_HUN_royal_hussars_tt
			hidden_effect = {

				delete_unit_template_and_units = {
					division_template = "Magyar Királyi Huszárok"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Magyar Királyi Huszárok"
					priority = 2
					division_names_group = HUN_CAV_01
					role = mobile
					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 0 y = 2 }

						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
						cavalry = { x = 1 y = 2 }

						cavalry = { x = 2 y = 0 }
						cavalry = { x = 2 y = 1 }
						cavalry = { x = 2 y = 2 }
					}
				}
				random_owned_controlled_state = {
					prioritize = { 43 }
					create_unit = {
						division = "name = \"1 Magyar Királyi Huszárok\" division_template = \"Magyar Királyi Huszárok\" start_experience_factor = 1.0"
						owner = HUN
					}
				}
				random_owned_controlled_state = {
					prioritize = { 43 }
					create_unit = {
						division = "name = \"2 Magyar Királyi Huszárok\" division_template = \"Magyar Királyi Huszárok\" start_experience_factor = 1.0"
						owner = HUN
					}
				}
				random_owned_controlled_state = {
					prioritize = { 43 }
					create_unit = {
						division = "name = \"3 Magyar Királyi Huszárok\" division_template = \"Magyar Királyi Huszárok\" start_experience_factor = 1.0"
						owner = HUN
					}
				}
			}


		}
	}

	focus = {
		id = wuw_HUN_purchase_burgenland
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = wuw_HUN_enact_agrarian_reform }
		#prerequisite = { focus = wuw_HUN_honor_the_great_war_veterans }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_enact_agrarian_reform

		cost = 5

		ai_will_do = {
			factor = 25
		}

		available = {
			AUS = {
				has_civil_war = no
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {

			AUS = {
				country_event = {
					id = WW_hungary.83
					hours = 2
				}
			}

			custom_effect_tooltip = if_they_accept_tt

			effect_tooltip = {
				AUS = {
					add_ideas = HUN_payments_from_hungary_idea
					add_offsite_building = {
						type = industrial_complex
						level = 2
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_political_power = -120


			}

		}
	}

	focus = {
		id = wuw_HUN_the_legacy_of_the_isonzo_front
		icon = GFX_focus_SMB_mountain_guns
		prerequisite = { focus = wuw_HUN_honor_the_great_war_veterans }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_honor_the_great_war_veterans

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = wuw_HUN_the_legacy_of_the_isonzo_front
				cost_reduction = 0.5
				uses = 2
				category = cat_grand_battle_plan
			}

			add_tech_bonus = {
				name = wuw_HUN_the_legacy_of_the_isonzo_front
				bonus = 0.25
				uses = 2
				category = artillery
			}

		}
	}

	focus = {
		id = wuw_HUN_revenge_for_the_brusilov_offensive
		icon = GFX_focus_attack_soviet
		prerequisite = { focus = wuw_HUN_the_legacy_of_the_isonzo_front }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_legacy_of_the_isonzo_front

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					SOV = {
						exists = yes
					}
				}
				add_timed_idea = {
					idea = HUN_revenge_for_brusilov_idea
					days = 730
				}	
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_vasyl_vyshivani_becomes_available_as_field_marshal_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = HUN_place_a_habsburg_on_the_ukrainian_throne_decision

		}
	}

	focus = {
		id = wuw_HUN_the_legacy_of_arpad_andrew_and_matthias
		icon = GFX_focus_HUN_the_legacy_of_arpad_andrew_and_matthias
		prerequisite = { focus = wuw_HUN_enact_agrarian_reform }
		#mutually_exclusive = { focus = wuw_HUN_seek_an_alliance_with_the_kaiser }
		x = 0
		y = 3
		relative_position_id = wuw_HUN_enact_agrarian_reform

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			surrender_progress < 0.1
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_country_leader_trait = HUN_arpads_mathhias_and_andrews_successor_trait

			every_state = {
				limit = {
					NOT = {
						OR = {
							is_claimed_by = ROOT
							is_core_of = ROOT
							is_owned_by = ROOT
						}
					}
					OR = {
						state = 664
						state = 70
						state = 71
						state = 73
						state = 76
						state = 84
						state = 83
						state = 82
						state = 764
						state = 45
						state = 109
						state = 102
						state = 853
						state = 103
						state = 163
						state = 104
						state = 804
						state = 976
						state = 4
						state = 72
						state = 972
						state = 75
						state = 762
						state = 74
						state = 67
						state = 66
						state = 9
						state = 69
					}
				}
				add_claim_by = ROOT
			}


		}
	}

	focus = {
		id = wuw_HUN_establishing_a_new_dynasty
		icon = GFX_focus_HUN_establishing_a_new_dynasty
		prerequisite = { focus = wuw_HUN_abide_by_the_little_ententes_stipulations }
		mutually_exclusive = { focus = wuw_HUN_elect_a_democratic_king focus = wuw_HUN_elect_a_fascist_king }
		x = -4
		y = 1
		relative_position_id = wuw_HUN_abide_by_the_little_ententes_stipulations

		cost = 5

		ai_will_do = {
			factor = 10
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
				NOT = { has_completed_focus = wuw_HUN_elect_a_democratic_king }
				NOT = { has_completed_focus = wuw_HUN_elect_a_fascist_king }
				NOT = { has_completed_focus = wuw_HUN_reinstate_the_pragmatic_sanction }
			}
		}

		offset = {
			x = 4
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_establishing_a_new_dynasty
			}
		}

		available = {
			has_government = neutrality
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_establishing_a_new_dynasty_tt
			country_event = {
				id = WW_hungary.90
				hours = 0
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_fascist_uprising_mission_activation_tt
			add_ideas = HUN_the_volksbund_idea
			hidden_effect = {

				activate_mission = HUN_the_incoming_fascist_civil_war_mission

				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}

			}

		}
	}

	focus = {
		id = wuw_HUN_elect_a_democratic_king
		icon = GFX_focus_HUN_elect_a_democratic_king
		prerequisite = { focus = wuw_HUN_abide_by_the_little_ententes_stipulations }
		mutually_exclusive = { focus = wuw_HUN_establishing_a_new_dynasty focus = wuw_HUN_elect_a_fascist_king }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_abide_by_the_little_ententes_stipulations

		cost = 5

		ai_will_do = {
			factor = 15
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
				NOT = { has_completed_focus = wuw_HUN_establishing_a_new_dynasty }
				NOT = { has_completed_focus = wuw_HUN_elect_a_fascist_king }
				NOT = { has_completed_focus = wuw_HUN_reinstate_the_pragmatic_sanction }
			}
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			swap_ideas = {
				add_idea = HUN_hungarian_monarchy_nice_democratic
				remove_idea = HUN_hungarian_monarchy_nice
			}

			add_ideas = HUN_dynastic_ties
			add_ideas = HUN_charles_v
			add_relation_modifier = {
				target = SWE
				modifier = HUN_dynastic_ties_license
			}

			hidden_effect = {
				add_ai_strategy = {
					type = befriend
					id = "SWE"
					value = 200
				}
				add_ai_strategy = {
					type = support
					id = "SWE"
					value = 200
				}
				SWE = {
					add_ai_strategy = {
						type = befriend
						id = "HUN"
						value = 200
					}
					add_ai_strategy = {
						type = support
						id = "HUN"
						value = 200
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_fascist_uprising_mission_activation_tt
			add_ideas = HUN_the_volksbund_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = { decision = HUN_carl_wilhelm_takes_absolute_cotrol_decision show_effect_tooltip = no }
			unlock_decision_tooltip = HUN_call_in_sweden

			hidden_effect = {

				set_cosmetic_tag = HUN_MONARCHY

				news_event = { id = news.296 }

				activate_mission = HUN_the_incoming_fascist_civil_war_mission

				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}

			}
		}
	}

	focus = {
		id = wuw_HUN_increase_economic_cooperation
		icon = GFX_focus_BRA_reach_out_to_military_dem
		prerequisite = { focus = wuw_HUN_elect_a_democratic_king }
		#mutually_exclusive = { focus = wuw_HUN_establishing_a_new_dynasty focus = wuw_HUN_elect_a_fascist_king }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_elect_a_democratic_king

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = HUN_increase_economic_cooperation_tt
			hidden_effect = {
				IF = {
					limit = {
						country_exists = ALB
						ALB = { has_opinion = { target = HUN value > 85 } }
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}
				IF = {
					limit = {
						country_exists = BUL
						BUL = { has_opinion = { target = HUN value > 85 } }
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}
				IF = {
					limit = {
						country_exists = GRE
						GRE = { has_opinion = { target = HUN value > 85 } }
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}
				IF = {
					limit = {
						country_exists = YUG
						YUG = { has_opinion = { target = HUN value > 85 } }
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}
				IF = {
					limit = {
						country_exists = AUS
						AUS = { has_opinion = { target = HUN value > 85 } }
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}
				IF = {
					limit = {
						country_exists = ROM
						ROM = { has_opinion = { target = HUN value > 85 } }
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}
				IF = {
					limit = {
						country_exists = CZE
						CZE = { has_opinion = { target = HUN value > 85 } }
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}
				IF = {
					limit = {
						country_exists = TRA
						TRA = { has_opinion = { target = HUN value > 85 } }
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}
				IF = {
					limit = {
						country_exists = SLO
						SLO = { has_opinion = { target = HUN value > 85 } }
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_elect_a_fascist_king
		icon = GFX_focus_HUN_elect_a_fascist_king
		prerequisite = { focus = wuw_HUN_abide_by_the_little_ententes_stipulations }
		mutually_exclusive = { focus = wuw_HUN_establishing_a_new_dynasty focus = wuw_HUN_elect_a_democratic_king }
		x = 4
		y = 1
		relative_position_id = wuw_HUN_abide_by_the_little_ententes_stipulations

		cost = 5

		ai_will_do = {
			factor = 10
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
				NOT = { has_completed_focus = wuw_HUN_establishing_a_new_dynasty }
				NOT = { has_completed_focus = wuw_HUN_elect_a_democratic_king }
				NOT = { has_completed_focus = wuw_HUN_reinstate_the_pragmatic_sanction }
			}
		}

		offset = {
			x = -4
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_fascist_king
			}
		}

		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			is_subject = no
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_country_leader_role = {
			    character = HUN_franz_friedrich
			    promote_leader = yes
			    country_leader = {
			        ideology = despotism
			        expire = "1965.1.1.1"
			        traits = { HUN_duke_and_king_of_mecklenburg }
			    }
			}
			hidden_effect = {
				add_country_leader_role = {
				    character = HUN_franz_friedrich
				    promote_leader = yes
				    country_leader = {
				        ideology = nazism
				        expire = "1965.1.1.1"
				        traits = { HUN_duke_and_king_of_mecklenburg }
				    }
				}
			}

			swap_ideas = {
				remove_idea = HUN_hungarian_monarchy_nice
				add_idea = HUN_hungarian_monarchy_fascist_king
			}

			61 = {
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			unlock_decision_tooltip = HUN_integrate_mecklenburg

			hidden_effect = {

				news_event = { id = news.297 }

				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}

			}
		}
	}

	focus = {
		id = wuw_HUN_volksbund_der_deutschen_in_ungarn
		icon = GFX_focus_HUN_integrate_the_volksbund
		prerequisite = { focus = wuw_HUN_elect_a_fascist_king }
		#mutually_exclusive = { focus = wuw_HUN_elect_a_fascist_king }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_elect_a_fascist_king

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}

		bypass = {
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }

		completion_reward = {

			custom_effect_tooltip = HUN_volksbund_militia_recruitment_tt

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Volksbundmiliz"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Volksbundmiliz"
					division_names_group = HUN_MIL_03
					role = garrison
					template_counter = 20
					is_locked = yes
					force_allow_recruiting = yes
					division_cap = 12
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
					support = {
					}
				}

				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_owned_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Erste Volksbundmiliz\" division_template = \"Volksbundmiliz\" start_experience_factor = 0.4 start_equipment_factor = 0.6"
					    owner = ROOT
					}
					create_unit = {
					    division = "name = \"Zweite Volksbundmiliz\" division_template = \"Volksbundmiliz\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
					    owner = ROOT
					}
					create_unit = {
					    division = "name = \"Dritte Volksbundmiliz\" division_template = \"Volksbundmiliz\" start_experience_factor = 0.2 start_equipment_factor = 0.5"
					    owner = ROOT
					}
					create_unit = {
					    division = "name = \"Vierte Volksbundmiliz\" division_template = \"Volksbundmiliz\" start_experience_factor = 0.2 start_equipment_factor = 0.5"
					    owner = ROOT
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_volksbund_good

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = franz_and_henrik_available_tt
		}
	}

	focus = {
		id = wuw_HUN_cancel_the_german_trade_deal
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = wuw_HUN_establishing_a_new_dynasty focus = wuw_HUN_elect_a_democratic_king }
		#mutually_exclusive = { focus = wuw_HUN_elect_a_democratic_king focus = wuw_HUN_elect_a_fascist_king }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_establishing_a_new_dynasty

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			has_idea = HUN_gombos_trade_treaty
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 75
			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			remove_ideas = HUN_gombos_trade_treaty

		}
	}

	focus = {
		id = wuw_HUN_establishing_a_royal_guard
		icon = GFX_focus_generic_home_defense
		prerequisite = { focus = wuw_HUN_establishing_a_new_dynasty }
		#mutually_exclusive = { focus = wuw_HUN_elect_a_democratic_king focus = wuw_HUN_elect_a_fascist_king }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_establishing_a_new_dynasty

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = neutrality
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_MANPOWER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_manpower = 15000

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_horthyist_royal_guard

			custom_effect_tooltip = generic_skip_one_line_tt

			division_template = {
				name = "Magyar Királyi Huszárok"
				priority = 2
				division_names_group = HUN_CAV_01
				role = mobile
				regiments = {
					cavalry = { x = 0 y = 0 }
					cavalry = { x = 0 y = 1 }
					cavalry = { x = 0 y = 2 }

					cavalry = { x = 1 y = 0 }
					cavalry = { x = 1 y = 1 }
				}
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 43 }
				create_unit = {
					division = "name = \"1 Magyar Királyi Huszárok\" division_template = \"Magyar Királyi Huszárok\" start_experience_factor = 1.0"
					owner = HUN
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_dissolve_the_volksbund
		icon = GFX_focus_HUN_dissolve_the_volksbund
		prerequisite = { focus = wuw_HUN_establishing_a_royal_guard }
		#mutually_exclusive = { focus = wuw_HUN_elect_a_democratic_king focus = wuw_HUN_elect_a_fascist_king }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_establishing_a_royal_guard

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {
			has_government = neutrality
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					GER = {
						exists = yes
						has_government = fascism
					}
				}
				GER = {
					add_opinion_modifier = {
						target = ROOT
						modifier = dissolved_the_volksbund_modifier
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = HUN_the_volksbund_idea
				}
				remove_ideas = HUN_the_volksbund_idea
			}

			IF = {
				limit = {
					has_completed_focus = wuw_HUN_establishing_a_new_dynasty
					NOT = {
						has_global_flag = arrow_cross_insurgency_happened
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = HUN_ban_the_volksbund_tt
			}

			IF = {
				limit = {
					has_country_leader = {
						ruling_only = yes
						character = HUN_miklos_horthy
					}
				}
				HUN_miklos_horthy = {
					remove_trait = {
					    ideology = oligarchism
					    trait = fascist_sympathies
					}
				}
			}

			set_country_flag = HUN_dissolved_the_volksbund_flag
		}
	}

	focus = {
		id = wuw_HUN_magyar_cserkeszszovetseg
		icon = GFX_focus_CHL_the_scouts_monarchist_youth_organization
		prerequisite = { focus = wuw_HUN_establishing_a_royal_guard }
		#mutually_exclusive = { focus = wuw_HUN_elect_a_democratic_king focus = wuw_HUN_elect_a_fascist_king }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_establishing_a_royal_guard

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = neutrality
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_MANPOWER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			hidden_effect = {
				swap_ideas = {
					remove_idea = HUN_horthyist_royal_guard
					add_idea = HUN_horthyist_royal_guard_and_paramilitary
				}
			}
			custom_effect_tooltip = wuw_HUN_magyar_cserkeszszovetseg_tt

			hidden_effect = {
				set_technology = {
					lotta_svard_tech = 1
					popup = no
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_mobile_army
		icon = GFX_focus_generic_mechanized
		prerequisite = { focus = wuw_HUN_magyar_cserkeszszovetseg }
		mutually_exclusive = { focus = wuw_HUN_an_airforce_to_be_reckoned_with }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_magyar_cserkeszszovetseg

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_mobile_army_efforts_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = cat_mobile_warfare
				name = wuw_HUN_a_mobile_army
			}

		}
	}

	focus = {
		id = wuw_HUN_an_airforce_to_be_reckoned_with
		icon = GFX_focus_generic_armored_air_support
		prerequisite = { focus = wuw_HUN_dissolve_the_volksbund }
		mutually_exclusive = { focus = wuw_HUN_a_mobile_army }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_dissolve_the_volksbund

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_combined_warfare_effort_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = cat_superior_firepower
				name = wuw_HUN_an_airforce_to_be_reckoned_with
			}

			add_doctrine_cost_reduction = {
				cost_reduction = 0.75
				uses = 1
				category = air_doctrine
				name = wuw_HUN_an_airforce_to_be_reckoned_with
			}

		}
	}

	focus = {
		id = wuw_HUN_royalist_education_initiative
		icon = GFX_focus_generic_university_2
		prerequisite = { focus = wuw_HUN_an_airforce_to_be_reckoned_with focus = wuw_HUN_a_mobile_army }
		#mutually_exclusive = { focus = wuw_HUN_a_mobile_army }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_an_airforce_to_be_reckoned_with

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = neutrality
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_royalist_education
		}
	}

	focus = {
		id = wuw_HUN_anglo_hungarian_alliance
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = wuw_HUN_royalist_education_initiative }
		#mutually_exclusive = { focus = wuw_HUN_a_mobile_army }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_royalist_education_initiative

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = neutrality
			is_subject = no
			is_in_faction = no
			ENG = {
				OR = {
					has_government = neutrality
					has_government = democratic
				}
				is_faction_leader = yes
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			ENG = {
				country_event = {
					id = WW_hungary.87
					days = 2
					random_days = 3
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_unifying_heritage
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = wuw_HUN_royalist_education_initiative }
		#mutually_exclusive = { focus = wuw_HUN_a_mobile_army }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_royalist_education_initiative

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = neutrality
			has_civil_war = no
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 75

			custom_effect_tooltip = generic_skip_one_line_tt

			add_stability = 0.1
			add_war_support = 0.1

		}
	}

	focus = {
		id = wuw_HUN_stage_an_uprising_in_leitha
		icon = GFX_focus_HUN_stage_an_uprising_in_leitha
		prerequisite = { focus = wuw_HUN_a_unifying_heritage }
		#mutually_exclusive = { focus = wuw_HUN_a_mobile_army }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_a_unifying_heritage

		cost = 5

		ai_will_do = {
			factor = 10
		}

		offset = {
			x = 1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		available = {
			has_war = no
			has_government = neutrality
			is_subject = no
			any_country = {
				NOT = {
					OR = {
						original_tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
				OR = {
					controls_state = 975
					owns_state = 975
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_stage_an_uprising_in_leitha_tt
			random_country = {
				limit = {
					owns_state = 975
				}
				country_event = {
					id = WW_hungary.86
					days = 2
					random_days = 3
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			975 = {
				transfer_state_to = ROOT
				add_core_of = ROOT
			}

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Rongyos Gárda"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Rongyos Gárda"
					division_names_group = HUN_MIL_01
					role = garrison
					template_counter = 90
					is_locked = yes
					force_allow_recruiting = yes
					division_cap = 12
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
				}
			}

			random_state = {
				limit = {
					state = 975
				}
				create_unit = {
				    division = "name = \"Rongyos Gárda 'Lajtabánság'\" division_template = \"Rongyos Gárda\" start_experience_factor = 0.4 start_equipment_factor = 0.6"
				    owner = ROOT
				    officer = {
				    	name = HUN_miklos_kozma
				    	portraits = {
				    		army = {
				    			large = GFX_portrait_HUN_miklos_kozma
				    			small = GFX_portrait_HUN_miklos_kozma_small
				    		}
				    	}
				    }
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_rongyos_garda_leaders_become_generals

			hidden_effect = {
				set_country_flag = HUN_secured_the_ragged_guards_flag
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = europe
						}
					}
					news_event = { id = wuw_HUN_news_events.9 }
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_declaration_of_intentions
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = wuw_HUN_a_unifying_heritage focus = wuw_HUN_the_legacy_of_arpad_andrew_and_matthias }
		#mutually_exclusive = { focus = wuw_HUN_a_mobile_army }
		x = -2
		y = 2
		relative_position_id = wuw_HUN_a_unifying_heritage

		cost = 5

		offset = {
			x = 3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_reinstate_the_pragmatic_sanction
			}
		}

		offset = {
			x = 2
			y = -1
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_the_old_habsburg_king
			}
		}

		ai_will_do = {
			factor = 20
		}

		available = {
			is_subject = no
			has_war_support > 0.79
		}

		bypass = {
			wuw_HUN_does_not_have_trianon = yes
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_threat = 2

			custom_effect_tooltip = generic_skip_one_line_tt

			HUN_remove_trianon_effect = yes

			news_event = { id = news.298 days = 1 }

		}
	}

	focus = {
		id = wuw_HUN_undoing_the_yugoslav_mistake
		icon = GFX_focus_generic_attack_yugoslavia
		prerequisite = { focus = wuw_HUN_a_declaration_of_intentions }
		#mutually_exclusive = { focus = wuw_HUN_a_mobile_army }
		x = -2
		y = 1
		relative_position_id = wuw_HUN_a_declaration_of_intentions

		will_lead_to_war_with = YUG

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			every_other_country = {
				limit = {
					NOT = {
						OR = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
					OR = {
						owns_state = 109
						owns_state = 103
						owns_state = 45
						owns_state = 764
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = PREV
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_undoing_the_yugoslav_mistake_tt

		}
	}

	focus = {
		id = wuw_HUN_reclaim_the_slovak_possessions
		icon = GFX_focus_generic_attack_slovakia
		prerequisite = { focus = wuw_HUN_a_declaration_of_intentions }
		#mutually_exclusive = { focus = wuw_HUN_a_mobile_army }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_a_declaration_of_intentions

		will_lead_to_war_with = CZE
		will_lead_to_war_with = SLO

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			every_other_country = {
				limit = {
					NOT = {
						OR = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
					OR = {
						owns_state = 664
						owns_state = 70
						owns_state = 71
						owns_state = 73
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = PREV
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_reclaim_the_slovak_possessions_tt

		}
	}

	focus = {
		id = wuw_HUN_revenge_for_1919
		icon = GFX_focus_generic_attack_romania
		prerequisite = { focus = wuw_HUN_a_declaration_of_intentions }
		#mutually_exclusive = { focus = wuw_HUN_a_mobile_army }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_a_declaration_of_intentions

		will_lead_to_war_with = ROM
		will_lead_to_war_with = TRA

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			every_other_country = {
				limit = {
					NOT = {
						OR = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
					OR = {
						owns_state = 82
						owns_state = 83
						owns_state = 84
						owns_state = 76
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = PREV
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_revenge_for_1919_tt

		}
	}

	focus = {
		id = wuw_HUN_on_a_high_horse
		icon = GFX_focus_usa_focus_on_europe
		prerequisite = { focus = wuw_HUN_revenge_for_1919 focus = wuw_HUN_reclaim_the_slovak_possessions focus = wuw_HUN_undoing_the_yugoslav_mistake }
		mutually_exclusive = { focus = wuw_HUN_a_bulwark_against_communism }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_reclaim_the_slovak_possessions

		will_lead_to_war_with = ROM
		will_lead_to_war_with = YUG
		will_lead_to_war_with = AUS
		will_lead_to_war_with = SLO
		will_lead_to_war_with = CZE
		will_lead_to_war_with = POL
		will_lead_to_war_with = SOV
		will_lead_to_war_with = UKR
		will_lead_to_war_with = MOL
		will_lead_to_war_with = CRO
		will_lead_to_war_with = SER
		will_lead_to_war_with = ISR
		will_lead_to_war_with = PAL
		will_lead_to_war_with = EGY
		will_lead_to_war_with = ENG
		will_lead_to_war_with = TUR
		will_lead_to_war_with = FRA
		will_lead_to_war_with = GRE
		will_lead_to_war_with = JOR
		will_lead_to_war_with = SUD

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			is_subject = no
			has_government = neutrality
			has_war_support > 0.90
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_apostolic_kingdom_idea

			custom_effect_tooltip = generic_skip_one_line_tt
			every_other_country = {
				limit = {
					NOT = { is_puppet_of = ROOT }
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = HUN_has_threatening_ambitions
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = embargo
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_state = {
				limit = {
					NOT = {
						OR = {
							is_claimed_by = ROOT
							is_core_of = ROOT
							is_owned_by = ROOT
							any_other_country = {
								AND = {
									is_subject_of = ROOT
									owns_state = PREV
								}
							}
						}
					}
					OR = {
						state = 664
						state = 70
						state = 71
						state = 73
						state = 76
						state = 84
						state = 83
						state = 82
						state = 764
						state = 45
						state = 109
						state = 102
						state = 853
						state = 103
						state = 163
						state = 104
						state = 804
						state = 975
						state = 976
						state = 4
						state = 152
						state = 153
						state = 848
						state = 72
						state = 972
						state = 75
						state = 762
						state = 74
						state = 67
						state = 66
						state = 9
						state = 69
						state = 88
						state = 89
						state = 91
						state = 90
						state = 81
						state = 46
						state = 80
						state = 79
						state = 78
						state = 766
						state = 551
						state = 883
						state = 457
						state = 456
						state = 907
						state = 447
						state = 446
						state = 453
						state = 454
						state = 455
						state = 553
						state = 554
						state = 677
						state = 799
						state = 183
						state = 164
						state = 116
						state = 797
						state = 199
						state = 198
						state = 201
						state = 202
						state = 203
						state = 834
						state = 192
						state = 197
						state = 259
						state = 193
						state = 226
						state = 196
						state = 200
						state = 227
						state = 221
						state = 228
						state = 218
						state = 240
						state = 225
						state = 245
						state = 260
						state = 265
						state = 234
						state = 235
						state = 232
						state = 238
						state = 237
						state = 236
						state = 217
						state = 187
					}
				}
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_country = {
				limit = {
					OR = {
						original_tag = ROM
						original_tag = YUG
						original_tag = AUS
						original_tag = SLO
						original_tag = CZE
						original_tag = POL
						original_tag = SOV
						original_tag = UKR
						original_tag = MOL
						original_tag = CRO
						original_tag = SER
						original_tag = ISR
						original_tag = PAL
						original_tag = EGY
						original_tag = ENG
						original_tag = TUR
						original_tag = FRA
						original_tag = GRE
						original_tag = JOR
						original_tag = SUD
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = PREV
					}
				}
			}

			hidden_effect = {
				news_event = { id = wuw_HUN_news_events.4 }
			}

		}
	}

	focus = {
		id = wuw_HUN_a_bulwark_against_communism
		icon = GFX_focus_ger_bulwark_against_bolshevism
		prerequisite = { focus = wuw_HUN_revenge_for_1919 focus = wuw_HUN_reclaim_the_slovak_possessions focus = wuw_HUN_undoing_the_yugoslav_mistake }
		mutually_exclusive = { focus = wuw_HUN_on_a_high_horse }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_reclaim_the_slovak_possessions

		will_lead_to_war_with = SOV

		cost = 10

		ai_will_do = {
			factor = 10
		}

		select_effect = {
			every_country = {
				limit = {
					has_government = communism
					NOT = { is_in_faction_with = ROOT }
					OR = {
						is_major = yes
						is_neighbor_of = ROOT
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {
			is_subject = no
			NOT = {
				has_government = communism
			}
			any_country = {
				has_government = communism
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
				OR = {
					is_major = yes
					is_neighbor_of = ROOT
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 120

			custom_effect_tooltip = POR_the_communist_threat_tt
			every_country = {
				limit = {
					has_government = communism
					NOT = { is_in_faction_with = ROOT }
					OR = {
						is_major = yes
						is_neighbor_of = ROOT
					}
				}
			}

			hidden_effect = {
				every_country = {
					limit = {
						has_government = communism
						NOT = {
							OR = {
								is_in_faction_with = ROOT
								is_subject_of = ROOT
							}
						}
						OR = {
							is_major = yes
							is_neighbor_of = ROOT
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
						create_wargoal = {
							type = topple_government
							target = PREV
						}
					}
				}
			}
		}
	}

	focus = {
		id = wuw_HUN_a_responsible_government
		icon = GFX_goal_support_democracy
		prerequisite = { focus = wuw_HUN_elect_a_democratic_king }
		#mutually_exclusive = { focus = wuw_HUN_on_a_high_horse }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_elect_a_democratic_king

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			democratic > 0.35
			is_subject = no
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			set_politics = {
				ruling_party = democratic
				elections_allowed = yes
				last_election = "1936.1.1"
				election_frequency = 48
			}		
			hold_election = HUN

			custom_effect_tooltip = generic_skip_one_line_tt

			swap_ideas = {
				add_idea = HUN_hungarian_monarchy_nice_democratic_2
				remove_idea = HUN_hungarian_monarchy_nice_democratic
			}

			hidden_effect = {
				remove_opinion_modifier = {
					target = CZE
					modifier = BFTB_incongruous_neighbors
				}
				remove_opinion_modifier = {
					target = ROM
					modifier = BFTB_incongruous_neighbors
				}
				remove_opinion_modifier = {
					target = YUG
					modifier = BFTB_incongruous_neighbors
				}
				every_country = {
					limit = {
						has_opinion_modifier = BFTB_balkan_pact_enemy
					}
					remove_opinion_modifier = {
						target = HUN
						modifier = BFTB_balkan_pact_enemy
					}
				}
			}

			IF = {
				limit = {
					FRA = {
						exists = yes
						is_subject = no
						has_completed_focus = FRA_strengthen_the_little_entente
					}
				}
				FRA = { country_event = { id = DOD_hungary.30 } }
			}
			IF = {
				limit = {
					country_exists = ROM
					OR = {
						FRA = { NOT = { has_completed_focus = FRA_strengthen_the_little_entente } }
						FRA = { exists = no }
						FRA = { is_subject = yes }
					}
				}
				ROM = { country_event = { id = DOD_hungary.30 } }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_lennart_bernadotte
		}
	}

	focus = {
		id = wuw_HUN_guarantee_religious_liberties
		icon = GFX_focus_generic_court
		prerequisite = { focus = wuw_HUN_a_responsible_government }
		#mutually_exclusive = { focus = wuw_HUN_on_a_high_horse }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_a_responsible_government

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = { 

			add_political_power = 75
			add_stability = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_scientist_influx_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.5
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = available_scientist_one_line_tt
				CHARACTER = HUN_edward_teller
			}	
			custom_effect_tooltip = {
				localization_key = available_scientist_one_line_tt
				CHARACTER = HUN_john_von_neumann
			}	
			custom_effect_tooltip = {
				localization_key = available_scientist_one_line_tt
				CHARACTER = HUN_leo_szilard
			}	

		}
	}

	focus = {
		id = wuw_HUN_the_balkan_pact
		icon = GFX_focus_invite_romania
		prerequisite = { focus = wuw_HUN_guarantee_religious_liberties }
		mutually_exclusive = { focus = wuw_HUN_join_the_allies }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_guarantee_religious_liberties

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			is_in_faction = no
			is_subject = no
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 75
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			set_rule = { can_create_factions = yes }
			create_faction = HUN_BALKAN_FACTION

			IF = {
				limit = {
					ROM = {
						is_in_faction = no
						is_subject = no
						OR = {
							has_government = democratic
							has_government = neutrality
						}
					}
				}
				custom_effect_tooltip = wuw_HUN_the_balkan_pact_invitation_tt
				hidden_effect = {
					ROM = { country_event = generic.5 }
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_the_balkan_pact_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = HUN_unite_hungary_romania_decision

		}
	}

	focus = {
		id = wuw_HUN_join_the_allies
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = wuw_HUN_guarantee_religious_liberties }
		mutually_exclusive = { focus = wuw_HUN_the_balkan_pact }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_guarantee_religious_liberties

		cost = 5

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				ENG = { has_capitulated = yes }
			}
			modifier = {
				factor = 0.2
				ENG = { surrender_progress > 0.2 }
			}
		}

		available = {
			is_in_faction = no
			is_subject = no
			ENG = {
				exists = yes
				is_puppet = no
				NOT = {
					has_war_with = HUN
				}
			}
			any_other_country = {
				is_major = yes
				is_faction_leader = yes
				OR = {
					AND = {
						original_tag = ENG
						OR = {
							has_government = democratic
							has_government = neutrality
						}
					}
					has_government = democratic
				}
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = HUN
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					ENG = {
						OR = {
							has_government = democratic
							has_government = neutrality
						}
						is_faction_leader = yes
						not = { has_war_with = ROOT }
					}
				}
				ENG = { country_event = generic.2 }
			}
			ELSE = {
				get_best_alliance_match_democratic_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_joint_oil_exploitation_company
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = wuw_HUN_join_the_allies }
		#mutually_exclusive = { focus = wuw_HUN_the_balkan_pact }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_join_the_allies

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			is_in_faction_with = ENG
			ENG = {
				is_faction_leader = yes
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_to_tech_sharing_group = HUN_joint_oil_exploitation_company_tech_group
			ENG = { add_to_tech_sharing_group = HUN_joint_oil_exploitation_company_tech_group }

			custom_effect_tooltip = generic_skip_one_line_tt

			974 = {
				add_resource = {
					type = oil
					amount = 32
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_hold_territorial_referendums
		icon = GFX_focus_SWE_refuge_from_war
		prerequisite = { focus = wuw_HUN_the_balkan_pact focus = wuw_HUN_join_the_allies }
		#mutually_exclusive = { focus = wuw_HUN_join_the_allies }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_the_balkan_pact

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			is_subject = no
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 100

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_hold_territorial_referendums_tt

		}
	}

	focus = {
		id = wuw_HUN_strengthen_horthys_reign
		icon = GFX_focus_HUN_strengthen_horthys_reign
		prerequisite = { focus = wuw_HUN_continue_the_regency }
		mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = -2
		y = 1
		relative_position_id = wuw_HUN_continue_the_regency

		cost = 5

		ai_will_do = {
			factor = 15
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_end_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
				NOT = { has_completed_focus = wuw_HUN_undermine_the_admiral }
			}
		}

		offset = {
			x = 2
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_strengthen_horthys_reign
			}
		}

		available = {
			has_country_leader = {
				ruling_only = yes
				character = HUN_miklos_horthy
			}
		}

		bypass = {
			#NOT = {
			#	has_country_leader = {
			#		ruling_only = yes
			#		character = HUN_miklos_horthy
			#	}
			#}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			HUN_miklos_horthy = {
				swap_country_leader_traits = {
				    remove = HUN_the_regent
				    add = HUN_the_regent_2
				    ideology = oligarchism
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_kalman_daranyi

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = wuw_HUN_undermine_the_admiral
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = wuw_HUN_continue_the_regency }
		mutually_exclusive = { focus = wuw_HUN_strengthen_horthys_reign }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_continue_the_regency

		cost = 5

		ai_will_do = {
			factor = 5
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_end_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_white_terror }
				NOT = { has_completed_focus = wuw_HUN_strengthen_horthys_reign }
			}
		}

		offset = {
			x = -2
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_undermine_the_admiral
			}
		}

		available = {
			has_country_leader = {
				ruling_only = yes
				character = HUN_miklos_horthy
			}
		}

		bypass = {
			has_government = fascism
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}

			add_stability = -0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			HUN_miklos_horthy = {
				swap_country_leader_traits = {
				    remove = HUN_the_regent
				    add = HUN_the_regent_undermined
				    ideology = oligarchism
				}
			}

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_reestablish_the_rongyos_garda
		icon = GFX_focus_HUN_reestablish_the_rongyos_garda
		prerequisite = { focus = wuw_HUN_strengthen_horthys_reign focus = wuw_HUN_undermine_the_admiral }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 2
		y = 2
		relative_position_id = wuw_HUN_strengthen_horthys_reign

		cost = 10

		ai_will_do = {
			factor = 10
		}

		offset = {
			x = -2
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_undermine_the_admiral
			}
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_manpower = 16000

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_rongyos_garda_militia_recruitment

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Rongyos Gárda"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Rongyos Gárda"
					division_names_group = HUN_MIL_01
					role = garrison
					template_counter = 90
					is_locked = yes
					force_allow_recruiting = yes
					division_cap = 12
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
				}

				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Rongyos Gárda 'Lajtabánság'\" division_template = \"Rongyos Gárda\" start_experience_factor = 0.4 start_equipment_factor = 0.6"
					    owner = ROOT
					    officer = {
					    	name = HUN_miklos_kozma
					    	portraits = {
					    		army = {
					    			large = GFX_portrait_HUN_miklos_kozma
					    			small = GFX_portrait_HUN_miklos_kozma_small
					    		}
					    	}
					    }
					}
					create_unit = {
					    division = "name = \"Rongyos Gárda 'Sopron'\" division_template = \"Rongyos Gárda\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
					    owner = ROOT
					    officer = {
					    	name = HUN_ivan_hejjas
					    	portraits = {
					    		army = {
					    			large = GFX_portrait_HUN_ivan_hejjas
					    			small = GFX_portrait_HUN_ivan_hejjas_small
					    		}
					    	}
					    }
					}
					create_unit = {
					    division = "name = \"Rongyos Gárda 'Komárno'\" division_template = \"Rongyos Gárda\" start_experience_factor = 0.2 start_equipment_factor = 0.5"
					    owner = ROOT
					    officer = {
					    	name = HUN_huszein_durics_hilmi
					    }
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_rongyos_garda_leaders_become_generals

		}
	}

	focus = {
		id = wuw_HUN_strenghten_the_order_of_vitez
		icon = GFX_focus_HUN_strenghten_the_order_of_vitez
		prerequisite = { focus = wuw_HUN_strengthen_horthys_reign }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_strengthen_horthys_reign

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_country_leader = {
				ruling_only = yes
				character = HUN_miklos_horthy
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {

			custom_effect_tooltip = HUN_every_vitez_tt
			every_army_leader = {
				limit = {
					has_trait = trait_HUN_vitez
				}
				add_attack = 1
				add_defense = 1
			}

		}
	}

	focus = {
		id = wuw_HUN_pass_statute_xix
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = { focus = wuw_HUN_strengthen_horthys_reign }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_strengthen_horthys_reign

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			add_political_power = 50

			add_ideas = HUN_power_to_the_regent_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			#custom_effect_tooltip = wuw_HUN_horthy_field_marshal_tt
#
			#custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_magdolna_purgly
		}
	}

	focus = {
		id = wuw_HUN_restrict_voting_rights
		icon = GFX_focus_usa_voter_registration_act
		prerequisite = { focus = wuw_HUN_pass_statute_xix }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_pass_statute_xix

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_political_power = 75

			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = HUN_restricted_voting_rights
				days = 360
			}

		}
	}

	focus = {
		id = wuw_HUN_absolute_rule_of_the_national_unity_party
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = wuw_HUN_restrict_voting_rights }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_restrict_voting_rights

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_political_power = 75

			add_stability = 0.15

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = {
				ideology = communism
				popularity = -0.1
			}

			add_popularity = {
				ideology = democratic
				popularity = -0.1
			}

		}
	}

	focus = {
		id = wuw_HUN_outlaw_the_party_of_national_will
		icon = GFX_focus_HUN_outlaw_the_party_of_national_will
		prerequisite = { focus = wuw_HUN_pass_statute_xix }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_pass_statute_xix

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			has_country_flag = HUN_gombos_has_died_flag
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_stability = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = HUN_crackdown_on_extremism
				days = 728
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			set_party_name = {
				ideology = fascism
				long_name = HUN_arrow_cross_party_hungarist_movement_long
				name = HUN_arrow_cross_party_hungarist_movement
			}	

		}
	}

	focus = {
		id = wuw_HUN_spur_on_the_trianon_trauma
		icon = GFX_focus_ETH_freedom_at_gunpoint
		prerequisite = { focus = wuw_HUN_outlaw_the_party_of_national_will }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_outlaw_the_party_of_national_will

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_country_leader = {
				ruling_only = yes
				character = HUN_miklos_horthy
			}
		}

		bypass = {
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = HUN_miklos_horthy
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			HUN_miklos_horthy = {
				swap_country_leader_traits = {
				    remove = HUN_the_regent_2
				    add = HUN_the_regent_3
				    ideology = oligarchism
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_manpower = 14000

		}
	}

	focus = {
		id = wuw_HUN_renounce_the_treaty_of_trianon
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = wuw_HUN_spur_on_the_trianon_trauma focus = wuw_HUN_elect_a_fascist_king }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_spur_on_the_trianon_trauma

		cost = 5

		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -4
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_fascist_king
			}
		}

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {
			AND = {
				wuw_HUN_does_not_have_trianon = yes
				NOT = {
					has_idea = HUN_bled_agreement_wuw
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_threat = 1

			IF = {
				limit = {
					FRA = {
						has_completed_focus = FRA_strengthen_the_little_entente
						exists = yes
						is_subject = no
					}
				}
				FRA = {
					country_event = {
						id = DOD_hungary.40
						days = 1
					}
				}
			}

			IF = {
				limit = {
					OR = {
						NOT = {
							FRA = {
								has_completed_focus = FRA_strengthen_the_little_entente
							}
						}
						FRA = {
							exists = no
						}
						FRA = {
							is_subject = yes
						}
						ROM = {
							exists = yes
						}
					}
				}
				#Romania gets the event if France not engaged in Balkans
				ROM = {
					country_event = {
						id = DOD_hungary.40
						days = 1
					}
				}
				ELSE = {
					HUN_remove_trianon_effect = yes
					news_event = { id = news.298 days = 1 }
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = disarmed_nation
				}
				swap_ideas = {
					remove_idea = disarmed_nation
					add_idea = volunteer_only
				}
			}



		}
	}

	focus = {
		id = wuw_HUN_the_hungarian_life_and_renewal_party
		icon = GFX_focus_HUN_the_hungarian_life_and_renewal_party
		prerequisite = { focus = wuw_HUN_absolute_rule_of_the_national_unity_party focus = wuw_HUN_elect_a_fascist_king }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_absolute_rule_of_the_national_unity_party

		cost = 5

		ai_will_do = {
			factor = 15
		}

		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -4
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_fascist_king
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			IF = {
				limit = {
					has_country_leader = {
						ruling_only = yes
						character = HUN_miklos_horthy
					}
				}
				swap_ideas = {
					remove_idea = HUN_power_to_the_regent_idea
					add_idea = HUN_more_power_to_the_regent_idea
				}
			}
			ELSE = {
				add_political_power = 75
				add_war_support = 0.05
				add_stability = 0.02
			}

		}
	}

	focus = {
		id = wuw_HUN_act_of_defense
		icon = GFX_goal_generic_defence
		#prerequisite = { focus = wuw_HUN_the_hungarian_renewal_party }
		prerequisite = { focus = wuw_HUN_renounce_the_treaty_of_trianon }
		prerequisite = { focus = wuw_HUN_the_hungarian_life_and_renewal_party }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_hungarian_life_and_renewal_party

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_war_support = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = HUN_levente_associations
				}
				swap_ideas = {
					remove_idea = HUN_levente_associations
					add_idea = HUN_levente_associations_act_of_defense
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = HUN_levente_associations_secret_rearmament
				}
				swap_ideas = {
					remove_idea = HUN_levente_associations_secret_rearmament
					add_idea = HUN_levente_associations_act_of_defense_and_secret_rearmament
				}
			}



			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_istvan_horthy
		}
	}

	focus = {
		id = wuw_HUN_integrate_the_volksbund
		icon = GFX_focus_HUN_integrate_the_volksbund
		prerequisite = { focus = wuw_HUN_undermine_the_admiral }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_undermine_the_admiral

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
		}

		bypass = {
			OR = {
				has_government = fascism
				NOT = {
					has_country_leader = {
						ruling_only = yes
						character = HUN_miklos_horthy
					}
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_ideas = HUN_volksbund_good

			IF = {
				limit = {
					GER = {
						has_government = fascism
					}
				}
				GER = {
					add_opinion_modifier = {
						target = ROOT
						modifier = medium_increase
					}	
				}
			}
		}
	}

	focus = {
		id = wuw_HUN_empower_the_greenshirts
		icon = GFX_focus_generic_fascist_troops
		prerequisite = { focus = wuw_HUN_undermine_the_admiral }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_undermine_the_admiral

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {
			OR = {
				has_government = fascism
				NOT = {
					has_country_leader = {
						ruling_only = yes
						character = HUN_miklos_horthy
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_MANPOWER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_manpower = 12000

			custom_effect_tooltip = generic_skip_one_line_tt

			swap_ideas = {
				remove_idea = HUN_hungarian_national_defense_association
				add_idea = HUN_hungarian_national_defense_association_greenshirts
			}

		}
	}

	focus = {
		id = wuw_HUN_the_march_on_budapest
		icon = GFX_focus_ITA_generic_fascist_workers
		prerequisite = { focus = wuw_HUN_empower_the_greenshirts }
		prerequisite = { focus = wuw_HUN_integrate_the_volksbund }
		#mutually_exclusive = { focus = wuw_HUN_empower_the_greenshirts }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_empower_the_greenshirts

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			NOT = {
				has_government = fascism
			}
			is_subject = no
		}

		bypass = {
			has_government = fascism
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			country_event = {
				id = WW_hungary.102
				hours = 0
			}

		}
	}

	focus = {
		id = wuw_HUN_government_of_national_unity
		icon = GFX_focus_HUN_government_of_national_unity
		prerequisite = { focus = wuw_HUN_the_march_on_budapest }
		#mutually_exclusive = { focus = wuw_HUN_the_march_on_budapest }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_march_on_budapest

		cost = 5

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						has_government = fascism
					}
				}

				country_event = {
					id = WW_hungary.103
					hours = 0
				}

			}
			ELSE_IF = {
				limit = {
					has_government = fascism
				}

				add_trait = {
				    character = HUN_ferenc_szalasi
				    ideology = nazism
				    trait = HUN_nemzetvezeto_trait
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_threat = 1
				set_party_name = {
					ideology = fascism
					long_name = HUN_arrow_cross_party_hungarist_movement_long
					name = HUN_arrow_cross_party_hungarist_movement
				}	

				custom_effect_tooltip = generic_skip_one_line_tt

				HUN_remove_trianon_effect = yes

				hidden_effect = {
					news_event = { id = news.298 days = 1 }
				}

			}

		}
	}

	focus = {
		id = wuw_HUN_the_turul_association
		icon = GFX_focus_HUN_the_turul_association
		prerequisite = { focus = wuw_HUN_absolute_rule_of_the_national_unity_party focus = wuw_HUN_government_of_national_unity focus = wuw_HUN_spur_on_the_trianon_trauma focus = wuw_HUN_elect_a_fascist_king }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = -3
		y = 1
		relative_position_id = wuw_HUN_government_of_national_unity

		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -4
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_fascist_king
			}
		}

		offset = {
			x = 2
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_strengthen_horthys_reign
			}
		}

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_ideas = HUN_turul_association_idea

		}
	}

	focus = {
		id = wuw_HUN_carrying_on_arpads_legacy
		icon = GFX_focus_HUN_carrying_on_arpads_legacy
		prerequisite = { focus = wuw_HUN_the_turul_association }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_the_turul_association

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_country_leader_trait = HUN_arpads_successor_trait

		}
	}

	focus = {
		id = wuw_HUN_institute_corporatism
		icon = GFX_focus_ICE_state_corporatism
		prerequisite = { focus = wuw_HUN_government_of_national_unity }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_government_of_national_unity

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = fascism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			add_stability = -0.05
			add_popularity = {
				ideology = fascism
				popularity = 0.15
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_roman_catholic_state
		icon = GFX_focus_por_concordat
		prerequisite = { focus = wuw_HUN_government_of_national_unity }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 3
		y = 1
		relative_position_id = wuw_HUN_government_of_national_unity

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = fascism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_ideas = HUN_roman_catholic_society_idea
		}
	}

	focus = {
		id = wuw_HUN_incorporate_the_hungarian_life_movement
		icon = GFX_focus_HUN_incorporate_the_hungarian_life_movement
		prerequisite = { focus = wuw_HUN_a_roman_catholic_state }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_a_roman_catholic_state

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = fascism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {

			swap_ideas = {
				remove_idea = HUN_roman_catholic_society_idea
				add_idea = HUN_hungarian_life_movement_idea
			}

		}
	}

	focus = {
		id = wuw_HUN_heirs_of_the_huns
		icon = GFX_focus_generic_fascist_propaganda
		prerequisite = { focus = wuw_HUN_institute_corporatism }
		prerequisite = { focus = wuw_HUN_the_turul_association }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_the_turul_association

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = fascism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_heirs_of_the_huns_idea
		}
	}

	focus = {
		id = wuw_HUN_sway_the_count
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = wuw_HUN_institute_corporatism focus = wuw_HUN_a_roman_catholic_state }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_institute_corporatism

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			hidden_effect = {
				remove_trait = {
				    character = HUN_fidel_palffy
				    slot = political_advisor
				    trait = nazi_sympathizer
				}
			}

			add_trait = {
			    character = HUN_fidel_palffy
			    slot = political_advisor
			    trait = HUN_the_national_socialist_count
			}

			hidden_effect = {

				IF = {
					limit = {
						NOT = {
							has_idea = HUN_fidel_palffy
						}

						amount_taken_ideas = {
						    amount < 3
						    slots = {
						        political_advisor
						    }
						}
					}
					add_ideas = HUN_fidel_palffy
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						has_idea = HUN_fidel_palffy
					}

					amount_taken_ideas = {
					    amount < 3
					    slots = {
					        political_advisor
					    }
					}
				}
				custom_effect_tooltip = HUN_hire_fidel_palffy_tt
			}

		}
	}

	focus = {
		id = wuw_HUN_wherever_the_cross_points
		icon = GFX_focus_HUN_wherever_the_cross_points
		prerequisite = { focus = wuw_HUN_heirs_of_the_huns focus = wuw_HUN_sway_the_count }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_heirs_of_the_huns

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = fascism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_timed_idea = {
				idea = HUN_arrow_cross_idea
				days = 800
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			set_party_name = { 
				ideology = fascism 
				long_name = HUN_arrow_cross_party_long 
				name = HUN_arrow_cross_party 
			}
		}
	}

	focus = {
		id = wuw_HUN_the_war_on_atheism
		icon = GFX_focus_mex_restore_the_army_of_christ
		prerequisite = { focus = wuw_HUN_a_roman_catholic_state }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_a_roman_catholic_state

		will_lead_to_war_with = SOV

		cost = 10

		ai_will_do = {
			factor = 2
		}

		select_effect = {
			every_country = {
				limit = {
					has_government = communism
					NOT = { is_in_faction_with = ROOT }
					OR = {
						is_major = yes
						is_neighbor_of = ROOT
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {
			has_government = fascism
			is_subject = no
			any_country = {
				has_government = communism
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
				OR = {
					is_major = yes
					is_neighbor_of = ROOT
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_popularity = {
				ideology = fascism
				popularity = 0.15
			}

			custom_effect_tooltip = POR_the_communist_threat_tt
			every_country = {
				limit = {
					has_government = communism
					NOT = { is_in_faction_with = ROOT }
					OR = {
						is_major = yes
						is_neighbor_of = ROOT
					}
				}
			}

			hidden_effect = {
				every_country = {
					limit = {
						has_government = communism
						NOT = {
							OR = {
								is_in_faction_with = ROOT
								is_subject_of = ROOT
							}
						}
						OR = {
							is_major = yes
							is_neighbor_of = ROOT
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
						create_wargoal = {
							type = topple_government
							target = PREV
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_promote_hungarianism
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = wuw_HUN_act_of_defense focus = wuw_HUN_wherever_the_cross_points }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_act_of_defense

		offset = {
			x = 1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_fascist_king
			}
		}

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_ideas = HUN_promoted_hungarianism
			
			IF = {
				limit = {
					has_completed_focus = wuw_HUN_outlaw_the_party_of_national_will
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				set_party_name = { 
					ideology = fascism 
					long_name = HUN_arrow_cross_party_long 
					name = HUN_arrow_cross_party 
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_strengthen_the_turani_vadaszok
		icon = GFX_focus_generic_limited_social_mobilization
		# GFX_focus_TUR_turanist_ambition
		prerequisite = { focus = wuw_HUN_promote_hungarianism }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_promote_hungarianism

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = wuw_HUN_strengthen_the_turani_vadaszok_requirement_tt
				OR = {
					has_idea = HUN_hungarian_national_defense_association
					has_idea = HUN_hungarian_national_defense_association_horthyist
					has_idea = HUN_hungarian_national_defense_association_greenshirts
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {

			IF = {
				limit = {
					has_idea = HUN_hungarian_national_defense_association
				}
				swap_ideas = {
					remove_idea = HUN_hungarian_national_defense_association
					add_idea = HUN_hungarian_national_defense_association_turan_hunters
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = HUN_hungarian_national_defense_association_horthyist
				}
				swap_ideas = {
					remove_idea = HUN_hungarian_national_defense_association_horthyist
					add_idea = HUN_hungarian_national_defense_association_horthyist_turan_hunters
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = HUN_hungarian_national_defense_association_greenshirts
				}
				swap_ideas = {
					remove_idea = HUN_hungarian_national_defense_association_greenshirts
					add_idea = HUN_hungarian_national_defense_association_greenshirts_turan_hunters
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					TUR = {
						exists = yes
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				add_opinion_modifier = {
					target = TUR
					modifier = turanist_connections_op_modifier
				}
				TUR = {
					add_opinion_modifier = {
						target = ROOT
						modifier = turanist_connections_op_modifier
					}
				}
			}


			hidden_effect = {
				mark_focus_tree_layout_dirty = yes
			}

		}
	}

	focus = {
		id = wuw_HUN_our_ancestral_lands
		icon = GFX_focus_usa_focus_on_asia
		prerequisite = { focus = wuw_HUN_strengthen_the_turani_vadaszok }
		prerequisite = { focus = wuw_HUN_wherever_the_cross_points }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_strengthen_the_turani_vadaszok

		cost = 10

		ai_will_do = {
			factor = 5
		}

		allow_branch = {
			has_dlc = "Gotterdammerung"
			has_completed_focus = wuw_HUN_wherever_the_cross_points
			has_completed_focus = wuw_HUN_strengthen_the_turani_vadaszok
		}

		available = {
			has_government = fascism
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_stability = -0.15
			add_war_support = 0.05

			every_state = {
				limit = {
					NOT = {
						OR = {
							is_core_of = ROOT
							is_owned_by = ROOT
							is_claimed_by = ROOT
						}
					}
					OR = {
						region = 27
						region = 26
						region = 130
						region = 135
						region = 137
						region = 134
						region = 129
						region = 267
						region = 40
						region = 264
						region = 263
						region = 278
						region = 13
						region = 277
						region = 265
						region = 12
						region = 276
						region = 191
						region = 270
						region = 269
						region = 268
						region = 136
						region = 261
						region = 138
						region = 14
						region = 151
						region = 262
						region = 147
						region = 149
						region = 260
						region = 259
						region = 28
					}
				}
				add_claim_by = ROOT
			}

		}
	}

	focus = {
		id = wuw_HUN_reaffirm_territorial_claims
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = wuw_HUN_promote_hungarianism }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_promote_hungarianism

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_war_support > 0.7
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			every_state = {
				limit = {
					NOT = {
						OR = {
							is_core_of = ROOT
							is_claimed_by = ROOT
							is_owned_by = ROOT
						}
					}
					OR = {
						state = 664
						state = 73
						state = 71
						state = 70
						state = 76
						state = 84
						state = 83
						state = 82
						state = 764
						state = 45
						state = 975
					}
				}
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_reaffirm_territorial_claims_tt

		}
	}

	focus = {
		id = wuw_HUN_demand_croatian_reintigration
		icon = GFX_focus_YUG_devolved_croatia
		prerequisite = { focus = wuw_HUN_reaffirm_territorial_claims }
		prerequisite = { focus = wuw_HUN_wherever_the_cross_points }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 3
		y = 4
		relative_position_id = wuw_HUN_wherever_the_cross_points

		will_lead_to_war_with = YUG
		will_lead_to_war_with = CRO

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = fascism
			is_subject = no
			is_in_faction = yes
			any_other_country = {
				OR = {
					owns_state = 109
					owns_state = 103
				}
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			every_state = {
				limit = {
					OR = {
						state = 109
						state = 103
					}
					NOT = {
						OR = {
							is_claimed_by = ROOT
							is_core_of = ROOT
							is_owned_by = ROOT
						}
					}
				}
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_demands_tt
			every_other_country = {
				limit = {
					AND = {
						OR = {
							controls_state = 109
							controls_state = 103
						}
						NOT = {
							OR = {
								has_war_with = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				country_event = {
					id = WW_hungary.104
					days = 2
					random_days = 3
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_demand_southern_slovakia
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = wuw_HUN_reaffirm_territorial_claims }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = -2
		y = 1
		relative_position_id = wuw_HUN_reaffirm_territorial_claims

		will_lead_to_war_with = CZE
		will_lead_to_war_with = SLO

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

			is_subject = no

			664 = {
				NOT = {
					OR = {
						is_owned_by = ROOT
						is_controlled_by = ROOT
					}
				}
			}

			IF = {
				limit = {
					country_exists = CZE
					664 = { is_owned_by = CZE }
				}
				strength_ratio = { tag = CZE ratio > 0.75 }
			}
			IF = {
				limit = {
					country_exists = SLO
					664 = { is_owned_by = SLO }
				}
				strength_ratio = { tag = SLO ratio > 0.75 }
			}

			has_army_manpower = { size > 120000 }

		}

		bypass = {

			OR = {
				owns_state = 664
				controls_state = 664
				664 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
			}

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			custom_effect_tooltip = HUN_demands_tt
			IF = {
				limit = {
					CZE = {
						exists = yes
						owns_state = 664
					}
				}
				IF = {
					limit = {
						CZE = { is_subject = yes }
					}
					create_wargoal = {
						type = take_state_focus
						target = CZE
						expire = 0
						generator = { 664 }
					}
					ELSE = {
						CZE = { country_event = DOD_hungary.80 }
					}
				}
			}
			ELSE_IF = {
				limit = {
					SLO = {
						exists = yes
						owns_state = 664
					}
				}
				SLO = { country_event = DOD_hungary.80 }
			}
			ELSE_IF = {
				limit = {
					664 = {
						NOT = {
							OR = {
								is_owned_by = SLO
								is_owned_by = CZE
								is_owned_by = ROOT
							}
						}
					}
				}
				random_country = {
					limit = {
						owns_state = 664
					}
					country_event = {
						id = WW_hungary.7
						days = 2
						random_days = 3
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_demand_carpathian_ruthenia
		icon = GFX_focus_HUN_demand_carpathian_ruthenia
		prerequisite = { focus = wuw_HUN_reaffirm_territorial_claims }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_reaffirm_territorial_claims

		will_lead_to_war_with = CZE
		will_lead_to_war_with = SLO
		will_lead_to_war_with = UKR

		available = {

			is_subject = no

			73 = {
				NOT = {
					is_owned_by = ROOT
				}
			}

			IF = {
				limit = {
					73 = {
						is_owned_by = CZE
					}
				}
				strength_ratio = { tag = CZE ratio > 0.70 }
			}

			has_army_manpower = { size > 150000 }

		}

		bypass = {

			OR = {
				owns_state = 73
				73 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
			}

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = HUN_demands_tt
			random_country = {
				limit = {
					owns_state = 73
				}
				country_event = {
					id = WW_hungary.20
					days = 2
					random_days = 3
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_demand_transylvania
		icon = GFX_focus_YUG_autonomous_transylvania
		prerequisite = { focus = wuw_HUN_reaffirm_territorial_claims }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_reaffirm_territorial_claims

		will_lead_to_war_with = ROM
		will_lead_to_war_with = TRA

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {

			is_subject = no
			has_army_manpower = { size > 200000 }

			NOT = {
				OR = {
					76 = {
						is_owned_by = ROOT
					}
					83 = {
						is_owned_by = ROOT
					}
					84 = {
						is_owned_by = ROOT
					}
				}
			}

			76 = {
				OWNER = {
					NOT = {
						OR = {
							is_in_faction_with = ROOT
							has_war_with = ROOT
						}
					}
				}
			}

			IF = {
				limit = {
					ROM = {
						owns_state = 76
					}
				}
				strength_ratio = { tag = ROM ratio > 0.66 }
			}


		}

		bypass = {

			OR = {
				76 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
				76 = {
					is_owned_by = ROOT
				}
			}

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			IF = {
				limit = {
					76 = {
						is_owned_by = ROM
					}
				}
				custom_effect_tooltip = HUN_demands_tt
				ROM = { 
					country_event = { 
						id = DOD_hungary.50 
						hours = 6
						random_hours = 12
					} 
				}
				hidden_effect = {
					news_event = { 
						id = news.300 
						hours = 4
					}
				}
			}

			ELSE = {
				random_country = {
					limit = {
						owns_state = 76
					}
					country_event = {
						id = WW_hungary.4
						days = 2
						random_days = 3
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_demand_the_vojvodina
		icon = GFX_focus_YUG_dissolve_serbia
		prerequisite = { focus = wuw_HUN_demand_transylvania }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_demand_transylvania

		cost = 5

		ai_will_do = {
			factor = 10
		}

		will_lead_to_war_with = YUG

		available = {

			is_subject = no

			45 = {
				NOT = {
					is_owned_by = ROOT
				}
			}

			IF = {
				limit = {
					45 = {
						is_owned_by = YUG
					}
				}
				strength_ratio = { tag = YUG ratio > 0.75 }
			}

			has_army_manpower = { size > 175000 }

		}

		bypass = {

			OR = {
				owns_state = 45
				45 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
			}

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = HUN_demands_tt
			IF = {
				limit = {
					YUG = {
						is_subject = yes
						owns_state = 45
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = YUG
					expire = 0
					generator = { 45 }
				}
				ELSE = {
					IF = {
						limit = {
							OR = {
								45 = { is_owned_by = YUG }
								45 = { owner = { is_subject_of = YUG } }
							}
						}
						YUG = { country_event = DOD_hungary.90 }
					}
				}
			}

			IF = {
				limit = {
					45 = {
						NOT = {
							OR  = {
								is_owned_by = YUG
								owner = { is_subject_of = YUG }
							}
						}
					}
				}
				random_country = {
					limit = {
						owns_state = 45
					}
					country_event = {
						id = WW_hungary.4
						days = 2
						random_days = 3
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_demand_the_vojvodina_tt

			hidden_effect = {
				news_event = { id = news.306 }
			}

		}
	}

	focus = {
		id = wuw_HUN_demand_burgenland
		icon = GFX_focus_generic_attack_austria
		prerequisite = { focus = wuw_HUN_demand_transylvania }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_demand_transylvania

		will_lead_to_war_with = AUS

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

			is_subject = no

			975 = {
				NOT = {
					is_owned_by = ROOT
				}
			}

			IF = {
				limit = {
					975 = {
						is_owned_by = AUS
					}
				}
				strength_ratio = { tag = AUS ratio > 0.70 }
			}

			has_army_manpower = { size > 185000 }

		}

		bypass = {

			OR = {
				owns_state = 975
				975 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
			}

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = HUN_demands_tt
			random_country = {
				limit = {
					owns_state = 975
				}
				country_event = {
					id = WW_hungary.23
					days = 2
					random_days = 3
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_claim_overlordship_over_slovakia
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = wuw_HUN_demand_southern_slovakia }
		mutually_exclusive = { focus = wuw_HUN_demand_the_return_of_slovakia }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_demand_southern_slovakia

		will_lead_to_war_with = SLO

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

			is_subject = no

			OR = {
				SLO = {
					exists = yes
					NOT = { is_puppet_of = ROOT }
				}
				any_other_country = {
					owns_state = 70
					owns_state = 71
					#owns_state = 72
					owns_state = 73
					NOT = {
						has_war_with = ROOT
					}
				}
			}
			IF = {
				limit = { country_exists = SLO }
				strength_ratio = { tag = SLO ratio > 0.75 }
				NOT = { has_war_with = SLO }
			}
			has_army_manpower = { size > 175000 }

		}

		bypass = {

			OR = {
				SLO = {
					exists = yes
					is_subject_of = ROOT
				}
				AND = {
					owns_state = 70
					owns_state = 71
					#owns_state = 72
					owns_state = 73
				}
			}

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = HUN_demands_tt
			IF = {
				limit = {
					70 = {
						controller = {
							NOT = {
								has_war_with = ROOT
							}
						}
					}
					SLO = { exists = no }
					any_other_country = {
						NOT = {
							owns_state = 70
							owns_state = 71
							owns_state = 72
							owns_state = 73
						}
					}
				}
				70 = {
					controller = {
						country_event = { id = DOD_hungary.100 hours = 5 }
					}
				}
			}
			IF = {
				limit = {
					SLO = {
						exists = yes
						is_puppet = no
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				SLO = { country_event = { id = DOD_hungary.107 hours = 3 } }
			}
			IF = {
				limit = {
					SLO = {
						exists = yes
						is_puppet = yes
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				SLO = { OVERLORD = { country_event = { id = DOD_hungary.107 hours = 4 } } }
			}
			hidden_effect = {
				news_event = { id = news.309 hours = 8 }
			}

		}
	}

	focus = {
		id = wuw_HUN_demand_the_return_of_slovakia
		icon = GFX_focus_generic_attack_slovakia
		prerequisite = { focus = wuw_HUN_demand_southern_slovakia }
		mutually_exclusive = { focus = wuw_HUN_claim_overlordship_over_slovakia }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_demand_southern_slovakia

		will_lead_to_war_with = SLO
		will_lead_to_war_with = CZE

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

			is_subject = no

			any_other_country = {
				OR = {
					owns_state = 70
					owns_state = 71
					#owns_state = 72
					owns_state = 73
				}
				NOT = {
					has_war_with = ROOT
				}
			}

			has_army_manpower = { size > 180000 }

		}

		bypass = {

			AND = {
				owns_state = 70
				owns_state = 71
				#owns_state = 72
				owns_state = 73
			}

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			IF = {
				limit = {
					SLO = {
						exists = yes
						is_subject = yes
						NOT = {
							is_subject_of = ROOT
						}
						is_ai = yes
					}
				}
				every_country = {
					limit = {
						has_subject = SLO
					}
					country_event = {
						id = WW_hungary.96
						days = 2
						random_days = 3
					}
				}
			}
			ELSE = {
				custom_effect_tooltip = HUN_demands_tt
				every_country = {
					limit = {
						AND = {
							OR = {
								owns_state = 70
								owns_state = 71
								#owns_state = 72
								owns_state = 73
							}
							NOT = {
								OR = {
									has_war_with = ROOT
									original_tag = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
					country_event = {
						id = WW_hungary.11
						days = 2
						random_days = 3
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_proclaim_greater_hungary
		icon = GFX_focus_HUN_proclaim_greater_hungary
		prerequisite = { focus = wuw_HUN_demand_carpathian_ruthenia }
		prerequisite = { focus = wuw_HUN_demand_the_vojvodina focus = wuw_HUN_demand_burgenland focus = wuw_HUN_demand_the_return_of_slovakia }
		#mutually_exclusive = { focus = wuw_HUN_claim_overlordship_over_slovakia }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_demand_carpathian_ruthenia

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			is_subject = no
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			OR = {
				owns_state = 664
				owns_state = 73
				owns_state = 76
				owns_state = 84
				owns_state = 83
				owns_state = 82
				owns_state = 45
				owns_state = 975
			}
			NOT = { has_global_flag = GER_reformed_austro_hungarian_empire }
			custom_trigger_tooltip = {
				tooltip = wuw_HUN_proclaim_greater_hungary_core_states_requirement
				AND = {
					155 = {
						is_fully_controlled_by = ROOT
					}
					974 = {
						is_fully_controlled_by = ROOT
					}
					973 = {
						is_fully_controlled_by = ROOT
					}
					43 = {
						is_fully_controlled_by = ROOT
					}
					154 = {
						is_fully_controlled_by = ROOT
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			#custom_effect_tooltip = HUN_GREATER_tt
			set_cosmetic_tag = HUN_GREATER

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_old_hungary_reclaimed

			hidden_effect = {
				news_event = { id = news.299 }
			}

		}
	}

	focus = {
		id = wuw_HUN_seek_german_contracts
		icon = GFX_focus_generic_german_trade
		prerequisite = { focus = wuw_HUN_act_of_defense focus = wuw_HUN_wherever_the_cross_points }
		#mutually_exclusive = { focus = wuw_HUN_claim_overlordship_over_slovakia }
		x = -2
		y = 1
		relative_position_id = wuw_HUN_act_of_defense

		cost = 10

		ai_will_do = {
			factor = 15
		}

		offset = {
			x = 1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_fascist_king
			}
		}

		available = {
			GER = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_seek_german_contracts_tt
			IF = {
				limit = {
					GER = {
						has_opinion = {
							target = ROOT
							value > 25
						}
						has_opinion = {
							target = ROOT
							value < 50
						}
					}
				}
				add_offsite_building = {
					type = arms_factory
					level = 1
				}
			}
			ELSE_IF = {
				limit = {
					GER = {
						has_opinion = {
							target = ROOT
							value > 50
						}
						has_opinion = {
							target = ROOT
							value < 75
						}
					}
				}
				add_offsite_building = {
					type = arms_factory
					level = 2
				}
			}
			ELSE_IF = {
				limit = {
					GER = {
						has_opinion = {
							target = ROOT
							value > 75
						}
					}
				}
				add_offsite_building = {
					type = industrial_complex
					level = 1
				}
				add_offsite_building = {
					type = arms_factory
					level = 2
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_henschel_organization

				mio:HUN_henschel_organization = {
					add_mio_size = 2
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_henschel
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = GER_rheinmetall_organization

				mio:GER_rheinmetall_organization = {
					add_mio_size = 2
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_rheinmetall
			}

		}
	}

	focus = {
		id = wuw_HUN_license_fiat_tankettes
		icon = GFX_focus_generic_fiat
		prerequisite = { focus = wuw_HUN_act_of_defense focus = wuw_HUN_wherever_the_cross_points }
		#mutually_exclusive = { focus = wuw_HUN_claim_overlordship_over_slovakia }
		x = -4
		y = 1
		relative_position_id = wuw_HUN_act_of_defense

		offset = {
			x = 1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_fascist_king
			}
		}

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			ITA = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			ITA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_equipment_subsidy = {
					cic = 2000
					equipment_type = light_tank_chassis
					seller_tags = { ITA }
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_fiat_tankettes_organization

				mio:HUN_fiat_tankettes_organization = {
					add_mio_size = 1
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_fiat
			}

		}
	}

	focus = {
		id = wuw_HUN_renew_the_rome_protocols
		icon = GFX_focus_befriend_italy
		prerequisite = { focus = wuw_HUN_license_fiat_tankettes }
		mutually_exclusive = { focus = wuw_HUN_invite_german_investors }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_license_fiat_tankettes

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = { has_war_with = ITA }
			NOT = { has_war_with = AUS }
			ITA = {
				exists = yes
				is_subject = no
				NOT = { has_war_with = AUS }
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
			AUS = {
				exists = yes
				is_subject = no
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
			OR = {
				has_country_leader = {
					ruling_only = yes
					character = HUN_miklos_horthy
				}
				has_country_leader = {
					ruling_only = yes
					character = HUN_franz_friedrich
				}
			}
			
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_renew_the_rome_protocols_interventionalism_tt
			IF = {
				limit = {
					has_idea = HUN_wuw_interventionism
				}
				swap_ideas = {
					add_idea = HUN_interventionism_2
					remove_idea = HUN_wuw_interventionism
				}
			}

			IF = {
				limit = {
					country_exists = AUS
				}
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_renew_the_rome_protocols }
				add_opinion_modifier = { target = AUS modifier = HUN_renew_the_rome_protocols }
			}
			IF = {
				limit = {
					country_exists = ITA
				}
				reverse_add_opinion_modifier = { target = ITA modifier = HUN_renew_the_rome_protocols }
				add_opinion_modifier = { target = ITA modifier = HUN_renew_the_rome_protocols }
			}
			IF = {
				limit = {
					has_country_leader = {
						ruling_only = yes
						character = HUN_miklos_horthy
					}
				}
				news_event = { id = news.312 }
			}

		}
	}

	focus = {
		id = wuw_HUN_invite_german_investors
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = wuw_HUN_seek_german_contracts }
		mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_seek_german_contracts

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			GER = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_popularity = {
				ideology = GER
				popularity = 0.1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 4
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_joint_aluminum_mining_company
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = wuw_HUN_invite_german_investors }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_invite_german_investors

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			ROOT = { has_full_control_of_state = 43 }
			GER = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			43 = {
				add_resource = {
					type = aluminium
					amount = 16
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_join_the_axis
		icon = GFX_goal_anschluss
		prerequisite = { focus = wuw_HUN_joint_aluminum_mining_company }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_joint_aluminum_mining_company

		cost = 5

		ai_will_do = {
			factor = 80
			modifier = {
				factor = 0
				GER = { has_capitulated = yes }
			}
			modifier = {
				GER = { surrender_progress > 0.25 }
				factor = 0.1
			}
			modifier = {
				has_country_flag = HUN_can_not_trust_germany_again_flag
				factor = 0
			}
		}

		available = {
			NOT = { 
				has_war_with = GER 
				has_country_flag = HUN_can_not_trust_germany_again_flag
			}
			is_subject = no
			is_in_faction = no
			NOT = {
				any_other_country = {
					is_in_faction_with = GER
					has_war_with = HUN
				}
			}
			GER = {
				is_faction_leader = yes
				has_government = fascism
				is_subject = no
			}
		}

		bypass = {
			AND = {
				is_in_faction_with = GER
				GER = {
					is_faction_leader = yes
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			GER = {
				country_event = {
					id = WW_hungary.26
					days = 2
					random_days = 3
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_protect_austria
		icon = GFX_focus_AUS_for_a_better_future
		prerequisite = { focus = wuw_HUN_renew_the_rome_protocols }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_renew_the_rome_protocols

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {
			is_subject = no
			975 = {
				is_owned_by = AUS
			}
			AUS = {
				NOT = {
					OR = {
						is_guaranteed_by = ROOT
						has_government = communism
					}
				}
			}
		}

		bypass = {
			OR = {
				AND = {
					975 = {
						NOT = { is_owned_by = AUS }
					}
					4 = {
						NOT = { is_owned_by = AUS }
					}
					152 = {
						NOT = { is_owned_by = AUS }
					}
					153 = {
						NOT = { is_owned_by = AUS }
					}
					848 = {
						NOT = { is_owned_by = AUS }
					}
					976 = {
						NOT = { is_owned_by = AUS }
					}
				}
				AUS = {
					is_guaranteed_by = ROOT
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			AUS = {
				country_event = {
					id = WW_hungary.8
					days = 2
					random_days = 3
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_an_alliance_with_italy
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = wuw_HUN_protect_austria }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_protect_austria

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			NOT = { has_war_with = ITA }
			is_subject = no
			is_in_faction = no
			ITA = {
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				is_subject = no
				ITA_is_kinda_fascist = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			IF = {
				limit = {
					ITA = { is_in_faction = no }
				}
				ROOT = {
					set_rule = { can_create_factions = yes }
					create_faction = HUN_PACT_OF_ROME_FACTION
					ITA = {
						country_event = generic.5
						add_ai_strategy = {
							type = alliance
							id = "HUN"
							value = 200
						}
					}
					IF = {
						limit = {
							country_exists = AUS
							AUS = {
								is_subject = no
							}
						}
						AUS = {
							country_event = generic.5
						}
					}
				}
			}
			IF = {
				limit = {
					ITA = { is_faction_leader = yes }
				}
				ITA = {
					country_event = generic.2
				}
			}
			IF = {
				limit = {
					ITA = { is_in_faction_with = FRA }
				}
				FRA = {
					country_event = generic.2
				}
			}
			hidden_effect = {
				IF = {
					limit = {
						has_country_leader = {
							ruling_only = yes
							character = HUN_miklos_horthy
						}
					}
					news_event = { id = news.313 }
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_parade_istvan_bethlens_platform
		icon = GFX_focus_generic_workers
		prerequisite = { focus = wuw_HUN_end_the_white_terror }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_end_the_white_terror

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {
			OR = {
				has_government = democratic
				has_government = communism
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50

			#custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}

			add_popularity = {
				ideology = neutrality
				popularity = -0.15
			}
		}
	}

	focus = {
		id = wuw_HUN_salami_slicing_tactics
		icon = GFX_focus_generic_infiltration
		prerequisite = { focus = wuw_HUN_parade_istvan_bethlens_platform }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_parade_istvan_bethlens_platform

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {
			OR = {
				has_government = democratic
				has_government = communism
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			add_timed_idea = {
				idea = HUN_salami_slicing_tactics_idea
				days = 360
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_salami_slicing_tactics_tt

			hidden_effect = {
				set_country_flag = HUN_revolutinaries_sliced_some_salami_flag
			}

		}
	}

	focus = {
		id = wuw_HUN_politicize_the_levente_associations
		icon = GFX_focus_por_workers_of_iberia
		prerequisite = { focus = wuw_HUN_parade_istvan_bethlens_platform }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = -2
		y = 1
		relative_position_id = wuw_HUN_parade_istvan_bethlens_platform

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {
			OR = {
				has_government = democratic
				has_government = communism
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_politicize_the_levente_associations_tt

			hidden_effect = {
				set_country_flag = HUN_revolutinaries_secured_levente_loyalty_flag
			}

		}
	}

	focus = {
		id = wuw_HUN_undermine_the_volksbund
		icon = GFX_focus_HUN_dissolve_the_volksbund
		prerequisite = { focus = wuw_HUN_parade_istvan_bethlens_platform }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_parade_istvan_bethlens_platform

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {
			OR = {
				has_government = democratic
				has_government = communism
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_undermine_the_volksbund_tt

			hidden_effect = {
				set_country_flag = HUN_revolutinaries_undermined_the_volksbund_flag
			}

		}
	}

	focus = {
		id = wuw_HUN_reviving_the_spirit_of_1848
		icon = GFX_focus_generic_workers_and_farmers_rise
		prerequisite = { focus = wuw_HUN_politicize_the_levente_associations focus = wuw_HUN_undermine_the_volksbund focus = wuw_HUN_salami_slicing_tactics }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_salami_slicing_tactics

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_war = no
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = wuw_HUN_reviving_the_spirit_of_1848_requirements_tt
				OR = {
					AND = {
						democratic > party_popularity@neutrality
						democratic > party_popularity@fascism
					}
					AND = {
						communism > party_popularity@neutrality
						communism > party_popularity@fascism
					}
				}
			}
		}

		bypass = {
			OR = {
				has_government = democratic
				has_government = communism
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_MANPOWER }

		completion_reward = {

				custom_effect_tooltip = wuw_HUN_reviving_the_spirit_of_1848_tt
				hidden_effect = {

					IF = {
						limit = {
							has_idea = HUN_gombos_trade_treaty
						}
						remove_ideas = HUN_gombos_trade_treaty
					}

					start_civil_war = {
					    ideology = neutrality
					    ruling_party = democratic
					    size = 0.5
					    army_ratio = 0.4
					    navy_ratio = 0.5
					    air_ratio = 0.5
					    keep_all_characters = yes
					    states = all
					    states_filter = {
					        OR = {
					        	state = 43
					        	state = 154
					        }
					        is_controlled_by = ROOT
					    }

				    	PREV = {  # Original country
				            HUN_miklos_horthy_jr = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_miklos_horthy = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_istvan_horthy = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_magdolna_purgly = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_dezso_laszlo = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_ferenc_feketehalmyczeydner = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_jeno_oszkar_ruszkay = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_karoly_beregfy = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_dome_sztojay = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_gyula_gombos_de_jakfa = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_jusztinian_seredi = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_fidel_palffy = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
				            HUN_kalman_daranyi = { # Character
				                set_nationality = PREV.PREV
				                # Transfers to breakaway
				            }
			        	}
			        	IF = {
			        		limit = {
			        			PREV.PREV = {
			        				NOT = {
			        					has_country_leader = {
			        						ruling_only = yes
			        						character = HUN_miklos_horthy
			        					}
			        				}
			        				has_civil_war = yes
			        			}
			        		}
			        		PREV.PREV = {
			        			promote_character = {
			        				character = HUN_miklos_horthy
			        				ideology = oligarchism
			        			}
			        		}
			        	}

				        IF = {
				        	limit = {
				        		NOT = {
				        			ROOT = {
				        				has_country_flag = HUN_revolutinaries_undermined_the_volksbund_flag
				        			}
				        		}
				        	}
				        	PREV.PREV = {

				        		delete_unit_template_and_units = {
				        			division_template = "Volksbund Militia"
				        			disband = yes #if yes, will refund equipment/manpower.
				        		}

				        		division_template = {
				        		    name = "Volksbund Militia"
				        		    is_locked = yes
				        		    division_names_group = GER_INF_01
									role = garrison
				        		    priority = 0
				        		    regiments = {
				        		        militia = { x = 0 y = 0 }
				        		        militia = { x = 0 y = 1 }
				        		        militia = { x = 0 y = 2 }
				        		        militia = { x = 0 y = 3 }
				        		        militia = { x = 1 y = 0 }
				        		        militia = { x = 1 y = 1 }
				        		        militia = { x = 1 y = 2 }
				        		        militia = { x = 1 y = 3 }
				        		    }
				        		}
				        		random_state = {
				        			limit = {
				        				OR = {
				        					state = 43
				        					state = 154
				        				}
				        			}
				        			create_unit = {
				        			    division = "name = \"Erste Volksbundmiliz\" division_template = \"Volksbund Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.7"
				        			    owner = PREV
				        			}
				        			create_unit = {
				        			    division = "name = \"Zweite Volksbundmiliz\" division_template = \"Volksbund Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.7"
				        			    owner = PREV
				        			}
				        		}
				        	}
				        }

				        IF = {
				        	limit = {
				        		NOT = {
				        			ROOT = {
				        				has_country_flag = HUN_revolutinaries_sliced_some_salami_flag
				        			}
				        		}
				        	}
				        	PREV.PREV = {

				        		delete_unit_template_and_units = {
				        			division_template = "Horthysta Gyalogdándar"
				        			disband = yes #if yes, will refund equipment/manpower.
				        		}

				        		division_template = {
				        		    name = "Horthysta Gyalogdándar"
				        		    is_locked = yes
				        		    division_names_group = HUN_INF_01
									role = infantry
				        		    priority = 0
				        		    regiments = {
				        		        infantry = { x = 0 y = 0 }
				        		        infantry = { x = 0 y = 1 }
				        		        infantry = { x = 0 y = 2 }
				        		        infantry = { x = 0 y = 3 }
				        		        infantry = { x = 1 y = 0 }
				        		        infantry = { x = 1 y = 1 }
				        		    }
				        		    support = {
				        		    	engineer = { x = 0 y = 0 }
				        		    	artillery = { x = 0 y = 1 }
				        		    }
				        		}
				        		random_state = {
				        			limit = {
				        				state = 43
				        			}
				        			create_unit = {
				        			    division = "name = \"Horthysta Gyalogdándar\" division_template = \"Horthysta Gyalogdándar\" start_experience_factor = 0.5 start_equipment_factor = 0.8"
				        			    owner = PREV
				        			}
				        		}
				        	}
				        }

				        PREV.PREV = {

				        	delete_unit_template_and_units = {
				        		division_template = "Fasiszta Milícia"
				        		disband = yes #if yes, will refund equipment/manpower.
				        	}

				        	division_template = {
				        	    name = "Fasiszta Milícia"
				        	    is_locked = yes
				        	    division_names_group = HUN_INF_01
								role = garrison
				        	    priority = 0
				        	    regiments = {
				        	        militia = { x = 0 y = 0 }
				        	        militia = { x = 0 y = 1 }
				        	        militia = { x = 0 y = 2 }
				        	        militia = { x = 0 y = 3 }
				        	        militia = { x = 1 y = 0 }
				        	        militia = { x = 1 y = 1 }
				        	        militia = { x = 1 y = 2 }
				        	        militia = { x = 1 y = 3 }
				        	    }
				        	}
				        	random_state = {
				        		limit = {
				        			state = 43
				        		}
				        		create_unit = {
				        		    division = "name = \"Fasiszta Milícia\" division_template = \"Fasiszta Milícia\" start_experience_factor = 0.5 start_equipment_factor = 0.5"
				        		    owner = PREV
				        		}
				        	}

				        	delete_unit_template_and_units = {
				        		division_template = "Monarchista Milícia"
				        		disband = yes #if yes, will refund equipment/manpower.
				        	}

				        	division_template = {
				        	    name = "Monarchista Milícia"
				        	    is_locked = yes
				        	    division_names_group = HUN_INF_01
								role = garrison
				        	    priority = 0
				        	    regiments = {
				        	        militia = { x = 0 y = 0 }
				        	        militia = { x = 0 y = 1 }
				        	        militia = { x = 0 y = 2 }
				        	        militia = { x = 0 y = 3 }
				        	        militia = { x = 1 y = 0 }
				        	        militia = { x = 1 y = 1 }
				        	        militia = { x = 1 y = 2 }
				        	        militia = { x = 1 y = 3 }
				        	    }
				        	}
				        	random_state = {
				        		limit = {
				        			state = 43
				        		}
				        		create_unit = {
				        		    division = "name = \"Monarchista Milícia\" division_template = \"Monarchista Milícia\" start_experience_factor = 0.5 start_equipment_factor = 0.5"
				        		    owner = PREV
				        		}
				        	}
				        }

				        IF = {
				        	limit = {
				        		ROOT = {
				        			NOT = {
				        				has_country_flag = HUN_revolutinaries_secured_levente_loyalty_flag
				        			}
				        			has_idea = HUN_levente_associations
				        		}
				        	}
				        	PREV.PREV = {
				        		add_ideas = HUN_levente_associations
				        	}
				        	ROOT = {
				        		remove_ideas = HUN_levente_associations
				        	}
				        }
				        ELSE_IF = {
				        	limit = {
				        		ROOT = {
				        			NOT = {
				        				has_country_flag = HUN_revolutinaries_secured_levente_loyalty_flag
				        			}
				        			has_idea = HUN_levente_associations_secret_rearmament
				        		}
				        	}
				        	PREV.PREV = {
				        		add_ideas = HUN_levente_associations_secret_rearmament
				        	}
				        	ROOT = {
				        		remove_ideas = HUN_levente_associations_secret_rearmament
				        	}
				        }
				        ELSE_IF = {
				        	limit = {
				        		ROOT = {
				        			has_country_flag = HUN_revolutinaries_secured_levente_loyalty_flag
				        			has_idea = HUN_levente_associations
				        		}
				        	}
				        	PREV.PREV = {
				        		remove_ideas = HUN_levente_associations
				        	}
				        }
				        ELSE_IF = {
				        	limit = {
				        		ROOT = {
				        			has_country_flag = HUN_revolutinaries_secured_levente_loyalty_flag
				        			has_idea = HUN_levente_associations_secret_rearmament
				        		}
				        	}
				        	PREV.PREV = {
				        		remove_ideas = HUN_levente_associations_secret_rearmament
				        	}
				        }

				        PREV.PREV = {
				        	add_ideas = HUN_hungarian_national_defense_association
				        }

				        IF = {
				        	limit = {
				        		ROOT = {
				        			is_ai = yes 
				        		}
				        	}
				        	PREV.PREV = {
				        		add_ideas = HUN_low_popular_support
				        	}
				        }


					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_country_leader_role = {
				    character = HUN_mihaly_karolyi
				    promote_leader = yes
				    country_leader = {
				        ideology = conservatism
				        expire = "1965.1.1.1"
				        traits = { HUN_veteran_president }
				    }
				}

				set_party_name = {
				    ideology = democratic
				    long_name = HUN_48part_democratic_party_long
				    name = HUN_48part_democratic_party
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				IF = {
					limit = {
						has_country_flag = HUN_revolutinaries_undermined_the_volksbund_flag
					}
					add_war_support = 0.15
					add_political_power = 75
					custom_effect_tooltip = generic_skip_one_line_tt
				}

				IF = {
					limit = {
						has_country_flag = HUN_revolutinaries_secured_levente_loyalty_flag
					}
					add_manpower = 8000
				}

				hidden_effect = {
					delete_unit_template_and_units = {
						division_template = "Kommunista Milícia"
						disband = yes #if yes, will refund equipment/manpower.
					}

					division_template = {
					    name = "Kommunista Milícia"
					    is_locked = no
					    division_names_group = HUN_INF_01
						role = garrison
					    priority = 0
					    regiments = {
					        militia = { x = 0 y = 0 }
					        militia = { x = 0 y = 1 }
					        militia = { x = 0 y = 2 }
					        militia = { x = 0 y = 3 }
					        militia = { x = 1 y = 0 }
					        militia = { x = 1 y = 1 }
					    }
					    support = {
					    }
					}
					random_state = {
						limit = {
							state = 973
						}
						create_unit = {
						    division = "name = \"Kommunista Milícia\" division_template = \"Kommunista Milícia\" start_experience_factor = 0.5 start_equipment_factor = 0.6"
						    owner = PREV
						}
					}

					delete_unit_template_and_units = {
						division_template = "Szocialista Milícia"
						disband = yes #if yes, will refund equipment/manpower.
					}

					division_template = {
					    name = "Szocialista Milícia"
					    is_locked = no
					    division_names_group = HUN_INF_01
						role = garrison
					    priority = 0
					    regiments = {
					        militia = { x = 0 y = 0 }
					        militia = { x = 0 y = 1 }
					        militia = { x = 0 y = 2 }
					        militia = { x = 0 y = 3 }
					        militia = { x = 1 y = 0 }
					    }
					    support = {
					    }
					}
					random_state = {
						limit = {
							state = 155
						}
						create_unit = {
						    division = "name = \"Szocialista Milícia\" division_template = \"Szocialista Milícia\" start_experience_factor = 0.5 start_equipment_factor = 0.6"
						    owner = PREV
						}
					}
				}

		}
	}

	focus = {
		id = wuw_HUN_officialize_the_rakosi_battalion
		icon = GFX_focus_HUN_officialize_the_rakosi_battalion
		prerequisite = { focus = wuw_HUN_reviving_the_spirit_of_1848 }
		
		x = 2
		y = 1
		relative_position_id = wuw_HUN_reviving_the_spirit_of_1848

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			has_war = no
			OR = {
				has_government = democratic
				has_government = communism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_the_rakosi_battalion_idea
			set_rule = { can_send_volunteers = yes }
		}
	}

	focus = {
		id = wuw_HUN_elections_in_the_revolutionary_council
		icon = GFX_focus_ETH_re-convene_the_parliament
		prerequisite = { focus = wuw_HUN_reviving_the_spirit_of_1848 }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_reviving_the_spirit_of_1848

		cost = 5

		ai_will_do = {
			factor = 25
		}

		available = {
			has_civil_war = no
			OR = {
				AND = {
					is_subject = yes
					any_country = {
						has_subject = ROOT
						has_government = democratic
					}
				}
				AND = {
					is_subject = yes
					any_country = {
						has_subject = ROOT
						has_government = communism
					}
				}
				is_subject = no
			}
			OR = {
				has_government = democratic
				has_government = communism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			country_event = {
				id = WW_hungary.94
				hours = 0
			}

		}
	}

	focus = {
		id = wuw_HUN_join_the_comintern
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = wuw_HUN_elections_in_the_revolutionary_council }
		mutually_exclusive = { focus = wuw_HUN_restore_the_socialist_federative_republic focus = wuw_HUN_establish_the_second_republic }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_elections_in_the_revolutionary_council

		cost = 5

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				SOV = { has_capitulated = yes }
			}
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_regency }
				NOT = { has_completed_focus = wuw_HUN_restore_the_socialist_federative_republic }
				NOT = { has_completed_focus = wuw_HUN_establish_the_second_republic }
			}
		}

		available = {
			ANY_comintern_joinable = yes
			is_in_faction = no
			IF = {
				limit = { SOV = { has_government = communism }}
				NOT = {
					any_other_country = {
						is_in_faction_with = SOV
						has_war_with = HUN
					}
				}
			}
			is_subject = no
			communism > 0.4
			has_country_leader = {
				ruling_only = yes
				character = HUN_matyas_rakosi
			}
		}

		bypass = {
			OR = {
				is_subject_of = SOV
				is_in_faction_with = SOV
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			add_political_power = 75

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					SOV = {
						has_government = communism
						is_faction_leader = yes
					}
				}
				SOV = {
					country_event = generic.2
				}
			}
			ELSE = {
				get_best_alliance_match_communism_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_erno_gero

			hidden_effect = {

				news_event = { id = wuw_HUN_news_events.8 }

				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}

			}
		}
	}

	focus = {
		id = wuw_HUN_restore_the_socialist_federative_republic
		icon = GFX_focus_SWE_refuge_for_revolutionaries
		prerequisite = { focus = wuw_HUN_elections_in_the_revolutionary_council }
		mutually_exclusive = { focus = wuw_HUN_join_the_comintern focus = wuw_HUN_establish_the_second_republic }
		x = 6
		y = 1
		relative_position_id = wuw_HUN_elections_in_the_revolutionary_council

		cost = 5

		ai_will_do = {
			factor = 15
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_regency }
				NOT = { has_completed_focus = wuw_HUN_join_the_comintern }
				NOT = { has_completed_focus = wuw_HUN_establish_the_second_republic }
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_restore_the_socialist_federative_republic
			}
		}

		available = {
			OR = {
				is_subject = no
				AND = {
					is_subject = yes
					any_country = {
						has_subject = ROOT
						has_government = communism
					}
				}
			}
			communism > 0.4
			has_country_leader = {
				ruling_only = yes
				character = HUN_bela_kun
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_political_power = 50
			add_stability = 0.05
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			set_rule = {
				can_create_factions = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_janos_kadar

			hidden_effect = {
				news_event = { id = wuw_HUN_news_events.7 }

				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}

			}

		}
	}

	focus = {
		id = wuw_HUN_establish_the_second_republic
		icon = GFX_focus_HUN_establish_the_second_republic
		prerequisite = { focus = wuw_HUN_elections_in_the_revolutionary_council }
		mutually_exclusive = { focus = wuw_HUN_join_the_comintern focus = wuw_HUN_restore_the_socialist_federative_republic }
		x = -6
		y = 1
		relative_position_id = wuw_HUN_elections_in_the_revolutionary_council

		cost = 5

		ai_will_do = {
			factor = 1
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = wuw_HUN_continue_the_regency }
				NOT = { has_completed_focus = wuw_HUN_end_the_regency }
				NOT = { has_completed_focus = wuw_HUN_restore_the_socialist_federative_republic }
				NOT = { has_completed_focus = wuw_HUN_join_the_comintern }
			}
		}

		offset = {
			x = 6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_establish_the_second_republic
			}
		}

		available = {
			has_government = democratic
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL_CHARACTER }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 50
			add_stability = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			country_event = {
				id = WW_hungary.95
				hours = 0
			}

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_reverse_the_brain_drain
		icon = GFX_focus_generic_university_3
		prerequisite = { focus = wuw_HUN_establish_the_second_republic }
		#mutually_exclusive = { focus = wuw_HUN_join_the_comintern focus = wuw_HUN_restore_the_socialist_federative_republic }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_establish_the_second_republic

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
 			has_government = democratic
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL_CHARACTER }

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_scientist_influx_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.5
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = available_scientist_one_line_tt
				CHARACTER = HUN_edward_teller
			}	
			custom_effect_tooltip = {
				localization_key = available_scientist_one_line_tt
				CHARACTER = HUN_john_von_neumann
			}	
			custom_effect_tooltip = {
				localization_key = available_scientist_one_line_tt
				CHARACTER = HUN_leo_szilard
			}	

		}
	}

	focus = {
		id = wuw_HUN_the_spirit_of_the_aster_revolution
		icon = GFX_focus_FIN_socialist_welfare
		prerequisite = { focus = wuw_HUN_establish_the_second_republic }
		#mutually_exclusive = { focus = wuw_HUN_join_the_comintern focus = wuw_HUN_restore_the_socialist_federative_republic }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_establish_the_second_republic

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = democratic
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_political_power = 100
			add_stability = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}

		}
	}

	focus = {
		id = wuw_HUN_uplift_the_dragon_movement
		icon = GFX_focus_HUN_uplift_the_dragon_movement
		prerequisite = { focus = wuw_HUN_the_spirit_of_the_aster_revolution focus = wuw_HUN_reverse_the_brain_drain }
		
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_spirit_of_the_aster_revolution

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = democratic
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_ideas = HUN_the_dragon_movement_idea
		}
	}

	focus = {
		id = wuw_HUN_promote_entrepreneurship
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = wuw_HUN_reverse_the_brain_drain focus = wuw_HUN_the_spirit_of_the_aster_revolution }
		#mutually_exclusive = { focus = wuw_HUN_join_the_comintern focus = wuw_HUN_restore_the_socialist_federative_republic }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_reverse_the_brain_drain

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = democratic
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			add_ideas = HUN_promoting_entrepreneurship

			custom_effect_tooltip = generic_skip_one_line_tt

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_danubian_federation
		icon = GFX_focus_HABSBURG_part_of_something_bigger
		prerequisite = { focus = wuw_HUN_promote_entrepreneurship }
		mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_promote_entrepreneurship

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = democratic
			is_subject = no
			is_in_faction = no
			any_country = {
				HABSBURG_is_a_habsburg_viable_nation = yes
				OR = {
					has_government = neutrality
					has_government = democratic
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			add_political_power = 50
			create_faction = AUS_danubian_federation
			set_rule = {
				can_create_factions = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = AUS_invite_danubian_countries_tt
			ROOT = {
				hidden_effect = {
					save_event_target_as = alliance_inviter
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HABSBURG_joint_ft_unlock_tt

			hidden_effect = {
				set_global_flag = AH_joint_tree_activated_flag

				every_country = {
					limit = {
						HABSBURG_is_a_habsburg_viable_nation = yes
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

			# Set Hungary as Leader of the federation
			set_variable = { global.AH_originator_country = ROOT }
		}
	}

	focus = {
		id = wuw_HUN_approach_the_diasporas
		icon = GFX_focus_generic_befriend_hungary
		prerequisite = { focus = wuw_HUN_uplift_the_dragon_movement }
		mutually_exclusive = { focus = wuw_HUN_a_danubian_federation }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_uplift_the_dragon_movement

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = democratic
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }

		completion_reward = {

			add_ideas = HUN_militarized_diasporas

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = HUN_levente_associations
				}
				swap_ideas = {
					remove_idea = HUN_levente_associations
					add_idea = HUN_levente_associations_act_of_defense
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = HUN_levente_associations_secret_rearmament
				}
				swap_ideas = {
					remove_idea = HUN_levente_associations_secret_rearmament
					add_idea = HUN_levente_associations_act_of_defense_and_secret_rearmament
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_demand_szekely_autonomy
		icon = GFX_focus_generic_befriend_szekelys
		prerequisite = { focus = wuw_HUN_a_danubian_federation }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_a_danubian_federation

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = democratic
			is_subject = no
			any_other_country = {
				AND = {
					owns_state = 76
					controls_state = 76
				}
			}
			TRA = {
				exists = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			every_country = {
				limit = {
					owns_state = 76
				}
				country_event = {
					id = WW_hungary.99
					days = 1
					random_days = 2
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_ward_against_extremism
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		prerequisite = { focus = wuw_HUN_a_danubian_federation }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_a_danubian_federation

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = democratic
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = HUN_ward_against_extremism_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = wuw_HUN_ward_against_extremism_tt
			}
			ELSE = {
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					add_ideas = HUN_ward_against_extremism_idea
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_reclaim_the_pannonian_steppe
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = wuw_HUN_approach_the_diasporas }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_approach_the_diasporas

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = democratic
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = wuw_HUN_proclaim_greater_hungary_core_states_requirement
				AND = {
					155 = {
						is_fully_controlled_by = ROOT
					}
					974 = {
						is_fully_controlled_by = ROOT
					}
					973 = {
						is_fully_controlled_by = ROOT
					}
					43 = {
						is_fully_controlled_by = ROOT
					}
					154 = {
						is_fully_controlled_by = ROOT
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_war_support = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_rongyos_garda_militia_recruitment

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Rongyos Gárda"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Rongyos Gárda"
					division_names_group = HUN_MIL_01
					role = garrison
					template_counter = 90
					is_locked = yes
					force_allow_recruiting = yes
					division_cap = 12
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
				}

				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Rongyos Gárda 'Lajtabánság'\" division_template = \"Rongyos Gárda\" start_experience_factor = 0.4 start_equipment_factor = 0.6"
					    owner = ROOT
					    officer = {
					    	name = HUN_miklos_kozma
					    	portraits = {
					    		army = {
					    			large = GFX_portrait_HUN_miklos_kozma
					    			small = GFX_portrait_HUN_miklos_kozma_small
					    		}
					    	}
					    }
					}
					create_unit = {
					    division = "name = \"Rongyos Gárda 'Sopron'\" division_template = \"Rongyos Gárda\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
					    owner = ROOT
					    officer = {
					    	name = HUN_ivan_hejjas
					    	portraits = {
					    		army = {
					    			large = GFX_portrait_HUN_ivan_hejjas
					    			small = GFX_portrait_HUN_ivan_hejjas_small
					    		}
					    	}
					    }
					}
					create_unit = {
					    division = "name = \"Rongyos Gárda 'Komárno'\" division_template = \"Rongyos Gárda\" start_experience_factor = 0.2 start_equipment_factor = 0.5"
					    owner = ROOT
					    officer = {
					    	name = HUN_huszein_durics_hilmi
					    }
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_state = {
				limit = {
					NOT = {
						OR = {
							is_owned_by = ROOT
							is_core_of = ROOT
							is_claimed_by = ROOT
						}
					}
					OR = {
						state = 73
						state = 664
						state = 71
						state = 70
						state = 76
						state = 84
						state = 83
						state = 82
						state = 764
						state = 45
						state = 975
					}
				}
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_country = {
				limit = {
					AND = {
						OR = {
							owns_state = 73
							owns_state = 664
							owns_state = 71
							owns_state = 70
							owns_state = 76
							owns_state = 84
							owns_state = 83
							owns_state = 82
							owns_state = 764
							owns_state = 45
							owns_state = 975
						}
						NOT = {
							OR = {
								has_war_with = ROOT
								original_tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = PREV
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_revive_the_tribal_consolidation
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = wuw_HUN_approach_the_diasporas }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 1
		y = 2
		relative_position_id = wuw_HUN_approach_the_diasporas

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = democratic
			is_subject = no
			NOT = { has_global_flag = GER_reformed_austro_hungarian_empire }
			custom_trigger_tooltip = {
				tooltip = wuw_HUN_proclaim_greater_hungary_core_states_requirement
				AND = {
					155 = {
						is_fully_controlled_by = ROOT
					}
					974 = {
						is_fully_controlled_by = ROOT
					}
					973 = {
						is_fully_controlled_by = ROOT
					}
					43 = {
						is_fully_controlled_by = ROOT
					}
					154 = {
						is_fully_controlled_by = ROOT
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }

		completion_reward = {

			add_ideas = HUN_tribal_consolidation_revived

			custom_effect_tooltip = generic_skip_one_line_tt

			every_state = {
				limit = {
					NOT = {
						is_core_of = ROOT
					}
					OR = {
						state = 664
						state = 70
						state = 71
						state = 73
						state = 975
						state = 45
						state = 764
						state = 76
						state = 83
						state = 84
						state = 82
					}
				}
				add_core_of = ROOT
			}

		}
	}

	focus = {
		id = wuw_HUN_the_cult_of_arpad
		icon = GFX_focus_HUN_carrying_on_arpads_legacy
		prerequisite = { focus = wuw_HUN_ward_against_extremism focus = wuw_HUN_reclaim_the_pannonian_steppe }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_reclaim_the_pannonian_steppe

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = democratic
			has_war_support > 0.79
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = wuw_HUN_proclaim_greater_hungary_core_states_requirement
				AND = {
					155 = {
						is_fully_controlled_by = ROOT
					}
					974 = {
						is_fully_controlled_by = ROOT
					}
					973 = {
						is_fully_controlled_by = ROOT
					}
					43 = {
						is_fully_controlled_by = ROOT
					}
					154 = {
						is_fully_controlled_by = ROOT
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_ideas = HUN_the_cult_of_arpad_idea
		}
	}

	focus = {
		id = wuw_HUN_bringing_down_the_giants
		icon = GFX_focus_generic_total_war
		prerequisite = { focus = wuw_HUN_the_cult_of_arpad }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_cult_of_arpad

		cost = 10

		ai_will_do = {
			factor = 5
		}

		select_effect = {
			every_country = {
				limit = {
					NOT = {
						has_government = democratic
					}
					NOT = { is_in_faction_with = ROOT }
					is_major = yes
					capital_scope = {
						is_on_continent = europe
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {
			is_subject = no
			has_government = democratic
			has_war_support > 0.85
			any_other_country = {
				NOT = {
					has_government = democratic
				}
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
				is_major = yes
				capital_scope = {
					is_on_continent = europe
				}
			}
			custom_trigger_tooltip = {
				tooltip = wuw_HUN_proclaim_greater_hungary_core_states_requirement
				AND = {
					155 = {
						is_fully_controlled_by = ROOT
					}
					974 = {
						is_fully_controlled_by = ROOT
					}
					973 = {
						is_fully_controlled_by = ROOT
					}
					43 = {
						is_fully_controlled_by = ROOT
					}
					154 = {
						is_fully_controlled_by = ROOT
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			custom_effect_tooltip = HUN_bringing_down_the_giants_tt
			every_country = {
				limit = {
					NOT = {
						has_government = democratic
					}
					NOT = {
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
					is_major = yes
					capital_scope = {
						is_on_continent = europe
					}
				}
			}

			hidden_effect = {
				every_country = {
					limit = {
						NOT = {
							has_government = democratic
						}
						NOT = {
							OR = {
								is_in_faction_with = ROOT
								is_subject_of = ROOT
							}
						}
						is_major = yes
						capital_scope = {
							is_on_continent = europe
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
						create_wargoal = {
							type = topple_government
							target = PREV
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_restore_the_hungarian_red_army
		icon = GFX_focus_SOV_builder_of_the_red_army
		prerequisite = { focus = wuw_HUN_join_the_comintern focus = wuw_HUN_restore_the_socialist_federative_republic }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 3
		y = 1
		relative_position_id = wuw_HUN_join_the_comintern

		cost = 10

		ai_will_do = {
			factor = 15
		}

		offset = {
			x = -5
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_restore_the_socialist_federative_republic
			}
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			has_government = communism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = wuw_HUN_the_hungarian_red_army
		}
	}

	focus = {
		id = wuw_HUN_goulash_communism
		icon = GFX_focus_HUN_goulash_communism
		prerequisite = { focus = wuw_HUN_join_the_comintern }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_join_the_comintern

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_ideas = HUN_goulash_communism_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_janos_kadar
		}
	}

	focus = {
		id = wuw_HUN_state_protection_authority
		icon = GFX_focus_generic_secret_service_agency
		prerequisite = { focus = wuw_HUN_goulash_communism }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_goulash_communism

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = communism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			add_political_power = 75

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "La Resistance"
				}
				IF = {
					limit = {
						has_intelligence_agency = no
					}
					create_intelligence_agency = yes
				}
				add_ideas = HUN_state_protection_authority_ns
			}
			ELSE = {
				add_ideas = HUN_state_protection_authority_ns_vanilla
			}

		}
	}

	focus = {
		id = wuw_HUN_joint_hungarian_soviet_research_effort
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = wuw_HUN_join_the_comintern }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_join_the_comintern

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			is_in_faction_with = SOV
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			SOV = { add_to_tech_sharing_group = comintern_research }
			add_to_tech_sharing_group = comintern_research

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_soviet_cooperation_programmes
		}
	}

	focus = {
		id = wuw_HUN_soviet_hungarian_war_indsutry
		icon = GFX_focus_generic_communist_industry
		prerequisite = { focus = wuw_HUN_joint_hungarian_soviet_research_effort }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_joint_hungarian_soviet_research_effort

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			is_in_faction_with = SOV
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_soviet_hungarian_war_industry_flag
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { has_state_flag = HUN_soviet_hungarian_war_industry_flag }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_soviet_hungarian_war_industry_flag
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { has_state_flag = HUN_soviet_hungarian_war_industry_flag }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = { has_state_flag = HUN_soviet_hungarian_war_industry_flag }
				clr_state_flag = HUN_soviet_hungarian_war_industry_flag
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = BUL_soviet_bulgarian_war_industry_research_sharing_tt
			hidden_effect = {
				every_country = {
					limit = {
						is_in_tech_sharing_group = comintern_research
					}
					remove_from_tech_sharing_group = comintern_research
					add_to_tech_sharing_group = BUL_improved_comintern_research
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_cult_of_personality
		icon = GFX_focus_NOR_moscows_education_centers
		prerequisite = { focus = wuw_HUN_soviet_hungarian_war_indsutry }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_soviet_hungarian_war_indsutry

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = communism
			has_country_leader = {
				ruling_only = yes
				character = HUN_matyas_rakosi
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			add_political_power = 200

			custom_effect_tooltip = generic_skip_one_line_tt

			add_country_leader_trait = stalin_great_commander

		}
	}

	focus = {
		id = wuw_HUN_kadars_hussars
		icon = GFX_focus_HUN_kadars_hussars
		prerequisite = { focus = wuw_HUN_restore_the_hungarian_red_army }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_restore_the_hungarian_red_army

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = communism
			has_idea_with_trait = HUN_goulash_communist
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {

			swap_ideas = {
				remove_idea = wuw_HUN_the_hungarian_red_army
				add_idea = wuw_HUN_the_hungarian_red_army_suppression
			}

			#custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				bonus = 0.3
				uses = 2
				category = military_police_tech
				name = wuw_HUN_kadars_hussars
			}

		}
	}

	focus = {
		id = wuw_HUN_soviet_hungarian_military_academy
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = wuw_HUN_restore_the_hungarian_red_army }
		prerequisite = { focus = wuw_HUN_join_the_comintern }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_restore_the_hungarian_red_army

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			SOU = {
				exists = yes
				has_government = communism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = HUN_soviet_hungarian_military_academy
			    cost_reduction = 0.5
			    uses = 2
			    category = land_doctrine
			}

		}
	}

	focus = {
		id = wuw_HUN_central_military_planning_committee
		icon = GFX_focus_SOV_mobilization_plan
		prerequisite = { focus = wuw_HUN_soviet_hungarian_military_academy }
		prerequisite = { focus = wuw_HUN_state_protection_authority }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_soviet_hungarian_military_academy

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = communism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_war_support = 0.1
			add_command_power = 40

			custom_effect_tooltip = generic_skip_one_line_tt

			every_army_leader = {
				add_logistics = 1
				add_planning = 1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_state = {
				limit = {
					OR = {
						state = 73
						state = 664
						state = 76
						state = 45
						state = 975
					}
				}
				add_core_of = ROOT
			}

		}
	}

	focus = {
		id = wuw_HUN_intervene_in_czechoslovakia
		icon = GFX_focus_generic_attack_czechoslovakia
		prerequisite = { focus = wuw_HUN_central_military_planning_committee }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_central_military_planning_committee

		dynamic = yes

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = communism
			is_subject = no
			is_in_faction_with = SOV
			CZE = {
				exists = yes
				NOT = { has_war_with = SOV }
				NOT = { is_in_faction_with = SOV }
			}
			SOV_comintern_joinable = yes
		}

		bypass = {
			CZE = {
				is_in_faction_with = SOV
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			SOV = { country_event = DOD_hungary.120 }
		}
	}

	focus = {
		id = wuw_HUN_pressure_romania
		icon = GFX_goal_support_communism
		prerequisite = { focus = wuw_HUN_central_military_planning_committee }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_central_military_planning_committee

		dynamic = yes

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			is_subject = no
			has_government = communism
			is_in_faction_with = SOV
			ROM = {
				exists = yes
				NOT = { is_in_faction_with = SOV }
				NOT = { has_war_with = SOV }
				OR = {
					owns_state = 76
					owns_state = 78
				}
			}
			NOT = { has_war_with = SOV }
			SOV_comintern_joinable = yes
		}

		bypass = {
			ROM = {
				is_in_faction_with = SOV
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			SOV = { country_event = DOD_hungary.110 }
		}
	}

	focus = {
		id = wuw_HUN_the_bulwark_against_the_west
		icon = GFX_focus_ETH_callout_to_the_world
		prerequisite = { focus = wuw_HUN_pressure_romania focus = wuw_HUN_intervene_in_czechoslovakia }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_pressure_romania

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_government = communism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = HUN_great_bulwark_against_the_west_ns
		}
	}

	focus = {
		id = wuw_HUN_reinstate_the_lenin_boys
		icon = GFX_focus_HUN_reinstate_the_lenin_boys
		prerequisite = { focus = wuw_HUN_restore_the_hungarian_red_army }
		prerequisite = { focus = wuw_HUN_restore_the_socialist_federative_republic }
		
		x = 1
		y = 1
		relative_position_id = wuw_HUN_restore_the_hungarian_red_army

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = communism
			has_country_leader = {
				ruling_only = yes
				character = HUN_bela_kun
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {

			add_manpower = 19000

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_lenin_boys_militia_recruitment

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Lenin-fiúk"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Lenin-fiúk"
					division_names_group = HUN_MIL_02
					role = garrison
					template_counter = 69
					override_model = HUN_militia_alt_3_entity
					is_locked = yes
					force_allow_recruiting = yes
					division_cap = 24
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 2 y = 0 }
					}
					support = {
						engineer = { x = 0 y = 0 }
					}
				}

				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Lenin-fiúk 'József Cserny'\" division_template = \"Lenin-fiúk\" start_experience_factor = 0.4 start_equipment_factor = 0.9"
					    owner = ROOT
					    officer = {
					    	name = HUN_bela_lowinger
					    }
					}
					create_unit = {
					    division = "name = \"Lenin-fiúk 'Tibor Szamuely'\" division_template = \"Lenin-fiúk\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
					    owner = ROOT
					    officer = {
					    	name = HUN_vladimir_urasov
					    }
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_instate_a_socialist_economy
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = wuw_HUN_restore_the_socialist_federative_republic }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_restore_the_socialist_federative_republic

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = communism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			hidden_effect = {
				remove_trait = {
				    character = HUN_sandor_garbai
				    slot = political_advisor
				    trait = socialist_economist
				}
			}

			add_trait = {
			    character = HUN_sandor_garbai
			    slot = political_advisor
			    trait = socialist_economist_upgraded
			}

		}
	}

	focus = {
		id = wuw_HUN_nationalize_key_industries
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = wuw_HUN_instate_a_socialist_economy }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_instate_a_socialist_economy

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = communism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_socialist_economy_idea

		}
	}

	focus = {
		id = wuw_HUN_invest_in_universal_education
		icon = GFX_focus_generic_university_1
		prerequisite = { focus = wuw_HUN_nationalize_key_industries }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_nationalize_key_industries

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = communism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY }

		completion_reward = {

			swap_ideas = {
				remove_idea = HUN_socialist_economy_idea
				add_idea = HUN_socialist_economy_idea_2
			}

		}
	}

	focus = {
		id = wuw_HUN_promote_revanchist_sentiment
		icon = GFX_focus_focus_fra_revolution_utmost
		prerequisite = { focus = wuw_HUN_restore_the_socialist_federative_republic }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_restore_the_socialist_federative_republic

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			has_government = communism
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_socialist_revanchist_sentiment

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					OR = {
						has_idea = HUN_treaty_of_triannon_wuw
						has_idea = HUN_treaty_of_triannon_aat_wuw
						has_idea = HUN_treaty_of_triannon_wuw_no_army_exp_debuff
						has_idea = HUN_treaty_of_triannon_aat_wuw_no_army_exp_debuff
						has_idea = HUN_treaty_of_triannon_wuw_no_air_debuff
						has_idea = HUN_treaty_of_triannon_aat_wuw_no_air_debuff
						has_idea = HUN_treaty_of_triannon_wuw_no_air_or_army_debuff
						has_idea = HUN_treaty_of_triannon_aat_wuw_no_air_or_army_debuff
						has_idea = HUN_bled_agreement_wuw
					}
				}
				add_threat = 2

				custom_effect_tooltip = generic_skip_one_line_tt
				IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw
					}
					remove_ideas = HUN_treaty_of_triannon_wuw
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw
					}
					remove_ideas = HUN_treaty_of_triannon_aat_wuw
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw_no_army_exp_debuff
					}
					remove_ideas = HUN_treaty_of_triannon_wuw_no_army_exp_debuff
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw_no_army_exp_debuff
					}
					remove_ideas = HUN_treaty_of_triannon_aat_wuw_no_army_exp_debuff
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw_no_air_debuff
					}
					remove_ideas = HUN_treaty_of_triannon_wuw_no_air_debuff
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw_no_air_debuff
					}
					remove_ideas = HUN_treaty_of_triannon_aat_wuw_no_air_debuff
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw_no_air_or_army_debuff
					}
					remove_ideas = HUN_treaty_of_triannon_wuw_no_air_or_army_debuff
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw_no_air_or_army_debuff
					}
					remove_ideas = HUN_treaty_of_triannon_aat_wuw_no_air_or_army_debuff
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_bled_agreement_wuw
					}
					remove_ideas = HUN_bled_agreement_wuw
				}
				news_event = { id = news.298 days = 1 }
			}


		}
	}

	focus = {
		id = wuw_HUN_the_second_northern_campaign
		icon = GFX_focus_generic_attack_slovakia
		prerequisite = { focus = wuw_HUN_promote_revanchist_sentiment }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_promote_revanchist_sentiment

		will_lead_to_war_with = CZE
		will_lead_to_war_with = SLO

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			is_subject = no
			has_government = communism
			NOT = {
				AND = {
					owns_state = 73
					owns_state = 664
					owns_state = 71
					owns_state = 70
				}
			}
		}

		bypass = {
			AND = {
				owns_state = 73
				owns_state = 664
				owns_state = 71
				owns_state = 70
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			every_state = {
				limit = {
					NOT = {
						is_claimed_by = ROOT
					}
					OR = {
						state = 73
						state = 664
						state = 71
						state = 70
					}
				}
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_country = {
				limit = {
					AND = {
						OR = {
							owns_state = 73
							owns_state = 664
							owns_state = 71
							owns_state = 70
						}
						NOT = {
							OR = {
								has_war_with = ROOT
								original_tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = PREV
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_revenge_for_the_romanian_humiliations
		icon = GFX_focus_generic_attack_romania
		prerequisite = { focus = wuw_HUN_promote_revanchist_sentiment }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_promote_revanchist_sentiment

		will_lead_to_war_with = TRA
		will_lead_to_war_with = ROM

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			is_subject = no
			has_government = communism
			NOT = {
				AND = {
					owns_state = 76
					owns_state = 84
					owns_state = 83
					owns_state = 82
				}
			}
		}

		bypass = {
			AND = {
				owns_state = 76
				owns_state = 84
				owns_state = 83
				owns_state = 82
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			every_state = {
				limit = {
					NOT = {
						is_claimed_by = ROOT
					}
					OR = {
						state = 76
						state = 84
						state = 83
						state = 82
					}
				}
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_country = {
				limit = {
					AND = {
						OR = {
							owns_state = 76
							owns_state = 84
							owns_state = 83
							owns_state = 82
						}
						NOT = {
							OR = {
								has_war_with = ROOT
								original_tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = PREV
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_march_south
		icon = GFX_focus_generic_attack_yugoslavia
		prerequisite = { focus = wuw_HUN_revenge_for_the_romanian_humiliations focus = wuw_HUN_the_second_northern_campaign }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_the_second_northern_campaign

		will_lead_to_war_with = YUG
		will_lead_to_war_with = TRA
		will_lead_to_war_with = SER

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			is_subject = no
			has_government = communism
			NOT = {
				AND = {
					owns_state = 764
					owns_state = 45
				}
			}
		}

		bypass = {
			AND = {
				owns_state = 764
				owns_state = 45
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			every_state = {
				limit = {
					NOT = {
						is_claimed_by = ROOT
					}
					OR = {
						state = 764
						state = 45
					}
				}
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_country = {
				limit = {
					AND = {
						OR = {
							owns_state = 764
							owns_state = 45
						}
						NOT = {
							OR = {
								has_war_with = ROOT
								original_tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = PREV
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_a_revolutionary_greater_hungary
		icon = GFX_focus_HUN_a_revolutionary_greater_hungary
		prerequisite = { focus = wuw_HUN_march_south }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_march_south

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			has_government = communism
			AND = {
				OR = {
					owns_state = 664
					controls_state = 664
				}
				OR = {
					owns_state = 73
					controls_state = 73
				}
				OR = {
					owns_state = 76
					controls_state = 76
				}
				OR = {
					owns_state = 84
					controls_state = 84
				}
				OR = {
					owns_state = 83
					controls_state = 83
				}
				OR = {
					owns_state = 82
					controls_state = 82
				}
				OR = {
					owns_state = 45
					controls_state = 45
				}
			}
			NOT = { has_global_flag = GER_reformed_austro_hungarian_empire }
			custom_trigger_tooltip = {
				tooltip = wuw_HUN_proclaim_greater_hungary_core_states_requirement
				AND = {
					155 = {
						is_fully_controlled_by = ROOT
					}
					974 = {
						is_fully_controlled_by = ROOT
					}
					973 = {
						is_fully_controlled_by = ROOT
					}
					43 = {
						is_fully_controlled_by = ROOT
					}
					154 = {
						is_fully_controlled_by = ROOT
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_a_revolutionary_greater_hungary_tt
			hidden_effect = {
				set_cosmetic_tag = HUN_GREATER_COMMUNIST_STATE
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_state = {
				limit = {
					NOT = {
						is_core_of = ROOT
					}
					OR = {
						state = 664
						state = 70
						state = 71
						state = 73
						state = 975
						state = 45
						state = 764
						state = 76
						state = 83
						state = 84
						state = 82
					}
				}
				add_core_of = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_stability = 0.1
			add_war_support = 0.1

		}
	}

	focus = {
		id = HUN_hero_of_the_revolution
		icon = GFX_focus_GER_the_peoples_victory
		prerequisite = { focus = wuw_HUN_a_revolutionary_greater_hungary }
		
		x = -1
		y = 1
		relative_position_id = wuw_HUN_a_revolutionary_greater_hungary

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			is_subject = no
			has_government = communism
			has_country_leader = {
				ruling_only = yes
				character = HUN_bela_kun
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {

			add_country_leader_trait = HUN_revolutionary_internationalist_trait

		}
	}

	focus = {
		id = HUN_balkan_ambitions
		icon = GFX_focus_BUL_free_balkan_states
		prerequisite = { focus = wuw_HUN_a_revolutionary_greater_hungary }
		
		x = 1
		y = 1
		relative_position_id = wuw_HUN_a_revolutionary_greater_hungary

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			is_subject = no
			has_government = communism
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			every_other_country = {
				limit = {
					NOT = {
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
					OR = {
						owns_state = 109
						owns_state = 103
						owns_state = 104
						owns_state = 804
						owns_state = 105
						owns_state = 107
						owns_state = 108
						owns_state = 802
						owns_state = 803
						owns_state = 106
						owns_state = 970
						owns_state = 934
						owns_state = 44
						owns_state = 805
						owns_state = 48
						owns_state = 212
						owns_state = 801
						owns_state = 211
						owns_state = 81
						owns_state = 46
						owns_state = 77
						owns_state = 971
						owns_state = 79
						owns_state = 78
						owns_state = 766
						owns_state = 80
						owns_state = 163
						owns_state = 764
						owns_state = 45
						owns_state = 82
						owns_state = 84
						owns_state = 76
						owns_state = 83
						owns_state = 974
						owns_state = 973
						owns_state = 154
						owns_state = 43
						owns_state = 155
						owns_state = 184
						owns_state = 731
						owns_state = 185
						owns_state = 47
						owns_state = 186
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
						expire = 0
					}	
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = HUN_unify_the_balkans_decision

		}
	}

	focus = {
		id = wuw_HUN_denounce_marxism_leninism
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = wuw_HUN_a_revolutionary_greater_hungary }
		#mutually_exclusive = { focus = wuw_HUN_approach_the_diasporas }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_a_revolutionary_greater_hungary

		will_lead_to_war_with = SOV

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			is_subject = no
			has_government = communism
			SOU = {
				exists = yes
				has_country_leader = {
					ruling_only = yes
					character = SOV_iosif_stalin
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_timed_idea = {
				idea = HUN_denounce_bolshevism_idea
				days = 650
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOU
			}

		}
	}

	focus = {
		id = wuw_HUN_avoid_interventionalist_destablilization
		icon = GFX_goal_generic_consumer_goods
		#prerequisite = { focus = wuw_HUN_a_revolutionary_greater_hungary }
		mutually_exclusive = { focus = wuw_HUN_economic_intervention }
		x = 45
		y = 0
		relative_position_id = wuw_HUN_end_the_regency

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		offset = {
			x = -25
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_end_the_regency
			}
		}

		offset = {
			x = -10
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_reinstate_the_pragmatic_sanction
			}
		}

		offset = {
			x = -3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_invite_otto_to_the_throne
			}
		}

		offset = {
			x = -3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_the_old_habsburg_king
			}
		}

		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_establishing_a_new_dynasty
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_democratic_king
			}
		}

		offset = {
			x = -4
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_fascist_king
			}
		}

		offset = {
			x = -40
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_continue_the_regency
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_strengthen_horthys_reign
			}
		}

		offset = {
			x = -38
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_end_the_white_terror
			}
		}

		offset = {
			x = -13
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_establish_the_second_republic
			}
		}

		offset = {
			x = -12
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_join_the_comintern
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_restore_the_socialist_federative_republic
			}
		}

		cost = 10

		ai_will_do = {
			factor = 75
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_political_power = 100
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = wuw_HUN_economic_intervention
		icon = GFX_goal_generic_demand_territory
		#prerequisite = { focus = wuw_HUN_a_revolutionary_greater_hungary }
		mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 47
		y = 0
		relative_position_id = wuw_HUN_end_the_regency

		offset = {
			x = -25
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_end_the_regency
			}
		}

		offset = {
			x = -10
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_reinstate_the_pragmatic_sanction
			}
		}

		offset = {
			x = -3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_invite_otto_to_the_throne
			}
		}

		offset = {
			x = -3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_the_old_habsburg_king
			}
		}

		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_establishing_a_new_dynasty
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_democratic_king
			}
		}

		offset = {
			x = -4
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_fascist_king
			}
		}

		offset = {
			x = -40
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_continue_the_regency
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_strengthen_horthys_reign
			}
		}

		offset = {
			x = -38
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_end_the_white_terror
			}
		}

		offset = {
			x = -13
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_establish_the_second_republic
			}
		}

		offset = {
			x = -12
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_join_the_comintern
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_restore_the_socialist_federative_republic
			}
		}

		cost = 10

		ai_will_do = {
			factor = -5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_wuw_interventionism
		}
	}

	focus = {
		id = wuw_HUN_secret_rearmament
		icon = GFX_focus_secret_rearmament
		#prerequisite = { focus = wuw_HUN_a_revolutionary_greater_hungary }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 55
		y = 0
		relative_position_id = wuw_HUN_end_the_regency

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 65
		}

		offset = {
			x = -25
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_end_the_regency
			}
		}

		offset = {
			x = -10
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_reinstate_the_pragmatic_sanction
			}
		}

		offset = {
			x = -3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_invite_otto_to_the_throne
			}
		}

		offset = {
			x = -3
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_the_old_habsburg_king
			}
		}

		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_abide_by_the_little_ententes_stipulations
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_establishing_a_new_dynasty
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_democratic_king
			}
		}

		offset = {
			x = -4
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_elect_a_fascist_king
			}
		}

		offset = {
			x = -40
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_continue_the_regency
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_strengthen_horthys_reign
			}
		}

		offset = {
			x = -38
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_end_the_white_terror
			}
		}

		offset = {
			x = -13
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_establish_the_second_republic
			}
		}

		offset = {
			x = -12
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_join_the_comintern
			}
		}

		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = wuw_HUN_restore_the_socialist_federative_republic
			}
		}

		available = {

		}

		bypass = {
			wuw_HUN_does_not_have_trianon = yes
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_secret_rearmament
			custom_effect_tooltip = HUN_secret_rearmament_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = HUN_levente_associations
				}
				swap_ideas = {
					remove_idea = HUN_levente_associations
					add_idea = HUN_levente_associations_secret_rearmament
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = HUN_levente_associations_act_of_defense
				}
				swap_ideas = {
					remove_idea = HUN_levente_associations_act_of_defense
					add_idea = HUN_levente_associations_act_of_defense_and_secret_rearmament
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_forcefully_revitalize_the_industries
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = wuw_HUN_economic_intervention }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_economic_intervention

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		cost = 5

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_timed_idea = {
				idea = HUN_forceful_industrial_revitalization
				days = 365
			}

			add_tech_bonus = {
				name = HUN_industrial_revitalization
				bonus = 0.75
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = wuw_HUN_reintigrate_the_imperial_railroads
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = wuw_HUN_economic_intervention focus = wuw_HUN_avoid_interventionalist_destablilization }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_economic_intervention

		search_filters = { FOCUS_FILTER_POLITICAL }

		cost = 10

		ai_will_do = {
			factor = 74
		}

		available = {
			AND = {
				43 = {
					is_owned_and_controlled_by = ROOT
				}
				155 = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		bypass = {
			AND = {
				NOT = {
					43 = {
						is_owned_and_controlled_by = ROOT
					}
					155 = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf_2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf_3
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = { country_exists = AUS }
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_reintegrate_the_railroads }
			}
			IF = {
				limit = { country_exists = CZE }
				reverse_add_opinion_modifier = { target = CZE modifier = HUN_reintegrate_the_railroads }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			# Connection into Burgenland
			build_railway = {
			    level = 1
			    path = { 6720 3700 }
			    start_province = 6720
			    target_province = 3700
			}

			# Connection into Southern Slovakia
			build_railway = {
			    level = 1
			    path = { 9690 6561 }
			    start_province = 9690
			    target_province = 6561
			}
		}

		completion_reward = {
			155 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf
			}
			43 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf_2
			}
			913 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf_3
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = { country_exists = AUS }
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_reintegrate_the_railroads }
			}
			IF = {
				limit = { country_exists = CZE }
				reverse_add_opinion_modifier = { target = CZE modifier = HUN_reintegrate_the_railroads }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			# Connection into Burgenland
			build_railway = {
			    level = 1
			    path = { 6720 3700 }
			    start_province = 6720
			    target_province = 3700
			}

			# Connection into Southern Slovakia
			build_railway = {
			    level = 1
			    path = { 9690 6561 }
			    start_province = 9690
			    target_province = 6561
			}
		}
	}

	focus = {
		id = wuw_HUN_promote_increased_urbanization
		icon = GFX_focus_generic_low_cost_housing
		prerequisite = { focus = wuw_HUN_reintigrate_the_imperial_railroads }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_reintigrate_the_imperial_railroads

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 73
		}

		available = {
			43 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					43 = {
						free_building_slots = {
							building = industrial_complex
							size > 3
							include_locked = yes
						}
					}
				}
				43 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			43 = {
				#add_manpower = 150000
				increase_state_category = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = HUN_urbanization_efforts
				days = 365
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_ganz_muvek
		icon = GFX_focus_generic_modernize_industry
		prerequisite = { focus = wuw_HUN_reintigrate_the_imperial_railroads }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_reintigrate_the_imperial_railroads

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 72
		}

		available = {
			43 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					43 = {
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
				}
				43 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_resource = {
						type = steel
						amount = 6
					}
				}
				ELSE = {
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT
							is_fully_controlled_by = ROOT
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_devalue_the_pengo
		icon = GFX_focus_HUN_devalue_the_pengo
		prerequisite = { focus = wuw_HUN_reintigrate_the_imperial_railroads }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -2
		y = 2
		relative_position_id = wuw_HUN_reintigrate_the_imperial_railroads

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_timed_idea = {
				idea = HUN_revaluing_the_pengo
				days = 420
			}

			IF = {
				limit = {
					NOT = {
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = HUN_bela_imredy
			}

		}
	}

	focus = {
		id = wuw_HUN_announce_the_gyor_program
		icon = GFX_goal_generic_production
		prerequisite = { focus = wuw_HUN_expand_the_ganz_muvek focus = wuw_HUN_promote_increased_urbanization }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_expand_the_ganz_muvek

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }

		cost = 10

		dynamic = yes

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				wuw_HUN_does_not_have_trianon = yes
				has_war = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 50

			add_tech_bonus = {
				name = HUN_announce_the_gyor_program
				bonus = 0.5
				uses = 2
				category = cat_production
			}

			add_tech_bonus = {
				name = HUN_announce_the_gyor_program
				bonus = 0.75
				uses = 1
				category = infantry_weapons
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_announce_the_gyor_program_tt

			hidden_effect = {
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = europe
						}
					}
					news_event = {
						id = wuw_HUN_news_events.1
						days = 2
						random_days = 5
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_enlarge_the_ganz_danubius_division
		icon = GFX_focus_POL_develop_polish_shipbuilding
		prerequisite = { focus = wuw_HUN_expand_the_ganz_muvek }
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_expand_the_ganz_muvek

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			any_controlled_state = {
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_coastal = yes
						}
					}
				}
				custom_effect_tooltip = wuw_HUN_enlarge_the_ganz_danubius_division_tt
			}
			ELSE = {
				random_controlled_state = {
					limit = {
						is_coastal = yes
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_ganz_danubius_organization

				mio:HUN_ganz_danubius_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_ganz_danubius
			}

		}
	}

	focus = {
		id = wuw_HUN_support_for_our_finnish_brothers
		icon = GFX_focus_invite_finland
		prerequisite = { focus = wuw_HUN_secret_rearmament }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 5
		y = 1
		relative_position_id = wuw_HUN_secret_rearmament

		search_filters = { FOCUS_FILTER_HISTORICAL }

		cost = 2

		ai_will_do = {
			factor = 5
		}

		available = {
			has_war = no
			FIN = {
				has_war = yes
				has_civil_war = no
			}
			custom_trigger_tooltip = {
				tooltip = wuw_HUN_support_for_our_finnish_brothers_tt
				OR = {
					AND = {
						FIN = {
							OR = {
								has_government = neutrality
								has_government = fascism
							}
						}
						HUN = {
							OR = {
								has_government = neutrality
								has_government = fascism
							}
						}
					}
					AND = {
						FIN = {
							OR = {
								has_government = democratic
								has_government = communism
							}
						}
						HUN = {
							OR = {
								has_government = democratic
								has_government = communism
							}
						}
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_timed_idea = {
				idea = HUN_pan_ugric_volunteer_force
				days = 1095
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_relation_rule_override = {
			    target = FIN
			    can_send_volunteers = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_country = {
				limit = {
					original_tag = FIN
					has_war = yes
					has_civil_war = no
				}
				country_event = {
					id = WW_hungary.2
					days = 3
					random_days = 4
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_undercover_air_maneuvers
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = wuw_HUN_secret_rearmament }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_secret_rearmament

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_AIR_XP FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						has_dlc = "Arms Against Tyranny"
					}
				}
				IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_wuw
						add_idea = HUN_treaty_of_triannon_wuw_no_air_debuff
					}
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw_no_army_exp_debuff
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_wuw_no_army_exp_debuff
						add_idea = HUN_treaty_of_triannon_wuw_no_air_or_army_debuff
					}
				}
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_aat_wuw
						add_idea = HUN_treaty_of_triannon_aat_wuw_no_air_debuff
					}
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw_no_army_exp_debuff
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_aat_wuw_no_army_exp_debuff
						add_idea = HUN_treaty_of_triannon_aat_wuw_no_air_or_army_debuff
					}
				}
			}

			air_experience = 15
			add_doctrine_cost_reduction = {
				name = wuw_HUN_undercover_air_maneuvers
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					wuw_HUN_does_not_have_trianon = no
				}
				custom_effect_tooltip = available_theorist
				show_ideas_tooltip = HUN_gyorgy_jendrassik

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = available_military_high_command
				show_ideas_tooltip = HUN_sandor_magyarossy
			}

		}
	}

	focus = {
		id = wuw_HUN_hold_war_games
		icon = GFX_goal_poland_goal
		prerequisite = { focus = wuw_HUN_secret_rearmament }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_secret_rearmament

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MILITARY_CHARACTER }

		cost = 5

		ai_will_do = {
			factor = 64
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						has_dlc = "Arms Against Tyranny"
					}
				}
				IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_wuw
						add_idea = HUN_treaty_of_triannon_wuw_no_army_exp_debuff
					}
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw_no_air_debuff
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_wuw_no_air_debuff
						add_idea = HUN_treaty_of_triannon_wuw_no_air_or_army_debuff
					}
				}
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_aat_wuw
						add_idea = HUN_treaty_of_triannon_aat_wuw_no_army_exp_debuff
					}
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw_no_air_debuff
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_aat_wuw_no_air_debuff
						add_idea = HUN_treaty_of_triannon_aat_wuw_no_air_or_army_debuff
					}
				}
			}

			army_experience = 30

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					wuw_HUN_does_not_have_trianon = no
				}
				custom_effect_tooltip = available_theorist
				show_ideas_tooltip = HUN_shvoy_kalman
			}

		}
	}

	focus = {
		id = wuw_HUN_negotiate_the_restrictions
		icon = GFX_focus_HUN_negotiate_the_restrictions
		prerequisite = { focus = wuw_HUN_undercover_air_maneuvers focus = wuw_HUN_hold_war_games }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_undercover_air_maneuvers

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_WAR_SUPPORT }

		cost = 5

		ai_will_do = {
			factor = 63
		}

		available = {
			NOT = {
				has_idea = HUN_promises_of_peace
			}
			has_war = no
		}

		bypass = {
			OR = {
				wuw_HUN_does_not_have_trianon = yes
				has_idea = HUN_bled_agreement_wuw
				AND = {
					ROM = {
						OR = {
							exists = no
							is_puppet = yes
						}
					}
					FRA = {
						OR = {
							exists = no
							is_puppet = yes
							NOT = { has_completed_focus = FRA_strengthen_the_little_entente }
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					FRA = { has_completed_focus = FRA_strengthen_the_little_entente }
				}
				FRA = { country_event = DOD_hungary.140 }
			}
			IF = {
				limit = {
					NOT = { FRA = { has_completed_focus = FRA_strengthen_the_little_entente } }
				}
				ROM = { country_event = DOD_hungary.140 }
			}

			custom_effect_tooltip = HUN_bled_agreement_custom_effect_tooltip

		}
	}

	focus = {
		id = wuw_HUN_reinstate_the_navy
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = wuw_HUN_secret_rearmament }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 16
		y = 1
		relative_position_id = wuw_HUN_secret_rearmament

		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			any_state = {
				is_controlled_by = ROOT
				is_coastal = yes
			}
			wuw_HUN_does_not_have_trianon = yes
			NOT = {
				has_idea = HUN_promises_of_peace
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15
			add_ideas = HUN_naval_warfare

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_obudai_hajogyar_organization

				mio:HUN_obudai_hajogyar_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_obudai_hajogyar
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						OR = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				custom_effect_tooltip = available_chief_of_navy
				show_ideas_tooltip = HUN_miklos_horthy
			}

		}
	}

	focus = {
		id = wuw_HUN_sailing_the_danube
		icon = GFX_focus_generic_merchant_fleet
		prerequisite = { focus = wuw_HUN_secret_rearmament }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 14
		y = 1
		relative_position_id = wuw_HUN_secret_rearmament

		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 50
				producer = HUN
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_chief_of_navy
			show_ideas_tooltip = HUN_kalman_hardy

		}
	}

	focus = {
		id = wuw_HUN_make_the_magyar_legiero_known
		icon = GFX_focus_HUN_make_the_magyar_legiero_known
		prerequisite = { focus = wuw_HUN_negotiate_the_restrictions }
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -2
		y = 2
		relative_position_id = wuw_HUN_negotiate_the_restrictions

		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			NOT = {
				has_idea = HUN_promises_of_peace
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = wuw_HUN_make_the_magyar_legiero_known
				cost_reduction = 0.35
				uses = 1
				category = air_doctrine
			}

			air_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						has_completed_focus = wuw_HUN_establishing_a_new_dynasty
					}
				}
				add_ace = {
					name = Istvan
					surname = Horthy
					callsign = Nagybánya
					type = fighter_genius
				}

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			IF = {
				limit = {
					43 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				43 = {
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}

			IF = {
				limit = {
					154 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				154 = {
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = HUN_ferenc_feketehalmyczeydner
			show_ideas_tooltip = HUN_laszlo_hary
		}
	}

	focus = {
		id = wuw_HUN_initiate_army_maneuvers
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = wuw_HUN_negotiate_the_restrictions }
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 5
		y = 2
		relative_position_id = wuw_HUN_negotiate_the_restrictions

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			NOT = {
				has_idea = HUN_promises_of_peace
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			army_experience = 40

			add_doctrine_cost_reduction = {
				name = HUN_army_maneuvers
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}

		}
	}

	focus = {
		id = wuw_HUN_invest_in_ludovica_academy
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = wuw_HUN_negotiate_the_restrictions }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 9
		y = 2
		relative_position_id = wuw_HUN_negotiate_the_restrictions

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			NOT = {
				has_idea = HUN_promises_of_peace
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			every_army_leader = {
				add_planning = 1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = HUN_ferenc_szombathelyi
			show_ideas_tooltip = HUN_vilmos_roder
			IF = {
				limit = {
					NOT = {
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
				}
				show_ideas_tooltip = HUN_karoly_beregfy
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_diosgyor_machinery_factory
		icon = GFX_focus_HUN_expand_the_diosgyor_machinery_factory
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_announce_the_gyor_program

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 61
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			AND = {
				155 = {
					is_owned_and_controlled_by = ROOT
				}
				43 = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						has_tech = bicycle_infantry
					}
				}
				set_technology = { bicycle_infantry = 1 popup = no }
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			IF = {
				limit = {
					43 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				43 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			IF = {
				limit = {
					155 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				155 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_manred_weiss_steel_and_metal_works
		icon = GFX_focus_generic_steel
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 4
		y = 1
		relative_position_id = wuw_HUN_announce_the_gyor_program

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 62
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			43 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				prioritize = { 43 }
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 10
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_hungarian_academy_of_sciences
		icon = GFX_focus_generic_improve_the_administration
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		mutually_exclusive = { focus = wuw_HUN_invite_foreign_investors }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_announce_the_gyor_program

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 55
		}

		available = {
			num_of_factories > 30
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_research_slot = 1

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = {
				decision = HUN_establish_new_academy_of_sciences_branches_program_decision
				show_effect_tooltip = no # default is no
				show_modifiers = no # default is no
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_lignite_industry
		icon = GFX_focus_generic_mining_industry
		prerequisite = { focus = wuw_HUN_invite_foreign_investors focus = wuw_HUN_expand_the_hungarian_academy_of_sciences }
		#mutually_exclusive = { focus = wuw_HUN_invite_foreign_investors }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_expand_the_hungarian_academy_of_sciences

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 54
		}

		available = {
			155 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {
			NOT = {
				155 = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					155 = {
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
				}
				155 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_resource = {
						type = steel
						amount = 2
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_tap_newfound_oil_deposits
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = wuw_HUN_expand_the_lignite_industry }
		mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_expand_the_lignite_industry

		cost = 10

		ai_will_do = {
			factor = 53
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		available = {
			AND = {
				ROOT = {
					has_full_control_of_state = 155
				}
				ROOT = {
					has_full_control_of_state = 974
				}
				ROOT = {
					has_full_control_of_state = 973
				}
			}
			has_tech = excavation3
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			155 = {
				add_resource = {
					type = oil
					amount = 5
				}
			}
			974 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}

			973 = {
				add_resource = {
					type = oil
					amount = 6
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = {
				decision = HUN_tap_the_nagylengyel_oil_field
				show_effect_tooltip = no # default is no
				show_modifiers = no # default is no
			}

			unlock_decision_tooltip = {
				decision = HUN_explore_the_oil_fields_around_nagykanizsa
				show_effect_tooltip = no # default is no
				show_modifiers = no # default is no
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = HUN_maort

		}
	}

	focus = {
		id = wuw_HUN_hungarian_autarky
		icon = GFX_focus_generic_stockpile_fuel
		prerequisite = { focus = wuw_HUN_hungarian_tradition focus = wuw_HUN_tap_newfound_oil_deposits }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_tap_newfound_oil_deposits

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			#has_country_flag = HUN_activated_huba_ii_flag
			has_capitulated = no
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_hungarian_autarky_idea

			add_tech_bonus = {
				name = HUN_synthetic_industry
				bonus = 0.25
				uses = 2
				category = synth_resources
			}

		}
	}

	focus = {
		id = wuw_HUN_invite_foreign_investors
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = wuw_HUN_devalue_the_pengo }
		mutually_exclusive = { focus = wuw_HUN_expand_the_hungarian_academy_of_sciences }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_devalue_the_pengo

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_invite_foreign_investors
		}
	}

	focus = {
		id = wuw_HUN_hungarian_tradition
		icon = GFX_focus_HUN_hungarian_tradition
		prerequisite = { focus = wuw_HUN_expand_the_lignite_industry }
		mutually_exclusive = { focus = wuw_HUN_tap_newfound_oil_deposits }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_expand_the_lignite_industry

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_agrarian_tradition
		}
	}

	focus = {
		id = wuw_HUN_magyar_allamvasutak
		icon = GFX_focus_HUN_magyar_allamvasutak
		prerequisite = { focus = wuw_HUN_expand_the_lignite_industry }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = -2
		y = 2
		relative_position_id = wuw_HUN_expand_the_lignite_industry

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 52
		}

		available = {
			43 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					43 = {
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
				}
				43 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = HUN_mav
		}
	}

	focus = {
		id = wuw_HUN_expand_the_aluminum_industry
		icon = GFX_focus_generic_aluminum
		prerequisite = { focus = wuw_HUN_expand_the_lignite_industry }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = 2
		y = 2
		relative_position_id = wuw_HUN_expand_the_lignite_industry

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 51
		}

		available = {
			ROOT = { has_full_control_of_state = 43 }
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			43 = {
				add_resource = {
					type = aluminium
					amount = 14
				}
			}
		}
	}

	focus = {
		id = wuw_HUN_budapest_university_of_technology_and_economics
		icon = GFX_focus_research
		prerequisite = { focus = wuw_HUN_expand_the_aluminum_industry focus = wuw_HUN_magyar_allamvasutak }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = -2
		y = 1
		relative_position_id = wuw_HUN_expand_the_aluminum_industry

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			num_of_factories > 50
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = wuw_HUN_the_matyasfold_fighter_factory
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = wuw_HUN_make_the_magyar_legiero_known }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = -5
		y = 2
		relative_position_id = wuw_HUN_make_the_magyar_legiero_known

		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			any_state = {
				is_owned_by = ROOT
				is_core_of = ROOT
			}
			#has_country_flag = HUN_activated_huba_1_flag
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			air_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_mw_aircraft_organization

				mio:HUN_mw_aircraft_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = mw_aircraft
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_on_the_weiss_wm_16
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = wuw_HUN_make_the_magyar_legiero_known }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = -3
		y = 2
		relative_position_id = wuw_HUN_make_the_magyar_legiero_known

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = wuw_HUN_expand_on_the_weiss_wm_16
				bonus = 0.3
				ahead_reduction = 1
				uses = 2
				category = medium_air
			}
		}
	}

	focus = {
		id = wuw_HUN_develop_the_weiss_wm_21_solyom
		icon = GFX_focus_generic_cas_aircraft
		prerequisite = { focus = wuw_HUN_expand_on_the_weiss_wm_16 focus = wuw_HUN_the_matyasfold_fighter_factory }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_the_matyasfold_fighter_factory

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_solyom_development
				bonus = 0.5
				uses = 1
				category = medium_air
			}

			add_tech_bonus = {
				name = HUN_solyom_development
				bonus = 0.15
				uses = 3
				category = cat_air_bombs
				category = cat_air_engine
			}

		}
	}

	focus = {
		id = wuw_HUN_weiss_manfred_wm_23_ezust_nyil
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = wuw_HUN_expand_on_the_weiss_wm_16 }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_expand_on_the_weiss_wm_16

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = wuw_HUN_weiss_manfred_wm_23_ezust_nyil
				bonus = 0.3
				uses = 1
				category = light_air
			}
			add_tech_bonus = {
				name = wuw_HUN_weiss_manfred_wm_23_ezust_nyil
				bonus = 0.5
				uses = 1
				category = cat_air_guns
			}
		}
	}

	focus = {
		id = wuw_HUN_establish_the_mavag_aircraft_factory
		icon = GFX_focus_HUN_establish_the_mavag_aircraft_factory
		prerequisite = { focus = wuw_HUN_make_the_magyar_legiero_known }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_make_the_magyar_legiero_known

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			any_state = {
				is_owned_by = ROOT
				is_core_of = ROOT
			}
			#has_country_flag = HUN_activated_huba_1_flag
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_mavag_aircraft_organization

				mio:HUN_mavag_aircraft_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = mavag_aircraft
			}

		}
	}

	focus = {
		id = wuw_HUN_the_mavag_heja
		icon = GFX_focus_usa_escort_fighters
		prerequisite = { focus = wuw_HUN_establish_the_mavag_aircraft_factory }
		mutually_exclusive = { focus = wuw_HUN_develop_laszlo_vargas_design }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_establish_the_mavag_aircraft_factory

		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			air_experience = 30

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = HUN_light_fighter_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = light_fighter
			}

		}
	}

	focus = {
		id = wuw_HUN_repulo_muszaki_intezet
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = wuw_HUN_make_the_magyar_legiero_known }
		mutually_exclusive = { focus = wuw_HUN_joint_air_development }
		x = 1
		y = 2
		relative_position_id = wuw_HUN_make_the_magyar_legiero_known

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_indigenous_designs
		}
	}

	focus = {
		id = wuw_HUN_develop_laszlo_vargas_design
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = wuw_HUN_repulo_muszaki_intezet }
		mutually_exclusive = { focus = wuw_HUN_the_mavag_heja }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_repulo_muszaki_intezet

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_laszlo_varga_design
				bonus = 0.5
				ahead_reduction = 1
				uses = 2
				category = light_fighter
				category = cas_bomber
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = available_scientist_one_line_tt
				CHARACTER = HUN_laszlo_varga
			}	

		}
	}

	#focus = {
	#	id = wuw_HUN_the_szekesfehervar_sosto_plant
	#	icon = GFX_focus_generic_reorient_production
	#	prerequisite = { focus = wuw_HUN_repulo_muszaki_intezet }
	#	#mutually_exclusive = { focus = wuw_HUN_the_mavag_heja }
	#	x = 1
	#	y = 2
	#	relative_position_id = wuw_HUN_repulo_muszaki_intezet
#
	#	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY }
#
	#	cost = 10
#
	#	ai_will_do = {
	#		factor = 1
	#	}
#
	#	available = {
	#		any_state = {
	#			is_owned_by = ROOT
	#			is_core_of = ROOT
	#		}
	#		has_country_flag = HUN_activated_huba_1_flag
	#	}
	#
	#	bypass = {
#
	#	}
#
	#	cancel_if_invalid = no
	#	continue_if_invalid = yes
	#	available_if_capitulated = no
#
	#	completion_reward = {
#
	#		air_experience = 25
#
	#		random_owned_controlled_state = {
	#			limit = {
	#				is_core_of = ROOT
	#				free_building_slots = {
	#					building = arms_factory
	#					size > 1
	#					include_locked = yes
	#				}
	#			}
	#			add_extra_state_shared_building_slots = 1
	#			add_building_construction = {
	#				type = arms_factory
	#				level = 1
	#				instant_build = yes
	#			}
	#		}
#
	#	}
	#}

	focus = {
		id = wuw_HUN_joint_air_development
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = wuw_HUN_make_the_magyar_legiero_known }
		mutually_exclusive = { focus = wuw_HUN_repulo_muszaki_intezet }
		x = 4
		y = 2
		relative_position_id = wuw_HUN_make_the_magyar_legiero_known

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			is_in_faction = yes
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_to_tech_sharing_group = HUN_joint_air_development_group
			every_other_country = {
				limit = {
					is_in_faction_with = HUN
				}
				add_to_tech_sharing_group = HUN_joint_air_development_group
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_equipment_subsidy = {
					cic = 1000
					equipment_type = small_plane_airframe
					seller_trigger = is_allied_seller_trigger
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_the_arado_ar_96
		icon = GFX_focus_generic_cryptologic_bomb
		prerequisite = { focus = wuw_HUN_joint_air_development }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_joint_air_development

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_light_fighter_effort
				bonus = 0.25
				uses = 1
				category = light_fighter
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_recon_airplane_focus

		}
	}

	focus = {
		id = wuw_HUN_extensive_licensing_programs
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = wuw_HUN_joint_air_development }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_joint_air_development

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

			IF = {
				limit = {
					NOT = {
						has_dlc = "By Blood Alone"
					}
				}
				NOT = {
					has_tech = fighter3
					has_tech = heavy_fighter3
				}
			}
			ELSE = {
				NOT = {
					has_tech = advanced_small_airframe
					has_tech = advanced_medium_airframe
				}
			}
			OR = {
				GER = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				FRA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				ITA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				ENG = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				USA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
			}

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_license_foreign

			custom_effect_tooltip = generic_skip_one_line_tt

			country_event = DOD_hungary.150

		}
	}

	focus = {
		id = wuw_HUN_allied_manufacturing_programs
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = wuw_HUN_joint_air_development }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_joint_air_development

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			is_in_faction = yes
			is_faction_leader = no
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = wuw_HUN_allied_manufacturing_programs_tt
			}

			random_country = {
				limit = {
					is_in_faction_with = ROOT
					is_faction_leader = yes
					NOT = {
						tag = ROOT
					}
				}
				country_event = {
					id = WW_hungary.1
					days = 3
					random_days = 4
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_danuvia_submachine_guns
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = wuw_HUN_initiate_army_maneuvers }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = -2
		y = 1
		relative_position_id = wuw_HUN_initiate_army_maneuvers

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_danuvia_submachine_guns
				bonus = 0.75
				uses = 1
				category = infantry_weapons
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_danuvia_inf_organization

				mio:HUN_danuvia_inf_organization = {
					add_mio_size = 2
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_danuvia_inf
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_pal_kiraly
		}
	}

	focus = {
		id = wuw_HUN_form_the_gyorshadtest
		icon = GFX_focus_HUN_form_the_gyorshadtest
		prerequisite = { focus = wuw_HUN_initiate_army_maneuvers }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_initiate_army_maneuvers

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			hidden_effect = {
				IF = {
					limit = {
						NOT = {
							has_tech = bicycle_infantry
						}
					}
					set_technology = { bicycle_infantry = 1 popup = no }
				}
			}

			add_tech_bonus = {
				name = wuw_HUN_form_the_gyorshadtest
				bonus = 0.25
				uses = 1
				category = cat_light_armor
			}

			add_tech_bonus = {
				name = wuw_HUN_form_the_gyorshadtest
				bonus = 0.25
				uses = 1
				category = motorized_equipment
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						has_tech = mechanised_infantry
					}
				}

				custom_effect_tooltip = gyordshadtest_division_mot_tt

				hidden_effect = {
					delete_unit_template_and_units = {
						division_template = "Gyorshadtest"
						disband = yes #if yes, will refund equipment/manpower.
					}

					division_template = {
						name = "Gyorshadtest"
						division_names_group = HUN_MOT_01
						role = mobile
						is_locked = no
						regiments = {
							motorized = { x = 0 y = 0 }
							motorized = { x = 0 y = 1 }
							bicycle_battalion = { x = 1 y = 0 }
							bicycle_battalion = { x = 1 y = 1 }
						}
						support = {
							light_tank_recon = { x = 0 y = 0 }   # recon bn of tankettes, ACs etc
							artillery = { x = 0 y = 1 } # Represents the 105mm howitzer battalion
						}
					}

					random_owned_state = {
						limit = {
							is_controlled_by = ROOT
							is_core_of = ROOT
						}
						create_unit = {
						    division = "name = \"Első Gyorshadtest\" division_template = \"Gyorshadtest\" start_experience_factor = 0.8 start_equipment_factor = 1"
						    owner = ROOT
						    officer = {
						    	name = HUN_jeno_major
						    	portraits = {
						    		army = {
						    			large = GFX_portrait_HUN_jeno_major
						    			small = GFX_portrait_HUN_jeno_major_small
						    		}
						    	}
						    }
						}
						create_unit = {
						    division = "name = \"Második Gyorshadtest\" division_template = \"Gyorshadtest\" start_experience_factor = 0.8 start_equipment_factor = 1"
						    owner = ROOT
						    officer = {
						    	name = HUN_ferenc_bisza
						    }
						}
					}
				}
			}

			ELSE_IF = {
				limit = {
					has_tech = mechanised_infantry
				}

				custom_effect_tooltip = gyordshadtest_division_mech_tt

				hidden_effect = {
					delete_unit_template_and_units = {
						division_template = "Gyorshadtest"
						disband = yes #if yes, will refund equipment/manpower.
					}

					division_template = {
						name = "Gyorshadtest"
						division_names_group = HUN_INF_01
						role = mobile
						is_locked = no
						regiments = {
							mechanized = { x = 0 y = 0 }
							mechanized = { x = 0 y = 1 }
							bicycle_battalion = { x = 1 y = 0 }
							bicycle_battalion = { x = 1 y = 1 }
						}
						support = {
							light_tank_recon = { x = 0 y = 0 }   # recon bn of tankettes, ACs etc
							artillery = { x = 0 y = 1 } # Represents the 105mm howitzer battalion
						}
					}

					random_state = {
						limit = {
							is_fully_controlled_by = ROOT
							is_owned_by = ROOT
							is_core_of = ROOT
						}
						create_unit = {
						    division = "name = \"Első Gyorshadtest\" division_template = \"Gyorshadtest\" start_experience_factor = 0.8 start_equipment_factor = 1"
						    owner = ROOT
						    officer = {
						    	name = HUN_jeno_major
						    	portraits = {
						    		army = {
						    			large = GFX_portrait_HUN_jeno_major
						    			small = GFX_portrait_HUN_jeno_major_small
						    		}
						    	}
						    }
						}
						create_unit = {
						    division = "name = \"Második Gyorshadtest\" division_template = \"Gyorshadtest\" start_experience_factor = 0.8 start_equipment_factor = 1"
						    owner = ROOT
						    officer = {
						    	name = HUN_ferenc_bisza
						    }
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = HUN_vilmos_nagy
			show_ideas_tooltip = HUN_gusztav_jany
		}
	}

	focus = {
		id = wuw_HUN_establish_the_mavag_army_division
		icon = GFX_focus_HUN_establish_the_mavag_army_division
		prerequisite = { focus = wuw_HUN_form_the_gyorshadtest }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_form_the_gyorshadtest

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			random_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_mavag_assault_guns_organization

				mio:HUN_mavag_assault_guns_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_mavag_assault_guns
			}

		}
	}

	focus = {
		id = wuw_HUN_doctrinal_studies
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = wuw_HUN_invest_in_ludovica_academy }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_invest_in_ludovica_academy

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = wuw_HUN_doctrinal_studies
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}

			add_doctrine_cost_reduction = {
				name = wuw_HUN_doctrinal_studies
				cost_reduction = 0.25
				uses = 1
				category = air_doctrine
			}
			IF = {
				limit = {
					any_owned_state = {
						is_coastal = yes
					}
				}
				add_doctrine_cost_reduction = {
					name = wuw_HUN_doctrinal_studies
					cost_reduction = 0.25
					uses = 1
					category = naval_doctrine
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = HUN_henrik_werth
		}
	}

	focus = {
		id = wuw_HUN_award_military_promotions
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = wuw_HUN_invest_in_ludovica_academy }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_invest_in_ludovica_academy

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			army_experience = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			HUN_ivan_hindy = {
				promote_leader = yes
				add_planning = 1
				add_attack = 1
			}
			HUN_ferenc_feketehalmyczeydner = {
				promote_leader = yes
				add_logistics = 1
				add_planning = 1
			}
			HUN_jozsef_bajnoczy = {
				promote_leader = yes
				add_planning = 1
				add_logistics = 1
			}
			HUN_karoly_bartha = {
				promote_leader = yes
				add_planning = 1
				add_defense = 1
			}

			custom_effect_tooltip = HUN_ferenc_szombathelyi_becomes_a_general

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = HUN_ivan_hindy
			show_ideas_tooltip = HUN_dezso_laszlo
		}
	}

	focus = {
		id = wuw_HUN_magyar_kiralyi_csendorseg
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = wuw_HUN_invest_in_ludovica_academy }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 3
		y = 1
		relative_position_id = wuw_HUN_invest_in_ludovica_academy

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			has_war_support > 0.84
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_hungarian_gendarmerie
		}
	}

	focus = {
		id = wuw_HUN_legacy_of_the_black_legion
		icon = GFX_focus_HUN_legacy_of_the_black_legion
		prerequisite = { focus = wuw_HUN_magyar_kiralyi_csendorseg }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_magyar_kiralyi_csendorseg

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			has_war = yes
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			swap_ideas = {
				remove_idea = HUN_hungarian_gendarmerie
				add_idea = HUN_hungarian_gendarmerie_hussars
			}

		}
	}

	focus = {
		id = wuw_HUN_light_infantry_divisions_doctrine
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = wuw_HUN_magyar_kiralyi_csendorseg }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_magyar_kiralyi_csendorseg

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = HUN_light_infantry_divisions_doctrine_tech_tt
			custom_effect_tooltip = HUN_light_infantry_divisions_doctrine_unit_tt
			hidden_effect = {
				IF = {
					limit = { has_tech = tech_engineers }
					division_template = {
						name = "Light Division"
						division_names_group = HUN_INF_01
						role = infantry
						priority = 2

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

		    	   		 	infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							recon = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
						}
					}
					ELSE = {
						division_template = {
							name = "Light Division"
							division_names_group = HUN_INF_01
							role = infantry
							priority = 2

							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }

			    	   		 	infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
							}
							support = {
								recon = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}
						}
					}
				}
				random_owned_controlled_state = {
					prioritize = { 43 }
					limit = { ROOT = { has_full_control_of_state = PREV } }
					create_unit = {
						division = "name = \"1. Light Division\" division_template = \"Light Division\" start_experience_factor = 1.0"
						owner = HUN
					}
				}
			}
			hidden_effect = { set_technology = { HUN_light_infantry_tech = 1 } }

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = HUN_jeno_ratz
		}
	}

	focus = {
		id = wuw_HUN_szent_laszlo_infantry_division
		icon = GFX_focus_HUN_szent_laszlo_infantry_division
		prerequisite = { focus = wuw_HUN_light_infantry_divisions_doctrine }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_light_infantry_divisions_doctrine

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {
			has_war = yes
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1400
				producer = ROOT
			}

			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 150
				producer = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_szent_laszlo_infantry_division_tt

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Szent László Hadosztály"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Szent László Hadosztály"
					division_names_group = HUN_INF_01
					role = infantry
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						artillery_brigade = { x = 2 y = 0 }
					}
					support = {
						recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
				}

				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_owned_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Szent László Hadosztály\" division_template = \"Szent László Hadosztály\" start_experience_factor = 0.6 start_equipment_factor = 1"
					    owner = ROOT
					    officer = {
					    	name = HUN_zoltan_zsugyi
					    	portraits = {
					    		army = {
					    			large = GFX_portrait_HUN_zoltan_szugyi
					    			small = GFX_portrait_HUN_zoltan_szugyi_small
					    		}
					    	}
					    }
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_quantity_over_quality
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = wuw_HUN_doctrinal_studies }
		mutually_exclusive = { focus = wuw_HUN_expand_the_army }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_doctrinal_studies

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			num_of_factories > 29
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = wuw_HUN_quantity_over_quality
				bonus = 0.25
				uses = 2
				category = armor
			}

			add_tech_bonus = {
				name = wuw_HUN_quantity_over_quality
				bonus = 0.25
				uses = 2
				category = artillery
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_army
		icon = GFX_focus_HUN_expand_the_army
		prerequisite = { focus = wuw_HUN_doctrinal_studies }
		mutually_exclusive = { focus = wuw_HUN_quantity_over_quality }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_doctrinal_studies

		search_filters = { FOCUS_FILTER_MANPOWER }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_war_support > 0.84
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_rapid_army_expansion
		}
	}

	focus = {
		id = wuw_HUN_the_botond
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = wuw_HUN_quantity_over_quality }
		#mutually_exclusive = { focus = wuw_HUN_expand_the_army }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_quantity_over_quality

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_the_botond
				bonus = 0.75
				uses = 1
				category = motorized_equipment
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				mio:HUN_mwg_raba_organization = {
					add_mio_funds = 1500
					add_mio_research_bonus = 0.05
				}
			}
			ELSE = {
				custom_effect_tooltip = available_industrial_concern
				show_ideas_tooltip = HUN_mwg_raba
			}

		}
	}

	focus = {
		id = wuw_HUN_the_turan
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = wuw_HUN_quantity_over_quality }
		prerequisite = { focus = wuw_HUN_establish_the_mavag_army_division }
		#mutually_exclusive = { focus = wuw_HUN_expand_the_army }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_quantity_over_quality

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			#has_country_flag = HUN_reverse_engineered_skoda_tanks
			IF = {
				limit = {
					has_dlc = "No Step Back"
				}
				has_tech = basic_medium_tank_chassis
			}
			ELSE_IF = {
				limit = {
					has_tech = basic_medium_tank
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_develop_tanks
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_medium_armor
			}

			IF = {
				limit = {
					has_dlc = "No Step Back"
				}
				IF = {
					limit = {
						has_tech = improved_medium_tank_chassis
					}
					#40M Turán
					create_equipment_variant = {
						name = "40M Turán"
						type = medium_tank_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_cannon_2
							turret_type_slot = tank_medium_two_man_tank_turret
							suspension_type_slot = tank_bogie_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = additional_machine_guns
							special_type_slot_2 = additional_machine_guns
						}
						upgrades = {
							tank_nsb_engine_upgrade = 3
							tank_nsb_armor_upgrade = 3
						}
						#icon = "GFX_ITA_basic_medium_tank_medium"
					}
				}
				ELSE = {
					custom_effect_tooltip = wuw_HUN_the_turan_40_tt
					effect_tooltip = {
						#40M Turán
						create_equipment_variant = {
							name = "40M Turán"
							type = medium_tank_chassis_2
							parent_version = 0
							modules = {
								main_armament_slot = tank_medium_cannon_2
								turret_type_slot = tank_medium_two_man_tank_turret
								suspension_type_slot = tank_bogie_suspension
								armor_type_slot = tank_welded_armor
								engine_type_slot = tank_gasoline_engine
								special_type_slot_1 = additional_machine_guns
								special_type_slot_2 = additional_machine_guns
							}
							upgrades = {
								tank_nsb_engine_upgrade = 3
								tank_nsb_armor_upgrade = 3
							}
							#icon = "GFX_ITA_basic_medium_tank_medium"
						}
					}
				}
				IF = {
					limit = {
						has_tech = advanced_medium_tank_chassis
					}
					#43M Turán III
					create_equipment_variant = {
						name = "43M Turán III"
						type = medium_tank_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_cannon_2
							turret_type_slot = tank_medium_three_man_tank_turret
							suspension_type_slot = tank_bogie_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = secondary_turret_hmg
							special_type_slot_2 = additional_machine_guns
						}
						upgrades = {
							tank_nsb_engine_upgrade = 3
							tank_nsb_armor_upgrade = 7
						}
						#icon = "GFX_ITA_basic_medium_tank_medium"
					}
				}
				ELSE = {
					custom_effect_tooltip = wuw_HUN_the_turan_43_tt
					effect_tooltip = {
						#43M Turán III
						create_equipment_variant = {
							name = "43M Turán III"
							type = medium_tank_chassis_3
							parent_version = 0
							modules = {
								main_armament_slot = tank_medium_cannon_2
								turret_type_slot = tank_medium_three_man_tank_turret
								suspension_type_slot = tank_bogie_suspension
								armor_type_slot = tank_welded_armor
								engine_type_slot = tank_gasoline_engine
								special_type_slot_1 = secondary_turret_hmg
								special_type_slot_2 = additional_machine_guns
							}
							upgrades = {
								tank_nsb_engine_upgrade = 3
								tank_nsb_armor_upgrade = 7
							}
							#icon = "GFX_ITA_basic_medium_tank_medium"
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_hti_turan_organization

				mio:HUN_hti_turan_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_hti_turan
			}

		}
	}

	focus = {
		id = wuw_HUN_assault_gun_focus
		icon = GFX_focus_generic_self_propelled_gun
		prerequisite = { focus = wuw_HUN_establish_the_mavag_army_division }
		#mutually_exclusive = { focus = wuw_HUN_the_toldi }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_establish_the_mavag_army_division

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			#has_country_flag = HUN_activated_huba_ii_flag
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_develop_assault_guns
				bonus = 0.5
				uses = 2
				category = cat_anti_air
				category = mio_cat_artillery
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = wuw_HUN_assault_gun_focus_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "No Step Back"
				}
				IF = {
					limit = {
						has_tech = advanced_medium_tank_chassis
					}
					# 43M Zrínyi
					create_equipment_variant = {
						name = "43M Zrínyi"
						type = medium_tank_artillery_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_howitzer_2
							turret_type_slot = tank_medium_one_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_riveted_armor
							engine_type_slot = tank_gasoline_engine
						}
						upgrades = {
							tank_nsb_engine_upgrade = 3
							tank_nsb_armor_upgrade = 3
						}
						#icon = "GFX_ITA_advanced_medium_art_medium"
					}
				}
				ELSE = {
					custom_effect_tooltip = wuw_HUN_zrinyi_arty_tt
					effect_tooltip = {
						# 43M Zrínyi
						create_equipment_variant = {
							name = "43M Zrínyi"
							type = medium_tank_artillery_chassis_3
							parent_version = 0
							modules = {
								main_armament_slot = tank_medium_howitzer_2
								turret_type_slot = tank_medium_one_man_tank_turret
								suspension_type_slot = tank_torsion_bar_suspension
								armor_type_slot = tank_riveted_armor
								engine_type_slot = tank_gasoline_engine
							}
							upgrades = {
								tank_nsb_engine_upgrade = 3
								tank_nsb_armor_upgrade = 3
							}
							#icon = "GFX_ITA_advanced_medium_art_medium"
						}
					}
				}
				IF = {
					limit = {
						has_tech = improved_medium_tank_chassis
					}
					# 40M Nimród
					create_equipment_variant = {
						name = "40M Nimród"
						type = medium_tank_aa_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_anti_air_cannon_2
							turret_type_slot = tank_medium_two_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_riveted_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = auto_loader
							special_type_slot_2 = secondary_turret_small_cannon
						}
						upgrades = {
							tank_nsb_engine_upgrade = 6
							tank_nsb_armor_upgrade = 2
						}
						#icon = "GFX_ITA_advanced_medium_spaa_medium"
					}
				}
				ELSE = {
					custom_effect_tooltip = wuw_HUN_nimrod_aa_tt
					effect_tooltip = {
						# 40M Nimród
						create_equipment_variant = {
							name = "40M Nimród"
							type = medium_tank_aa_chassis_2
							parent_version = 0
							modules = {
								main_armament_slot = tank_anti_air_cannon_2
								turret_type_slot = tank_medium_two_man_tank_turret
								suspension_type_slot = tank_torsion_bar_suspension
								armor_type_slot = tank_riveted_armor
								engine_type_slot = tank_gasoline_engine
								special_type_slot_1 = auto_loader
								special_type_slot_2 = secondary_turret_small_cannon
							}
							upgrades = {
								tank_nsb_engine_upgrade = 6
								tank_nsb_armor_upgrade = 2
							}
							#icon = "GFX_ITA_advanced_medium_spaa_medium"
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_the_toldi
		icon = GFX_focus_generic_tankette
		prerequisite = { focus = wuw_HUN_quantity_over_quality }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_quantity_over_quality

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = wuw_HUN_the_toldi
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_light_armor
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_rapid_army_groups_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "No Step Back"
				}
				IF = {
					limit = {
						has_tech = improved_light_tank_chassis
					}
					#38M Toldi
					create_equipment_variant = {
						name = "38M Toldi"
						type = light_tank_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_small_cannon_2
							turret_type_slot = tank_light_fixed_superstructure_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_riveted_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_2 = tank_radio_1
						}
						upgrades = {
							tank_nsb_engine_upgrade = 3
							tank_nsb_armor_upgrade = 2
						}
						#icon = "GFX_ITA_improved_light_tank_medium"
					}
				}
				ELSE = {
					custom_effect_tooltip = wuw_HUN_the_toldi_tt
					effect_tooltip = {
						#38M Toldi
						create_equipment_variant = {
							name = "38M Toldi"
							type = light_tank_chassis_2
							parent_version = 0
							modules = {
								main_armament_slot = tank_small_cannon_2
								turret_type_slot = tank_light_fixed_superstructure_turret
								suspension_type_slot = tank_torsion_bar_suspension
								armor_type_slot = tank_riveted_armor
								engine_type_slot = tank_gasoline_engine
								special_type_slot_2 = tank_radio_1
							}
							upgrades = {
								tank_nsb_engine_upgrade = 3
								tank_nsb_armor_upgrade = 2
							}
							#icon = "GFX_ITA_improved_light_tank_medium"
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_invest_in_the_special_forces
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = wuw_HUN_expand_the_army }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_expand_the_army

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = wuw_HUN_invest_in_the_special_forces
				bonus = 0.5
				uses = 1
				category = mountaineers_tech
			}

			add_tech_bonus = {
				name = wuw_HUN_invest_in_the_special_forces
				bonus = 0.35
				uses = 1
				category = para_tech
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				add_doctrine_cost_reduction = {
					name = wuw_HUN_invest_in_the_special_forces
					cost_reduction = 0.5
					uses = 2
					category = special_forces_doctrine
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_construct_the_arpad_line
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = wuw_HUN_expand_the_army focus = wuw_HUN_quantity_over_quality }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_expand_the_army

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_HISTORICAL }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_war = yes
			73 = {
				is_fully_controlled_by = ROOT
			}
			76 = {
				is_fully_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_construct_the_arpad_line_tt

			hidden_effect = {

				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 11536
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 11536
						}
					}
				}
						
				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 9563
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 9563
						}
					}
					
				}
					
				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 6571
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 6571
						}
					}
				}
					
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 9704
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 9704
						}
					}
				}
					
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 727
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 727
						}
					}
				}
					
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 9685
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 9685
						}
					}
				}
					
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 711
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 711
						}
					}
				}
					
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 3689
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 3689
						}
					}
				}
			
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_dezso_magos

		}
	}

	focus = {
		id = wuw_HUN_transylvanian_mountaineers
		icon = GFX_focus_SMB_special_forces_option_1
		prerequisite = { focus = wuw_HUN_construct_the_arpad_line }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_construct_the_arpad_line

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			OR = {
				76 = {
					is_controlled_by = ROOT
				}
				84 = {
					is_controlled_by = ROOT
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = wuw_HUN_transylvanian_mountaineers
				bonus = 1
				uses = 1
				category = mountaineers_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						has_tech = mountain_gun
					}
				}
				custom_effect_tooltip = ROM_mountain_artillery_tech_tt
				hidden_effect = { set_technology = { mountain_gun = 1 } }
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_arpad_line
		icon = GFX_focus_SWE_hedgehog_defense
		prerequisite = { focus = wuw_HUN_construct_the_arpad_line }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_construct_the_arpad_line

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			has_war = yes
			73 = {
				is_fully_controlled_by = ROOT
			}
			76 = {
				is_fully_controlled_by = ROOT
			}

			custom_trigger_tooltip = {
				tooltip = wuw_HUN_expand_the_arpad_line_available_tt

				OR = {
					73 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 11536
						}
					}

					73 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 9563
						}
					}

					73 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 6571
						}
					}

					76 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 9704
						}
					}

					76 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 727
						}
					}

					76 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 9685
						}
					}

					76 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 711
						}
					}

					76 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 3689
						}
					}
				}
				
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_expand_the_arpad_line_tt

			hidden_effect = {
				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 11536
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 11536
						}
					}
				}				

				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 9563
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 9563
						}
					}
				}
				
				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 6571
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 6571
						}
					}
				}
				
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 9704
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 9704
						}
					}
				}
				
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 727 
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 727
						}
					}
				}
				
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 9685
							}
						}
					}
					76 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 9685
						}
					}
				}
				
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 711
							}
						}
					}
				}
				76 = {
					add_building_construction = {
					    type = bunker
					    level = 2
					    instant_build = yes
					    province = 711
					}
				}
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 3689
							}
						}
					}
				}
				76 = {
					add_building_construction = {
					    type = bunker
					    level = 2
					    instant_build = yes
					    province = 3689
					}
				}

			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						84 = {
							is_controlled_by = ROOT
						}
					}
				}
				custom_effect_tooltip = wuw_HUN_expand_the_arpad_line_can_have_more_tt
			}
			ELSE_IF = {
				limit = {
					84 = {
						is_fully_controlled_by = ROOT
					}
				}
				custom_effect_tooltip = wuw_HUN_expand_the_arpad_line_southern_expansion_tt
				hidden_effect = {
					84 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 690
						}
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 3676
						}
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 6709
						}
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 6679
						}
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 3665
						}
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 9619
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_construct_the_szeretfalva_deda_railway_line
		icon = GFX_focus_generic_railroad
		prerequisite = { focus = wuw_HUN_construct_the_arpad_line }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_construct_the_arpad_line

		search_filters = { FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			#has_war = yes
			76 = {
				is_fully_controlled_by = ROOT
			}
			154 = {
				is_fully_controlled_by = ROOT
			}
			43 = {
				is_fully_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_construct_the_szeretfalva_deda_railway_line_tt

			hidden_effect = {
				build_railway = {
				    level = 2
				    fallback = yes
				    path = { 9660 716 6716 699 11644 3696 3709 6714 9672 9670 }
				    start_province = 9660
				    target_province = 9670
				}
			}

			76 = {
				add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province =  9670
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						has_tech = wartime_train
					}
				}
				add_tech_bonus = {
					name = wuw_HUN_construct_the_szeretfalva_deda_railway_line
					bonus = 1
					uses = 1
					technology = wartime_train
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_the_szekel_command
		icon = GFX_focus_HUN_the_szekel_command
		prerequisite = { focus = wuw_HUN_transylvanian_mountaineers }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_transylvanian_mountaineers

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			has_war = yes
			76 = {
				is_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_the_szekel_command_division_tt

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Székel Command"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Székel Command Group"
					division_names_group = HUN_MTN_01
					role = mountaineers
					is_locked = no
					regiments = {
						mountaineers = { x = 0 y = 0 }
						mountaineers = { x = 0 y = 1 }
						mountaineers = { x = 1 y = 0 }
						mountaineers = { x = 1 y = 1 }
						artillery_brigade = { x = 2 y = 0 }
					}
					support = {
						recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
				}

				76 = {
					create_unit = {
					    division = "name = \"First Székel Command\" division_template = \"Székel Command Group\" start_experience_factor = 0.6 start_equipment_factor = 0.8"
					    owner = ROOT
					    officer = {
					    	name = HUN_istvan_kozma
					    }
					}
					create_unit = {
					    division = "name = \"Second Székel Command\" division_template = \"Székel Command Group\" start_experience_factor = 0.6 start_equipment_factor = 0.6"
					    owner = ROOT
					    officer = {
					    	name = HUN_ferenc_horvath
					    }
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_renew_the_shipping_industry
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = wuw_HUN_reinstate_the_navy }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_reinstate_the_navy

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		complete_tooltip = {
			IF = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_coastal = yes
						}
					}
				}
				custom_effect_tooltip = wuw_HUN_renew_the_shipping_industry_tt
			}
			ELSE = {
				random_owned_controlled_state = {
					limit = {
						has_state_flag = HUN_dockyards_flag
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}
		}

		completion_reward = {
			navy_experience = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_coastal = yes
						}
					}
				}
				custom_effect_tooltip = wuw_HUN_renew_the_shipping_industry_tt
			}
			ELSE = {
				random_owned_controlled_state = {
					prioritize = { 103 }
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
					set_state_flag = HUN_dockyards_flag
				}
			}
		}
	}

	focus = {
		id = wuw_HUN_embrace_navy_traditions
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = wuw_HUN_reinstate_the_navy }
		mutually_exclusive = { focus = wuw_HUN_a_reformed_navy }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_reinstate_the_navy

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_doctrine_cost_reduction = {
				name = wuw_HUN_embrace_navy_traditions
				cost_reduction = 0.5
				uses = 2
				category = cat_fleet_in_being
			}

		}
	}

	focus = {
		id = wuw_HUN_a_reformed_navy
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = wuw_HUN_reinstate_the_navy }
		mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = 1
		y = 2
		relative_position_id = wuw_HUN_reinstate_the_navy

		search_filters = { FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = wuw_HUN_a_reformed_navy
				cost_reduction = 0.5
				uses = 2
				category = cat_trade_interdiction
				category = cat_base_strike
			}
		}
	}

	focus = {
		id = wuw_HUN_invest_in_destroyer_models
		icon = GFX_focus_generic_destroyer
		prerequisite = { focus = wuw_HUN_embrace_navy_traditions focus = wuw_HUN_a_reformed_navy }
		#mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_a_reformed_navy

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_tech_bonus = {
				name = wuw_HUN_invest_in_destroyer_models
				bonus = 1
				uses = 2
				category = dd_tech
			}

		}
	}

	focus = {
		id = wuw_HUN_cruiser_investments
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = wuw_HUN_invest_in_destroyer_models }
		#mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_invest_in_destroyer_models

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_tech_bonus = {
				name = wuw_HUN_cruiser_investments
				bonus = 1.0
				uses = 2
				category = cl_tech
				category = ca_tech
			}

		}
	}

	focus = {
		id = wuw_HUN_wolfs_of_the_sea
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = wuw_HUN_a_reformed_navy }
		#mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_a_reformed_navy

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_tech_bonus = {
				name = wuw_HUN_wolfs_of_the_sea
				bonus = 1
				uses = 2
				category = ss_tech
			}

		}
	}

	focus = {
		id = wuw_HUN_bringing_the_air_battle_to_the_seas
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = wuw_HUN_wolfs_of_the_sea }
		#mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_wolfs_of_the_sea

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_tech_bonus = {
				name = wuw_HUN_bringing_the_air_battle_to_the_seas
				bonus = 2
				uses = 1
				category = cv_tech
			}

		}
	}

	focus = {
		id = wuw_HUN_capital_ship_efforts
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = wuw_HUN_embrace_navy_traditions }
		#mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_embrace_navy_traditions

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_tech_bonus = {
				name = wuw_HUN_capital_ship_efforts
				bonus = 1.0
				uses = 2
				category = bc_tech
				category = bb_tech
			}

		}
	}

	focus = {
		id = wuw_HUN_a_new_pride_of_the_fleet
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = wuw_HUN_capital_ship_efforts }
		#mutually_exclusive = { focus = wuw_HUN_capital_ship_efforts }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_capital_ship_efforts

		cost = 5

		ai_will_do = {
			factor = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available = {
			has_tech = basic_ship_hull_heavy
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			create_equipment_variant = {
				name = "Viribus Unitis Class"
				type = ship_hull_heavy_2
				parent_version = 0
				allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
				modules = {
					fixed_ship_battery_slot = ship_heavy_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_2
					fixed_ship_fire_control_system_slot = ship_fire_control_system_1
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = heavy_ship_engine_1
					fixed_ship_secondaries_slot = dp_ship_secondaries_1
					fixed_ship_armor_slot = ship_armor_bb_1
					front_1_custom_slot = ship_heavy_battery_1
					mid_1_custom_slot = ship_anti_air_2
					mid_2_custom_slot = dp_ship_secondaries_1
					rear_1_custom_slot = ship_heavy_battery_1
				}
				upgrades = {
					ship_reliability_upgrade = 2
					ship_engine_upgrade = 2
					ship_armor_upgrade = 3
					ship_gun_upgrade = 3
				}
			}

			#Line Production
			add_equipment_production = {
				equipment = {
					type = ship_hull_heavy_2
					creator = "HUN"
					version_name = "Viribus Unitis Class"
				}
				name = "Viribus Unitis"
				requested_factories = 2
				progress = 0.75
				amount = 1
			}
		}
	}

	focus = {
		id = wuw_HUN_degauss_ship_hulls
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = wuw_HUN_a_new_pride_of_the_fleet focus = wuw_HUN_cruiser_investments focus = wuw_HUN_bringing_the_air_battle_to_the_seas }
		#mutually_exclusive = { focus = wuw_HUN_a_new_pride_of_the_fleet }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_a_new_pride_of_the_fleet

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						has_tech = degaussing
					}
					add_tech_bonus = {
						name = CAN_degauss_ship_hulls
						bonus = 0.5
						uses = 1
						category = naval_mines
					}
					else = {
						set_technology = {
						    degaussing = 1
						}
					}
					}
				}
			
			if = {
				limit = {
						NOT = {
							has_dlc = "Man the Guns"
						}
					}
				add_ideas = CAN_degauss_ship_hulls
			}
		}
	}





}
