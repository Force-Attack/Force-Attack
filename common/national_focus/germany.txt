### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
### search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}
### search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}
### search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}
### search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}
### search_filters = {FOCUS_FILTER_HISTORICAL}

# CONSTANT FOR INNER CIRCLE TIMES (This is Focus cost so x7 to get the days) - THE CONSTANTS USED IN THE EVENT FILE need to be these values x7
@inner_circle_time_tier_1 = 20
@inner_circle_time_tier_2 = 20
@inner_circle_time_tier_3 = 40

focus_tree = {
	id = german_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = GER
		}
	}

	initial_show_position = {
		x = 76
		y = 0
	}
	
	#Focus Path shortcuts	
	shortcut = {
		name = GER_oppose_hitler_shortcut
		target = GER_oppose_hitler_ww 
		scroll_wheel_factor = 0.485
		trigger = {
			has_dlc = "Gotterdammerung"
		}
	}

	shortcut = {
		name = GER_oppose_hitler_shortcut
		target = GER_oppose_hitler
		scroll_wheel_factor = 0.55
		trigger = {
			NOT = { has_dlc = "Gotterdammerung" }
		}
	}

	shortcut = {
		name = GER_historical_path_shortcut
		target = GER_remilitarize_the_rhineland
		scroll_wheel_factor = 0.469 #Optional parameter, if left unset will use existing zoomlevel. Warning: there's no good way for this to respect client resolution.
		trigger = {
			always = yes
			# If FALSE, this will not display. If true, it will not supercede allow conditions of target focus.
		}
	}

	shortcut = {
		name = GER_economic_path_shortcut
		target = GER_construct_the_reichsautobahn 
		scroll_wheel_factor = 0.75
	}

	shortcut = {
		name = GER_naval_doctrine_shortcut
		target = GER_strengthen_the_kriegsmarine
		scroll_wheel_factor = 1.0
	}
	
	shortcut = {
		name = GER_air_doctrine_shortcut
		target = GER_expanding_the_luftwaffe
		scroll_wheel_factor = 1.0
	}

	shortcut = {
		name = GER_military_doctrine_shortcut
		target = GER_develop_modern_maneuver_warfare
		scroll_wheel_factor = 1.0
	}

	continuous_focus_position = { x = 500 y = 1300 }

	inlay_window = {
		id = ger_inner_circle_inlay_window
		position = { x = 4500 y = 1150 }
	}
	
	default = no

	alternate_icon_set = FOCUS_ICON_SET_HISTORICAL_KEY_FOCUS
	#alternate_icon_set = FOCUS_ALTERNATE_ICONS
	# ==> Loc key for toggle button : FOCUS_ALTERNATE_ICONS
	# ==> GFX for icon on toggle button : GFX_FOCUS_ALTERNATE_ICONS

	
 ######   #######  ##     ## ##     ##  #######  ##    ##    ########  ########     ###    ##    ##  ######  ##     ## ########  ######  
##    ## ##     ## ###   ### ###   ### ##     ## ###   ##    ##     ## ##     ##   ## ##   ###   ## ##    ## ##     ## ##       ##    ## 
##       ##     ## #### #### #### #### ##     ## ####  ##    ##     ## ##     ##  ##   ##  ####  ## ##       ##     ## ##       ##       
##       ##     ## ## ### ## ## ### ## ##     ## ## ## ##    ########  ########  ##     ## ## ## ## ##       ######### ######    ######  
##       ##     ## ##     ## ##     ## ##     ## ##  ####    ##     ## ##   ##   ######### ##  #### ##       ##     ## ##             ## 
##    ## ##     ## ##     ## ##     ## ##     ## ##   ###    ##     ## ##    ##  ##     ## ##   ### ##    ## ##     ## ##       ##    ## 
 ######   #######  ##     ## ##     ##  #######  ##    ##    ########  ##     ## ##     ## ##    ##  ######  ##     ## ########  ######  



##########################################




	focus = {
		id = GER_prioritize_economic_growth
		icon = GFX_focus_usa_reestablish_the_gold_standard
		
		mutually_exclusive = { focus = GER_the_four_year_plan }
		x = 45
		y = 0
		cost = 5
		#relative_position_id = GER_strengthen_the_kriegsmarine

		available = {
			NOT = {
				has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {
			add_ideas = civilian_economy

			custom_effect_tooltip = generic_skip_one_line_tt

			add_stability = -0.1
			add_popularity = {
			    ideology = ROOT
			    popularity = -0.1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_ludwig_erhard

			custom_effect_tooltip = generic_skip_one_line_tt

			#custom_effect_tooltip = remove_political_advisor
			#show_ideas_tooltip = hjalmar_schacht
			if = { 
				limit = {
					has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
				}
				custom_effect_tooltip = {
					localization_key = remove_political_advisor_no_trait_tt
					CHARACTER = hjalmar_schacht
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			GER_stop_rearmament = yes

		}
	}
	
	focus = {
		id = GER_currency_reforms
		icon = GFX_focus_generic_currency_reforms
		prerequisite = { focus = GER_prioritize_economic_growth }

		x = -3
		y = 1
		relative_position_id = GER_prioritize_economic_growth
		cost = 5
		available = {
			NOT = { has_idea = GER_mefo_bills_ended }
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.2
				tooltip = consumer_goods_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_lower_taxes
		icon = GFX_focus_mex_privatisation
		prerequisite = { focus = GER_currency_reforms }

		x = -1
		y = 1
		relative_position_id = GER_currency_reforms
		cost = 5
		available = {
			NOT = {
				has_idea = GER_mefo_bills_ended
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

		completion_reward = {
			add_stability = 0.05
			add_popularity = {
			    ideology = ROOT
			    popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.15
				tooltip = consumer_goods_factor_tt
			}
		}
	}

	focus = {
		id = GER_abolish_price_controls
		icon = GFX_focus_ARG_anti_corruption_policies
		prerequisite = { focus = GER_lower_taxes }

		x = -1
		y = 1
		relative_position_id = GER_lower_taxes
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_stability = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.15
				tooltip = consumer_goods_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_increased_trade
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = GER_abolish_price_controls }

		x = -1
		y = 1
		relative_position_id = GER_abolish_price_controls
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

		completion_reward = {
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_resource_trade_cost_bonus_per_factory = 1
				tooltip = resource_trade_cost_bonus_per_factory_tt
			}
		}
	}
	
	focus = {
		id = GER_housing_developments
		icon = GFX_focus_generic_low_cost_housing
		prerequisite = { focus = GER_currency_reforms }

		x = 1
		y = 1
		relative_position_id = GER_currency_reforms
		cost = 5
		available = {
			OR ={
				763 = { #Köningsberg
					is_owned_and_controlled_by = ROOT
				}
				56 = { #Weser-Ems
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = {
				limit = {
					763 = { #Köningsberg
						is_owned_and_controlled_by = ROOT
					}
				}
				763 = { set_state_category = large_city }
			}
			if = {
				limit = {
					56 = { #Weser-Ems
						is_owned_and_controlled_by = ROOT
					}
				}
				56 = { set_state_category = large_city }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_speed_buildings_factor = 0.05
				tooltip = production_speed_buildings_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_workers_rights
		icon = GFX_focus_generic_workers
		prerequisite = { focus = GER_housing_developments }

		x = 1
		y = 1
		relative_position_id = GER_housing_developments
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_popularity = {
			    ideology = ROOT
			    popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}
		}
	}

	focus = {
		id = GER_industrial_expansion
		icon = GFX_focus_generic_modernize_industry
		prerequisite = { focus = GER_housing_developments }
		prerequisite = { focus = GER_lower_taxes }

		x = 1
		y = 1
		relative_position_id = GER_lower_taxes
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_industrial_expansion
				bonus = 1
				uses = 1
				category = industry
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			modify_building_resources = {
        	   building = synthetic_refinery
        	   resource = rubber
        	   amount = 1
        	}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			add_to_variable = { 
				GER_industrial_research_speed_factor = 0.05
				tooltip = research_speed_factor_tt 
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					has_idea = ig_faben
				}
				swap_ideas = {
					remove_idea = ig_faben
					add_idea = GER_ig_faben_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = ig_faben
						add_idea = GER_ig_faben_improved
					}
				}
			}

		}
	}
	
	focus = {
		id = GER_invest_in_vereinigte_stahlwerke
		icon = GFX_focus_GER_vereinigte_stahlwerke
		prerequisite = { focus = GER_industrial_expansion }
		prerequisite = { focus = GER_abolish_price_controls }

		x = -1
		y = 1
		relative_position_id = GER_industrial_expansion
		cost = 10
		available = {
			42 = {
				is_fully_controlled_by = ROOT
				is_demilitarized_zone = no
			}
			has_tech = excavation3
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {	
				limit = {
					42 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				42 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			42 = {
				add_resource = {
					type = steel
					amount = 8
				}
				add_resource = {
					type = tungsten
					amount = 2
				}
				add_resource = {
					type = chromium
					amount = 2
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_invest_in_vereinigte_stahlwerke
				bonus = 1
				uses = 1
				category = excavation_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_recovering_economy_modifier_local_resources_factor = 0.05
				tooltip = local_resources_factor_tt
			}

		}
	}
	
	focus = {
		id = GER_agricultural_reforms
		icon = GFX_focus_generic_farmland
		prerequisite = { focus = GER_industrial_expansion }
		prerequisite = { focus = GER_workers_rights }

		x = 1
		y = 1
		relative_position_id = GER_industrial_expansion
		cost = 10
		available = {
			has_tech = advanced_machine_tools
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			if = {
				limit = {
					909 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				909 = { add_extra_state_shared_building_slots = 1 }
			}
			if = {
				limit = {
					61 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				61 = { add_extra_state_shared_building_slots = 1 }
			}
			if = {
				limit = {
					62 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				62 = { add_extra_state_shared_building_slots = 1 }
			}
			if = {
				limit = {
					63 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				63 = { add_extra_state_shared_building_slots = 1 }
			}
			if = {
				limit = {
					5 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				5 = { add_extra_state_shared_building_slots = 1 }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.1
				tooltip = consumer_goods_factor_tt
			}

		}
	}

	focus = {
		id = GER_urbanization
		icon = GFX_focus_generic_full_employment
		prerequisite = { focus = GER_agricultural_reforms }

		x = 1
		y = 1
		relative_position_id = GER_agricultural_reforms
		cost = 10
		available = {
			OR ={
				59 = { #Hannover
					is_owned_and_controlled_by = ROOT
				}
				978 = { #Baden
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			
			if = {
				limit = {
					59 = { #Hannover
						is_owned_and_controlled_by = ROOT
					}
				}
				59 = { set_state_category = metropolis }
			}
			if = {
				limit = {
					978 = { #Baden
						is_owned_and_controlled_by = ROOT
					}
				}
				978 = { set_state_category = metropolis }
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
		}
	}
	
	focus = {
		id = GER_wirtschaftswunder
		icon = GFX_focus_GER_wirtschaftswunder
		prerequisite = { focus = GER_invest_in_vereinigte_stahlwerke }
		prerequisite = { focus = GER_agricultural_reforms }

		x = 1
		y = 1
		relative_position_id = GER_invest_in_vereinigte_stahlwerke
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {

			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_wirtschaftswunder
				bonus = 1
				uses = 1
				category = industry
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_replace_recovering_economy_with_wirtschaftswunder_tt
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.15
				tooltip = consumer_goods_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_speed_buildings_factor = 0.1
				tooltip = production_speed_buildings_factor_tt
			}
			
			hidden_effect = { 
				remove_dynamic_modifier = { modifier = GER_recovering_economy_modifier }
				add_dynamic_modifier = { modifier = GER_wirtschaftswunder_modifier }
			}

		}
	}
	
	focus = {
		id = GER_mass_production
		icon = GFX_focus_generic_military_industry
		prerequisite = { focus = GER_wirtschaftswunder }

		x =-1
		y = 1
		relative_position_id = GER_wirtschaftswunder
		cost = 10
		available = {
			OR = {
				has_war = yes
				threat > 0.15
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_lack_of_resource_penalty_factor = -0.05
				tooltip = production_lack_of_resource_penalty_factor_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}

		}
	}

	focus = {
		id = GER_build_defense_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = GER_wirtschaftswunder }

		x = 1
		y = 1
		relative_position_id = GER_wirtschaftswunder
		cost = 10
		available = {
			OR = {
				has_war = yes
				threat > 0.3
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_war_production
		icon = GFX_focus_generic_mass_production
		prerequisite = { focus = GER_mass_production }
		prerequisite = { focus = GER_build_defense_industry }

		x = 1
		y = 1
		relative_position_id = GER_mass_production
		cost = 10
		available = {
			has_war_with_major = yes
		}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			add_to_variable = { 
				GER_industrial_conversion_cost_civ_to_mil_factor = -0.2
				tooltip = conversion_cost_civ_to_mil_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}

		}
	}


	focus = {
		id = GER_construct_the_reichsautobahn
		icon = GFX_focus_generic_road_investment
		prerequisite = { focus = GER_prioritize_economic_growth focus = GER_the_four_year_plan }

		x = 3
		y = 1
		relative_position_id = GER_prioritize_economic_growth
		cost = 5
		available = {
			OR = {
				has_full_control_of_state = 64 #Brandenburg
				has_full_control_of_state = 59 #Hannover
				has_full_control_of_state = 60 #Thüringen
				has_full_control_of_state = 54 #Franken
			}
		}
		bypass = {
			has_civil_war = no
			NOT = { has_full_control_of_state = 64 }
			NOT = {	has_full_control_of_state = 59 }
			NOT = {	has_full_control_of_state = 60 }
			NOT = {	has_full_control_of_state = 54 }
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			custom_effect_tooltip = GER_autobahn_tt
			hidden_effect = {
				64 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				59 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				60 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				54 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
			}		
		}
	}
	
	focus = {
		id = GER_build_the_rur_dam
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = GER_construct_the_reichsautobahn focus = GER_currency_reforms }

		x = -2
		y = 1
		relative_position_id = GER_construct_the_reichsautobahn
		cost = 10
		available = {
			51 = { 
				is_fully_controlled_by = ROOT
				is_demilitarized_zone = no 
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					51 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				51 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			51 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = {
						id = 3547
					}
				}
			}
			custom_effect_tooltip = {
				localization_key = building_state_modifier|dam
				INDENT = "    "
			}
		}
	}
	
	focus = {
		id = GER_trade_deal_with_sweden
		icon = GFX_focus_generic_befriend_sweden
		prerequisite = { focus = GER_construct_the_reichsautobahn focus = GER_autarky_efforts }

		x = 2
		y = 1
		relative_position_id = GER_construct_the_reichsautobahn
		cost = 5
		available = {
			is_subject = no
			AND = {
				country_exists = SWE
				SWE = { is_subject = no }
				NOT = { has_war_with = SWE }
				SWE = {
					custom_trigger_tooltip = {
						tooltip = GER_alone_or_peace_faction_tt
						is_alone_or_in_faction_at_peace_with_GER = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNATIONAL_TRADE FOCUS_FILTER_HISTORICAL}

		completion_reward = {
			SWE = {
				country_event = { id = wuw_GER_diplomacy.1 days = 2 }
			}

			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				SWE = {
					add_ideas = GER_german_trade_ns
					add_opinion_modifier = {
						target = PREV
						modifier = GER_trading_partners
					}
				}
				custom_effect_tooltip = war_will_cancel_deal_tt
			}
		}
	}
	
	focus = {
		id = GER_kdf_wagen_factories
		icon = GFX_focus_GER_kdf_wagen
		prerequisite = { focus = GER_construct_the_reichsautobahn }

		x = 0
		y = 1
		relative_position_id = GER_construct_the_reichsautobahn
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			
			if = {
				limit = {
					has_war = yes
				}
				if = {
					limit = {
						59 = {
							is_fully_controlled_by = ROOT
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}
					}
					59 = { #Hannover
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = arms_factory
							level = 3
							instant_build = yes
						}
					}
				}
				else = {
					random_owned_state = {
						limit = {
							is_controlled_by = ROOT
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = arms_factory
							level = 3
							instant_build = yes
						}
					}
				}
			}
			else_if = { #if at peace
				if = {
					limit = {
						59 = {
							is_fully_controlled_by = ROOT
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}
					}
					59 = { #Hannover
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
				else = {
					random_owned_state = {
						limit = {
							is_controlled_by = ROOT
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_expand_the_reichsautobahn_south
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = GER_kdf_wagen_factories }

		x = -1
		y = 1
		relative_position_id = GER_kdf_wagen_factories
		cost = 5
		available = {
			OR = {
				53 = { #Niederbayern
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				52 = { #Oberbayern
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				152 = { #Upper Austria
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				4 = { #Lower Austria
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
			}
		}
		bypass = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = GER_expand_the_reichsautobahn_south_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					53 = { #Niederbayern
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				53 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					52 = { #Oberbayern
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				52 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					152 = { #Upper Austria
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				152 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					4 = { #Lower Austria
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				4 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					52 = { #Oberbayern
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					152 = { #Upper Austria
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					4 = { #Lower Austria
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				#Regensburg - Wien
				build_railway = {
					path = { 9515 9681 3703 9665 11651 704 11666 }
				}
			}
		}
	}
	
	focus = {
		id = GER_expand_the_reichsautobahn_east
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = GER_kdf_wagen_factories }

		x = 1
		y = 1
		relative_position_id = GER_kdf_wagen_factories
		cost = 5
		available = {
			OR = {
				68 = { #Ostmark
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				63 = { #Hinterpommern
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				807 = { #Gdynia
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				85 = { #Danzig
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
			}
		}
		bypass = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = GER_expand_the_reichsautobahn_east_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					68 = { #Ostmark
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				68 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					63 = { #Hinterpommern
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				63 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					807 = { #Gdynia
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				807 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					85 = { #Danzig
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				85 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					63 = { #Hinterpommern
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					807 = { #Gdynia
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					85 = { #Danzig
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				#Köslin - Danzig
				build_railway = {
					path = { 11372 11343 9263 362 }
				}
			}
		}
	}

	focus = {
		id = GER_develop_heraeus_facilities
		icon = GFX_focus_research
		prerequisite = { focus = GER_kdf_wagen_factories }

		x = 0
		y = 2
		relative_position_id = GER_kdf_wagen_factories
		cost = 10
		available = {
			industrial_complex > 49
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_research_slot = 1

			custom_effect_tooltip = generic_skip_one_line_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
				}
				prioritize = { 56 }
				add_resource = {
					type = tungsten
					amount = 2
				}
				add_resource = {
					type = chromium
					amount = 2
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_develop_heraeus_facilities
				bonus = 1
				uses = 1
				category = electronics
			}

		}
	}
	
	focus = {
		id = GER_the_four_year_plan

		icon = GFX_focus_GER_the_four_year_plan
		alternate_icon = GFX_focus_GER_the_four_year_plan_historical

		mutually_exclusive = { focus = GER_prioritize_economic_growth }
		x = 6
		y = 0
		relative_position_id = GER_prioritize_economic_growth
		cost = 5
		available = {

		}
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_the_four_year_plan
				bonus = 1
				uses = 1
				category = industry
			}
		}
	}
	
	focus = {
		id = GER_autarky_efforts
		icon = GFX_focus_GER_autarky_ambitions
		prerequisite = { focus = GER_the_four_year_plan  }

		x = 2
		y = 1
		relative_position_id = GER_the_four_year_plan
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
				}
				random_select_amount = 4
				add_extra_state_shared_building_slots = 1
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_autarky_efforts
				bonus = 1
				uses = 1
				category = industry
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_gain_autarkic_economy_lock_free_trade_tt
			add_ideas = autarkic_economy

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_improve_trade_relations_tt
			every_other_country = {
				limit = {
					is_in_faction_with = PREV
				}	
				add_opinion_modifier = {
					target = GER
					modifier = GER_autarky_trade_opinion
				}
				GER = {
					add_opinion_modifier = {
						target = PREV
						modifier = GER_german_trade_opinion
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_institute_price_controls
		icon = GFX_focus_generic_price_controls
		prerequisite = { focus = GER_autarky_efforts }

		x = 0
		y = 1
		relative_position_id = GER_autarky_efforts
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_stability = -0.05
			add_popularity = {
			    ideology = ROOT
			    popularity = -0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
						has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
					}
				}
				GER_modify_industrial_modifier = yes
				custom_effect_tooltip = GER_reduce_increasing_consumer_goods_tt
				subtract_from_variable = { GER_monthly_consumer_goods_increase = GER_change_monthly_CG_price_controls }
			}
			else = {
				GER_modify_industrial_modifier = yes
				add_to_variable = { 
					GER_industrial_consumer_goods_factor = -0.1
					tooltip = consumer_goods_factor_tt
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_unlock_price_controls_decision_tt
		}
	}
	
	focus = {
		id = GER_establish_the_reichswerke
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = GER_autarky_efforts }

		x = -1
		y = 2
		relative_position_id = GER_autarky_efforts
		cost = 5
		available = {
			custom_trigger_tooltip = {
				tooltip = GER_industrial_consumer_goods_factor_limit_tt
				check_variable = { GER_industrial_consumer_goods_factor < 0.9 }
			}
		}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				prioritize = { 59 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 6
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_establish_the_reichswerke
				bonus = 1
				uses = 1
				category = excavation_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_unlock_reichswerke_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = 0.1
				tooltip = consumer_goods_factor_tt
			}
			if = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
						has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
					}
				}
				GER_add_mefo_bills_penalty = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wehrwirtschaft = yes
			add_to_variable = { 
				GER_wehrwirtschaft_local_resources_factor = 0.05
				tooltip = local_resources_factor_tt
			}

		}
	}
	
	focus = {
		id = GER_seize_foreign_industries
		icon = GFX_focus_DEN_heavy_regulations
		prerequisite = { focus = GER_establish_the_reichswerke }

		x = -1
		y = 1
		relative_position_id = GER_establish_the_reichswerke
		cost = 5
		available = {
			custom_trigger_tooltip = {
				tooltip = GER_industrial_consumer_goods_factor_limit_tt
				check_variable = { GER_industrial_consumer_goods_factor < 0.9 }
			}
			any_controlled_state = {
				NOT = { is_core_of = ROOT }
				is_fully_controlled_by = ROOT
				OR = {
					steel > 24
					aluminium > 19
					oil > 14
					tungsten > 9
					chromium > 9
				}
			}
		}

		cancel = {
			NOT = {
				any_controlled_state = {
					is_core_of = ROOT
					OR = {
						steel > 25
						aluminium > 20
						oil > 15
						tungsten > 10
						chromium > 10
					}
				}
			}
		}

		bypass = {
			OR = {
				has_resources_in_country = {
					resource = steel
					amount > 799
					extracted = yes
				}
				any_subject_country = {
					has_resources_in_country = {
						resource = steel
						amount > 799
						extracted = yes
					}
				}
			}
			OR = {
				has_resources_in_country = {
					resource = aluminium
					amount > 499
					extracted = yes
				}
				any_subject_country = {
					has_resources_in_country = {
						resource = aluminium
						amount > 499
						extracted = yes
					}
				}
			}
			OR = {
				has_resources_in_country = {
					resource = tungsten
					amount > 99
					extracted = yes
				}
				any_subject_country = {
					has_resources_in_country = {
						resource = tungsten
						amount > 99
						extracted = yes
					}
				}
			}
			OR = {
				has_resources_in_country = {
					resource = chromium
					amount > 99
					extracted = yes
				}
				any_subject_country = {
					has_resources_in_country = {
						resource = chromium
						amount > 99
						extracted = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			random_controlled_state = {
				limit = {
					NOT = { is_core_of = ROOT }
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_controlled_state = {
				limit = {
					NOT = { is_core_of = ROOT }
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			every_controlled_state = {
				limit = {
					NOT = { 
						is_core_of = ROOT 
						any_neighbor_state = {
							controller = {
								has_war_with = ROOT
							}
						}	
					}
					is_fully_controlled_by = ROOT
					is_on_continent = europe
					OR = {
						steel > 19
						aluminium > 10
						oil > 9
						tungsten > 9
						chromium > 9
					}
				}
				random_select_amount = 5
				add_dynamic_modifier = { 
					modifier = GER_nationalized_industries_modifier
					scope = GER
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_seize_foreign_industries
				bonus = 0.5
				uses = 1
				category = excavation_tech
			}
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 20
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = 0.1
				tooltip = consumer_goods_factor_tt
			}
			if = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
						has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
					}
				}
				GER_add_mefo_bills_penalty = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_wehrwirtschaft_modifier_tt
			add_to_variable = { 
				GER_wehrwirtschaft_local_resources_factor = 0.05
				tooltip = local_resources_factor_tt
			}
			custom_effect_tooltip = generic_skip_one_line_tt

		}
	}
	
	focus = {
		id = GER_coal_liquefaction
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = GER_autarky_efforts }

		x = 1
		y = 2
		relative_position_id = GER_autarky_efforts
		cost = 5
		available = {
			custom_trigger_tooltip = {
				tooltip = GER_industrial_consumer_goods_factor_limit_tt
				check_variable = { GER_industrial_consumer_goods_factor < 0.9 }
			}
		}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = synthetic_refinery
						size > 0
						include_locked = yes
					}
				}
				prioritize = { 65 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_tech_bonus = {
				name = GER_coal_liquefaction
				bonus = 1
				uses = 1
				category = synth_resources
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = 0.1
				tooltip = consumer_goods_factor_tt
			}
			if = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
						has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
					}
				}
				GER_add_mefo_bills_penalty = yes
			}

			GER_add_or_modify_wehrwirtschaft = yes
			add_to_variable = { 
				GER_wehrwirtschaft_production_speed_synthetic_refinery_factor = 0.1
				tooltip = production_speed_synthetic_refinery_factor_tt
			}
			add_to_variable = { 
				GER_wehrwirtschaft_production_speed_fuel_silo_factor = 0.1
				tooltip = production_speed_fuel_silo_factor_tt
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
	
			if = {
				limit = {
					has_idea = ig_faben
				}
				swap_ideas = {
					remove_idea = ig_faben
					add_idea = GER_ig_faben_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = ig_faben
						add_idea = GER_ig_faben_improved
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_subsidize_hoesch_benzin
		icon = GFX_focus_GER_subsidize_hoesch_benzin
		prerequisite = { focus = GER_coal_liquefaction }

		x = -1
		y = 1
		relative_position_id = GER_coal_liquefaction
		cost = 5
		available = {
			custom_trigger_tooltip = {
				tooltip = GER_industrial_consumer_goods_factor_limit_tt
				check_variable = { GER_industrial_consumer_goods_factor < 0.9 }
			}
			has_tech = oil_processing
		}

		continue_if_invalid = yes

		bypass = {
			OR = {
				has_resources_in_country = {
					resource = oil
					amount > 149
					extracted = yes
				}
				any_subject_country = {
					has_resources_in_country = {
						resource = oil
						amount > 149
						extracted = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = synthetic_refinery
						size > 0
						include_locked = yes
					}
				}
				prioritize = { 57 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = 0.1
				tooltip = consumer_goods_factor_tt
			}
			if = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
						has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
					}
				}
				GER_add_mefo_bills_penalty = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_wehrwirtschaft_modifier_tt
			add_to_variable = { 
				GER_wehrwirtschaft_production_oil_factor = 0.1
				tooltip = production_oil_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_subsidize_hoesch_benzin
				bonus = 1
				uses = 1
				category = synth_resources
			}

		}
	}
	
	focus = {
		id = GER_establish_buna_werke
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = GER_coal_liquefaction }

		x = 1
		y = 1
		relative_position_id = GER_coal_liquefaction
		cost = 5
		available = {
			custom_trigger_tooltip = {
				tooltip = GER_industrial_consumer_goods_factor_limit_tt
				check_variable = { GER_industrial_consumer_goods_factor < 0.9 }
			}
			has_tech = rubber_processing
		}

		continue_if_invalid = yes

		bypass = {
			OR = {
				has_resources_in_country = {
					resource = rubber
					amount > 99
					extracted = yes
				}
				any_subject_country = {
					has_resources_in_country = {
						resource = rubber
						amount > 99
						extracted = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
        	random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = synthetic_refinery
						size > 0
						include_locked = yes
					}
				}
				prioritize = { 65 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			modify_building_resources = {
        	   building = synthetic_refinery
        	   resource = rubber
        	   amount = 2
        	}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_establish_buna_werke
				bonus = 1
				uses = 1
				category = synth_resources
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = 0.1
				tooltip = consumer_goods_factor_tt
			}
			if = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
						has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
					}
				}
				GER_add_mefo_bills_penalty = yes
			}
		}
	}
	
	focus = {
		id = GER_autarky_achieved
		icon = GFX_focus_GER_autarky_achieved
		prerequisite = { focus = GER_seize_foreign_industries }
		prerequisite = { focus = GER_subsidize_hoesch_benzin }
		prerequisite = { focus = GER_establish_buna_werke }

		x = 2
		y = 1
		relative_position_id = GER_seize_foreign_industries
		cost = 10
		available = {
			all_core_state = {
				is_fully_controlled_by = ROOT
			}
			date > 1940.06.01
			#OR = {
			#	has_resources_in_country = {
			#		resource = steel
			#		amount > 799 #This needs to correspond to the Bypass values in the previous focuses
			#		extracted = yes
			#	}
			#	any_subject_country = {
			#		has_resources_in_country = {
			#			resource = steel
			#			amount > 799 #This needs to correspond to the Bypass values in the previous focuses
			#			extracted = yes
			#		}
			#	}
			#}
			#OR = {
			#	has_resources_in_country = {
			#		resource = aluminium
			#		amount > 199 #This needs to correspond to the Bypass values in the previous focuses
			#		extracted = yes
			#	}
			#	any_subject_country = {
			#		has_resources_in_country = {
			#			resource = aluminium
			#			amount > 199 #This needs to correspond to the Bypass values in the previous focuses
			#			extracted = yes
			#		}
			#	}
			#}
			#OR = {
			#	has_resources_in_country = {
			#		resource = oil
			#		amount > 149 #This needs to correspond to the Bypass values in the previous focuses
			#		extracted = yes
			#	}
			#	any_subject_country = {
			#		has_resources_in_country = {
			#			resource = oil
			#			amount > 149 #This needs to correspond to the Bypass values in the previous focuses
			#			extracted = yes
			#		}
			#	}
			#}
			#OR = {
			#	has_resources_in_country = {
			#		resource = tungsten
			#		amount > 99 #This needs to correspond to the Bypass values in the previous focuses
			#		extracted = yes
			#	}
			#	any_subject_country = {
			#		has_resources_in_country = {
			#			resource = tungsten
			#			amount > 99 #This needs to correspond to the Bypass values in the previous focuses
			#			extracted = yes
			#		}
			#	}
			#}
			#OR = {
			#	has_resources_in_country = {
			#		resource = chromium
			#		amount > 99 #This needs to correspond to the Bypass values in the previous focuses
			#		extracted = yes
			#	}
			#	any_subject_country = {
			#		has_resources_in_country = {
			#			resource = chromium
			#			amount > 99 #This needs to correspond to the Bypass values in the previous focuses
			#			extracted = yes
			#		}
			#	}
			#}
			#OR = {
			#	has_resources_in_country = {
			#		resource = rubber
			#		amount > 49 #This needs to correspond to the Bypass values in the previous focuses
			#		extracted = yes
			#	}
			#	any_subject_country = {
			#		has_resources_in_country = {
			#			resource = rubber
			#			amount > 49 #This needs to correspond to the Bypass values in the previous focuses
			#			extracted = yes
			#		}
			#	}
			#}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			GER_autarky_achieved_effects = yes

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = { #Notify that you will get an improved version of the Trade Law
					NOT = { has_idea = autarkic_economy }
				}
				custom_effect_tooltip = GER_improve_autarkic_economy_tt
			}
			else = { #Get the improved version of the Trade Law
				swap_ideas = {
					remove_idea = autarkic_economy
					add_idea = autarkic_economy_improved
				}
			}			

			#custom_effect_tooltip = generic_skip_one_line_tt

			#custom_effect_tooltip = GER_modify_wehrwirtschaft_modifier_tt
			#add_to_variable = { 
			#	GER_wehrwirtschaft_production_speed_buildings_factor = 0.05
			#	tooltip = production_speed_buildings_factor_tt
			#}
		}
	}


	focus = {
		id = GER_accelerate_the_rearmament_program
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = GER_the_four_year_plan }

		x = 6
		y = 1
		relative_position_id = GER_the_four_year_plan
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_speed_arms_factory_factor = 0.05
				tooltip = production_speed_arms_factory_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_speed_dockyard_factor = 0.05
				tooltip = production_speed_dockyard_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_concentrated_armament_program
		icon = GFX_focus_generic_reorient_production
		prerequisite = { focus = GER_accelerate_the_rearmament_program }

		x = -1
		y = 1
		relative_position_id = GER_accelerate_the_rearmament_program
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = GER_establish_production_targets
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = GER_accelerate_the_rearmament_program }

		x = 1
		y = 1
		relative_position_id = GER_accelerate_the_rearmament_program
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			random_core_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}
		}
	}
	
	#focus = {
	#	id = GER_prioritize_the_army
	#	icon = GFX_focus_generic_tank_production
	#	prerequisite = { focus = GER_concentrated_armament_program }
	#	mutually_exclusive = { focus = GER_prioritize_the_navy }
	#	x = -1
	#	y = 1
	#	relative_position_id = GER_concentrated_armament_program
	#	cost = 10
	#	available = {
	#	}
#
	#	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
#
	#	completion_reward = {
	#		random_core_state = {
	#			limit = {
	#				is_controlled_by = ROOT
	#			}
	#			add_extra_state_shared_building_slots = 2
	#			add_building_construction = {
	#				type = arms_factory
	#				level = 2
	#				instant_build = yes
	#			}
	#		}
	#		
	#		custom_effect_tooltip = generic_skip_one_line_tt
#
	#		GER_modify_industrial_modifier = yes
	#		add_to_variable = { 
	#			GER_industrial_industrial_capacity_factory = 0.05
	#			tooltip = industrial_capacity_factory_tt
	#		}
	#	}
	#}
	#
	#focus = {
	#	id = GER_prioritize_the_navy
	#	icon = GFX_goal_generic_navy_battleship
	#	prerequisite = { focus = GER_concentrated_armament_program }
	#	mutually_exclusive = { focus = GER_prioritize_the_army }
	#	x = 1
	#	y = 1
	#	relative_position_id = GER_concentrated_armament_program
	#	cost = 10
	#	available = {
	#	}
#
	#	search_filters = { FOCUS_FILTER_INDUSTRY }
#
	#	completion_reward = {
	#		random_core_state = {
	#			limit = {
	#				is_controlled_by = ROOT
	#				is_coastal = yes
	#			}
	#			add_extra_state_shared_building_slots = 2
	#			add_building_construction = {
	#				type = dockyard
	#				level = 2
	#				instant_build = yes
	#			}
	#		}
#
	#		custom_effect_tooltip = generic_skip_one_line_tt
#
	#		GER_modify_industrial_modifier = yes
	#		add_to_variable = { 
	#			GER_industrial_industrial_capacity_dockyard = 0.05
	#			tooltip = industrial_capacity_dockyard_tt
	#		}
	#	}
	#}
	
	focus = {
		id = GER_zentrale_planung
		icon = GFX_focus_generic_central_planning
		prerequisite = { focus = GER_concentrated_armament_program focus = GER_establish_production_targets}

		x = 1
		y = 2
		relative_position_id = GER_concentrated_armament_program
		cost = 10
		available = {
			has_war_with_major = yes
			has_civil_war = no
		}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = { #Must be one economy law away from the next one and fulfill the next law's criterias
					has_idea = partial_economic_mobilisation
					has_war_support > 0.5
					OR = {
						has_government = fascism
						has_government = communism
						custom_trigger_tooltip = { tooltip = or_clarification_tooltip always = no }
						AND = {
							has_war = yes
							any_enemy_country = {
								ic_ratio = {
									tag = ROOT
									ratio > 0.4
								}
							}
						}
					}
				}
				add_ideas = war_economy
			}
			else = {
				custom_effect_tooltip = GER_criteria_for_economy_laws_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_lack_of_resource_penalty_factor = -0.1
				tooltip = production_lack_of_resource_penalty_factor_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			add_to_variable = { 
				GER_industrial_conversion_cost_civ_to_mil_factor = -0.2
				tooltip = conversion_cost_civ_to_mil_factor_tt
			}
		}
	}

	focus = {
		id = GER_create_rustungsstab
		icon = GFX_focus_generic_mass_production
		prerequisite = { focus = GER_zentrale_planung }

		x = 1
		y = 1
		relative_position_id = GER_zentrale_planung
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_speed_arms_factory_factor = 0.05
				tooltip = production_speed_arms_factory_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_speed_dockyard_factor = 0.05
				tooltip = production_speed_dockyard_factor_tt
			}
			add_to_variable = { 
				GER_industrial_industry_air_damage_factor = -0.1
				tooltip = industry_air_damage_factor_tt
			}

		}
	}

	focus = {
		id = GER_armament_rationalization
		icon = GFX_focus_generic_military_industry
		prerequisite = { focus = GER_zentrale_planung }

		x = -1
		y = 1
		relative_position_id = GER_zentrale_planung
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_totaler_krieg
		icon = GFX_focus_generic_total_war
		prerequisite = { focus = GER_create_rustungsstab }
		prerequisite = { focus = GER_armament_rationalization }

		x = 1
		y = 1
		relative_position_id = GER_armament_rationalization
		cost = 5
		available = {
			has_war_with_major = yes
			OR = {
				has_war_support > 0.89
				surrender_progress > 0
			}
			any_enemy_country = {
				ic_ratio = {
					tag = ROOT
					ratio > 0.5
				}
			}
		}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_gain_totaler_krieg_remove_total_mob_tt
			add_ideas = totaler_krieg_economy

			if = {
				limit = {
					NOT = {
						OR = {
							has_completed_focus = GER_womens_rights_and_equality 
							has_decision = women_in_the_workforce 
						}
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				unlock_decision_tooltip = {
					decision = women_in_the_workforce
					show_effect_tooltip = yes # default is no
					show_modifiers = yes # default is no
				} 
				activate_decision = women_in_the_workforce
			}
		}
	}



	focus = {
		id = GER_develop_modern_maneuver_warfare
		icon = GFX_focus_GER_army
		#prerequisite = { focus = }

		x = 8
		y = 0
		#relative_position_id = GER_prioritize_economic_growth
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_command_power = 25
			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			#add_doctrine_cost_reduction = {
			#	name = GER_develop_modern_maneuver_warfare
			#	cost_reduction = 0.25
			#	uses = 1
			#	category = land_doctrine
			#}
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = walther_von_brauchitsch

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = henschel
					}
					swap_ideas = {
						remove_idea = henschel
						add_idea = GER_henschel_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = henschel
							add_idea = GER_henschel_improved
						}
					}
				}
			}
			else = {
				mio:GER_henschel_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_fortify_the_vaterland
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = GER_develop_modern_maneuver_warfare }

		x = 0
		y = 1
		relative_position_id = GER_develop_modern_maneuver_warfare
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_tech_bonus = {
				name = GER_fortify_the_vaterland
				bonus = 0.5
				uses = 2
				category = cat_fortification
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_fortify_the_vaterland_idea
				days = 730
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_fortify_the_vaterland_unlock_decision_tt
		}
	}
	
	focus = {
		id = GER_the_prussian_legacy
		icon = GFX_focus_GER_prussian_legacy
		prerequisite = { focus = GER_develop_modern_maneuver_warfare }
		mutually_exclusive = { focus = GER_adopt_new_panzer_doctrine }
		x = -2
		y = 2
		relative_position_id = GER_develop_modern_maneuver_warfare
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			add_command_power = 25
			army_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_the_prussian_legacy
				cost_reduction = 0.5
				uses = 2
				category = cat_grand_battle_plan
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_unlock_operational_planning_bewegungskrieg_tt
			effect_tooltip = { #This is done for tooltip purposes
				add_dynamic_modifier = { modifier = GER_bewegungskrieg_modifier }
			}
		}
	}
	
	focus = {
		id = GER_improve_motorized_troops
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = GER_the_prussian_legacy }

		x = -3
		y = 1
		relative_position_id = GER_the_prussian_legacy
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			if = {
				limit = {
					has_character = GER_oswald_lutz
					NOT = { has_completed_focus = GER_reorganize_the_wehrmacht }
				}
				every_unit_leader = {
					limit = {
						is_character = GER_oswald_lutz
					}
					add_skill_level = 1
					add_attack = 1
					add_planning = 1
					add_logistics = 1
				}
				if = {
					limit = {
						GER_oswald_lutz = {
							NOT = {
								has_trait = trickster
							}
						}
					}
					add_trait = {
					    character = GER_oswald_lutz
					    trait = trickster
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes			
			add_to_variable = { 
				GER_military_org_loss_when_moving = -0.1
				tooltip = org_loss_when_moving_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = GER_alkett
					}
					swap_ideas = {
						remove_idea = GER_alkett
						add_idea = GER_alkett_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_alkett
							add_idea = GER_alkett_improved
						}
					}
				}
			}
			else = {
				mio:GER_alkett_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}

	focus = {
		id = GER_lessons_of_the_great_war
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = GER_the_prussian_legacy }

		x = -1
		y = 1
		relative_position_id = GER_the_prussian_legacy
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			army_experience = 15
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_lessons_of_the_great_war
				cost_reduction = 0.25
				uses = 2
				category = land_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			show_unit_leaders_tooltip = GER_friedrich_schulz
			show_unit_leaders_tooltip = GER_ernsteberhard_hell

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_max_dig_in_factor = 0.1
				tooltip = max_dig_in_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_bewegungskrieg_modifier_tt
			effect_tooltip = {
				add_to_variable = { 
					GER_bewegungskrieg_army_infantry_attack_factor = 0.05
					tooltip = army_infantry_attack_factor_tt
				}
			}
		}
	}			

	focus = {
		id = GER_artillery_bombardment
		icon = GFX_focus_SWE_let_fly_all_guns
		prerequisite = { focus = GER_lessons_of_the_great_war }
		prerequisite = { focus = GER_improve_motorized_troops }

		x = 1
		y = 1
		relative_position_id = GER_improve_motorized_troops
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			
			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				mio:GER_rheinmetall_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05
				}
				mio:GER_mauser_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.1
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_tech_bonus = {
				name = GER_artillery_bombardment
				bonus = 0.5
				uses = 2
				category = artillery
			}
			add_tech_bonus = {
				name = GER_artillery_bombardment
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}

			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}

			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				create_equipment_variant = {
					name = "Sturmpanzer"
					design_team = mio:GER_alkett_organization #We feed on your tears
					parent_version = 0
					type = medium_tank_artillery_chassis_1
					modules = {
						main_armament_slot = tank_medium_howitzer
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 2
					}
					icon = "GFX_GER_basic_medium_art_medium"
				}

				create_equipment_variant = {
					name = "Nashorn"
					design_team = mio:GER_alkett_organization #We feed on your tears
					parent_version = 0
					type = medium_tank_destroyer_chassis_1
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 2
					}
					icon = "GFX_GER_basic_light_td"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_army_artillery_defence_factor = 0.1
				tooltip = army_artillery_defence_factor_tt
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						has_dlc = "Gotterdammerung"
						has_dlc = "No Step Back"
					}
				}
				GER_add_or_modify_wunderwaffen = yes
				add_to_variable = { 
					GER_wunderwaffen_sp_tag_artillery_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_tag_artillery_speed_factor_tt
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			custom_effect_tooltip = GER_modify_bewegungskrieg_modifier_tt
			effect_tooltip = {
				add_to_variable = { 
					GER_bewegungskrieg_army_artillery_attack_factor = 0.1
					tooltip = army_artillery_attack_factor_tt
				}
			}
		}
	}
	
	focus = {
		id = GER_stormtroopers
		icon = GFX_focus_CHL_departemento_de_las_tropas_nacistas_de_asalto
		prerequisite = { focus = GER_artillery_bombardment }

		x = 0
		y = 1
		relative_position_id = GER_artillery_bombardment
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			army_experience = 15
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_stormtroopers
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = GER_stormtroopers
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_bewegungskrieg_modifier_tt
			effect_tooltip = {
				add_to_variable = { 
					GER_bewegungskrieg_army_infantry_attack_factor = 0.05
					tooltip = army_infantry_attack_factor_tt
				}
				add_to_variable = { 
					GER_bewegungskrieg_breakthrough_factor = 0.05
					tooltip = breakthrough_factor_tt
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_sturmtruppe_battalion_tt
			hidden_effect = {
				set_technology = { sturmtruppe_battalion_tech = 1 popup = no }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_friedrich_schulz				
				}
				if = {
					limit = {
						GER_friedrich_schulz = {
							NOT = { 
								has_trait = brilliant_strategist
							}
						}
					}
					GER_friedrich_schulz = {
						add_trait = { trait = brilliant_strategist }
					}
				}
			}
			if = {
				limit = {
					has_character = GER_ernsteberhard_hell				
				}
				if = {
					limit = {
						GER_ernsteberhard_hell = {
							NOT = { 
								has_trait = brilliant_strategist
							}
						}
					}
					GER_ernsteberhard_hell = {
						add_trait = { trait = brilliant_strategist }
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_all_terrain_military_motorcycle
		icon = GFX_focus_generic_motor_cycle
		prerequisite = { focus = GER_the_prussian_legacy focus = GER_adopt_new_panzer_doctrine }

		x = 1
		y = 1
		relative_position_id = GER_the_prussian_legacy
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_tech_bonus = {
				name = GER_all_terrain_military_motorcycle
				uses = 1
				bonus = 0.5
				category = military_police_tech
			}

			if = {
				limit = {
					has_dlc = "Gotterdammerung"
				}
				if = {
					limit = {
						NOT = { has_tech = sp_armored_motorized_military_police_tech }
					}
					add_tech_bonus = {
						name = GER_all_terrain_military_motorcycle
						uses = 1
						bonus = 1
						technology = sp_armored_motorized_military_police_tech
					}
				}
				add_equipment_bonus = {
					name = GER_all_terrain_military_motorcycle
					bonus = {
						motorbike_equipment_1 = {
							build_cost_ic = -0.25
						}
					}
				}
			}

			if = {
				limit = {
					controls_state = 54
					54 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				54 = { #Franken
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_salvage_captured_equipment
		icon = GFX_focus_generic_tank_assembly
		prerequisite = { focus = GER_the_prussian_legacy focus = GER_adopt_new_panzer_doctrine }

		x = 3
		y = 1
		relative_position_id = GER_the_prussian_legacy
		cost = 5
		available = {
			has_war_with_major = yes
		}
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = GER_alfred_becker

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_equipment_capture = 0.05
				tooltip = equipment_capture_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_equipment_conversion_speed = 0.1
				tooltip = equipment_conversion_speed_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_army_leader = {
				limit = {
					NOT = { has_trait = scavenger }
				}
				random_select_amount = 2
				add_trait = { trait = scavenger }
			}
		}
	}
	
	focus = {
		id = GER_instill_auftragstaktik
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = GER_the_prussian_legacy focus = GER_adopt_new_panzer_doctrine }

		x = 2
		y = 2
		relative_position_id = GER_the_prussian_legacy
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_research_slot = 1

			army_experience = 25
			add_doctrine_cost_reduction = {
				name = GER_instill_auftragstaktik
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_initiative_factor = 0.1
				tooltip = initiative_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = franz_halder

			if = {
				limit = {
					has_character = GER_gerd_von_rundstedt
					GER_gerd_von_rundstedt = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				GER_gerd_von_rundstedt = {
					promote_leader = yes
				}
			}

			if = {
				limit = {
					has_character = GER_gunther_von_kluge
					GER_gunther_von_kluge = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				GER_gunther_von_kluge = {
					promote_leader = yes
				}
			}
		}
	}
	
	focus = {
		id = GER_establish_the_afrikakorps
		icon = GFX_focus_GER_afrikakorps
		prerequisite = { focus = GER_instill_auftragstaktik }

		x = -2
		y = 1
		relative_position_id = GER_instill_auftragstaktik
		cost = 5
		available = {
			OR = {
				AND = {
					any_controlled_state = {
						is_fully_controlled_by = ROOT
						OR =  {
							is_on_continent = africa
							is_on_continent = asia
						}
					}
				}
				AND = {
					any_subject_country = {
						any_controlled_state = {
							is_fully_controlled_by = PREV
							OR =  {
								is_on_continent = africa
								is_on_continent = asia
							}
						}
					}
				}
				AND = {
					any_allied_country = {
						any_controlled_state = {
							is_fully_controlled_by = PREV
							OR =  {
								is_on_continent = africa
								is_on_continent = asia
							}
						}
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_the_prussian_legacy}
					has_character = GER_erwin_rommel
					GER_erwin_rommel = {
						NOT = { has_trait = desert_fox }
					}
				}
				GER_erwin_rommel = {
					add_trait = { trait = desert_fox }
				}
			}
			if = {
				limit = {
					NOT = { has_completed_focus = GER_the_prussian_legacy}
					has_character = GER_walther_nehring
					GER_walther_nehring = {
						NOT = { has_trait = desert_fox }
					}
				}
				GER_walther_nehring = {
					add_trait = { trait = desert_fox }
				}
			}

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_acclimatization_hot_climate_gain_factor = 0.1
				tooltip = acclimatization_hot_climate_gain_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_unlock_operational_planning_in_africa_tt
		}
	}

	focus = {
		id = GER_establish_the_skijager
		icon = GFX_focus_GER_gebirgsjager
		prerequisite = { focus = GER_instill_auftragstaktik }

		x = 2
		y = 1
		relative_position_id = GER_instill_auftragstaktik
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH }

		completion_reward = {
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_special_forces_cap = 0.05
				tooltip = special_forces_cap_tt
			}
			add_to_variable = { 
				GER_military_acclimatization_cold_climate_gain_factor = 0.1
				tooltip = acclimatization_cold_climate_gain_factor_tt
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				add_doctrine_cost_reduction = {
					name = GER_establish_the_skijager
					cost_reduction = 0.25
					uses = 2
					category = cat_mountaineers_doctrine
				}
			}
			add_tech_bonus = {
				name = GER_establish_the_skijager
				bonus = 0.5
				uses = 1
				category = mountaineers_tech
			}
		}
	}
	
	focus = {
		id = GER_panzergrenadier
		icon = GFX_focus_generic_mechanized
		prerequisite = { focus = GER_instill_auftragstaktik }

		x = 0
		y = 1
		relative_position_id = GER_instill_auftragstaktik
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_tech_bonus = {
				name = GER_panzergrenadier
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_mechanized_equipment
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_completed_focus = GER_the_prussian_legacy }
					NOT = { has_completed_focus = GER_adopt_new_panzer_doctrine }
				}
				custom_effect_tooltip = GER_modify_bewegungskrieg_or_blitzkrieg_tt
				effect_tooltip = {
					add_to_variable = { 
						GER_motor_and_mech_attack_motorized_attack_factor = 0.05
						tooltip = motorized_attack_factor_tt
					}
					add_to_variable = { 
						GER_motor_and_mech_attack_mechanized_attack_factor = 0.05
						tooltip = mechanized_attack_factor_tt
					}
				}
			}
			if = {
				limit = {
					has_completed_focus = GER_adopt_new_panzer_doctrine
				}
				custom_effect_tooltip = GER_modify_blitzkrieg_modifier_tt
				effect_tooltip = {
					add_to_variable = { 
						GER_motor_and_mech_attack_motorized_attack_factor = 0.1
						tooltip = motorized_attack_factor_tt
					}
					add_to_variable = {
						GER_motor_and_mech_attack_mechanized_attack_factor = 0.1
						tooltip = mechanized_attack_factor_tt
					}
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_the_prussian_legacy
				}
				custom_effect_tooltip = GER_modify_bewegungskrieg_modifier_tt
				effect_tooltip = {
					add_to_variable = { 
						GER_motor_and_mech_attack_motorized_attack_factor = 0.1
						tooltip = motorized_attack_factor_tt
					}
					add_to_variable = {
						GER_motor_and_mech_attack_mechanized_attack_factor = 0.1
						tooltip = mechanized_attack_factor_tt
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_auto_union
					}
					swap_ideas = {
						remove_idea = GER_auto_union
						add_idea = GER_auto_union_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_auto_union
							add_idea = GER_auto_union_improved
						}
					}
				}
			}
			else = {
				mio:GER_auto_union_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_schwerer_panzerspahwagen
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_nationalize_ford_factories
		icon = GFX_focus_generic_truck
		prerequisite = { focus = GER_panzergrenadier }

		x = -3
		y = 1
		relative_position_id = GER_panzergrenadier
		cost = 5
		available = {
			has_war = yes
			51 = {
				is_fully_controlled_by = ROOT
			}

		}
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH }

		completion_reward = {
			51 = { #Rhineland
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_nationalize_ford_factories
				bonus = 0.5
				uses = 1
				category = cat_mechanized_equipment
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_tech_bonus = {
					name = GER_nationalize_ford_factories
					bonus = 1
					uses = 1
					category = cat_armored_cars
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				set_technology = {
					GER_heavy_armored_car = 1
					popup = yes
				}
				custom_effect_tooltip = GER_heavy_armored_car_recon_company_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = opel
					}
					swap_ideas = {
						remove_idea = opel
						add_idea = GER_opel_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = opel
							add_idea = GER_opel_improved
						}
					}
				}
				if = {
					limit = {
						has_idea = GER_daimler_benz
					}
					swap_ideas = {
						remove_idea = GER_daimler_benz
						add_idea = GER_daimler_benz_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_daimler_benz
							add_idea = GER_daimler_benz_improved
						}
					}
				}
			}
			else = {
				mio:GER_opel_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_continental_ag_tires
					unlock_mio_trait_tooltip = GER_mio_trait_ford_facilities
				}
				mio:GER_daimler_benz_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_kriegslokomotiven
		icon = GFX_focus_GER_kriegslokomotive
		prerequisite = { focus = GER_panzergrenadier }

		x = 3
		y = 1
		relative_position_id = GER_panzergrenadier
		cost = 5
		available = {
			has_war = yes
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					controls_state = 64
				}
				64 = { #Brandenburg
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_kriegslokomotiven
				bonus = 0.5
				uses = 1
				category = train_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 15
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_idea = GER_deutsche_reichsbahn
				}
				swap_ideas = {
					remove_idea = GER_deutsche_reichsbahn
					add_idea = GER_deutsche_reichsbahn_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_deutsche_reichsbahn
						add_idea = GER_deutsche_reichsbahn_improved
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_improve_the_logistics_system
		icon = GFX_focus_generic_reinforcing_the_supply_network
		mutually_exclusive = { focus = GER_defend_the_vaterland }
		prerequisite = { focus = GER_panzergrenadier }

		x = -1
		y = 1
		relative_position_id = GER_panzergrenadier
		cost = 5
		available = {
			has_war = yes
		}
		continue_if_invalid = yes

		search_filters = {}

		completion_reward = {
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_supply_factor = 0.15
				tooltip = supply_factor_tt
			}
			add_to_variable = { 
				GER_military_army_fuel_consumption_factor = -0.1
				tooltip = army_fuel_consumption_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_defend_the_vaterland
		icon = GFX_goal_generic_defence
		mutually_exclusive = { focus = GER_improve_the_logistics_system }
		prerequisite = { focus = GER_panzergrenadier }

		x = 1
		y = 1
		relative_position_id = GER_panzergrenadier
		cost = 5
		available = {
			has_war = yes
		}

		search_filters = { FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_timed_idea = {
				idea = GER_defend_the_vaterland_ns
				days = 545
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_gerd_von_rundstedt
					GER_gerd_von_rundstedt = {
						is_field_marshal = yes
					}
				}
				if = {
					limit = {
						GER_gerd_von_rundstedt = {
							NOT = { 
								has_trait = defensive_doctrine
							}
						}
					}
					GER_gerd_von_rundstedt = {
						add_trait = { trait = defensive_doctrine }
					}
				}
			}

			if = {
				limit = {
					has_character = GER_gunther_von_kluge
					GER_gunther_von_kluge = {
						is_field_marshal = yes
					}
				}
				if = {
					limit = {
						GER_gunther_von_kluge = {
							NOT = { 
								has_trait = defensive_doctrine
							}
						}
					}
					GER_gunther_von_kluge = {
						add_trait = { trait = defensive_doctrine }
					}
				}
			}

			if = {
				limit = {
					has_character = GER_albert_kesselring				
				}
				if = {
					limit = {
						GER_albert_kesselring = {
							is_field_marshal = yes
							NOT = { 
								has_trait = offensive_doctrine
							}
						}
					}
					if = {
						limit = {
							GER_albert_kesselring = {
								NOT = { 
									has_trait = defensive_doctrine
								}
							}
						}
						GER_albert_kesselring = {
							add_trait = { trait = defensive_doctrine }
						}
					}
					else_if = {
						limit = {
							GER_albert_kesselring = {
								has_trait = defensive_doctrine
								NOT = { 
									has_trait = unyielding_defender
								}
							}
						}
						GER_albert_kesselring = {
							add_trait = { trait = unyielding_defender }
						}
					}
				}
			}
			if = {
				limit = {
					has_character = GER_gotthard_heinrici
				}
				if = {
					limit = {
						GER_gotthard_heinrici = {
							NOT = { 
								has_trait = trait_cautious
							}
						}
					}
					GER_gotthard_heinrici = {
						add_trait = { trait = trait_cautious }
					}
				}
				if = {
					limit = {
						GER_gotthard_heinrici = {
							is_field_marshal = yes
							NOT = { 
								has_trait = offensive_doctrine
							}
						}
					}
					if = {
						limit = {
							GER_gotthard_heinrici = {
								NOT = { 
									has_trait = defensive_doctrine
								}
							}
						}
						GER_gotthard_heinrici = {
							add_trait = { trait = defensive_doctrine }
						}
					}
					else_if = {
						limit = {
							GER_gotthard_heinrici = {
								has_trait = defensive_doctrine
								NOT = { 
									has_trait = unyielding_defender
								}
							}
						}
						GER_gotthard_heinrici = {
							add_trait = { trait = unyielding_defender }
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_uranverein
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = GER_improve_the_logistics_system focus = GER_defend_the_vaterland }
		x = 1
		y = 1
		relative_position_id = GER_improve_the_logistics_system
		cost = 5
		available = {
			has_war_with_major = yes
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					NOT = { has_tech = atomic_research }
				}
				add_tech_bonus = {
					name = GER_uranverein
					bonus = 1.0
					uses = 1
					category = nuclear
				}
			}
			else = {
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.5
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						NOT = { is_special_project_completed = sp:sp_nuclear_reactor }
						NOT = { is_special_project_completed = sp:sp_nuclear_bomb }
						AND = {
							has_dlc = "Gotterdammerung"
							NOT = { is_special_project_completed = sp:sp_nuclear_warheads }
						}
					}
				}
				GER_add_or_modify_wunderwaffen = yes
			}
			if = {
				limit = {
					NOT = { is_special_project_completed = sp:sp_nuclear_reactor }
				}
				add_to_variable = { 
					GER_wunderwaffen_sp_nuclear_reactor_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_nuclear_reactor_speed_factor_tt
				}
			}

			if = {
				limit = {
					NOT = { is_special_project_completed = sp:sp_nuclear_bomb }
				}
				add_to_variable = { 
					GER_wunderwaffen_sp_nuclear_bomb_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_nuclear_bomb_speed_factor_tt
				}
			}
			if = {
				limit = {
					has_dlc = "Gotterdammerung"
					NOT = { is_special_project_completed = sp:sp_nuclear_warheads }
				}
				add_to_variable = { 
					GER_wunderwaffen_sp_nuclear_warheads_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_nuclear_warheads_speed_factor_tt
				}
			}
		}
	}
	
	focus = {
		id = GER_adopt_new_panzer_doctrine

		icon = GFX_focus_generic_tank_assault
		alternate_icon = GFX_focus_GER_adopt_new_panzer_doctrine_historical

		prerequisite = { focus = GER_develop_modern_maneuver_warfare }
		mutually_exclusive = { focus = GER_the_prussian_legacy }
		x = 2
		y = 2
		relative_position_id = GER_develop_modern_maneuver_warfare
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			add_command_power = 25
			army_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_adopt_new_panzer_doctrine
				cost_reduction = 0.5
				uses = 1
				category = cat_mobile_warfare
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			show_unit_leaders_tooltip = GER_heinz_guderian
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = heinz_guderian
			show_unit_leaders_tooltip = GER_erwin_rommel
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = erwin_rommel

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_unlock_operational_planning_blitzkrieg_tt
			effect_tooltip = { #This is done for tooltip purposes
				add_dynamic_modifier = { modifier = GER_blitzkrieg_modifier }
			}
		}
	}
	
	focus = {
		id = GER_panzer_troops_school
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = GER_adopt_new_panzer_doctrine }

		x = 1
		y = 1
		relative_position_id = GER_adopt_new_panzer_doctrine
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			army_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_adopt_new_panzer_doctrine
				cost_reduction = 0.25
				uses = 2
				category = land_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			show_unit_leaders_tooltip = GER_hasso_von_manteuffel
			show_unit_leaders_tooltip = GER_walther_nehring

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes			
			add_to_variable = { 
				GER_military_org_loss_when_moving = -0.1
				tooltip = org_loss_when_moving_tt
			}
		}
	}
	
	focus = {
		id = GER_advanced_panzer_research
		icon = GFX_focus_generic_army_tanks2
		prerequisite = { focus = GER_adopt_new_panzer_doctrine }

		x = 3
		y = 1
		relative_position_id = GER_adopt_new_panzer_doctrine
		cost = 10
		available = {
			has_tech = radio
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_advanced_panzer_research
				#ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_medium_armor
			}


			if = {
				limit = { 
					has_dlc = "No Step Back"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Panzer III Ausf. A"
					type = medium_tank_chassis_1
					design_team = mio:GER_daimler_benz_organization #We feed on your tears
					parent_version = 0
					modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = smoke_launchers
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 3
					}
					icon = "GFX_GER_basic_medium_tank_medium"
				}
				create_equipment_variant = {
					name = "Panzer IV"
					type = medium_tank_chassis_1
					design_team = mio:GER_daimler_benz_organization #We feed on your tears
					parent_version = 0
					modules = {
						main_armament_slot = tank_close_support_gun
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = smoke_launchers
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 2
					}
					icon = "GFX_GER_basic_medium_tank_medium"
				}
				create_equipment_variant = {
					name = "Sturmgeschütz III"
					design_team = mio:GER_alkett_organization #We feed on your tears
					parent_version = 0
					type = medium_tank_artillery_chassis_1
					modules = {
						main_armament_slot = tank_medium_howitzer
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 4
						tank_nsb_armor_upgrade = 3
					}
					icon = "GFX_GER_basic_medium_td_medium"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_coordination_bonus = 0.05
				tooltip = coordination_bonus_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_blitzkrieg_modifier_tt
			effect_tooltip = {
				add_to_variable = { 
					GER_blitzkrieg_army_armor_speed_factor = 0.05
					tooltip = army_armor_speed_factor_tt
				}
				add_to_variable = { 
					GER_blitzkrieg_army_armor_attack_factor = 0.05
					tooltip = army_armor_attack_factor_tt
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = GER_MAN
					}
					swap_ideas = {
						remove_idea = GER_MAN
						add_idea = GER_MAN_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_MAN
							add_idea = GER_MAN_improved
						}
					}
				}
			}
			else = {
				mio:GER_MAN_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_expand_kummersdorfs_capacity
		icon = GFX_focus_generic_heavy_tank
		prerequisite = { focus = GER_advanced_panzer_research }
		prerequisite = { focus = GER_panzer_troops_school }

		x = 1
		y = 1
		relative_position_id = GER_panzer_troops_school
		cost = 5
		available = {
			has_war_with_major = yes
		}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_heavy_armor
			}
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity
				bonus = 1
				uses = 1
				category = cat_medium_armor
			}
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}

			
			if = {
				limit = { 
					has_dlc = "No Step Back"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Panther Ausf. A"
					type = medium_tank_chassis_3
					design_team = mio:GER_man_organization #We feed on your tears
					modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_interleaved_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = sloped_armor
						special_type_slot_3 = smoke_launchers
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 4
					}
					icon = "GFX_GER_advanced_medium_tank_medium"
				}
				create_equipment_variant = {
					name = "Tiger I Ausf. A"
					type = heavy_tank_chassis_2
					design_team = mio:GER_porsche_organization #We feed on your tears
					modules = {
						main_armament_slot = tank_heavy_cannon
						turret_type_slot = tank_heavy_three_man_tank_turret
						suspension_type_slot = tank_interleaved_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = smoke_launchers
						special_type_slot_3 = additional_machine_guns
					}
					upgrades = {
						tank_nsb_engine_upgrade = 8
						tank_nsb_armor_upgrade = 6
					}
					icon = "GFX_GER_advanced_heavy_tank_medium"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_sp_tag_tank_speed_factor = GER_wunderwaffe_research_speed_bonus
				tooltip = sp_tag_tank_speed_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_blitzkrieg_modifier_tt
			effect_tooltip = {
				add_to_variable = { 
					GER_blitzkrieg_army_armor_attack_factor = 0.05
					tooltip = army_armor_attack_factor_tt
				}
				add_to_variable = { 
					GER_blitzkrieg_breakthrough_factor = 0.05
					tooltip = breakthrough_factor_tt
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = porsche
					}
					swap_ideas = {
						remove_idea = porsche
						add_idea = GER_porsche_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = porsche
							add_idea = GER_porsche_improved
						}
					}
				}
			}
			else = {
				mio:GER_porsche_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_combined_arms

		icon = GFX_focus_generic_tank_air_support
		alternate_icon = GFX_focus_GER_combined_arms_historical

		prerequisite = { focus = GER_advanced_panzer_research }
		prerequisite = { focus = GER_dive_bombers }

		x = 1
		y = 1
		relative_position_id = GER_advanced_panzer_research
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_air_superiority_bonus_in_combat = 0.1
				tooltip = air_superiority_bonus_in_combat_tt
			}
			add_to_variable = { 
				GER_military_coordination_bonus = 0.05
				tooltip = coordination_bonus_tt
			}
		}
	}


	#LUFTWAFFE
	focus = {
		id = GER_expanding_the_luftwaffe
		icon = GFX_focus_GER_airforce
		#prerequisite = { focus = }

		x = 12
		y = 0
		relative_position_id = GER_develop_modern_maneuver_warfare
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MILITARY_CHARACTER }

		complete_tooltip = {
			
			air_experience = 25
			every_state = {
				limit = { has_state_flag = GER_expanding_the_luftwaffe_flag }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = GER_expanding_the_luftwaffe_flag }
				add_building_construction = {
					type = air_base
					level = 6
					instant_build = yes
				}
			}
		}
		
		completion_reward = {			
			
			air_experience = 25

			if = {
				limit = {
					NOT = {
						any_owned_state = {
							air_base > 3
							air_base < 9
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 5
						}
					}
					add_building_construction = {
						type = air_base
						level = 6
						instant_build = yes
					}
					set_state_flag = GER_expanding_the_luftwaffe_flag
				}				
			}

			random_owned_controlled_state = {
				limit = {
					air_base > 3
					air_base < 9
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_expanding_the_luftwaffe_flag
			}
			random_owned_controlled_state = {
				limit = {
					air_base > 3
					air_base < 9
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_expanding_the_luftwaffe_flag
			}
			random_owned_controlled_state = {
				limit = {
					air_base > 2
					air_base < 9
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_expanding_the_luftwaffe_flag
			}
			
			
			
			
			IF = {
				limit = { has_dlc = "Gotterdammerung" }
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_unlocks_eben_emael_raid_tt

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = ritter_von_greim
		}
	}
	
	focus = {
		id = GER_aeronautical_research_institute
		icon = GFX_focus_generic_air_research_boost
		prerequisite = { focus = GER_expanding_the_luftwaffe }

		x = -3
		y = 1
		relative_position_id = GER_expanding_the_luftwaffe
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					controls_state = 59
				}
				59 = { #Hannover
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_aeronautical_research_institute
				bonus = 0.25
				uses = 2
				category = air_equipment
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_arado_flugzeugwerke
					}
					swap_ideas = {
						remove_idea = GER_arado_flugzeugwerke
						add_idea = GER_arado_flugzeugwerke_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_arado_flugzeugwerke
							add_idea = GER_arado_flugzeugwerke_improved
						}
					}
				}
			}
			else = {
				mio:GER_arado_flugzeugwerke_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_dive_bombers

		icon = GFX_focus_generic_cas_aircraft
		alternate_icon = GFX_focus_GER_sturzkampfbomber_historical

		prerequisite = { focus = GER_aeronautical_research_institute }
		mutually_exclusive = { focus = GER_tactical_bombers focus = GER_uralbomber_program }
		x = -2
		y = 1
		relative_position_id = GER_aeronautical_research_institute
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = GER_dive_bombers
				cost_reduction = 0.25
				uses = 1
				category = battlefield_support_tree
			}
			add_tech_bonus = {
				name = GER_dive_bombers
				bonus = 0.5
				uses = 1
				category = light_air
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = { 
					name = "Ju 87 G" 
					type = small_plane_cas_airframe_2
					allow_without_tech = no
					design_team = mio:GER_junkers_organization
					modules = {
						fixed_main_weapon_slot = bomb_locks
						fixed_auxiliary_weapon_slot_1 = tank_buster_1
						engine_type_slot = engine_3_1x
						special_type_slot_1 = lmg_defense_turret
						special_type_slot_2 = empty
					}
					icon = "GFX_GER_CAS2_medium"
					model = "GER_CAS_equipment_2_entity"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_cas_efficiency = 0.1
				tooltip = air_cas_efficiency_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ace = {
				name = Hans
				surname = Rudel
				callsign = Adler #made-up-ish; "Eagle of the Eastern Front" was his real nickname
				type = support_genius
			}
			add_ace = {
				name = Anton
				surname = Hubsch
				callsign = Toni
				type = support_unique
			}
			add_ace = {
				name = Gerhard
				surname = Studemann
				callsign = Stutz
				type = support_unique
			}
			add_ace = {
				name = Alois
				surname = Wosnitza
				callsign = Ritter #Made-up
				type = support_unique
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = junkers
					}
					swap_ideas = {
						remove_idea = junkers
						add_idea = GER_junkers_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = junkers
							add_idea = GER_junkers_improved
						}
					}
				}
			}
			else = {
				mio:GER_junkers_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = hugo_sperrle

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = ernst_udet
		}
	}
	
	focus = {
		id = GER_tactical_bombers
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = GER_aeronautical_research_institute }
		mutually_exclusive = { focus = GER_dive_bombers focus = GER_uralbomber_program }
		x = 0
		y = 1
		relative_position_id = GER_aeronautical_research_institute
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = erhard_milch

			add_doctrine_cost_reduction = {
				name = GER_tactical_bombers
				cost_reduction = 0.25
				uses = 2
				category = operational_integrity_tree
			}
			add_tech_bonus = {
				name = GER_tactical_bombers
				bonus = 0.5
				uses = 1
				category = medium_air
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = { 
					name = "Ju 88" 
					type = medium_plane_airframe_2
					allow_without_tech = no
					design_team = mio:GER_dornier_organization
					modules = {
						fixed_main_weapon_slot = medium_bomb_bay
						fixed_auxiliary_weapon_slot_1 = medium_bomb_bay
						fixed_auxiliary_weapon_slot_2 = torpedo_mounting
						engine_type_slot = engine_3_2x
						special_type_slot_1 = lmg_defense_turret_2x
						special_type_slot_2 = empty	
					}
					icon = "GFX_GER_tactical_bomber2_medium"
					model = "GER_medium_plane_entity"
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_strategic_bomber_bombing_factor = 0.1
				tooltip = air_strategic_bomber_bombing_factor_tt
			}
			add_to_variable = { 
				GER_military_air_cas_efficiency = 0.05
				tooltip = air_cas_efficiency_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ace = {
				name = Werner
				surname = Baumbach
				callsign = "Papa Bär" #made-up
				type = bomber_unique
			}
			add_ace = {
				name = Bernhard
				surname = Jope
				callsign = Senker #made-up
				type = bomber_unique
			}
			add_ace = {
				name = Anton
				surname = Hubsch
				callsign = Toni
				type = support_unique
			}
			add_ace = {
				name = Gerhard
				surname = Studemann
				callsign = Stutz
				type = support_unique
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = dornier
					}
					swap_ideas = {
						remove_idea = dornier
						add_idea = GER_dornier_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = dornier
							add_idea = GER_dornier_improved
						}
					}
				}
			}
			else = {
				mio:GER_dornier_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_uralbomber_program
		icon = GFX_focus_generic_long_range_aircraft
		prerequisite = { focus = GER_aeronautical_research_institute }
		mutually_exclusive = { focus = GER_dive_bombers focus = GER_tactical_bombers }
		x = 2
		y = 1
		relative_position_id = GER_aeronautical_research_institute
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = GER_robert_knauss

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_uralbomber_program
				cost_reduction = 0.25
				uses = 2
				category = strategic_destruction_tree
			}
			add_tech_bonus = {
				name = GER_uralbomber_program
				bonus = 0.5
				uses = 1
				category = heavy_air
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = { 
					name = "Ju 89" 
					type = large_plane_airframe_1
					allow_without_tech = no
					design_team = mio:GER_heinkel_organization
					modules = {
						fixed_main_weapon_slot = large_bomb_bay
						fixed_auxiliary_weapon_slot_1 = empty
						fixed_auxiliary_weapon_slot_2 = empty
						engine_type_slot = engine_2_4x
						special_type_slot_1 = lmg_defense_turret_2x
						special_type_slot_2 = lmg_defense_turret
					}
					icon = "GFX_GER_strategic_bomber1_medium"
					model = "GER_strat_bomber_equipment_1_entity"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_range_factor = 0.15
				tooltip = air_range_factor_tt
			}
			add_to_variable = { 
				GER_military_air_strategic_bomber_bombing_factor = 0.05
				tooltip = air_strategic_bomber_bombing_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ace = {
				name = Hansgeorg
				surname = Batcher
				callsign = Schützin #made-up
				type = bomber_genius
			}
			add_ace = {
				name = Werner
				surname = Baumbach
				callsign = "Papa Bär" #made-up
				type = bomber_unique
			}
			add_ace = {
				name = Bernhard
				surname = Jope
				callsign = Senker #made-up
				type = bomber_unique
			}
			add_ace = {
				name = Horst
				surname = Rudat
				callsign = Mistel #made-up
				type = bomber_unique
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = heinkel
					}
					swap_ideas = {
						remove_idea = heinkel
						add_idea = GER_heinkel_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = heinkel
							add_idea = GER_heinkel_improved
						}
					}
				}
			}
			else = {
				mio:GER_heinkel_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_rocketry_innovations
		icon = GFX_focus_rocketry
		prerequisite = { focus = GER_dive_bombers focus = GER_tactical_bombers focus = GER_uralbomber_program }

		x = 2
		y = 3
		relative_position_id = GER_dive_bombers
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_aerodynamic_research_institute
				bonus = 0.5
				uses = 1
				category = rocketry
			}

			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.75
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_rocketry_idea
				days = 730
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_sp_tag_rocket_speed_factor = 0.15
				tooltip = sp_tag_rocket_speed_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = GER_walter_dornberger
			
		}
	}
	
	focus = {
		id = GER_fallschirmjager
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = GER_expanding_the_luftwaffe }

		x = 0
		y = 1
		relative_position_id = GER_expanding_the_luftwaffe
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				if = {
					limit = {
						NOT = { has_completed_focus = GER_marinestosstrupp }
					}
					add_potential_special_forces_tree = yes
				}
				add_doctrine_cost_reduction = {
					name = GER_fallschirmjager
					cost_reduction = 0.25
					uses = 2
					category = cat_paratroopers_doctrine
				}
			}
			add_tech_bonus = {
				name = GER_fallschirmjager
				bonus = 1
				uses = 1
				category = para_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_special_forces_cap = 0.05
				tooltip = special_forces_cap_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			show_unit_leaders_tooltip = GER_kurt_student
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = kurt_student
		}
	}
	
	focus = {
		id = GER_form_the_jagdwaffe
		icon = GFX_focus_SOV_flying_clubs
		prerequisite = { focus = GER_expanding_the_luftwaffe }

		x = 3
		y = 1
		relative_position_id = GER_expanding_the_luftwaffe
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			air_experience = 25
			add_doctrine_cost_reduction = {
				name = GER_form_the_jagdwaffe
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}


			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_ace_generation_chance_factor = 0.25
				tooltip = air_ace_generation_chance_factor_tt
			}
			add_to_variable = { 
				GER_military_air_agility_factor = 0.05
				tooltip = air_agility_factor_tt
			}


			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = { 
					name = "FW 190" 
					type = small_plane_airframe_2
					allow_without_tech = no
					design_team = mio:GER_messerschmitt_organization
					modules = {
						fixed_main_weapon_slot = light_mg_4x
						fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
						engine_type_slot = engine_3_1x
						special_type_slot_1 = armor_plate_small
						special_type_slot_2 = drop_tanks	
					}
					icon = "GFX_GER_fighter2_medium"
					model = "GER_fighter_equipment_2_entity"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ace = {
				name = Erich
				surname = Hartmann
				callsign = Bubi
				type = fighter_genius
			}

			add_ace = {
				name = Gerhard
				surname = Barkhorn
				callsign = Gerd
				type = fighter_genius
			}

			add_ace = {
				name = Gunther
				surname = Rall
				callsign = Adlerauge #Made-up nickname
				type = fighter_genius
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = messerschmitt
					}
					swap_ideas = {
						remove_idea = messerschmitt
						add_idea = GER_messerschmitt_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = messerschmitt
							add_idea = GER_messerschmitt_improved
						}
					}
				}
			}
			else = {
				mio:GER_messerschmitt_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}

	focus = {
		id = GER_reorganize_the_luftwaffe
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = GER_form_the_jagdwaffe }

		x = -2
		y = 1
		relative_position_id = GER_form_the_jagdwaffe
		cost = 10
		available = {
			GER_hermann_goring = {
				is_air_chief = no
			}
			NOT = {
				has_completed_focus = GER_ascension_of_goring
			}
		}

		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_command_power = 25
			air_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_reorganize_the_luftwaffe
				cost_reduction = 0.25
				uses = 2
				category = air_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_manpower_requirement_factor = -0.1
				tooltip = air_manpower_requirement_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = GER_helmuth_wilberg
		}
	}

	focus = {
		id = GER_solve_the_logistical_bottlenecks
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = GER_reorganize_the_luftwaffe }

		x = -1
		y = 2
		relative_position_id = GER_reorganize_the_luftwaffe
		cost = 10
		available = {
			GER_hermann_goring = {
				is_air_chief = no
			}
			NOT = {
				has_completed_focus = GER_ascension_of_goring
			}
		}

		search_filters = {}

		completion_reward = {
			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_accidents_factor = -0.1
				tooltip = air_accidents_factor_tt
			}
			add_to_variable = { 
				GER_military_air_fuel_consumption_factor = -0.1
				tooltip = air_fuel_consumption_factor_tt
			}
		}
	}

	focus = {
		id = GER_experimental_rotorcrafts
		icon = GFX_focus_generic_early_helicopter
		prerequisite = { focus = GER_form_the_jagdwaffe }

		x = 0
		y = 1
		relative_position_id = GER_form_the_jagdwaffe

		allow_branch = {
			has_dlc = "Gotterdammerung"
		}

		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { is_special_project_completed = sp:sp_air_helicopter }
				}
				GER_add_or_modify_wunderwaffen = yes
				add_to_variable = { 
					GER_wunderwaffen_sp_air_helicopter_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_air_helicopter_speed_factor_tt
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				mio:GER_focke_achgelis_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_develop_the_knickebein
		icon = GFX_goal_generic_radar
		prerequisite = { focus = GER_form_the_jagdwaffe }

		x = 2
		y = 1
		relative_position_id = GER_form_the_jagdwaffe
		cost = 5
		available = {
			has_tech = improved_radio
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_timed_idea = {
				idea = GER_knickebein
				days = 545
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_develop_the_knickebein
				bonus = 0.5
				uses = 1
				category = radar_tech
			}

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = focke_wulf
					}
					swap_ideas = {
						remove_idea = focke_wulf
						add_idea = GER_focke_wulf_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = focke_wulf
							add_idea = GER_focke_wulf_improved
						}
					}
				}
			}
			else = {
				mio:GER_focke_wulf_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_defense_of_the_reich
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = GER_reorganize_the_luftwaffe focus = GER_develop_the_knickebein }

		x = 2
		y = 2
		relative_position_id = GER_reorganize_the_luftwaffe
		cost = 10
		available = {
			has_war_with_major = yes
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_timed_idea = {
				idea = GER_defense_of_the_reich_ns
				days = 730
			}
		}
	}
	
	focus = {
		id = GER_construct_the_kammhuber_line
		icon = GFX_focus_generic_energy
		prerequisite = { focus = GER_defense_of_the_reich }

		x = -1
		y = 1
		relative_position_id = GER_defense_of_the_reich
		cost = 5
		available = {
			has_war_with_major = yes
			is_special_project_completed = sp:sp_air_radar
			custom_trigger_tooltip = {
				tooltip = GER_controls_atlantic_coast_brittany_finnmark_tt
				OR = {
					925 = { #Finnmark
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					924 = { #Troms
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					144 = { #Nordland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					923 = { #Helgeland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					143 = { #Trondelag
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					142 = { #Vestlandet
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					922 = { #Agder
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					921 = { #Telemark
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					110 = { #Oslo
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					915 = { #Halland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					140 = { #Västergötland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					99 = { #Jylland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					912 = { #Sonderjylland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					36 = { #Friesland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					7 = { #Holland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					35 = { #Brabant
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					6 = { #Vlaanderen
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					29 = { #Nord-Pas-de_calais
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					785 = { #Picardy
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					15 = { #Normandy
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					14 = { #Brittany
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_timed_idea = {
				idea = GER_the_kammhuber_line
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_controls_atlantic_coast_brittany_finnmark_effects_tt
			every_state = {
				limit = { 
					anti_air_building < 5
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_coastal = yes 
					OR = {
						state = 925
						state = 924
						state = 144
						state = 923
						state = 143
						state = 142
						state = 922
						state = 921
						state = 110
						state = 915
						state = 140
						state = 99
						state = 912
						state = 909
						state = 58 
						state = 59
						state = 56
						state = 36
						state = 7
						state = 35
						state = 6
						state = 977
						state = 29
						state = 785
						state = 15
						state = 14
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = GER_establish_night_fighter_squadrons
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = GER_defense_of_the_reich }

		x = 1
		y = 1
		relative_position_id = GER_defense_of_the_reich
		cost = 5
		available = {
			has_tech = centimetric_radar
			has_war_with_major = yes
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_timed_idea = {
				idea = GER_nachtjagdgeschwader
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ace = {
				name = Heinz
				surname = Schnaufer
				callsign = "The Spook" #actually "The Spook of St. Trond"
				type = fighter_unique
			}
			add_ace = {
				name = Helmut
				surname = Lent
				callsign = "The Moonlight Hunter" #made-up
				type = fighter_unique
			}
		}
	}
	
	focus = {
		id = GER_torpedobomber
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = GER_develop_the_knickebein }

		x = 0
		y = 1
		relative_position_id = GER_develop_the_knickebein
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_torpedobomber
				bonus = 0.5
				uses = 1
				category = cat_air_bombs
			}


			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = { 
					name = "He 115" 
					type = small_plane_naval_bomber_airframe_2
					allow_without_tech = no
					design_team = mio:GER_fieseler_organization
					modules = {
						fixed_main_weapon_slot = torpedo_mounting
						fixed_auxiliary_weapon_slot_1 = bomb_locks
						engine_type_slot = engine_2_2x
						special_type_slot_1 = lmg_defense_turret	
						special_type_slot_2 = empty
					}
					icon = "GFX_GER_naval_bomber2_medium"
					model = "GER_nav_bomber_equipment_2_entity"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_nav_efficiency = 0.1
				tooltip = air_nav_efficiency_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_fieseler
					}
					swap_ideas = {
						remove_idea = GER_fieseler
						add_idea = GER_fieseler_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_fieseler
							add_idea = GER_fieseler_improved
						}
					}
				}
			}
			else = {
				mio:GER_fieseler_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_establish_carrier_groups
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = GER_torpedobomber }
		prerequisite = { focus = GER_construct_aircraft_carriers }

		x = 1
		y = 1
		relative_position_id = GER_torpedobomber
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = GER_tragergruppen_ns

			if = {
				limit = {
					has_dlc = "Gotterdammerung"
					NOT = { is_special_project_completed = sp:sp_naval_modern_carrier }
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				GER_add_or_modify_wunderwaffen = yes
				add_to_variable = { 
					GER_wunderwaffen_sp_naval_modern_carrier_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_naval_modern_carrier_speed_factor_tt
				}
			}
		}
	}

	focus = {
		id = GER_aerodynamic_research_institute
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = GER_solve_the_logistical_bottlenecks focus = GER_construct_the_kammhuber_line focus = GER_establish_night_fighter_squadrons}
		prerequisite = { focus = GER_rocketry_innovations }

		x = 0
		y = 2
		relative_position_id = GER_solve_the_logistical_bottlenecks
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = {
				limit = {
					controls_state = 59
				}
				59 = { #Hannover
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				create_equipment_variant = { 
					name = "Me 262" 
					allow_without_tech = no
					type = small_plane_airframe_4
					design_team = mio:GER_messerschmitt_organization
					modules = {
						fixed_main_weapon_slot = aircraft_cannon_2_2x
						fixed_auxiliary_weapon_slot_1 = aircraft_cannon_2_2x
						engine_type_slot = jet_engine_2x
						special_type_slot_1 = armor_plate_small
						special_type_slot_2 = drop_tanks	
						special_type_slot_3 = self_sealing_fuel_tanks_small	
					}
					icon = "GFX_GER_jet_plane_1_medium"
					model = "GER_jet_plane_entity"
				}
				create_equipment_variant = { 
					name = "Ar 234" 
					allow_without_tech = no
					type = medium_plane_airframe_4
					design_team = mio:GER_dornier_organization
					modules = {
						fixed_main_weapon_slot = medium_bomb_bay
						fixed_auxiliary_weapon_slot_1 = medium_bomb_bay
						fixed_auxiliary_weapon_slot_2 = bomb_locks
						engine_type_slot = jet_engine_2x
						special_type_slot_1 = fuel_tanks_medium
						special_type_slot_2 = empty	
					}
					icon = "GFX_medium_plane_4_medium"
					model = "GER_medium_jet_plane_1_entity"
				}
				
				custom_effect_tooltip = generic_skip_one_line_tt
			}


			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_agility_factor = 0.05
				tooltip = air_agility_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_sp_tag_jet_speed_factor = GER_wunderwaffe_research_speed_bonus
				tooltip = sp_tag_jet_speed_factor_tt
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_aerodynamic_research_institute_tt
			}
		}
	}
	
	focus = {
		id = GER_amerikabomber
		icon = GFX_focus_GER_amerikabomber
		prerequisite = { focus = GER_aerodynamic_research_institute }

		x = 0
		y = 1
		relative_position_id = GER_aerodynamic_research_institute
		cost = 10

		continue_if_invalid = yes
		cancel_if_invalid = no

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_war_with_american_country_tt
				 any_enemy_country = {
					capital_scope = { 
						OR = {
							is_on_continent = north_america
							is_on_continent = south_america
						}
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		select_effect = {
			if = {
				limit = {
					OR = {
						NOT = { has_dlc = "Gotterdammerung" }
						NOT = {
							is_special_project_being_researched = sp:sp_air_intercontinental_bomber
						}
					}
				}
				country_event = { id = GOT_GER_amerikabomber.01 days = 14 random_days = 7 }
			}
		}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Gotterdammerung"
				}
				custom_effect_tooltip = GER_unlocks_statue_of_liberty_raid_tt

				custom_effect_tooltip = generic_skip_one_line_tt

				GER_add_or_modify_wunderwaffen = yes
				if = {
					limit = {
						NOT = { is_special_project_completed = sp_air_intercontinental_bomber }
					}
					add_to_variable = { 
						GER_wunderwaffen_sp_air_intercontinental_bomber_speed_factor = 0.2 #MM: This is the focus of this focus, so extra speed
						tooltip = sp_air_intercontinental_bomber_speed_factor_tt
					}
				}
				if = {
					limit = {
						NOT = { is_special_project_completed = sp_air_mothership_aircraft }
					}
					add_to_variable = { 
						GER_wunderwaffen_sp_air_mothership_aircraft_speed_factor = GER_wunderwaffe_research_speed_bonus
						tooltip = sp_air_mothership_aircraft_speed_factor_tt
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = GER_amerikabomber
					bonus = 2
					uses = 1
					category = transport_planes_cat
					category = cat_strategic_bomber
				}
			}
		}
	}



	#KRIEGSMARINE
	focus = {
		id = GER_strengthen_the_kriegsmarine
		icon = GFX_focus_GER_navy
		#prerequisite = { focus = }

		x = 12
		y = 0
		relative_position_id = GER_expanding_the_luftwaffe
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			navy_experience = 25
			custom_effect_tooltip = generic_skip_one_line_tt
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = GER_plan_z
		icon = GFX_focus_generic_air_carrier
		prerequisite = { focus = GER_strengthen_the_kriegsmarine }

		x = -2
		y = 1
		relative_position_id = GER_strengthen_the_kriegsmarine
		cost = 5
		available = {
			OR = {
				NOT = { has_completed_focus = GER_trade_interdiction }
				has_completed_focus = GER_unrestricted_convoy_raiding
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		complete_tooltip = {
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = GER_plan_z
				cost_reduction = 0.25
				uses = 3
				category = fleet_in_being_tree
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				mio:GER_germaniawerft_organization = {
					unlock_mio_trait_tooltip = GER_mio_trait_history_of_battleships
					#unlock_mio_trait_tooltip = 
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_plan_z_lock_other_focus_tt
		}
	}

	focus = {
		id = GER_expand_kriegsmarinewerft
		icon = GFX_focus_POL_develop_polish_shipbuilding
		prerequisite = { focus = GER_plan_z }

		x = -2
		y = 1
		relative_position_id = GER_plan_z
		cost = 10
		available = {
			#NOT = { has_completed_focus = GER_high_seas_fleet }
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					56 = {
						is_fully_controlled_by = ROOT
					}
				}
				56 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_expand_kriegsmarinewerft
				bonus = 0.5
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = GER_expand_kriegsmarinewerft
				bonus = 1.0
				uses = 1
				category = cv_tech
			}

			if = {
				limit = { 
					has_dlc = "Man the Guns"
					is_special_project_completed = sp:sp_air_radar
					has_tech = improved_heavy_battery
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Bismarck"				
					name_group = GER_BB_HISTORICAL
					type = ship_hull_heavy_2
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_3
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = ship_radar_1
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_airplane_launcher_1
						mid_2_custom_slot = ship_secondaries_1
						rear_1_custom_slot = ship_heavy_battery_3
					}
					design_team = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Bismarck"
					requested_factories = 1
					progress = 0.3
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Tirpitz"
					requested_factories = 1
					progress = 0.15
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
			}
			else_if = {
				limit = {
					has_dlc = "Man the Guns"
					is_special_project_completed = sp:sp_air_radar
					NOT = {
						has_tech = improved_heavy_battery
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Bismarck"				
					name_group = GER_BB_HISTORICAL
					type = ship_hull_heavy_2
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = ship_radar_1
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_airplane_launcher_1
						mid_2_custom_slot = ship_secondaries_1
						rear_1_custom_slot = ship_heavy_battery_2
					}
					design_team = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Bismarck"
					requested_factories = 1
					progress = 0.3
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Tirpitz"
					requested_factories = 1
					progress = 0.15
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
			}
			else_if = {
				limit = {
					has_dlc = "Man the Guns"
					has_tech = improved_heavy_battery
					NOT = {
						is_special_project_completed = sp:sp_air_radar
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Bismarck"				
					name_group = GER_BB_HISTORICAL
					type = ship_hull_heavy_2
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_3
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_airplane_launcher_1
						mid_2_custom_slot = ship_secondaries_1
						rear_1_custom_slot = ship_heavy_battery_3
					}
					design_team = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Bismarck"
					requested_factories = 1
					progress = 0.3
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Tirpitz"
					requested_factories = 1
					progress = 0.15
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
			}
			else_if = {
				limit = {
					has_dlc = "Man the Guns"
					NOT = {
						is_special_project_completed = sp:sp_air_radar
						has_tech = improved_heavy_battery
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Bismarck"				
					name_group = GER_BB_HISTORICAL
					type = ship_hull_heavy_2
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_airplane_launcher_1
						mid_2_custom_slot = ship_secondaries_1
						rear_1_custom_slot = ship_heavy_battery_2
					}
					design_team = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Bismarck"
					requested_factories = 1
					progress = 0.3
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Tirpitz"
					requested_factories = 1
					progress = 0.15
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_kriegsmarinewerft_wilhelmshaven
					}
					swap_ideas = {
						remove_idea = GER_kriegsmarinewerft_wilhelmshaven
						add_idea = GER_kriegsmarinewerft_wilhelmshaven_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_kriegsmarinewerft_wilhelmshaven
							add_idea = GER_kriegsmarinewerft_wilhelmshaven_improved
						}
					}
				}
			}
			else = {
				mio:GER_kriegsmarinewerft_wilhelmshaven_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}

	focus = {
		id = GER_construct_aircraft_carriers
		icon = GFX_focus_GER_graf_zeppelin
		prerequisite = { focus = GER_expand_kriegsmarinewerft }

		x = -1
		y = 1
		relative_position_id = GER_expand_kriegsmarinewerft
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_high_seas_fleet }
			has_tech = early_ship_hull_carrier
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				prioritize = { 807 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_navy_leader = {
				limit = {
					NOT = {
						is_character = GER_erich_raeder
						is_character = GER_karl_donitz
					}
					OR = {
						NOT = { has_trait = air_controller }
						AND = {
							has_trait = air_controller
							NOT = { has_trait = flight_deck_manager }
						}
					}
				}
				if = {
					limit = {
						has_trait = air_controller
					}
					add_trait = { trait = flight_deck_manager }

				}
				else = {
					add_trait = { trait = air_controller }
				}
			}

			if = {
				limit = { 
					has_dlc = "Man the Guns"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_carrier_variants_tt
				if = { 
					limit = {
						NOT = {
							has_tech = basic_ship_hull_carrier
							has_tech = improved_ship_hull_carrier
						}
					}
					create_equipment_variant = {
						name = "Graf Zeppelin Class"				
						name_group = GER_CV_HISTORICAL
						type = ship_hull_carrier_conversion_ca
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_secondaries_slot = empty
						}
						design_team = mio:GER_deutsche_werke_organization
					}
					add_equipment_production = { #You get a Converted Carrier
						equipment = {
							type = ship_hull_carrier_conversion_ca
							creator = "GER"
							version_name = "Graf Zeppelin Class"
						}
						name = "Graf Zeppelin"
						requested_factories = 1
						progress = 0.3
						amount = 1
						industrial_manufacturer = mio:GER_deutsche_werke_organization
					}
				}
				if = { 
					limit = {
						has_tech = basic_ship_hull_carrier
						NOT = {
							has_tech = improved_ship_hull_carrier
						}
					}
					create_equipment_variant = {
						name = "Graf Zeppelin Class"				
						name_group = GER_CV_HISTORICAL
						type = ship_hull_carrier_1
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_engine_slot = carrier_ship_engine_3
							fixed_ship_secondaries_slot = empty
							front_1_custom_slot = ship_deck_space
						}
						design_team = mio:GER_deutsche_werke_organization
					}		
					add_equipment_production = {
						equipment = {
							type = ship_hull_carrier_1
							creator = "GER"
							version_name = "Graf Zeppelin Class"
						}
						name = "Graf Zeppelin"
						requested_factories = 1
						progress = 0.3
						amount = 1
						industrial_manufacturer = mio:GER_deutsche_werke_organization
					}
				}
				if = { 
					limit = {
						has_tech = improved_ship_hull_carrier
					}
					create_equipment_variant = {
						name = "Graf Zeppelin Class"				
						name_group = GER_CV_HISTORICAL
						type = ship_hull_carrier_2
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_engine_slot = carrier_ship_engine_2
							fixed_ship_secondaries_slot = empty
							front_1_custom_slot = ship_deck_space
							mid_1_custom_slot = ship_deck_space
						}
						design_team = mio:GER_deutsche_werke_organization
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_carrier_2
							creator = "GER"
							version_name = "Graf Zeppelin Class"
						}
						name = "Graf Zeppelin"
						requested_factories = 1
						progress = 0.3
						amount = 1
						industrial_manufacturer = mio:GER_deutsche_werke_organization
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_deutsche_werke
					}
					swap_ideas = {
						remove_idea = GER_deutsche_werke
						add_idea = GER_deutsche_werke_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_deutsche_werke
							add_idea = GER_deutsche_werke_improved
						}
					}
				}
			}
			else = {
				mio:GER_deutsche_werke_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}

	focus = {
		id = GER_grosskampfschiff_construction
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = GER_expand_kriegsmarinewerft }

		x = 1
		y = 1
		relative_position_id = GER_expand_kriegsmarinewerft
		cost = 10
		available = {
			NOT = { has_completed_focus = GER_high_seas_fleet }
			has_tech = improved_ship_hull_heavy
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_grosskampfschiff_construction
				bonus = 0.5
				uses = 1
				category = bb_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_navy_leader = {
				limit = {
					NOT = {
						is_character = GER_erich_raeder
						is_character = GER_karl_donitz
					}
					NOT = { has_trait = battleship_adherent }
				}
				add_trait = { trait = battleship_adherent }
			}

			if = {
				limit = { 
					has_dlc = "Man the Guns"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Hindenburg"				
					name_group = GER_BB_HISTORICAL
					type = ship_hull_heavy_3
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_3
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = ship_radar_1
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_airplane_launcher_1
						mid_2_custom_slot = ship_secondaries_1
						mid_3_custom_slot = ship_anti_air_1
						rear_1_custom_slot = ship_heavy_battery_3
					}
					design_team = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_3
						creator = "GER"
						version_name = "Hindenburg"
					}
					name = "Hutten"
					requested_factories = 1
					progress = 0.2
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_3
						creator = "GER"
						version_name = "Hindenburg"
					}
					name = "Berlichingen"
					requested_factories = 1
					progress = 0.1
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_naval_heavy_gun_hit_chance_factor = 0.05
				tooltip = naval_heavy_gun_hit_chance_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "Gotterdammerung"
					NOT = { is_special_project_completed = sp:sp_naval_modern_battleship }
				}
				GER_add_or_modify_wunderwaffen = yes
				add_to_variable = { 
					GER_wunderwaffen_sp_naval_modern_battleship_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_naval_modern_battleship_speed_factor_tt
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = germaniawerft
					}
					swap_ideas = {
						remove_idea = germaniawerft
						add_idea = GER_germaniawerft_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = germaniawerft
							add_idea = GER_germaniawerft_improved
						}
					}
				}
			}
			else = {
				mio:GER_germaniawerft_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_h_class_battleships
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_high_seas_fleet
		icon = GFX_focus_GER_high_seas_fleet
		prerequisite = { focus = GER_expand_kriegsmarinewerft }

		x = 1
		y = 1
		relative_position_id = GER_construct_aircraft_carriers
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_trade_interdiction }
				}
				custom_effect_tooltip = GER_unlock_trade_interdiction_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_naval_defense_factor = 0.05
				tooltip = naval_defense_factor_tt
			}
			add_to_variable = { 
				GER_military_naval_hit_chance = 0.05
				tooltip = naval_hit_chance_tt
			}
			add_to_variable = { 
				GER_military_screening_efficiency = 0.1
				tooltip = screening_efficiency_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_deschimag
					}
					swap_ideas = {
						remove_idea = GER_deschimag
						add_idea = GER_deschimag_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_deschimag
							add_idea = GER_deschimag_improved
						}
					}
				}
			}
			else = {
				mio:GER_deschimag_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_re_establish_the_seekriegsleitung
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = GER_strengthen_the_kriegsmarine }

		x = 0
		y = 2
		relative_position_id = GER_strengthen_the_kriegsmarine
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_command_power = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_navy_max_range_factor = 0.1
				tooltip = navy_max_range_factor_tt
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_re_establish_the_seekriegsleitung
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_chief_of_navy
			show_ideas_tooltip = GER_rolf_carls
		}
	}
	
	focus = {
		id = GER_marinestosstrupp
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = GER_re_establish_the_seekriegsleitung }

		x = -1
		y = 1
		relative_position_id = GER_re_establish_the_seekriegsleitung
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				if = {
					limit = {
						NOT = { has_completed_focus = GER_fallschirmjager }
					}
					add_potential_special_forces_tree = yes
				}
				add_doctrine_cost_reduction = {
					name = GER_marinestosstrupp
					cost_reduction = 0.25
					uses = 2
					category = cat_marines_doctrine
				}
			}
			add_tech_bonus = {
				name = GER_marinestosstrupp
				bonus = 1
				uses = 1
				category = marine_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_special_forces_cap = 0.05
				tooltip = special_forces_cap_tt
			}
		}
	}
	
	focus = {
		id = GER_atlantic_naval_bases
		icon = GFX_focus_generic_atlantic_coast
		prerequisite = { focus = GER_re_establish_the_seekriegsleitung }

		x = 1
		y = 1
		relative_position_id = GER_re_establish_the_seekriegsleitung
		cost = 5
		available = { #These states start out with naval bases in western France
			14 = { #Brittany
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			23 = { #Poitou
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			19 = { #Aquitaine
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}

		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			
			custom_effect_tooltip = GER_naval_bases_along_atlantic_coast_tt
	
			every_state = {
				limit = { 
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_coastal = yes 
					naval_base < 10
					OR = { #Atlantic Coast from Brittany to Sevilla
						state = 14
						state = 30
						state = 23
						state = 19
						state = 806
						state = 792
						state = 790
						state = 171
						state = 180
						state = 112
						state = 179
						state = 169
					}
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
				    }
				}
			}
			every_state = {
				limit = { 
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_coastal = yes 
					coastal_bunker < 10
					OR = { #Atlantic Coast from Brittany to Sevilla
						state = 14
						state = 30
						state = 23
						state = 19
						state = 806
						state = 792
						state = 790
						state = 171
						state = 180
						state = 112
						state = 179
						state = 169
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
				    }
				}
			}
		}
	}
	
	focus = {
		id = GER_atlantic_naval_dominance
		icon = GFX_focus_generic_north_atlantic_fleet
		prerequisite = { focus = GER_marinestosstrupp focus = GER_atlantic_naval_bases}

		x = 1
		y = 1
		relative_position_id = GER_marinestosstrupp
		cost = 10
		available = {
			custom_trigger_tooltip = {
				tooltip = GER_controls_an_atantic_island_tt
				OR = {
					914 = { #Jan Mayen
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					100 = { #Iceland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					101 = { #Greenland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					337 = { #Faroes
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					933 = { #Shetlands
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					134 = { #Ireland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					119 = { #North Ireland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					178 = { #The Canaries
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					698 = { #The Azores
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					696 = { #Bermuda
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					697 = { #Madeira
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					702 = { #Cape Verde
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_navy_max_range_factor = 0.1
				tooltip = navy_max_range_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_naval_bases_on_atlantic_islands_tt
			every_state = {
				limit = { 
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_coastal = yes 
					naval_base < 10
					OR = { #Atlantic Islands from Greenland to Cape Verde
						state = 914
						state = 101
						state = 100
						state = 337
						state = 933
						state = 134
						state = 119
						state = 178
						state = 698
						state = 696
						state = 697
						state = 702
					}
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
				    }
				}
			}
			every_state = {
				limit = { 
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_coastal = yes 
					coastal_bunker < 10
					OR = { #Atlantic Islands from Greenland to the Falklands
						state = 101
						#state = 914 #Not you Jan Mayen
						state = 100
						state = 337
						state = 933
						state = 134
						state = 119
						state = 178
						state = 698
						state = 696
						state = 697
						state = 702
						state = 703
						state = 704
						state = 297
						state = 705
						state = 697
						state = 720
						state = 299
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
				    }
				}
			}
		}
	}
	
	focus = {
		id = GER_trade_interdiction

		icon = GFX_focus_generic_trade_interdiction
		alternate_icon = GFX_focus_GER_trade_interdiction_historical

		prerequisite = { focus = GER_strengthen_the_kriegsmarine }

		x = 2
		y = 1
		relative_position_id = GER_strengthen_the_kriegsmarine
		cost = 5
	
		available = {
			OR = {
				NOT = { has_completed_focus = GER_plan_z }
				has_completed_focus = GER_high_seas_fleet
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		complete_tooltip = {
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = GER_trade_interdiction
				cost_reduction = 0.25
				uses = 2
				category = trade_interdiction_tree	
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_trade_interdiction_lock_other_focus_tt

			IF = {
				limit = {
					GER_karl_donitz = {
						is_unit_leader = yes
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = available_chief_of_navy
				show_ideas_tooltip = donitz
			}
		}
	}
	
	focus = {
		id = GER_cruiser_warfare
		icon = GFX_focus_generic_cruiser2
		prerequisite = { focus = GER_trade_interdiction }

		x = 1
		y = 1
		relative_position_id = GER_trade_interdiction
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_cruiser_warfare
				bonus = 0.5
				uses = 1
				category = cl_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_erich_raeder
					GER_erich_raeder = {
						is_unit_leader = yes
					}
				}
				if = {
					limit = {
						GER_erich_raeder = {
							NOT = { has_trait = superior_tactician }
						}
					}
					add_trait = {
					    character = GER_erich_raeder
					    trait = superior_tactician
					}
				}
				else_if = {
					limit = {
						GER_erich_raeder = {
							NOT = { has_trait = cruiser_captain }
						}
					}
					add_trait = { 
					    character = GER_erich_raeder
					    trait = cruiser_captain
					}
				}
			}

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_convoy_raiding_efficiency_factor = 0.05
				tooltip = convoy_raiding_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_military_naval_light_gun_hit_chance_factor = 0.05
				tooltip = naval_light_gun_hit_chance_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = GER_refit_convoys_to_cruisers

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = blohm_und_voss
					}
					swap_ideas = {
						remove_idea = blohm_und_voss
						add_idea = GER_blohm_und_voss_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = blohm_und_voss
							add_idea = GER_blohm_und_voss_improved
						}
					}
				}
			}
			else = {
				mio:GER_blohm_und_voss_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_heavy_raiders
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_panzerschiff_raiders
		icon = GFX_focus_GER_panzerschiff
		prerequisite = { focus = GER_cruiser_warfare }
		mutually_exclusive = { focus = GER_u_boat_efforts }

		x = 0
		y = 1
		relative_position_id = GER_cruiser_warfare
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = GER_cruiser_warfare
				bonus = 0.5
				uses = 1
				category = ca_tech
			}

			IF = {
				limit = {
					has_dlc =  "Man the Guns"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Panzer Class"
					type = ship_hull_cruiser_3
					name_group = GER_CA_HISTORICAL
					modules = {
						fixed_ship_battery_slot = ship_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = ship_radar_1
						fixed_ship_engine_slot= cruiser_ship_engine_3
						fixed_ship_armor_slot = ship_armor_cruiser_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_anti_air_1
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_medium_battery_2
					}
				}	
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_screening_without_screens = 0.1
				tooltip = screening_without_screens_tt
			}
			add_to_variable = { 
				GER_military_naval_light_gun_hit_chance_factor = 0.05
				tooltip = naval_light_gun_hit_chance_factor_tt
			}
			add_to_variable = { 
				GER_military_naval_heavy_gun_hit_chance_factor = 0.05
				tooltip = naval_heavy_gun_hit_chance_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				mio:GER_blohm_und_voss_organization = {
					unlock_mio_trait_tooltip = GER_mio_trait_o_class_battlecruisers
				}
			}
		}
	}
	
	focus = {
		id = GER_wolfpack_tactics
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = GER_trade_interdiction }

		x = 3
		y = 1
		relative_position_id = GER_trade_interdiction
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
			has_war = yes
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = GER_wolfpack_tactics
				cost_reduction = 0.25
				uses = 1
				category = trade_interdiction_tree	
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_karl_donitz
					GER_karl_donitz = {
						is_unit_leader = yes
					}

				}
				if = {
					limit = {
						GER_karl_donitz = {
							NOT = { has_trait = bold }
						}
					}
					add_trait = {
					    character = GER_karl_donitz
					    trait = bold
					}
				}
				else_if = {
					limit = {
						GER_karl_donitz = {
							NOT = { has_trait = spotter }
						}
					}
					add_trait = {
					    character = GER_karl_donitz
					    trait = spotter
					}
				}
			}

			add_timed_idea = {
				idea = GER_rudeltaktik_ns
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = alfred_saalwachter
		}
	}
	
	focus = {
		id = GER_u_boat_efforts
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = GER_wolfpack_tactics }
		mutually_exclusive = { focus = GER_panzerschiff_raiders }
		x = 0
		y = 1
		relative_position_id = GER_wolfpack_tactics
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_u_boat_efforts
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
		
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			custom_effect_tooltip = GER_submarine_max_speed_small_tt
			hidden_effect = {
				add_equipment_bonus = {
					name = GER_u_boat_efforts
					bonus = {
						ship_hull_submarine = {
							naval_speed = 0.05 #WARNING! If you change this value, you need to update GER_submarine_max_speed_small_tt
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_sp_tag_submarine_speed_factor = GER_wunderwaffe_research_speed_bonus
				tooltip = sp_tag_submarine_speed_factor_tt
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_hdw
					}
					swap_ideas = {
						remove_idea = GER_hdw
						add_idea = GER_hdw_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_hdw
							add_idea = GER_hdw_improved
						}
					}
				}
			}
			else = {
				mio:GER_hdw_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_ocean_u_boats
					unlock_mio_trait_tooltip = GER_mio_trait_kilian_submarine_bunker
					unlock_mio_trait_tooltip = GER_mio_trait_atlantic_raiders
				}
				mio:GER_blohm_und_voss_organization = {
					unlock_mio_trait_tooltip = GER_mio_trait_u_boat_yards
				}
			}
		}
	}
	
	focus = {
		id = GER_unrestricted_convoy_raiding
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = GER_panzerschiff_raiders focus = GER_u_boat_efforts }

		x = 1
		y = 1
		relative_position_id = GER_panzerschiff_raiders
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_plan_z }
				}
				custom_effect_tooltip = GER_unlock_plan_z_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_naval_defense_factor = 0.05
				tooltip = naval_defense_factor_tt
			}
			add_to_variable = { 
				GER_military_convoy_raiding_efficiency_factor = 0.05
				tooltip = convoy_raiding_efficiency_factor_tt
			}
			if = {
				limit = {
					NOT = {
						has_completed_focus = GER_panzerschiff_raiders
						has_completed_focus = GER_u_boat_efforts
					}
				}
				custom_effect_tooltip = GER_with_panzerschiff_completed_tt
				add_to_variable = { 
					GER_military_screening_without_screens = 0.1
					tooltip = screening_without_screens_tt
				}
				custom_effect_tooltip = GER_with_u_boat_efforts_completed_tt
				custom_effect_tooltip = GER_submarine_max_speed_small_tt
			}
			else_if = {
				limit = {
					has_completed_focus = GER_panzerschiff_raiders
				}
				add_to_variable = { 
					GER_military_screening_without_screens = 0.1
					tooltip = screening_without_screens_tt
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_u_boat_efforts
				}
				custom_effect_tooltip = GER_submarine_max_speed_small_tt
				hidden_effect = {
					add_equipment_bonus = {
						name = GER_unrestricted_convoy_raiding
						bonus = {
							ship_hull_submarine = {
								naval_speed = 0.05 #WARNING! If you change this value, you need to update GER_submarine_max_speed_small_tt
							}
						}
					}
				}
			}	
		}
	}
	
	focus = {
		id = GER_seeherrschaft 
		icon = GFX_focus_GER_seeherrschaft
		prerequisite = { focus = GER_high_seas_fleet }
		prerequisite = { focus = GER_unrestricted_convoy_raiding }
		
		x = 0
		y = 1
		relative_position_id = GER_atlantic_naval_dominance

		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			random_navy_leader = {
				limit = {
					NOT = { has_trait = blue_water_expert }
				}
				add_trait = { trait = blue_water_expert }
			}
			random_navy_leader = {
				limit = {
					NOT = { has_trait = blue_water_expert }
				}
				add_trait = { trait = blue_water_expert }
			}

			add_ideas = GER_seeherrschaft_ns
		}
	}
	



##     ## ####  ######  ########  #######  ########  ####  ######     ###    ##          ##      ## ##      ## 
##     ##  ##  ##    ##    ##    ##     ## ##     ##  ##  ##    ##   ## ##   ##          ##  ##  ## ##  ##  ## 
##     ##  ##  ##          ##    ##     ## ##     ##  ##  ##        ##   ##  ##          ##  ##  ## ##  ##  ## 
#########  ##   ######     ##    ##     ## ########   ##  ##       ##     ## ##          ##  ##  ## ##  ##  ## 
##     ##  ##        ##    ##    ##     ## ##   ##    ##  ##       ######### ##          ##  ##  ## ##  ##  ## 
##     ##  ##  ##    ##    ##    ##     ## ##    ##   ##  ##    ## ##     ## ##          ##  ##  ## ##  ##  ## 
##     ## ####  ######     ##     #######  ##     ## ####  ######  ##     ## ########     ###  ###   ###  ###  





	focus = {
		id = GER_remilitarize_the_rhineland

		icon = GFX_focus_GER_remilitarize_the_rhineland
		alternate_icon = GFX_focus_GER_remilitarize_the_rhineland_historical

		mutually_exclusive = { focus = GER_oppose_hitler_ww focus = GER_oppose_hitler }

		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = GER_oppose_hitler_ww
						has_completed_focus = GER_oppose_hitler
					}
				}
			}
		}

		x = 33
		y = 0
		relative_position_id = GER_prioritize_economic_growth

		cost = 5

		bypass = {
			42 = { is_demilitarized_zone = no } #RHINELAND
			51 = { is_demilitarized_zone = no } #MOSSELLAND
			978 = { is_demilitarized_zone = no } #BADEN
		}

		available = {
			is_subject = no
			has_government = fascism
			42 = { is_fully_controlled_by = ROOT } #RHINELAND
			51 = { is_fully_controlled_by = ROOT } #MOSSELLAND
			978 = { is_fully_controlled_by = ROOT } #BADEN
		}
		
		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ARMY_XP }	

		completion_reward = {
            hidden_effect = { set_cosmetic_tag = GER_RTR }
			42 = { set_demilitarized_zone = no }
			51 = { set_demilitarized_zone = no }
			978 = { set_demilitarized_zone = no }
			set_global_flag = rhineland_remilitarized
			custom_effect_tooltip = GER_rhineland_ultimatum
			custom_effect_tooltip = generic_skip_one_line_tt
			add_political_power = 75
			army_experience = 5

			custom_effect_tooltip = generic_skip_one_line_tt
			add_named_threat = { threat = 5 name = GER_rhineland }

			if = {
				limit = { FRA = { is_subject = no } }
				FRA = {
					country_event = { id = germany.60 hours = 1 }
					custom_effect_tooltip = may_provoke_hostility
				}
			}

			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = GER_legion_condor
		icon = GFX_focus_intervention_spain_nationalists
		prerequisite = { focus = GER_remilitarize_the_rhineland focus = GER_oppose_hitler_ww focus = GER_oppose_hitler }

		offset = {
			x = -25
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_oppose_hitler_ww
			}
		}
		offset = {
			x = -28
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_oppose_hitler
			}
		}
		offset = {
			x = -5
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_monarchist_sentiment
			}
		}

		offset = {
			x = -10
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_start_the_proletarian_revolution
			}
		}

		offset = {
			x = -7
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_reestablish_free_elections
			}
		}

		x = 17
		y = 1
		relative_position_id = GER_remilitarize_the_rhineland

		cost = 5

		available = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_volunteers_amount_from = {
						tag = ROOT
						count > 1
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					has_volunteers_amount_from = {
						tag = ROOT
						count > 1
					}
				}
			}
		}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					add_opinion_modifier = { target = GER modifier = ita_supported_spain_civil_war }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = { add_opinion_modifier = { target = GER modifier = ita_supported_spain_civil_war } }
			}

			add_timed_idea = {
				idea = GER_legion_condor_ns
				days = 545
			}
		}
	}
	
	focus = {
		id = GER_heed_von_neuraths_concerns #Von Neurath
		icon = GFX_focus_GER_heed_von_neuraths_concerns
		prerequisite = { focus = GER_remilitarize_the_rhineland }
		mutually_exclusive = { focus = GER_reorganize_the_wehrmacht }
		x = -10
		y = 1
		relative_position_id = GER_remilitarize_the_rhineland
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = konstantin_von_neurath

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = GER_joachim_von_ribbentrop
				ROLE = political_advisor
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer
						add = GER_der_fuhrer_neurath
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer_fuhrerprinzip
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer_fuhrerprinzip
						add = GER_der_fuhrer_fuhrerprinzip_neurath
					}
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_fuhrerprinzip
				}
				add_country_leader_trait = GER_der_fuhrer_fuhrerprinzip_neurath
			}
			else = {
				add_country_leader_trait = GER_der_fuhrer_neurath
			}
		}
	}

	focus = {
		id = GER_war_preparations
		icon = GFX_goal_generic_axis_build_infantry
		#icon = GFX_goal_generic_military_sphere
		#icon = GFX_goal_generic_small_arms
		
		prerequisite = { focus = GER_heed_von_neuraths_concerns }
		x = 0
		y = 1
		relative_position_id = GER_heed_von_neuraths_concerns
		cost = 5
		available = {
			has_war = no
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = GER_war_preparations_tt
			effect_tooltip = {
				add_timed_idea = {
					idea = GER_strengthened_supply_lines_ns
					days = 730
				}
			}
		}
	}
	
	focus = {
		id = GER_prepare_for_the_next_blockade_ww
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = GER_war_preparations }

		x = 0
		y = 2
		relative_position_id = GER_war_preparations
		cost = 10
		available = {
			is_subject = no
			has_war = no
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_prepare_for_the_next_blockade_got
				days = 545
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_equipment_to_stockpile = { 
				type = convoy_1
				amount = 50
				producer = ROOT
			}			
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 25
			}
		}
	}

	focus = {
		id = GER_reorganize_secret_services
		icon = GFX_focus_generic_secret_service_agency
		prerequisite = { focus = GER_war_preparations }
		x = -1
		y = 1
		relative_position_id = GER_war_preparations
		cost = 10

		allow_branch = {
			has_dlc = "La Resistance"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = GER_oppose_hitler
						has_completed_focus = GER_oppose_hitler_ww
					}
				}
			}
		}

		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = generic_remove_as_political_advisor_tt
			show_ideas_tooltip = GER_wilhelm_canaris

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_military_intelligence_service = yes
			add_to_variable = { 
				GER_military_intelligence_service_operative_slot = 1
				tooltip = operative_slot_tt
			}
			add_to_variable = { 
				GER_military_intelligence_service_agency_upgrade_time = -0.2
				tooltip = agency_upgrade_time_tt
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_hans_haupt = yes
			}
		}
	}

	focus = {
		id = GER_subversive_infiltrators
		icon = GFX_focus_ARG_keep_it_in_the_party
		prerequisite = { focus = GER_reorganize_secret_services }

		x = 0
		y = 2
		relative_position_id = GER_reorganize_secret_services
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = GER_modify_military_intelligence_service_modifier_tt
			add_to_variable = { 
				GER_military_intelligence_service_operative_slot = 1
				tooltip = operative_slot_tt
			}
			add_to_variable = { 
				GER_military_intelligence_service_boost_ideology_mission_factor = 0.25
				tooltip = boost_ideology_mission_factor_tt
			}
			add_to_variable = { 
				GER_military_intelligence_service_master_ideology_drift = 0.15
				tooltip = master_ideology_drift_tt
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_otto_von_bolschwing = yes

				if = {
					limit = {
						controls_state = 16 #PARIS
					}
					GER_create_operative_coco_chanel = yes
				}
				else = {
					set_country_flag = GER_coco_chanel_ready_to_join_as_operative_flag
				}
			}
		}
	}

	focus = {
		id = GER_befriend_czechoslovakia
		icon = GFX_focus_generic_befriend_czechoslovakia
		prerequisite = { focus = GER_war_preparations }
		mutually_exclusive = { focus = GER_demand_sudetenland }
		x = 1
		y = 1
		relative_position_id = GER_war_preparations
		cost = 5

		bypass = {
			CZE = { is_ally_with = GER }
		}

		available = { 
			has_army_manpower = { size > 749999 }
			NOT = { has_war_with = CZE }
			CZE = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
				exists = yes
			}
		}
		
		cancel = {
			OR = {
				NOT = { country_exists = CZE }
				has_war_with = CZE
			}
		}

		cancel_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0
				CZE = {
					has_opinion = {
						target = GER
						value < 0
					}
				}
			}
			modifier = {
				factor = 5
				CZE = {
					has_opinion = {
						target = GER
						value > 20
					}
				}
			}
			modifier = {
				factor = 4
				CZE = {
					has_completed_focus = CZE_german_leanings
				}
			}
			modifier = {
				factor = 4
				CZE = {
					has_completed_focus = CZE_deliver_sudetenland
				}
			}
			modifier = {
				factor = 2
				CZE = {
					has_completed_focus = CZE_go_right
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}		

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			CZE = {
				country_event = { id = wuw_GER_diplomacy.10 hours = 6 }
			}

			custom_effect_tooltip = if_they_accept_tt

			CZE = {
				effect_tooltip = {
					IF = {
						limit = {
							PREV = {
								has_government = fascism
							}
						}
						add_timed_idea = {
							idea = GER_fascism_influence
							days = 730
						}
					}		
					ELSE_IF = {
						limit = {
							PREV = {
								has_government = democratic
							}
						}
						add_timed_idea = {
							idea = GER_democratic_influence
							days = 730
						}
					}
					ELSE_IF = {
						limit = {
							PREV = {
								has_government = neutrality
							}
						}
						add_timed_idea = {
							idea = GER_neutrality_influence
							days = 730
						}
					}
					add_opinion_modifier = { target = GER modifier = ger_cze_diplomatic_focus }
				}
			}
			hidden_effect = {
				CZE = {
					set_country_flag = GER_influencing_CZE_flag
				}
				news_event = { hours = 6 id = news.200 }
			}
		}
	}

	focus = {
		id = GER_integrate_czechoslovakia
		icon = GFX_focus_GER_integrate_czechoslovakia
		prerequisite = { focus = GER_befriend_czechoslovakia }

		x = 0
		y = 2
		relative_position_id = GER_befriend_czechoslovakia
		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		available = {
			is_subject = no
			CZE = {
				OR = {
					has_government = fascism
					fascism > 0.5
				}
				OR = {
					is_in_faction = no
					is_in_faction_with = ROOT
				}
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
			}
		}

		bypass = {
			OR = {
				has_war_with = CZE
				NOT = { country_exists = CZE }
				CZE = {
					is_subject = yes
					NOT = { is_subject_of = ROOT }
					OVERLORD = {
						is_in_faction_with = ROOT
					}	
				}
				CZE = { 
					is_subject_of = ROOT
					OR = {
						has_completed_focus = CZE_german_minor_ally
						has_completed_focus = CZE_german_puppet
					}
				}
			}
		}

		will_lead_to_war_with = CZE

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_named_threat = { threat = 5 name = GER_integrate_czechoslovakia }
			### CLAIMS
			if = {
				limit = {
					69 = {
						controller = {
							NOT = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				add_state_claim = 69
			}
			if = {
				limit = {
					972 = {
						controller = {
							NOT = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				add_state_claim = 972
			}
			if = {
				limit = {
					74 = {
						controller = {
							NOT = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				add_state_claim = 74
			}
			if = {
				limit = {
					CZE = {
						OR = {
							is_subject = no
							is_subject_of = ROOT
						}
					}
				}
				CZE = { country_event = { id = wuw_GER_diplomacy.117 days = 1 }}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					annex_country = {
						target = CZE
						transfer_troops = yes
					}

					custom_effect_tooltip =  generic_skip_one_line_tt
					every_state = {
						limit = {
							is_owned_and_controlled_by = CZE
							OR = {
								state = 69
								state = 972
								state = 74
							}
						}
						add_core_of = PREV
					}
				}
			}
			if = {
				limit = {
					CZE = {
						is_subject = yes
						NOT = { is_subject_of = ROOT }
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CZE
				}
			}
		}
	}

	focus = {
		id = GER_anschluss

		icon = GFX_focus_GER_anschluss
		alternate_icon = GFX_focus_GER_anschluss_historical

		prerequisite = { focus = GER_reorganize_the_wehrmacht focus = GER_heed_von_neuraths_concerns }

		x = 7
		y = 1
		relative_position_id = GER_heed_von_neuraths_concerns
		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		bypass = {
			OR = {
				AUS = {
					OR = {
						is_subject = yes
						exists = no 
						AND = {
							is_in_faction = yes
							NOT = { is_in_faction_with = GER }
							any_other_country = {
								is_in_faction_with = AUS
								is_subject = no
							}
						}
					}
				}
				GER = {
					owns_state = 4
					owns_state = 152
					owns_state = 153
					owns_state = 848
					owns_state = 975
					owns_state = 976
				}
			}
		}

		continue_if_invalid = yes
		
		available_if_capitulated = no
		
		available = {
			has_war = no
			is_subject = no
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1938.1.1
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_ARMY_XP FOCUS_FILTER_STABILITY }

		select_effect = {
			AUS = {
				country_event = {
					id = AUS_political_events.77
					hours = 12
				}
				set_country_flag = AUS_anschluss_process_has_begun_flag
			}
		}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_add_or_modify_military_intelligence_service = yes
				add_to_variable = { 
					GER_military_intelligence_service_operative_slot = 1
					tooltip = operative_slot_tt
				}
				GER_create_operative_otto_skorzeny = yes
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					country_exists = AUS
					AUS = {
						has_civil_war = no
						OR = {
							owns_state = 4
							owns_state = 152
							owns_state = 153
							owns_state = 848
							owns_state = 975
							owns_state = 976
						}
					}
				}
				if = {
					limit = {
						NOT = { has_dlc = "Gotterdammerung" }
						ITA = {
							has_completed_focus = ITA_guarantee_austrian_independence
							has_guaranteed = AUS
						}
					}
			
					ITA = {
						country_event = {
							id = BBA_italy_interaction_events.24
							days = 1
						}
					}
				}
				else = { #ITA has not Guaranteed Austrian Independence
					AUS = {
						country_event = {
							id = germany.28
							days = 1
						}
					}		
					effect_tooltip = {
						custom_effect_tooltip = if_they_accept_tt
						add_political_power = 75
						add_war_support = 0.1
						add_stability = 0.05
						army_experience = 10

						custom_effect_tooltip = generic_skip_one_line_tt

						annex_country = { target = AUS transfer_troops = yes }
												
						GER_anschluss_modify_mefo_bills_or_economy_of_conquest = yes

						custom_effect_tooltip = if_they_refuse_tt
						create_wargoal = {
							type = take_state_focus
							target = AUS
							generator = { 4 152 153 848 975 976 }
						}
					}
				}
			}
			else_if = {
				limit = {
					any_other_country = {
						original_tag = AUS
						has_civil_war = yes
						OR = {
							owns_state = 4
							owns_state = 152
							owns_state = 153
							owns_state = 848
							owns_state = 975
							owns_state = 976
						}
						
					}
					ITA = {
						NOT = {
							has_completed_focus = ITA_guarantee_austrian_independence
						}
					}
				}
				custom_effect_tooltip = germany.126.warning
				random_other_country = {
					limit = {
						original_tag = AUS
						OR = {
							has_government = fascism
							AND = {
								has_government = neutrality
								NOT = {
									any_other_country = {
										original_tag = AUS
										has_government = fascism
									}
								}
							}
							NOT = {
								any_other_country = {
									original_tag = AUS
									OR = {
										has_government = fascism
										has_government = neutrality
									}
								}
							}							
						}
						
					}
					country_event = { id = germany.126 days = 1 }
				}
			}

			if = {
				limit = {
					4 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 4
			}
			if = {
				limit = {
					152 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 152
			}
			if = {
				limit = {
					153 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 153
			}
			if = {
				limit = {
					848 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 848
			}
			IF = {
				limit = {
					975 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 975
			}
			IF = {
				limit = {
					976 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 976
			}
		}
	}

	focus = {
		id = GER_bribe_senior_officers
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = GER_remilitarize_the_rhineland }

		x = -14
		y = 1
		relative_position_id = GER_remilitarize_the_rhineland
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			GER_modify_army_modifier = yes
			add_to_variable = { GER_military_unit_leader_as_advisor_cp_cost_factor = -0.15 tooltip = unit_leader_as_advisor_cp_cost_factor_tt }

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_character = GER_gunther_von_kluge
					
				}
				if = {
					limit = {
						GER_gunther_von_kluge = {
							NOT = { 
								has_trait = politically_connected
							}
						}
					}
					GER_gunther_von_kluge = {
						add_trait = { trait = politically_connected }
					}
				}
			}
			if = {
				limit = {
					has_character = GER_albert_kesselring
					
				}
				if = {
					limit = {
						GER_albert_kesselring = {
							NOT = { 
								has_trait = politically_connected
							}
						}
					}
					GER_albert_kesselring = {
						add_trait = { trait = politically_connected }
					}
				}
			}
			if = {
				limit = {
					has_character = GER_wilhelm_ritter_von_leeb
					
				}
				if = {
					limit = {
						GER_wilhelm_ritter_von_leeb = {
							NOT = { 
								has_trait = politically_connected
							}
						}
					}
					GER_wilhelm_ritter_von_leeb = {
						add_trait = { trait = politically_connected }
					}
				}
			}

			show_unit_leaders_tooltip = GER_walter_model
			show_unit_leaders_tooltip = GER_hermann_hoth
		}
	}
	
	focus = {
		id = GER_army_indoctrination
		icon = GFX_focus_GER_subdue_the_wehrmacht
		alternate_icon = GFX_focus_GER_subdue_the_wehrmacht_historical
		prerequisite = { focus = GER_bribe_senior_officers }
		mutually_exclusive = { focus = GER_autonomy_in_the_kriegsschulen }
		x = -1
		y = 1
		relative_position_id = GER_bribe_senior_officers
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			GER_modify_army_modifier = yes
			add_to_variable = { GER_military_mobilization_speed = 0.1 tooltip = mobilization_speed_tt }
			add_to_variable = { GER_military_army_morale_factor = 0.1 tooltip = army_morale_factor_tt }

			if = {
				limit = {
					has_character = GER_walter_model
					GER_walter_model = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				GER_walter_model = {
					promote_leader = yes
				}
				if = {
					limit = {
						GER_walter_model = {
							NOT = { 
								has_trait = offensive_doctrine
							}
						}
					}
					GER_walter_model = {
						add_trait = { trait = offensive_doctrine }
					}
				}
				else_if = {
					limit = {
						GER_walter_model = {
							has_trait = defensive_doctrine
							NOT = { 
								has_trait = unyielding_defender
							}
						}
					}
					GER_walter_model = {
						add_trait = { trait = unyielding_defender }
					}
				}
			}

			if = {
				limit = {
					has_character = GER_alfred_jodl
					
				}
				if = {
					limit = {
						GER_alfred_jodl = {
							NOT = { 
								has_trait = politically_connected
							}
						}
					}
					GER_alfred_jodl = {
						add_trait = { trait = politically_connected }
					}
				}
			}
			if = {
				limit = {
					has_character = GER_hermann_hoth
					
				}
				if = {
					limit = {
						GER_hermann_hoth = {
							NOT = { 
								has_trait = politically_connected
							}
						}
					}
					GER_hermann_hoth = {
						add_trait = { trait = politically_connected }
					}
				}
			}
		}
	}

	focus = {
		id = GER_strafbataillon
		icon = GFX_focus_GER_strafbataillon

		prerequisite = { focus = GER_army_indoctrination }

		x = 0
		y = 1
		relative_position_id = GER_army_indoctrination
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_manpower = 10000

			custom_effect_tooltip = generic_skip_one_line_tt
			#Spawn Penal divisions
			custom_effect_tooltip = GER_strafbataillon_spawn_tt
			hidden_effect = {
				#set_technology = { penal_infantry = 1 popup = no } #Note: Granting tech will make the penal battalion available for any template
				division_template = {
					name = "Straf-Division"
					division_names_group = GER_PEN_01
					is_locked = yes
					force_allow_recruiting = yes
					override_model = GER_infantry_alt_0_entity
					division_cap = 12

					regiments = {
						penal_battalion = { x = 0 y = 0 }
						penal_battalion = { x = 0 y = 1 }
						penal_battalion = { x = 0 y = 2 }
						penal_battalion = { x = 1 y = 0 }
						penal_battalion = { x = 1 y = 1 }
						penal_battalion = { x = 1 y = 2 }
						penal_battalion = { x = 2 y = 0 }
						penal_battalion = { x = 2 y = 1 }
						penal_battalion = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Straf-Division\" start_experience_factor = 1 start_equipment_factor = 1.0"
						owner = ROOT
						count = 3
					}
				}
				if = {
					limit = {
						has_dlc = "By Blood Alone"
					}
					random_country_division = {
						limit = {
							division_has_battalion_in_template = penal_battalion
						}
						add_divisional_commander_xp = 2300
					}
				}
			}


			custom_effect_tooltip = generic_skip_one_line_tt
		}
	}
	
	focus = {
		id = GER_autonomy_in_the_kriegsschulen
		icon = GFX_focus_GER_appease_the_wehrmacht
		prerequisite = { focus = GER_bribe_senior_officers }
		mutually_exclusive = { focus = GER_army_indoctrination }
		x = 1
		y = 1
		relative_position_id = GER_bribe_senior_officers
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
				name = GER_autonomy_in_the_kriegsschulen
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { GER_military_experience_gain_army_factor = 0.1 tooltip = experience_gain_army_factor_tt }
			add_to_variable = { GER_military_army_org_factor = 0.05 tooltip = army_org_factor_tt }
			add_to_variable = { GER_military_command_power_gain_mult = 0.1 tooltip = command_power_gain_mult_tt }		

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_ewald_von_kleist
				}
				GER_ewald_von_kleist = {
					gain_xp = 250
				}
			}
			if = {
				limit = {
					has_character = GER_wilhelm_list
				}
				GER_wilhelm_list = {
					gain_xp = 250
				}
			}
			if = {
				limit = {
					has_character = GER_johannes_blaskowitz
				}
				GER_johannes_blaskowitz = {
					gain_xp = 250
				}
			}
		}
	}
	
	focus = {
		id = GER_expand_the_truppenschulen
		icon = GFX_focus_generic_military_mission #GFX_focus_generic_military_academy
		prerequisite = { focus = GER_autonomy_in_the_kriegsschulen }

		x = 0
		y = 1
		relative_position_id = GER_autonomy_in_the_kriegsschulen
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_manpower = 15000

			add_tech_bonus = {
				name = GER_expand_the_truppenschulen
				bonus = 0.75
				uses = 2
				category = support_tech
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_doctrine_cost_reduction = {
					cost_reduction = 0.75
					uses = 1
					category = special_forces_doctrine
					name = GER_expand_the_truppenschulen
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt


			GER_modify_army_modifier = yes
			add_to_variable = { GER_military_land_doctrine_cost_factor = -0.15 tooltip = land_doctrine_cost_factor_tt }
			
		}
	}

	focus = {
		id = GER_innovative_warfare
		icon = GFX_focus_ARG_develop_the_electricity_sector
		#icon = GFX_focus_generic_university_3
		#icon = GFX_goal_generic_secret_weapon
		#icon = GFX_focus_generic_army_tanks2

		prerequisite = { focus = GER_army_indoctrination focus = GER_autonomy_in_the_kriegsschulen }

		x = 1
		y = 2
		relative_position_id = GER_army_indoctrination
		cost = 10
		available = {
			has_war_with_major = yes
			has_tech = advanced_machine_tools
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_innovative_warfare
				#bonus = 1
				ahead_reduction = 2
				uses = 1
				category = armor
				category = artillery
				category = naval_equipment
				category = air_equipment
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_special_project_speed_factor = 0.05
				tooltip = special_project_speed_factor_tt
			}
			add_to_variable = { 
				GER_wunderwaffen_production_speed_facility_factor = 0.05
				tooltip = production_speed_facility_factor_tt
			}
		}
	}

	focus = {
		id = GER_uplift_the_rosenberg_office
		icon = GFX_focus_ger_reichskommisariats
		alternate_icon = GFX_focus_ger_reichskommisariats_historical
		prerequisite = { focus = GER_heed_von_neuraths_concerns focus = GER_reorganize_the_wehrmacht }

		x = 17
		y = 1
		relative_position_id = GER_heed_von_neuraths_concerns
		cost = 5
		available = {
			has_government = fascism
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_dynamic_modifier = {
				modifier = GER_alfred_rosenberg_modifier
			}	

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_reichskommissariats_tt
		}
	}

	focus = {
		id = GER_expand_ss_recruitment
		icon = GFX_focus_generic_fascist_troops
		prerequisite = { focus = GER_uplift_the_rosenberg_office }

		x = 0
		y = 1
		relative_position_id = GER_uplift_the_rosenberg_office
		cost = 5
		available = {
			has_government = fascism
			OR = {
				any_controlled_state = {
					NOT = {
						is_core_of = ROOT
					}
					is_on_continent = europe
				}
				any_subject_country = {
					capital_scope = {
						is_on_continent = europe
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MANPOWER }

		completion_reward = {
			custom_effect_tooltip = GER_SS_recruitment_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_template = "Waffen-SS Division" }
				}
				division_template = {
					name = "Waffen-SS Division"
					priority = 2
					division_names_group = GER_SS_01
					template_counter = 101
					is_locked = yes #Unlocked in Strengthen the Waffen-SS focus under Himmler
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
					
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_militia
				}
			}
			if = {
				limit = {
					64 = {
						is_fully_controlled_by = ROOT
					}
				}
				64 = {
					custom_effect_tooltip = GER_create_four_militia_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"Waffen-SS Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
							owner = ROOT
							count = 4
						}
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					custom_effect_tooltip = GER_create_four_militia_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"Waffen-SS Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
							owner = ROOT
							count = 4
						}
					}
				}
			}


			if = {
				limit = {
					NOT = { has_template = "SS-Verfügungstruppe" }
				}
				division_template = {
					name = "SS-Verfügungstruppe"
					priority = 2
					division_names_group = GER_SS_01
					is_locked = yes
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }

					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_infantry_alt_0_entity
				}
			}
			if = {
				limit = {
					64 = {
						is_fully_controlled_by = ROOT
					}
				}
				64 = {
					custom_effect_tooltip = GER_create_two_motorized_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"SS-Verfügungstruppe\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
							owner = ROOT
							count = 2
						}
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					custom_effect_tooltip = GER_create_two_motorized_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"SS-Verfügungstruppe\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
							owner = ROOT
							count = 2
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_demand_sudetenland

		icon = GFX_focus_generic_attack_czechoslovakia
		alternate_icon = GFX_focus_GER_demand_sudetenland

		prerequisite = { focus = GER_anschluss }

		mutually_exclusive = { focus = GER_befriend_czechoslovakia }

		x = -2
		y = 1
		relative_position_id = GER_anschluss

		cost = 10

		will_lead_to_war_with = CZE
		will_lead_to_war_with = FRA

		bypass = {
			OR = {
				AND = {
					69 = { #NORTH SUDETENLAND
						controller = {
							OR = {
								has_war_with = GER
								tag = ROOT
							}
						}
					}
					972 = { #EASTERN SUDETENLAND
						controller = {
							OR = {
								has_war_with = GER
								tag = ROOT
							}
						}
					}
					74 = { #SOUTH SUDETENLAND
						controller = {
							OR = {
								has_war_with = GER
								tag = ROOT
							}
						}
					}
				}
				CZE = { 
					is_subject_of = ROOT
					OR = {
						has_completed_focus = CZE_german_minor_ally
						has_completed_focus = CZE_german_puppet
					}
				}
			}
		}

		available = {
		}
		
		cancel = {
			is_subject = yes
		}
		cancel_if_invalid = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			### EVENT CHAIN - MUNICH CONFERENCE (CZE is always involved) ###
			if = {
				limit = {
					CZE = {
						OR = {
							controls_state = 69
							controls_state = 972
							controls_state = 74
						}
					}
				}
				if = { # HOL has formed EU and CZE is part of it - Alt-hist
					limit = {
						CZE = {
							is_in_faction_with = HOL
							is_subject = no
						}
						HOL = {
							has_completed_focus = HOL_foundations_for_a_european_union
							is_faction_leader = yes
							is_subject = no
							exists = yes
						}
						NOT = { has_war_with = HOL }
						NOT = { has_war_with = FRA }
						OR = {
							HUN = {
								NOT = {
									has_completed_focus = HUN_protect_czechoslovakia #DOD only
								}
							}
							CZE = {
								has_country_flag = HUN_AH_CZE_refused
							}
						}
					}
					HOL = {
						country_event = germany.40
					}
				}
				else_if = { #THIS IS THE HISTORICAL OUTCOME THAT SHOULD HAPPEN ON HISTORICAL - HISTORICAL HERE!! 
					limit = {
						ENG = {
							NOT = { has_completed_focus = ENG_a_change_in_course }
							exists = yes
							is_subject = no
						}
						NOT = { has_war_with = ENG }
						NOT = { has_war_with = FRA }
						CZE = {
							is_subject = no
							NOT = { is_in_faction_with = GER }
							NOT = { has_war_with = ENG }
							OR = {
								controls_state = 69
								controls_state = 972
								controls_state = 74
							}
						}
						OR = {
							HUN = {
								NOT = {
									has_completed_focus = HUN_protect_czechoslovakia #DOD only
								}
							}
							CZE = {
								has_country_flag = HUN_AH_CZE_refused
							}
						}
					}
					ENG = {
						country_event = germany.40
					}
				}

				### EVENT CHAIN - ALT-HIST DEMAND OF SUDETENLAND TO CZE OR THEIR OVERLORD ###
				else_if = { # If not historical and CZE is independent or GER subject, send event to them
					limit = {
						CZE = {
							OR = {
								is_subject = no
								is_subject_of = ROOT
							}
						}
					}
					CZE = {
						country_event = { id = germany.122 }
					}
				}
				else_if = { # If not historical and CZE is subject of someone else, send event to overlord
					limit = {
						CZE = { is_subject = yes }
					}
					CZE = {
						overlord = { country_event = { id = germany.122 } }
					}
				}
			}

			### EVENT CHAIN - ALT-HIST SOME ONE ELSE CONTROLS SUDETENLAND STATES ###
			if = { #If other countries control Sudetenland states -> send event to them or overlord
				limit = {
					any_other_country = {
						NOT = { tag = CZE }
						OR = {
							controls_state = 69
							controls_state = 972
							controls_state = 74
						}
						NOT = { has_war_with = ROOT }
					}
				}
				every_other_country = {
					limit = {
						NOT = { tag = CZE }
						OR = {
							controls_state = 69
							controls_state = 972
							controls_state = 74
						}
						NOT = { has_war_with = ROOT }
					}
					if = { # If independent or GER subject, send event to them
						limit = {
							OR = {
								is_subject = no
								is_subject_of = ROOT
							}
						}
						country_event = { id = germany.1041 days = 4 random_days = 2 }
					}
					else = { #If subject of someone else, send event to overlord
						if = {
							limit = {
								overlord = { NOT = { has_war_with = ROOT } }
							}
							overlord = { country_event = { id = germany.1041 days = 4 random_days = 2 } }
						}
					}
				}
			}

			add_named_threat = { threat = 4 name = GER_demand_sudetenland_threat }
		}
	}
	
	focus = {
		id = GER_first_vienna_award
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = GER_demand_sudetenland }

		x = 0
		y = 1
		relative_position_id = GER_demand_sudetenland
		cost = 5

		bypass = {
			OR = {
				AND = {
					NOT = { CZE = { controls_state = 664 } }
					NOT = { owns_state = 664 }
				}
				HUN = { 
					OR = {
						is_friend_or_potential_friend_of_GER = no
						has_government = communism
						has_government = democratic
					}
				}
				CZE = { is_puppet_of = GER }
				CZE = { is_in_faction_with = GER }
			}
		}

		available = {
			is_subject = no
			HUN = { 
				is_friend_or_potential_friend_of_GER = yes
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
			OR = {
				owns_state = 69
				owns_state = 972
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}	
		
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			HUN = {
				country_event = { id = germany.51 }
				event_option_tooltip = germany.51.a
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			every_other_country = {
				limit = {
					is_faction_leader = yes
				}
				reverse_add_opinion_modifier = { target = HUN modifier = GER_first_vienna_award_other }
			}
		}
	}
	
	focus = {
		id = GER_fate_of_czechoslovakia

		icon = GFX_focus_GER_fate_of_czechoslovakia
		alternate_icon = GFX_focus_GER_fate_of_czechoslovakia_historical

		prerequisite = { focus = GER_first_vienna_award }

		x = 0
		y = 1
		relative_position_id = GER_first_vienna_award
		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		will_lead_to_war_with = CZE

		bypass = {
			OR = {
				has_war_with = CZE
				CZE = { 
					is_in_faction_with = ROOT
					NOT = { is_subject_of = ROOT }
				}
				CZE = { 
					is_subject_of = ROOT
					OR = {
						has_completed_focus = CZE_german_minor_ally
						has_completed_focus = CZE_german_puppet
					}
				}
				NOT = {
					country_exists = CZE
					9 = { is_controlled_by = ROOT }
					75 = { is_controlled_by = ROOT }
				}
				any_allied_country = {
					has_subject = CZE
				}
			}
		}
		
		available = { 
			is_subject = no
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_named_threat = { threat = 5 name = GER_end_of_czechoslovakia }

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					CZE = {
						exists = yes
						has_war = no
						is_subject = no
					}
				}
				set_global_flag = end_of_czechoslovakia
				CZE = { country_event = germany.53 }
			}
			else_if = {
				limit = {
					CZE = { 
						is_subject_of = ROOT
					}
				}
				CZE = { country_event = { id = wuw_GER_diplomacy.117 days = 1 }}
			}
			else_if = {
				limit = {
					CZE = {
						exists = no
					}
					9 = {
						is_controlled_by = ROOT
						NOT = { is_claimed_by = ROOT }
					}
					75 = {
						is_controlled_by = ROOT
						NOT = { is_claimed_by = ROOT }
					}
				}
				add_state_claim = 9
				add_state_claim = 75
				if = { #Don't get claims or wargoal on Romania or its puppet if you agreed to split CZE with them
					limit = {
						NOT = {
							has_country_flag = GER_split_CZE_with_ROM_flag
						}
					}
					country_event = { id = germany.55 hours = 6 }
				}
				else =  {
					if = { #Lower the MEFO Bills 
						limit = { 
							OR = {
								has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
								has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
							}
						}
						if = {
							limit = {
								CZE = {
									any_core_state = {
										is_on_continent = europe
										is_controlled_by = ROOT
										NOT = { is_core_of = ROOT }
										NOT = { has_state_flag = GER_seize_gold_reserves_state_flag }
									}
								}
							}
							
							ROOT = { set_temp_variable = { occupied_state_num_factory = 0 } } #This will show how many factories in total Germany controls from FROM's cores
							add_to_temp_variable = { GER.occupied_state_num_factory = CZE.num_of_military_factories_in_cores@GER }
							add_to_temp_variable = { GER.occupied_state_num_factory = CZE.num_of_civilian_factories_in_cores@GER }
							add_to_temp_variable = { GER.occupied_state_num_factory = CZE.num_of_naval_factories_in_cores@GER }
							hidden_effect = {
								CZE = {
									every_core_state = {
										limit = {
											is_on_continent = europe
											is_fully_controlled_by = ROOT
											NOT = { is_core_of = ROOT }
											NOT = { has_state_flag = GER_seize_gold_reserves_state_flag }
										}
										set_state_flag = GER_seize_gold_reserves_state_flag
									}
								}
							}

							ROOT = {			
								divide_temp_variable = { occupied_state_num_factory = 200 } #This is necessary since a single factory will increase the occupied_state_num_factory number to 1, which in turn translates to -100% when subtracting from the Consumer Goods. Dividing it by 100 here will give you 1% instead, which is more like what we want.
								multiply_temp_variable = { occupied_state_num_factory = -1 }
								
								if = {
									limit = {
										has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
									}
									custom_effect_tooltip = GER_modify_mefo_bills_modifier_tt
								}
								else_if = {
									limit = {
										has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
									}
									custom_effect_tooltip = GER_modify_economy_of_conquest_modifier_tt
								}

								add_to_variable = {
									GER_industrial_consumer_goods_factor = occupied_state_num_factory
									tooltip = consumer_goods_factor_tt
								}
								GER_reduce_mefo_bills_penalty = yes
								custom_effect_tooltip = generic_skip_one_line_tt
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					CZE = { exists = yes }
				}
				add_state_claim = 9
				add_state_claim = 75
				create_wargoal = {
					type = annex_everything
					target = CZE
				}
			}
		}
	}

	focus = {
		id = GER_demonstration_of_military_achievements
		icon = GFX_focus_GER_demonstration_of_military_achievements
		prerequisite = { focus = GER_anschluss }

		x = 0
		y = 1
		relative_position_id = GER_anschluss
		cost = 5
		available = {
			surrender_progress < 0.1
			custom_trigger_tooltip = { 
				tooltip = GER_demonstration_of_military_achievements_trigger
				OR = {
					check_variable = { GER_occupied_states_europe > 5 }
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_political_power = 50
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_country_leader_trait = GER_loyalty_of_wehrmacht
		}
	}

	focus = {
		id = GER_an_invincible_army
		icon = GFX_focus_GER_german_army_invincible
		prerequisite = { focus = GER_demonstration_of_military_achievements }

		x = 0
		y = 1
		relative_position_id = GER_demonstration_of_military_achievements
		cost = 5
		available = {
			surrender_progress < 0.05
			custom_trigger_tooltip = {
				tooltip = GER_an_invincible_army_trigger
				OR = {
					check_variable = { GER_occupied_states_europe > 10 }
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER }

		completion_reward = {
			if = {
				limit = {
					has_country_leader_with_trait = GER_loyalty_of_wehrmacht
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_loyalty_of_wehrmacht
						add = GER_supreme_commander_armed_forces
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = GER_demonstration_of_military_achievements }
				}
				effect_tooltip = {
					random_character = {
						limit = {
							is_country_leader = yes
						}
						swap_country_leader_traits = {
							remove = GER_loyalty_of_wehrmacht
							add = GER_supreme_commander_armed_forces
						}
					}
				}
			}
			else = {
				add_country_leader_trait = GER_supreme_commander_armed_forces
			}
		}
	}

	focus = {
		id = GER_the_supreme_leader
		icon = GFX_focus_GER_the_supreme_leader
		prerequisite = { focus = GER_an_invincible_army }
		x = 0
		y = 1
		relative_position_id = GER_an_invincible_army
		cost = 5
		available = {
			surrender_progress < 0.01
			custom_trigger_tooltip = {
				tooltip = GER_an_invincible_army_trigger
				OR = {
					num_subjects > 5
					check_variable = { GER_occupied_states_europe > 10 }
				}
			}
		}

		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					has_country_leader_with_trait = GER_supreme_commander_armed_forces
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_supreme_commander_armed_forces
						add = GER_supreme_leader
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = GER_an_invincible_army }
				}
				effect_tooltip = {
					random_character = {
						limit = {
							is_country_leader = yes
						}
						swap_country_leader_traits = {
							remove = GER_supreme_commander_armed_forces
							add = GER_supreme_leader
						}
					}
				}
			}
			else = {
				add_country_leader_trait = GER_supreme_leader
			}
		}
	}

	focus = {
		id = GER_the_triumphant_will
		icon = GFX_goal_support_fascism
		prerequisite = { focus = GER_anschluss }
		#mutually_exclusive = { focus = GER_integration_of_puppet_economies focus = GER_specialized_ss_commandos }

		x = 4
		y = 1
		relative_position_id = GER_anschluss
		cost = 5
	
		available = {
			custom_trigger_tooltip = {
				tooltip = GER_improve_national_spirit_tooltip
				OR = {
					GER = { controls_state = 126 }
					any_other_country = {
						is_in_faction_with = GER
						controls_state = 126
					}
				}
				OR = {
					GER = { controls_state = 16 }
					any_other_country = {
						is_in_faction_with = GER
						controls_state = 16
					}
				}
			}
			64 = {
				is_fully_controlled_by = ROOT
			}
		}

		cancel = {
			AND = {
				has_war = no
				126 = {
					owner = {
						NOT = { tag = GER }
						NOT = { is_in_faction_with = GER }
					}
				}
				16 = {
					owner = {
						NOT = { tag = GER }
						NOT = { is_in_faction_with = GER }
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			swap_ideas = {
				remove_idea = sour_loser
				add_idea = triumphant_will
			}	

			IF = {
				limit = {
					has_dlc = "Gotterdammerung"
				}
				custom_effect_tooltip = GER_build_volkshalle_landmark_tt
				hidden_effect = {
					64 = {
						remove_building = {
							type = landmark_berlin_reichstag
							level = 1
							province = 6521
						}
						add_building_construction = {
							type = landmark_berlin_volkshalle
							level = 1
							instant_build = yes
							province = 6521
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
		}
	}


	focus = {
		id = GER_support_a_coup_in_liechtenstein
		icon = GFX_focus_generic_liechtenstein_coa
		prerequisite = { focus = GER_anschluss }

		x = 6
		y = 1
		relative_position_id = GER_anschluss
		cost = 5

		available = {
			is_subject = no
			AUS = {
				all_core_state = {
					is_owned_and_controlled_by = ROOT
				}
			}
			has_full_control_of_state = 848
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_victory_points = {
				province = 6680
				value = 1
			}
			848 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					controls_province = 9655
				}
				build_railway = { #Lietchenstein connected to Supply depot West of München
					level = 2
					path = { 6680 9655 }
				}
			}
		}
	}

	focus = {
		id = GER_reassert_eastern_claims
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = GER_anschluss }

		x = 2
		y = 1
		relative_position_id = GER_anschluss
		cost = 5
		
		bypass = {
			188 = { is_owned_by = GER }
			85 = { is_owned_by = GER }
			86 = { is_owned_by = GER }
		}
		
		available = { 
			is_subject = no 
		}

		will_lead_to_war_with = LIT

		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				date < 1939.1.1
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			188 = { add_claim_by = GER }
			85 = { add_claim_by = GER }
			807 = { add_claim_by = GER }
			86 = { add_claim_by = GER }
			762 = { add_claim_by = GER }

			add_named_threat = { threat = 3 name = GER_demand_memel_threat }

			random_other_country = {
				limit = {
					owns_state = 188
					controls_state = 188 
				}
				country_event = { 
					id = baltic.4 
					days = 1
					random_days = 3
				}
			}

		}
	}

	focus = {
		id = GER_expand_claims_in_baltic

		icon = GFX_focus_generic_attack_baltics

		prerequisite = { focus = GER_reassert_eastern_claims }

		mutually_exclusive = { focus = GER_influence_the_baltics }

		x = 1
		y = 2
		relative_position_id = GER_reassert_eastern_claims

		cost = 10

		will_lead_to_war_with = EST
		will_lead_to_war_with = LAT
		will_lead_to_war_with = LIT
		will_lead_to_war_with = POL
		will_lead_to_war_with = BLR

		available = {
			is_subject = no
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_named_threat = { threat = 5 name = GER_expand_claims_in_baltic }

			every_other_country = {
				limit = {
					any_controlled_state = {
						OR = {
							is_core_of = EST
							is_core_of = LAT
							is_core_of = LIT
						}
					}
				}
				display_individual_scopes = yes
				every_controlled_state = {
					limit = {
						OR = {
							is_core_of = EST
							is_core_of = LAT
							is_core_of = LIT
						}
					}
					add_to_array = {
						array = PREV.GER_baltic_target_states_array
						value = THIS
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = PREV.GER_baltic_target_states_array
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_influence_the_baltics
		icon = GFX_focus_SOV_baltic_security
		prerequisite = { focus = GER_reassert_eastern_claims }
		mutually_exclusive = { focus = GER_expand_claims_in_baltic }
		x = 3
		y = 0
		relative_position_id = GER_expand_claims_in_baltic
		cost = 5
		available = {
			is_subject = no
		}

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		bypass = {
			AND = {
				EST = { 
					OR = {
						is_subject = yes
						exists = no
					}
				}
				LAT = { 
					OR = {
						is_subject = yes
						exists = no
					}
				}
				LIT = { 
					OR = {
						is_subject = yes
						exists = no
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			custom_effect_tooltip = GER_unlock_influence_countries_tt
		}
	}

	#focus = {
	#	id = GER_second_vienna_award
	#	icon = GFX_goal_generic_cavalry
	#	prerequisite = { focus = GER_fate_of_czechoslovakia focus = GER_integrate_czechoslovakia }
#
	#	x = -2
	#	y = 1
	#	relative_position_id = GER_fate_of_czechoslovakia
	#	cost = 4
	#	
	#	bypass = {
	#		OR = {
	#			AND = {
	#				OR = {
	#					HUN = {
	#						NOT = { has_government = fascism }
	#						is_friend_or_potential_friend_of_GER = no
	#					}
	#					ROM = {
	#						OR = {
	#							AND = {
	#								NOT = { controls_state = 76 }
	#								NOT = { controls_state = 83 }
	#								NOT = { controls_state = 84 }
	#							}
	#							has_war_with = HUN
	#							AND = {
	#								is_in_faction_with = GER
	#								HUN = { NOT = { is_in_faction_with = GER } }#GER should not want to give #territory to Hungary if Romania joined the axis early.
	#							}
	#						}
	#					}
	#				}
	#				OR = {
	#					BUL = { is_friend_or_potential_friend_of_GER = no }
	#					ROM = {
	#						OR = {
	#							NOT = { controls_state = 77 }
	#							has_war_with = BUL					
	#						}
	#					}					
	#				}
	#			}
	#			HUN = { exists = no } 
	#			ROM = { exists = no	}
	#			HUN = { has_capitulated = yes }
	#			ROM = { has_capitulated = yes }
	#			HUN = { is_subject_of = ROM } #just rude
	#		}
	#	}
#
	#	available = {
	#		is_subject = no
	#		is_faction_leader = yes
	#		has_army_manpower = { size > 749999 }
	#		custom_trigger_tooltip = {
	#		 	tooltip = GER_second_vienna_award_eq_trigger_tt
	#		 	check_variable = { num_equipment_in_armies_k@infantry_equipment > 60 }
	#		}
	#		has_capitulated = no
	#	}
#
	#	ai_will_do = {
	#		factor = 10
	#	}
	#	
	#	search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }
	#
	#	completion_reward = {
	#	custom_effect_tooltip = "MM: Effects are underwhelming, need something new"
	#		if = {
	#			limit = {
	#				HUN = {
	#					is_friend_or_potential_friend_of_GER = yes
	#				}
	#				ROM = {
	#					controls_state = 76
	#					NOT = { has_war_with = HUN }
	#				}
	#			}
	#			country_event = { 
	#				id = germany.20 
	#			}
	#		}
	#	}
	#}

	focus = {
		id = GER_form_rome_berlin_axis

		icon = GFX_focus_befriend_italy
		alternate_icon = GFX_focus_GER_befriend_italy

		prerequisite = { focus = GER_fate_of_czechoslovakia focus = GER_integrate_czechoslovakia }
		mutually_exclusive = { focus = GER_invade_italy }
		x = 2
		y = 4
		relative_position_id = GER_integrate_czechoslovakia
		cost = 5

		bypass = {
			OR = {
				is_in_faction_with = ITA
				has_war_with = ITA
				NOT = { country_exists = ITA }
				ITA = {
					OR = {
						NOT = { has_government = fascism }
						is_subject = yes
					}
				}
			}
		}

		available_if_capitulated = yes
		
		available = {
			is_faction_leader = yes
			is_subject = no
			NOT = { has_war_with = ITA }
			ITA = {
				has_government = fascism
				is_subject = no
			}
			NOT = { has_country_flag = ENG_ditched_the_italians_flag }
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }

		completion_reward = {
			ITA = {
				add_opinion_modifier = { target = GER modifier = ger_ita_alliance_focus }
				hidden_effect = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
					ROOT = {
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 50
						}
					}
					country_event = { id = generic.5 hours = 4 random_hours = 4 }
				}
				custom_effect_tooltip = generic_invite_to_faction_tt
			}
		}
	}
	
	focus = {
		id = GER_invade_italy
		icon = GFX_focus_attack_italy
		prerequisite = { focus = GER_around_maginot focus = GER_influence_the_benelux }
		mutually_exclusive = { focus = GER_form_rome_berlin_axis }
		x = 4
		y = 0
		relative_position_id = GER_form_rome_berlin_axis
		cost = 10

		will_lead_to_war_with = ITA

		available = {
			is_subject = no
			is_neighbor_of = ITA
			NOT = { is_in_faction_with = ITA }
			NOT = { has_guaranteed = ITA }
			NOT = { has_non_aggression_pact_with = ITA }
			NOT = { ITA = { is_subject_of = ROOT } }
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			create_wargoal = {
				type = annex_everything
				target = ITA
				expire = 0
			}

			add_state_claim = 39
			add_state_claim = 850
			add_state_claim = 853
			add_state_claim = 852
			add_state_claim = 736

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_alpine_warfare_idea
				days = 180
			}	

		}
	}

	focus = {
		id = GER_alliance_with_spain
		icon = GFX_focus_intervention_spain_nationalists
		prerequisite = { focus = GER_form_rome_berlin_axis focus = GER_invade_italy }
		mutually_exclusive = { focus = GER_operation_felix }
		x = 1
		y = 1
		relative_position_id = GER_form_rome_berlin_axis
		cost = 5

		bypass = { 
			any_country_with_original_tag = {
				original_tag_to_check = SPR
				is_in_faction_with = ROOT
			}
		}
		
		available = {
			is_faction_leader = yes
			is_subject = no
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_country_with_original_tag = {
					original_tag_to_check = SPR
					has_government = fascism
					exists = yes
					NOT = { has_war_with = ROOT }
					has_civil_war = no
					is_subject = no
					is_in_faction = no
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					exists = yes
					NOT = { has_war_with = ROOT }
					has_civil_war = no
					is_subject = no
					is_in_faction = no
				}
			}
			FRA = {
				OR = {
					exists = no
					has_capitulated = yes
					has_government = fascism
					is_ally_with = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					is_historical_focus_on = yes
					date < 1942.01.01
					surrender_progress > 0
					AND = {
						has_war_with = ENG
						ENG = { surrender_progress < 0.2 }
					}
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			if = {
				limit = {
					OR = { 
						AND = {
							NOT = { has_dlc = "La Resistance" }
							NOT = { country_exists = SPR }
							SPR = { NOT = { has_government = fascism } }
						}
						AND = {
							has_dlc = "La Resistance"
							NOT = { country_exists = SPA }
						}
					}
				}
				custom_effect_tooltip = GER_nationalist_spain_ally_tt
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					if = {
						limit = {
							has_idea = SPA_recovering_from_civil_war
						}
						remove_ideas = SPA_recovering_from_civil_war
					}
					else = {
						effect_tooltip = {
							remove_ideas = SPA_recovering_from_civil_war
						}
					}
					add_opinion_modifier = { target = ROOT modifier = ger_spa_alliance_focus }
					
					custom_effect_tooltip = generic_skip_one_line_tt

					hidden_effect = {
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 50
						}
						ROOT = {
							add_ai_strategy = {
								type = befriend
								id = PREV
								value = 50
							}
						}
						country_event = { id = generic.5 hours = 4 random_hours = 4 }
					}
					custom_effect_tooltip = generic_invite_to_faction_tt
				}
			}
			else = {
				random_country_with_original_tag = {
					original_tag_to_check = SPR
					limit = {
						has_government = fascism
						exists = yes
						NOT = { has_war_with = ROOT }
						is_subject = no
						is_in_faction = no
					}
					if = {
						limit = {
							has_idea = SPA_recovering_from_civil_war
						}
						remove_ideas = SPA_recovering_from_civil_war
					}
					else = {
						effect_tooltip = {
							remove_ideas = SPA_recovering_from_civil_war
						}
					}
					add_opinion_modifier = { target = ROOT modifier = ger_spa_alliance_focus }

					custom_effect_tooltip = generic_skip_one_line_tt

					hidden_effect = {
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 50
						}
						ROOT = {
							add_ai_strategy = {
								type = befriend
								id = PREV
								value = 50
							}
						}
						country_event = { id = generic.5 hours = 4 random_hours = 4 }
					}
					custom_effect_tooltip = generic_invite_to_faction_tt
				}
			}
		}
	}

	focus = {
		id = GER_operation_felix
		icon = GFX_focus_generic_attack_nationalist_spain_focus
		prerequisite = { focus = GER_form_rome_berlin_axis focus = GER_invade_italy }
		mutually_exclusive = { focus = GER_alliance_with_spain }
		x = 2
		y = 0
		relative_position_id = GER_alliance_with_spain
		cost = 10

		available = {
			is_subject = no
			any_country_with_original_tag = {
				original_tag_to_check = SPR
				exists = yes
				has_civil_war = no
			}
		}
		
		bypass = {
			any_country_with_original_tag = {
				original_tag_to_check = SPR
				OR = {
					is_ally_with = ROOT
					has_war_with = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
					AND = {
						is_historical_focus_on = yes
						date < 1946.1.1
					}
				}
			}
		}

		will_lead_to_war_with = SPA
		will_lead_to_war_with = SPR

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			if = {
				limit = {
					any_country_with_original_tag  = {
						original_tag_to_check = SPR
						has_government = fascism
						exists = yes
						has_civil_war = no
						has_capitulated = no
						is_subject = no
						is_in_faction = no
					}
				}
				random_country_with_original_tag = {
					original_tag_to_check = SPR
					limit = {
						has_government = fascism
						exists = yes
						has_civil_war = no
						has_capitulated = no
						is_subject = no
						is_in_faction = no
					}
					country_event = { id = wuw_GER_diplomacy.114 days = 1 }
					custom_effect_tooltip = if_they_accept_tt
					effect_tooltip = {
						ROOT = {
							puppet = PREV
						}
					}

					custom_effect_tooltip = if_they_refuse_tt
					effect_tooltip = {
						ROOT = {
							create_wargoal = {
								type = puppet_wargoal_focus
								target = PREV
							}
						}
					}
				}
			}
			else = {
				random_country_with_original_tag = {
					original_tag_to_check = SPR
					limit = {
						exists = yes
						has_civil_war = no
					}
					ROOT = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_alliance_with_portugal
		icon = GFX_focus_generic_befriend_portugal
		prerequisite = { focus = GER_alliance_with_spain focus = GER_operation_felix }
		mutually_exclusive = { focus = GER_operation_isabella }
		x = 0
		y = 1
		relative_position_id = GER_alliance_with_spain
		cost = 5

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		
		available_if_capitulated = yes
		
		available = {
			is_faction_leader = yes
			is_subject = no
			POR = {
				exists = yes
				NOT = { has_war_with = ROOT }
				OR = {
					has_government = fascism
					has_government = neutrality
				}
				is_in_faction = no
				is_subject = no
				has_civil_war = no
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			POR = {
				add_opinion_modifier = { target = GER modifier = ger_por_alliance_focus }
				
				custom_effect_tooltip = generic_skip_one_line_tt

				hidden_effect = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
					ROOT = {
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 50
						}
					}
					country_event = { id = generic.5 hours = 4 random_hours = 4 }
				}
				custom_effect_tooltip = generic_invite_to_faction_tt
			}
		}
	}
	
	focus = {
		id = GER_operation_isabella

		icon = GFX_focus_generic_attack_portugal

		prerequisite = { focus = GER_operation_felix focus = GER_alliance_with_spain }

		mutually_exclusive = { focus = GER_alliance_with_portugal }

		x = 0
		y = 1
		relative_position_id = GER_operation_felix

		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		
		available = {
			is_subject = no
			NOT  = { is_in_faction_with = POR }
			POR = {
				exists = yes
				has_civil_war = no
				is_subject = no
			}
		}

		will_lead_to_war_with = POR

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			if = {
				limit = {
					POR = {
						has_government = fascism
					}
				}
				POR = { country_event = { id = wuw_GER_diplomacy.114 days = 1 }	}

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					GER = {
						puppet = POR
					}
				}

				custom_effect_tooltip = if_they_refuse_tt
				effect_tooltip = {
					GER = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = POR
						}
					}
				}
			}
			else = {
				GER = {
					create_wargoal = {
						type = annex_everything
						target = POR
					}
				}
			}
		}
	}

	focus = {
		id = GER_danzig_for_slovakia

		icon = GFX_goal_generic_intelligence_exchange

		prerequisite = { focus = GER_fate_of_czechoslovakia focus = GER_integrate_czechoslovakia }

		mutually_exclusive = { focus = GER_danzig_or_war }

		x = 0
		y = 1
		relative_position_id = GER_fate_of_czechoslovakia

		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		
		available = {
			is_subject = no
			OR = {
				SLO = {
					exists = yes
					is_in_faction_with = GER
				}
				owns_state = 70
			}
			NOT = { owns_state = 85 }
			NOT = { has_war_with = POL }
			POL = { owns_state = 72 }
		}

		bypass = {
			OR = {
				POL = {
					exists = no
				}
				owns_state = 85
				has_war_with = POL
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			POL = {
				country_event = { 
					id = germany.80 
					days = 1 
				}
			}

		}
	}
	
	focus = {
		id = GER_danzig_or_war

		icon = GFX_focus_GER_danzig_or_war
		alternate_icon = GFX_focus_GER_danzig_or_war_historical

		prerequisite = { focus = GER_reassert_eastern_claims }
		mutually_exclusive = { focus = GER_danzig_for_slovakia }
		x = 0
		y = 3
		relative_position_id = GER_reassert_eastern_claims
		cost = 10

		will_lead_to_war_with = POL

		bypass = {
			OR = {
				has_war_with = POL
				is_in_faction_with = POL
				NOT = {
					85 = {
						controller = {
							original_tag = POL 
						}
						owner = {
							original_tag = POL 
						}
					}
				}
			}
		}

		continue_if_invalid = yes

		available = {
			is_subject = no		
			#Make custom trigger tooltip here
			85 = {
				owner = {
					original_tag = POL
				}
				controller = {
					original_tag = POL
				}
			}
			POL = {
				has_civil_war = no
			}
		}

		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				OR = {
					date < 1939.1.1
					any_neighbor_country = {
						has_war_with = GER
						NOT = { has_capitulated = yes }
						strength_ratio = {
							tag = GER
							ratio > 0.6
						}
					}
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}	
		
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_danzig_or_war }
			if = {
				limit = {
					85 = {
						controller = {
							tag = POL
							has_civil_war = no
						}
					}
				}
				effect_tooltip = {
					transfer_state = 85
					add_state_core = 85
					transfer_state = 807
					add_state_core = 807
					remove_state_claim = 86
					remove_state_claim = 762
				}
				POL = {
					country_event = { id = germany.86 }
					if = {
						limit = { NOT = { is_in_faction_with = ROOT } }
						custom_effect_tooltip = needs_approval
					}
					if = {
						limit = { 
							is_in_faction_with = ROOT 
							ROOT = { is_faction_leader = yes }
						}
						custom_effect_tooltip = GER_danzig_or_war_POL_faction_GER_leader
					}
					if = {
						limit = {
							is_in_faction_with = ROOT 
							NOT = { ROOT = { is_faction_leader = yes } }
						}
						custom_effect_tooltip = GER_danzig_or_war_POL_faction_GER_noleader
					}
				}
			}
			if = {
				limit = {
					85 = {
						owner = {
							OR = {
								original_tag = POL
								tag = POL
							}
							has_civil_war = yes
						}
					}
				}
				random_other_country = {
					limit = {
						original_tag = POL
						has_civil_war = yes
						OR = {
							is_in_faction_with = GER
							has_volunteers_amount_from = {
								tag = GER
								count > 0
							}
						}
					}
					country_event = { id = germany.113 days = 1 }
				}
				custom_effect_tooltip = GER_danzig_or_war_POL_civil_war
			}
		}
	}
	
	focus = {
		id = GER_befriend_poland
		icon = GFX_focus_generic_polish_deal
		prerequisite = { focus = GER_danzig_for_slovakia }

		x = 0
		y = 1
		relative_position_id = GER_danzig_for_slovakia
		cost = 5
		
		bypass = {
			is_in_faction_with = POL
			is_alone_or_in_faction_at_peace_with_GER = no
		}

		available = {
			is_subject = no
			NOT = { has_global_flag = sov_yes_pact }
			NOT = { has_war_with = POL }
			POL = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}

		ai_will_do = {
			factor = 0
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			POL = {
				add_opinion_modifier = { target = GER modifier = ger_pol_diplomacy_focus }
				if = {
					limit = {
						GER = {
							has_government = fascism
						}
					}
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = communism
						}
					}
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = democratic
						}
					}
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
		}
	}
	
	focus = {
		id = GER_subjugate_romanian_economy
		icon = GFX_focus_GER_subjugate_romanian_economy
		prerequisite = { focus = GER_danzig_for_slovakia focus = GER_danzig_or_war }

		x = -2
		y = 1
		relative_position_id = GER_danzig_or_war
		cost = 5
		available = {
			ROM = {
				fascism > 0.35
				has_full_control_of_state = 46
				NOT = { has_war_with = ROOT }
				OR = {
					is_in_faction = no
					is_in_faction_with = ROOT
				}
				threat > 0.3
			}

		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		completion_reward = {

			ROM = {
				country_event = { 
					id = wuw_GER_diplomacy.111 
					days = 2 
				}
			}

			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				ROM = {
					add_ideas = GER_development_of_economic_relations_ns
					custom_effect_tooltip = generic_skip_one_line_tt
					add_opinion_modifier = {
						target = ROOT
						modifier = GER_trading_partners
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = GER_align_romania
					}	
					custom_effect_tooltip = generic_skip_one_line_tt
					add_ideas = GER_align_romania
				}
				custom_effect_tooltip = war_will_cancel_deal_tt
			}

		}
	}
	
	focus = {
		id = GER_influence_the_benelux
		icon = GFX_focus_generic_influence_benelux
		prerequisite = { focus = GER_danzig_for_slovakia focus = GER_danzig_or_war }
		mutually_exclusive = { focus = GER_around_maginot }
		x = 1
		y = 2
		relative_position_id = GER_danzig_for_slovakia
		cost = 5
		available = {
			is_subject = no
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			custom_effect_tooltip = GER_unlock_influence_countries_tt
		}
	}
	
	focus = {
		id = GER_around_maginot

		icon = GFX_focus_GER_around_maginot
		alternate_icon = GFX_focus_GER_around_maginot_historical

		prerequisite = { focus = GER_danzig_for_slovakia focus = GER_danzig_or_war }
		mutually_exclusive = { focus = GER_influence_the_benelux }
		x = -1
		y = 2
		relative_position_id = GER_danzig_or_war
		cost = 4

		will_lead_to_war_with = BEL
		will_lead_to_war_with = HOL
		will_lead_to_war_with = LUX
		will_lead_to_war_with = FRA

		bypass = {
			HOL = {
				OR = {
					exists = no
					is_in_faction_with = GER
					has_war_with = ROOT
				}
			}
			BEL = {
				OR = {
					exists = no
					is_in_faction_with = GER
					has_war_with = ROOT
				}
			}
			LUX = {
				OR = {
					exists = no
					is_in_faction_with = GER
					has_war_with = ROOT
				}
			}
		}

		available = {
			is_subject = no
			OR = {
				NOT = { HOL = { is_in_faction_with = GER } }
				NOT = { BEL = { is_in_faction_with = GER } }
				NOT = { LUX = { is_in_faction_with = GER } }
			}
		}

		historical_ai = {
			date > 1939.1.1
			NOT = {
				any_home_area_neighbor_country = {
					NOT = { tag = FRA }
					NOT = { tag = DEN }
					has_war_with = ROOT
					surrender_progress < 0.5
				}
			}
		}

		ai_will_do = {
			factor = 10			
			modifier = {
				factor = 0.05
				date < 1939.1.1
			}			
			modifier = {
				factor = 0.2
				any_home_area_neighbor_country = {
					NOT = { tag = FRA }
					has_war_with = ROOT
					surrender_progress < 0.5
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			#limit wargoals to when it makes sense to give them. No faction, war or non exist
			if = { 
				limit = {
					country_exists = BEL
					NOT = { BEL = { is_in_faction_with = GER } }
					NOT = { has_war_with = BEL }
				}
				create_wargoal = {
					type = take_state_focus
					target = BEL
					expire = 0
					generator = { 6 }
				}
			}
			if =  {
				limit = {
					country_exists = HOL
					NOT = { HOL = { is_in_faction_with = GER } }
					NOT = { has_war_with = HOL }
					NOT = { HOL = { has_completed_focus = HOL_cave_to_the_germans } }
				}
				create_wargoal = {
					type = take_state_focus
					target = HOL
					expire = 0
					generator = { 7 }
				}
			}
			if =  {
				limit = {
					country_exists = HOL
					NOT = { HOL = { is_in_faction_with = GER } }
					NOT = { has_war_with = HOL }
					HOL = { has_completed_focus = HOL_cave_to_the_germans } 
					NOT = { HOL = { has_completed_focus = HOL_the_netherlands_first } }
				}
				HOL = {
					country_event = { id = mtg_germany.1 hours = 6 }
				}
			}
			if = {
				limit = {
					country_exists = LUX
					NOT = { LUX = { is_in_faction_with = GER } }
					NOT = { has_war_with = LUX }
				}
				create_wargoal = {
					type = take_state_focus
					target = LUX
					expire = 0
					generator = { 8 }
				}		
				add_ai_strategy = { 
					type = conquer
					id = LUX
					value = 100
				}		
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.234 }
			}
		}
	}

	focus = {
		id = GER_operation_weserubung

		icon = GFX_focus_GER_operation_wesserubung
		alternate_icon = GFX_focus_GER_operation_wesserubung_historical

		prerequisite = { focus = GER_danzig_or_war }
		mutually_exclusive = { focus = GER_utilize_the_nordliche_gesellschaft }
		x = 1
		y = 2
		relative_position_id = GER_danzig_or_war
		cost = 4

		will_lead_to_war_with = DEN 
		will_lead_to_war_with = NOR
		
		bypass = {
			AND = {
				DEN = { 
					OR = {
						is_in_faction_with = ROOT
						exists = no
					}
				}
				NOR = { 
					OR = {
						is_in_faction_with = ROOT
						exists = no
					}
				}
			}
		}

		available = {
			is_subject = no
		}

		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				date < 1939.1.1
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		historical_ai = {
			any_home_area_neighbor_country = {
				OR = {
					NOT = { has_war_with = ROOT	}
					POL = { has_capitulated = yes }
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		complete_tooltip = {
			custom_effect_tooltip = GER_weserubung_tt_complete
		}

		completion_reward = {

			if = {
				limit = {
					NOT = { DEN = { is_in_faction_with = GER } }
					country_exists = DEN					
				} 
				create_wargoal = {
					type = take_state_focus
					target = DEN
					expire = 0
					generator = { 37 }
				}
			}


			if = {
				limit = {
					NOT = { NOR = { is_in_faction_with = GER } }
					country_exists = NOR					
				} 
				create_wargoal = {
					type = take_state_focus
					target = NOR
					expire = 0
					generator = { 110 }
				}
			}
			
			add_tech_bonus = {
				name = tp_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = tp_tech
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.233 }
			}

			custom_effect_tooltip = GER_weserubung_tt
		}
	}

	focus = {
		id = GER_utilize_the_nordliche_gesellschaft
		icon = GFX_focus_generic_scandinavia_flags
		prerequisite = { focus = GER_influence_the_baltics }
		mutually_exclusive = { focus = GER_operation_weserubung }
		x = 0
		y = 3
		relative_position_id = GER_influence_the_baltics
		cost = 5
		available = {
			is_subject = no
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			custom_effect_tooltip = GER_unlock_influence_countries_tt
		}
	}

	focus = {
		id = GER_war_with_france

		icon = GFX_focus_attack_france
		alternate_icon = GFX_focus_GER_war_with_france

		prerequisite = { focus = GER_around_maginot focus = GER_operation_weserubung }

		x = 1
		y = 1
		relative_position_id = GER_around_maginot
		cost = 10

		bypass = {
			OR = {
				NOT = { country_exists = FRA }
				has_war_with = FRA
			}
		}
		
		available = {
			is_subject = no			
			NOT = { is_in_faction_with = FRA }
		}

		historical_ai = {
			date > 1939.1.1
			NOT = {
				any_neighbor_country = {
					has_war_with = ROOT
				}		
			}
		}

		ai_will_do = {
			factor = 10			
			modifier = {
				factor = 0.05
				date < 1939.1.1
			}
		}
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_named_threat = { threat = 5 name = GER_war_with_france_threat }
 			create_wargoal = {
 				type = take_state_focus
 				target = FRA
 				expire = 0
 				generator = { 28 }
 			}
		}
	}

	focus = {
		id = GER_demands_to_sweden
		icon = GFX_focus_generic_invade_sweden
		prerequisite = { focus = GER_operation_weserubung }

		x = 1
		y = 1
		relative_position_id = GER_operation_weserubung
		cost = 5
		available = {
			is_subject = no
			144 = { state_is_fully_controlled_by_ROOT_or_subject = yes }
			918 = { is_fully_controlled_by = SWE }

		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			SWE = {
				country_event = { 
					id = AAT_germany.1 
					hours = 5 
					random_hours = 5 
				} 
			}

			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				SWE = {
					add_offsite_building = {
						type = industrial_complex
						level = 2
					}

					add_offsite_building = {
						type = arms_factory
						level = 1
					}

					add_timed_idea = {
						idea = GER_german_swedish_trade_agreement
						days = 480
					}

					give_resource_rights = {
						receiver = ROOT 
						state = 918 #Västerbotten 
					}
				}

				add_opinion_modifier = {
					target = SWE # target of the relation
					modifier = GER_SWE_historic_trade_Partners
				}

				custom_effect_tooltip = if_they_refuse_tt
				create_wargoal = {
					type = take_state_focus
					target = SWE
					expire = 0
					generator = { 918 666 }
				}
			}
		}
	}

	focus = {
		id = GER_reintegrate_luxemburg_and_alsace_lorraine
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = GER_war_with_france }

		x = 4
		y = 2
		relative_position_id = GER_war_with_france
		cost = 5

		cancel_if_invalid = yes
		
		available = {
			is_subject = no
			has_full_control_of_state = 8
			has_full_control_of_state = 28
			OR = {
				owns_state = 28
				FRA = { has_capitulated = yes }
				FRA = { is_subject_of = ROOT }
				all_country_with_original_tag = {
					original_tag_to_check = FRA
					exists = no
				}
			}
			OR = {
				LUX = { has_capitulated = yes }
				LUX = { is_subject_of = ROOT }
				all_country_with_original_tag = {
					original_tag_to_check = LUX
					exists = no
				}
			}
		}

		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			add_state_core = 8
			add_state_core = 28
			if = {
				limit = {
					NOT = { owns_state = 28 }
				}
				transfer_state = 28
			}
			# Currently these names will now instead be dynamically renamed upon becoming owned by Germany
			#28 = { set_state_name = "Elsass-Lothringen" }
			#set_province_name = { id = 9503 name = "Strassburg" }
			#set_province_name = { id = 678 name = "Mulhausen" }
			if = {
				limit = {
					has_global_flag = flag_franco_british_union
				}
				ENG = {
					country_event = { id = wtt_germany.63 }
				}
			}
			else_if = {
				limit = {
					any_country = {
						original_tag = FRA
						exists = yes
					}
				}
				FRA = {
					country_event = { id = wtt_germany.63 }
				}
			}
			if = {
				limit = {
					any_country = {
						original_tag = LUX
						exists = yes
					}
				}
				LUX = {
					country_event = { id = wtt_germany.64 }
				}
			}
		}
	}
	
	focus = {
		id = GER_operation_tannenbaum
		icon = GFX_focus_attack_switzerland
		prerequisite = { focus = GER_war_with_france }
		mutually_exclusive = { focus = GER_the_swiss_gold }
		x = 1
		y = 1
		relative_position_id = GER_war_with_france
		cost = 10

		will_lead_to_war_with = SWI
		
		cancel_if_invalid = yes

		available = {
			is_subject = no
			NOT = { has_guaranteed = SWI }
			NOT = { has_non_aggression_pact_with = SWI }
			SWI = {
				exists = yes
				NOT = { is_ally_with = ROOT }
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {

			if = {
				limit = {
					NOT = { has_war_with = SWI }
				}
				create_wargoal = {
					type = annex_everything
					target = SWI
					expire = 0
				}
			}

			add_state_claim = 845
			add_state_claim = 3
			add_state_claim = 151
			add_state_claim = 847

			if = {
				limit = {
					ITA = {
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				ITA = {
					add_state_claim = 846
				}
			}
			else = {
				add_state_claim = 846
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_operation_tannenbaum_ns
				days = 180
			}
		}
	}
	
	focus = {
		id = GER_the_swiss_gold
		icon = GFX_focus_GER_the_swiss_gold
		prerequisite = { focus = GER_war_with_france }
		mutually_exclusive = { focus = GER_operation_tannenbaum }
		x = 3
		y = 1
		relative_position_id = GER_war_with_france
		cost = 5
		available = {
			SWI = {
				exists = yes
				has_war = no
				NOT = { has_government = communism }
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = { #This is so that it shows "Modify NS" by default, since most likely Anschluss will be completed and NS will be there. But if Anschluss is bypassed without getting the DM, the tooltip will be adjusted.
				limit = {
					NOT = { has_completed_focus = GER_anschluss }
				}
				custom_effect_tooltip = GER_modify_military_intelligence_service_modifier_tt
			}
			else = {
				GER_add_or_modify_military_intelligence_service = yes
			}
			add_to_variable = {
				GER_military_intelligence_service_consumer_goods_factor = -0.1
				tooltip =  consumer_goods_factor_tt
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_to_variable = { 
					GER_military_intelligence_service_decryption_power = 0.15
					tooltip = decryption_factor_tt
				}
				add_to_variable = { 
					GER_military_intelligence_service_intel_network_gain_factor = 0.1
					tooltip = intel_network_gain_factor_tt
				}
			}
			else = {
				add_to_variable = { 
					GER_military_intelligence_service_decryption_factor = 0.1
					tooltip = decryption_factor_tt
				}
				add_to_variable = { 
					GER_military_intelligence_service_subversive_activites_upkeep = -0.2
					tooltip = subversive_activites_upkeep_tt
				}
			}
		}
	}
	
	focus = {
		id = GER_secure_finland

		icon = GFX_focus_FIN_keepers_of_the_north

		prerequisite = { focus = GER_operation_weserubung focus = GER_utilize_the_nordliche_gesellschaft }

		x = 0
		y = 1
		relative_position_id = GER_utilize_the_nordliche_gesellschaft

		cost = 5

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		available = {
			is_subject = no
			NOT = { has_war_with = FIN }
			NOT = { is_ally_with = FIN }
			NOT = { has_guaranteed = FIN }
			NOT = { has_non_aggression_pact_with = FIN }
			country_exists = FIN 
			FIN = {
				NOT = { is_ally_with = SOV }
				NOT = { is_guaranteed_by = SOV }
				NOT = { has_non_aggression_pact_with = SOV }
				OR = {
					NOT = { has_completed_focus = FIN_the_lone_wolf }
					NOT = { has_government = neutrality }
				}
			}
		}

		will_lead_to_war_with = FIN

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			if = {
				limit = {
					FIN = {
						is_subject = no
						is_in_faction = no
					}
				}
				FIN = {
					country_event = { id = wuw_GER_realpolitik.1 days = 1 }
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					GER = {
						add_to_faction = FIN
					}
				}

				custom_effect_tooltip = if_they_refuse_tt
				effect_tooltip = {
					GER = {
						create_wargoal = {
							type = annex_everything
							target = FIN
						}
					}
				}
			}
			else = {
				create_wargoal = {
					type = annex_everything
					target = FIN
				}
			}
		}
	}

	focus = {
		id = GER_operation_sea_lion
		icon = GFX_focus_generic_naval_invasion
		prerequisite = { focus = GER_war_with_france focus = GER_invade_italy }

		x = -1
		y = 1
		relative_position_id = GER_war_with_france
		cost = 5

		available = {
			has_war_with = ENG
		}

		bypass = {
			ENG = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
					exists = no
				}
			}
		}

		search_filters = {}

		completion_reward = {
			add_timed_idea = {
				idea = GER_operation_sea_lion_ns
				days = 180
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = { #This is so that it shows "Modify NS" by default, since most likely Anschluss will be completed and NS will be there. But if Anschluss is bypassed without getting the DM, the tooltip will be adjusted.
					limit = {
						NOT = { has_completed_focus = GER_anschluss }
					}
					custom_effect_tooltip = GER_modify_military_intelligence_service_modifier_tt
				}
				else = {
					GER_add_or_modify_military_intelligence_service = yes
				}
				add_to_variable = { 
					GER_military_intelligence_service_operative_slot = 1
					tooltip = operative_slot_tt
				}
				GER_create_operative_norman_stewart = yes
			}
		}
	}

	focus = {
		id = GER_operation_green
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = GER_operation_sea_lion }

		x = 1
		y = 1
		relative_position_id = GER_operation_sea_lion
		cost = 4

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		will_lead_to_war_with = IRE

		available = {
			is_subject = no
			OR = {
				IRE = {
					exists = yes
					NOT = { has_war_with = ROOT }
					NOT = { is_ally_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }
				}
				NIR = {
					exists = yes
					NOT = { has_war_with = ROOT }
					NOT = { is_ally_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }
				}
			}
			OR = {
				has_war_with = ENG
				NOT = { country_exists = ENG }
				is_ally_with = ENG
				has_subject = RGB
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			if = {
				limit = {
					IRE = {
						exists = yes
						NOT = { has_war_with = ROOT }
						NOT = { is_ally_with = ROOT }
						NOT = { is_guaranteed_by = ROOT }
						NOT = { has_non_aggression_pact_with = ROOT }
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = IRE
					expire = 0
				}
			}
			if = {
				limit = {
					NIR = {
						exists = yes
						NOT = { has_war_with = ROOT }
						NOT = { is_ally_with = ROOT }
						NOT = { is_guaranteed_by = ROOT }
						NOT = { has_non_aggression_pact_with = ROOT }
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = NIR
					expire = 0
				}
			}
		}
	}
	
	focus = {
		id = GER_crossing_the_atlantic
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = GER_operation_sea_lion }

		x = 0
		y = 2
		relative_position_id = GER_operation_sea_lion
		cost = 10

		cancel_if_invalid = yes
		
		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = GER_crossing_the_atlantic_trigger_tt
				NOT = {
					any_enemy_country = {
						is_major = yes
						any_controlled_state = { 
							is_on_continent = europe
						}
					}
				}
			}
		}

		bypass = {
			USA = {
				exists = no
			}
		}

		will_lead_to_war_with = USA

		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			IF = {
				limit = {
					NOT = {
						OR = {
							has_war_with = USA
							has_wargoal_against = {
								target = USA
							}
						}
					}

				}
				create_wargoal = {
					type = annex_everything
					target = USA
				}

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_tech_bonus = {
				bonus = 0.75
				uses = 1
				category = marine_tech
				name = GER_crossing_the_atlantic
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_doctrine_cost_reduction = {
					cost_reduction = 0.5
					uses = 2
					category = cat_marines_doctrine
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = GER_crossing_the_atlantic_ns

			custom_effect_tooltip = generic_skip_one_line_tt

			# Add Dockyards and Replace Mils - Cap is 10 states (20 dockyards gained & 20 mils removed) -> cap defined in variable crossing_the_atlantic_max_states_for_dockyards set in history file
			custom_effect_tooltip = GER_crossing_the_atlantic_dockyards_tt

			if = { #Tooltip so players can know where the hell the dockyards were added
				limit = {
					check_variable = { number_of_states_getting_dockyards > 0 }
				}
				custom_effect_tooltip = generic_states_affected_tt
				every_controlled_state = {
					limit = { has_state_flag = GER_crossing_the_atlantic_dockyards_built_flag }
					display_individual_scopes = yes
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}

			hidden_effect = {
				every_controlled_state = { #Prio "self-sufficient" coastal states, with 2 mils
					limit = {
						is_fully_controlled_by = ROOT
						is_on_continent = europe
						is_coastal = yes
						arms_factory > 1
						NOT = { has_state_flag = GER_crossing_the_atlantic_dockyards_built_flag }
					}
					if = {
						limit = {
							check_variable = { ROOT.number_of_states_getting_dockyards < ROOT.crossing_the_atlantic_max_states_for_dockyards }
						}
						remove_building = {
							type = arms_factory
							level = 2
						}
						add_building_construction = {
							type = dockyard
							level = 2
							instant_build = yes
						}

						set_state_flag = GER_crossing_the_atlantic_dockyards_built_flag
						add_to_variable = { ROOT.number_of_states_getting_dockyards = 1 }
						#log = "Number [?ROOT.number_of_states_getting_dockyards] - Built in [THIS.GetName] - Coastal with 2 mils" #Debug tool
					}
				}

				every_controlled_state = { #Next prio coastal states with only 1 mil
					limit = {
						is_fully_controlled_by = ROOT
						is_on_continent = europe
						is_coastal = yes
						AND = {
							arms_factory < 2
							arms_factory > 0
						}
						NOT = { has_state_flag = GER_crossing_the_atlantic_dockyards_built_flag }
					}
					if = {
						limit = {
							check_variable = { ROOT.number_of_states_getting_dockyards < ROOT.crossing_the_atlantic_max_states_for_dockyards }
						}
						add_extra_state_shared_building_slots = 1
						remove_building = {
							type = arms_factory
							level = 1
						}
						add_building_construction = {
							type = dockyard
							level = 2
							instant_build = yes
						}
						custom_effect_tooltip = GER_crossing_the_atlantic_1_factory_tt
						hidden_effect = {
							ROOT = {
								random_controlled_state = {
									limit = {
										is_fully_controlled_by = ROOT
										is_on_continent = europe
										NOT = { is_coastal = yes }
										arms_factory > 0
									}
									remove_building = {
										type = arms_factory
										level = 1
									}
								}
							}

							set_state_flag = GER_crossing_the_atlantic_dockyards_built_flag
							add_to_variable = { ROOT.number_of_states_getting_dockyards = 1 }
							#log = "Number [?ROOT.number_of_states_getting_dockyards] - Built in [THIS.GetName] - Coastal with 1 mil" #Debug tool
						}
					}
				}

				every_controlled_state = { #Last are coastal states with no mils on them
					limit = {
						is_fully_controlled_by = ROOT
						is_on_continent = europe
						is_coastal = yes
						arms_factory < 1
						NOT = { has_state_flag = GER_crossing_the_atlantic_dockyards_built_flag }
					}
					if = {
						limit = {
							check_variable = { ROOT.number_of_states_getting_dockyards < ROOT.crossing_the_atlantic_max_states_for_dockyards }
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = dockyard
							level = 2
							instant_build = yes
						}
						custom_effect_tooltip = GER_crossing_the_atlantic_2_factories_tt
						hidden_effect = {
							ROOT = {
								random_controlled_state = {
									limit = {
										is_fully_controlled_by = ROOT
										is_on_continent = europe
										NOT = { is_coastal = yes }
										arms_factory > 1
									}
									remove_building = {
										type = arms_factory
										level = 2
									}
								}
							}

							set_state_flag = GER_crossing_the_atlantic_dockyards_built_flag
							add_to_variable = { ROOT.number_of_states_getting_dockyards = 1 }
							#log = "Number [?ROOT.number_of_states_getting_dockyards] - Built in [THIS.GetName] - Coastal with 0 mils" #Debug tool
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_challenge_the_monroe_doctrine

		icon = GFX_focus_por_recover_latin_america

		prerequisite = { focus = GER_crossing_the_atlantic }

		x = -1
		y = 1
		relative_position_id = GER_crossing_the_atlantic

		cost = 5

		available = {
			NOT = {
				has_war_with = USA
				is_in_faction_with = USA
			}
			is_subject = no
			has_government = fascism
			USA = {
				NOT = {
					has_government = fascism
					has_government = neutrality 
				}
			}

			custom_trigger_tooltip = {
				tooltip = GER_challenge_the_monroe_doctrine_tt_2
				check_variable = { global.monroe_doctrine_countries_to_destabilize^num > 6}
			}
			
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		select_effect = {
			GER_setup_monroe_doctrine_countries_to_destabilize_array = yes
		}

		completion_reward = {

			set_country_flag = GER_destabilize_monroe_flag

			custom_effect_tooltip = GER_challenge_the_monroe_doctrine_tt

			hidden_effect = {
				IF = {
					limit = {
						USA = {
							OR = {
								has_government = democratic
								has_government = communism
							}
						}
					}
					USA = {
						country_event = {
							id = wuw_GER_monroe.1
							hours = 12
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = { #This is so that it shows "Modify NS" by default, since most likely Anschluss will be completed and NS will be there. But if Anschluss is bypassed without getting the DM, the tooltip will be adjusted.
					limit = {
						NOT = { has_completed_focus = GER_anschluss }
					}
					custom_effect_tooltip = GER_modify_military_intelligence_service_modifier_tt
				}
				else = {
					GER_add_or_modify_military_intelligence_service = yes
				}
				add_to_variable = { 
					GER_military_intelligence_service_operative_slot = 1
					tooltip = operative_slot_tt
				}
				GER_create_operative_johannes_becker = yes
			}
		}
	}

	focus = {
		id = GER_shatter_usas_hegemony
		icon = GFX_focus_GER_shatter_usas_hegemony
		prerequisite = { focus = GER_crossing_the_atlantic }

		x = 1
		y = 1
		relative_position_id = GER_crossing_the_atlantic
		cost = 5
		available = {
			is_subject = no
			OR = {
				has_wargoal_against = USA
				has_war_with = USA
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		bypass = {
			USA = {
				exists = no
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_timed_idea = {
				idea = GER_shatter_USA_hegemony_ns
				days = 365
			}
		}
	}
	
	focus = {
		id = GER_establish_protectorates_in_america
		icon = GFX_focus_GER_establish_protectorates_in_america
		prerequisite = { focus = GER_challenge_the_monroe_doctrine focus = GER_shatter_usas_hegemony }

		x = 1
		y = 1
		relative_position_id = GER_challenge_the_monroe_doctrine
		cost = 10
		available = {
			is_subject = no
			has_government = fascism
			has_completed_focus = GER_uplift_the_rosenberg_office
			any_controlled_state = {
				OR = {
					is_on_continent = south_america
					is_on_continent = north_america
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		completion_reward = {

			every_state = {
				limit = {
					is_on_continent = south_america 
					OWNER = {
						capital_scope = {
							NOT = {
								is_on_continent = south_america 
							}
						}
					}
					NOT = {
						OR = {
							is_claimed_by = ROOT
							is_core_of = ROOT
							is_owned_by = ROOT
						}
					}
				}
				add_claim_by = ROOT
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = GER_reichskommissariat_klein_venedig
			unlock_decision_tooltip = GER_reichskommissariat_anden
			unlock_decision_tooltip = GER_reichskommissariat_kolumbus
			unlock_decision_tooltip = GER_reichskommissariat_nordamerika

		}
	}

	focus = {
		id = GER_demand_slovenia
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = GER_anschluss }

		x = 8
		y = 1
		relative_position_id = GER_anschluss
		cost = 10
		
		bypass = {
			OR = {
				NOT = {
					AND = {
						OR = {
							YUG = { owns_state = 102 }
							102 = { owner = { is_subject_of = YUG } }
						}
						OR = {
							YUG = { owns_state = 853 }
							853 = { owner = { is_subject_of = YUG } }
						}
					}
				}
				AND = {
					102 = {
						owner = {
							is_in_faction_with = ROOT
						}
					}
					853 = {
						owner = {
							is_in_faction_with = ROOT
						}
					}
				}
				has_war_with = YUG
				is_in_faction_with = YUG
				YUG = { is_subject_of = GER }
				YUG = { has_non_aggression_pact_with = GER }
				YUG = { has_opinion_modifier = tripartite_pact_opinion }
			}
		}

		cancel_if_invalid = yes

		available = {
			is_subject = no
			controls_state = 4
			controls_state = 152
			has_army_manpower = { size > 749999 } #ca 80 div
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}	

		will_lead_to_war_with = YUG
		will_lead_to_war_with = ENG
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_named_threat = { 
				threat = 2 
				name = GER_demand_slovenia_threat 
			}

			YUG = { 
				add_opinion_modifier = { 
					target = GER 
					modifier = GER_demand_slovenia_YUG 
				} 
			}

			if = {
				limit = {
					NOT = { has_war_with = ENG }
					YUG = { 
						is_subject = no
						NOT = { has_war_with = ENG }
					}
					ENG = {
						exists = yes
					}
				}
				ENG = {
					country_event = { 
						id = britain.14 
						hours = 6
					}
				}
			}
			else_if = {
				limit = {
					YUG = {
						exists = yes
					}
				}
				create_wargoal = {
					type = annex_everything
					target = YUG
					expire = 0
				}
			}

			else = {

				IF = {
					limit = {
						102 = {
							owner = {
								owns_state = 853
							}
						}
					}
					102 = {
						owner = {
							ROOT = {
								create_wargoal = {
									type = take_claimed_state
									target = PREV
									generator = { 102 853}
								}
							}
						}
					}
				}

				ELSE = {
					IF = {
						limit = {
							102 = {
								owner = {
									NOT = {
										is_in_faction_with = ROOT
									}
								}
							}
						}
	
						102 = {
							owner = {
								ROOT = {
									create_wargoal = {
										type = take_claimed_state
										target = PREV
										generator = { 102 }
									}
								}
							}
						}
					}
					
					IF = {
						limit = {
							853 = {
								owner = {
									NOT = {
										is_in_faction_with = ROOT
									}
								}
							}
						}
	
						853 = {
							owner = {
								ROOT = {
									create_wargoal = {
										type = take_claimed_state
										target = PREV
										generator = { 853 }
									}
								}
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_first_ljubljana_award
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = GER_demand_slovenia }

		x = 0
		y = 1
		relative_position_id = GER_demand_slovenia
		cost = 5
		
		bypass = {
			OR = {	
				is_in_faction_with = YUG
				has_war_with = YUG
				YUG = { has_non_aggression_pact_with = GER }
				YUG = { has_opinion_modifier = tripartite_pact_opinion }
				NOT = { country_exists = YUG }
				NOT = {
					OR = {
						YUG = {
							owns_state = 45
						}
						45 = { owner = { is_subject_of = YUG } }
						
						YUG = {
							owns_state = 106
						}
						106 = { owner = { is_subject_of = YUG } }
					}
				}
				AND = {
					HUN = { is_friend_or_potential_friend_of_GER = no }
					BUL = { is_friend_or_potential_friend_of_GER = no }
					ITA = { is_friend_or_potential_friend_of_GER = no }
				}
			}
		}

		available = {
			is_subject = no
			NOT = { is_in_faction_with = YUG }
			NOT = { YUG = { has_non_aggression_pact_with = GER } }
			NOT = { YUG = { has_opinion_modifier = tripartite_pact_opinion } }
			OR = {
				AND = {
					country_exists = YUG
					NOT = { has_war_with = YUG }
					OR = {
						owns_state = 102
						102 = { owner = { is_subject_of = YUG } }
						owns_state = 853
						853 = { owner = { is_subject_of = YUG } }
					}
				}
				custom_trigger_tooltip = {
					tooltip = GER_first_ljubljana_award_tt
					AND = {
						NOT = { country_exists = YUG }
						OR = {
							owns_state = 102
							102 = { owner = { is_subject_of = YUG } }
						}
						OR = {
							owns_state = 853
							853 = { owner = { is_subject_of = YUG } }
						}
						OR = {
							owns_state = 45
							45 = { owner = { is_subject_of = YUG } }
						}
						OR = { #Macedonia
							owns_state = 106
							106 = { owner = { is_subject_of = YUG } }
						}
						OR = { #New Southern Serbia state
							owns_state = 803
							803 = { owner = { is_subject_of = YUG } }
						}
						OR = { #Herzegovina
							owns_state = 804
							804 = { owner = { is_subject_of = YUG } }
						}
						OR = { #Kosovo
							owns_state = 802
							802 = { owner = { is_subject_of = YUG } }
						}
						OR = {
							owns_state = 103
							103 = { owner = { is_subject_of = YUG } }
						}
						OR = {
							owns_state = 105
							105 = { owner = { is_subject_of = YUG } }
						}
						OR = {
							owns_state = 970
							970 = { owner = { is_subject_of = YUG } }
						}
					}
				}
			}
			OR = {
				YUG = {
					is_subject = no
				}
				YUG = {
					is_puppet_of = GER
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			if = {
				limit = {
					HUN = {
						is_friend_or_potential_friend_of_GER = yes
						NOT = { is_in_faction_with = YUG }
					}
				}
				hidden_effect = {
					if = {
						limit = { 
							OR = {
								45 = { is_owned_by = YUG }
								45 = { is_owned_by = GER }
							}
						}
						HUN = {
							country_event = { id = hungary.6 days = 1 }
							add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
							set_country_flag = GER_first_ljubljana_award
						}
					}
				}
				effect_tooltip = {
					if = {
						limit = {
								OR = {
									45 = { is_owned_by = YUG }
									45 = { is_owned_by = GER }
								}
						}
						HUN = {
							add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
							transfer_state = 45
						}
					}
				}
				every_other_country = {
					limit = { 
						is_faction_leader = yes
						NOT = { tag = GER }
					}
					reverse_add_opinion_modifier = { target = HUN modifier = GER_first_ljubljana_award_other }
				}				
			}
			if = {
				limit = {
					BUL = {
						is_friend_or_potential_friend_of_GER = yes
						NOT = { is_in_faction_with = YUG }
					}
				}
				hidden_effect = {
					if = {
						limit = {
							OR = {
								106 = { is_owned_by = YUG }
								106 = { is_owned_by = GER }
								803 = { is_owned_by = YUG }
								803 = { is_owned_by = GER }
							}
						}
						BUL = { 
							country_event = { id = bulgaria.3 days = 1 } 
							add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
							set_country_flag = GER_first_ljubljana_award
						}
					}
				}
				effect_tooltip = {
					if = {
						limit = {
							OR = {
								106 = { is_owned_by = YUG }
								106 = { is_owned_by = GER }
								803 = { is_owned_by = YUG }
								803 = { is_owned_by = GER }
							}
						}
						BUL = {
							add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
							if = {
								limit = {
									106 = { is_owned_by = YUG }
									106 = { is_owned_by = GER }
								}
								transfer_state = 106
							}
							if = {
								limit = {
									803 = { is_owned_by = YUG }
									803 = { is_owned_by = GER }
								}
								transfer_state = 803
							}
						}
					}
				}
				every_other_country = {
					limit = { 
						is_faction_leader = yes
						NOT = { tag = GER }
					}
					reverse_add_opinion_modifier = { target = BUL modifier = GER_first_ljubljana_award_other }
				}				
			}
			if = {
				limit = {
					ITA = {
						OR = {
							has_completed_focus = ITA_balkan_ambition
							owns_state = 44
						}
						is_friend_or_potential_friend_of_GER = yes
						NOT = { is_in_faction_with = YUG }
					}
				}
				hidden_effect = {
					ITA = { country_event = { id = italy.13 days = 1 } 
						add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
					}
					set_country_flag = GER_first_ljubljana_award
				}
				effect_tooltip = {
					ITA = {
						add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
						if = {
							limit = { has_completed_focus = ITA_balkan_ambition }
							transfer_state = 103
						}
						if = {
							limit = { owns_state = 44 }
							transfer_state = 105
						}
						if = {
							limit = { owns_state = 44 }
							transfer_state = 802
						}
						if = {
							limit = { owns_state = 44 }
							transfer_state = 934
						}
						if = {
							limit = { owns_state = 44 }
							transfer_state = 970
						}
					}
				}
				every_other_country = {
					limit = { 
						is_faction_leader = yes
						NOT = { tag = GER }
					}
					reverse_add_opinion_modifier = { target = ITA modifier = GER_first_ljubljana_award_other }
				}				
			}
			#hidden_effect = {
			#	news_event = { hours = 6 id = news.208 }
			#}
		}
	}

	focus = {
		id = GER_fate_of_yugoslavia

		icon = GFX_focus_GER_fate_of_yugoslavia

		prerequisite = { focus = GER_first_ljubljana_award }

		x = 0
		y = 1
		relative_position_id = GER_first_ljubljana_award

		cost = 10

		bypass = {
			OR = {
				has_war_with = YUG
				NOT = { country_exists = YUG }
				any_other_country = {
					is_in_faction_with = ROOT
					OR = {
						has_war_with = YUG
						YUG = {
							is_puppet_of = PREV
						}
					}
				}
			}
		}

		will_lead_to_war_with = YUG
		
		available = {
			is_subject = no
			NOT = { has_war_with = YUG }
			NOT = { is_in_faction_with = YUG }
			all_allied_country = {
				NOT = {
					has_war_with = YUG
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }	
		
		completion_reward = {

			country_event = { 
				id = germany.98 
			}

			IF = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
						has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
					}
				}
				custom_effect_tooltip = yugoslavia_mefo_bills_tt
			}
			

		}
	}

	focus = {
		id = GER_second_ljubljana_award
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = GER_fate_of_yugoslavia }
		mutually_exclusive = { focus = GER_war_with_greece }
		x = -1
		y = 1
		relative_position_id = GER_fate_of_yugoslavia
		cost = 5
		
		bypass = {
			GRE = { 
				OR = {
					has_war = yes
					is_subject = yes
				}
				NOT = { owns_state = 731 }
				NOT = { owns_state = 184 }
				NOT = { owns_state = 185 }
			}
			NOT = {
				GRE = {
					any_neighbor_country = {
						OR = {
							is_subject_of = GER
							tag = GER
						}	
					}
				}
			}
			ITA = {
				OR = {
					has_war_with = GER
					is_subject = yes
					AND = {
						is_in_faction = yes
						NOT = { is_in_faction_with = GER }
					}
				}
				OR = {
					NOT = { has_government = fascism }
					NOT = { has_government = neutrality	}
				}
			}
			BUL = {
				OR = {
					has_war_with = GER
					is_subject = yes
					AND = {
						is_in_faction = yes
						NOT = { is_in_faction_with = GER }
					}
				}
				OR = {
					NOT = { has_government = fascism }
					NOT = { has_government = neutrality	}
				}
			}
		}

		available = {
			is_subject = no
			GRE = { 
				has_war = no 
				is_subject = no
				controls_state = 185 #Epirus
				controls_state = 731 #Central Macedonia
				controls_state = 184 #Thrace
			}
			OR = {
				AND = {
					ITA = {
						NOT = { has_war_with = GER }
						OR = {
							has_government = fascism
							has_government = neutrality
						}
						OR = {
							is_subject_of = GER
							is_subject = no
						}
						OR = {
							is_in_faction_with = GER
							is_in_faction = no
						}
					}
				}
				AND = {
					BUL = {
						NOT = { has_war_with = GER }				
						OR = {
							has_government = fascism
							has_government = neutrality
						}
						OR = {
							is_subject_of = GER
							is_subject = no
						}
						OR = {
							is_in_faction_with = GER
							is_in_faction = no
						}
					}
				}
				GRE = {
					any_neighbor_country = {
						OR = {
							is_subject_of = GER
							tag = GER
						}	
					}
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		will_lead_to_war_with = GRE

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_named_threat = { threat = 2 name = GER_second_ljubljana_award }
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_second_ljubljana_award_tt
			if = {
				limit = {
					OR = {
						ITA = {
							is_friend_or_potential_friend_of_GER = yes
							OR = {
								has_government = fascism
								has_government = neutrality
							}
							OR = {
								is_subject_of = GER
								is_subject = no
							}
							OR = {
								is_in_faction_with = GER
								is_in_faction = no
							}
							NOT = { #oh no, Italy is cozying up to Greece - give them nothing!
								OR = {
									has_completed_focus = ITA_befriend_greece
									focus_progress = {
										focus = ITA_befriend_greece
										progress > 0
									}
								}
							}
						}
						BUL = {
							is_friend_or_potential_friend_of_GER = yes
							OR = {
								has_government = fascism
								has_government = neutrality
							}
							OR = {
								is_subject_of = GER
								is_subject = no
							}
							OR = {
								is_in_faction_with = GER
								is_in_faction = no
							}
							NOT = { #Oh no! Bulgaria might go to war with Greece in the near future - give me nothing!
								OR = {
									has_completed_focus = BUL_the_return_of_ferdinand_i
									focus_progress = {
										focus = BUL_the_return_of_ferdinand_i
										progress > 0
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						ITA = {
							is_friend_or_potential_friend_of_GER = yes
							OR = {
								has_government = fascism
								has_government = neutrality
							}
							OR = {
								is_subject_of = GER
								is_subject = no
							}
							OR = {
								is_in_faction_with = GER
								is_in_faction = no
							}
							NOT = { #oh no, Italy is cozying up to Greece - give them nothing!
								OR = {
									has_completed_focus = ITA_befriend_greece
									focus_progress = {
										focus = ITA_befriend_greece
										progress > 0
									}
								}
							}
						}
					}
					set_global_flag = GER_second_ljubljana_award_ITA_event
					country_event = { id = germany.99 }

					custom_effect_tooltip = generic_skip_one_line_tt
				}
				if = {
					limit = {
						BUL = {
							is_friend_or_potential_friend_of_GER = yes
							OR = {
								has_government = fascism
								has_government = neutrality
							}
							OR = {
								is_subject_of = GER
								is_subject = no
							}
							OR = {
								is_in_faction_with = GER
								is_in_faction = no
							}
							NOT = { #Oh no! Bulgaria might go to war with Greece in the near future - give them nothing!
								OR = {
									has_completed_focus = BUL_the_return_of_ferdinand_i
									focus_progress = {
										focus = BUL_the_return_of_ferdinand_i
										progress > 0
									}
								}
							}
						}
					}
					set_global_flag = GER_second_ljubljana_award_BUL_event
					country_event = { id = germany.100 }

					custom_effect_tooltip = generic_skip_one_line_tt
				}
			}
			else = {
				set_global_flag = GER_second_ljubljana_award_GER_event
				GRE = { country_event = { id = greece.2 hours = 12 } }
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					if = {
						limit = {
							185 = { #Epirus
								is_fully_controlled_by = GRE
							}
						}
						GER = { transfer_state = 185 }
						set_global_flag = GER_second_ljubljana_award_GER_185
					}
					if = {
						limit = {
							731 = { #Central Macedonia
								is_fully_controlled_by = GRE
							}
						}
						GER = { transfer_state = 731 }
						set_global_flag = GER_second_ljubljana_award_GER_731
					}
					if = {
						limit = {
							184 = { #Thrace
								is_fully_controlled_by = GRE
							}
						}
						GER = { transfer_state = 184 }
						set_global_flag = GER_second_ljubljana_award_GER_184
					}
				}
				hidden_effect = {
					if = {
						limit = {
							185 = { #Epirus
								is_fully_controlled_by = GRE
							}
						}
						set_global_flag = GER_second_ljubljana_award_GER_185
					}
					if = {
						limit = {
							731 = { #Central Macedonia
								is_fully_controlled_by = GRE
							}
						}
						set_global_flag = GER_second_ljubljana_award_GER_731
					}
					if = {
						limit = {
							184 = { #Thrace
								is_fully_controlled_by = GRE
							}
						}
						set_global_flag = GER_second_ljubljana_award_GER_184
					}
				}
			}			
		}
	}

	focus = {
		id = GER_fate_of_greece

		icon = GFX_focus_GER_fate_of_greece
		#alternate_icon = GFX_focus_GER_fate_of_greece_historical

		prerequisite = { focus = GER_second_ljubljana_award }

		x = 0
		y = 1
		relative_position_id = GER_second_ljubljana_award
		cost = 10
		
		available = {
			is_subject = no
			NOT = { has_wargoal_against = GRE }
			GRE = {
				exists = yes
				is_subject = no
				has_war = no	
			}
		}

		will_lead_to_war_with = GRE

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}	
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			GRE = { 
				country_event = { 
					id = greece.3 
					hours = 6 
				} 
			}
		}
	}

	focus = {
		id = GER_war_with_greece
		icon = GFX_focus_generic_attack_greece
		prerequisite = { focus = GER_fate_of_yugoslavia }
		mutually_exclusive = { focus = GER_second_ljubljana_award }
		x = 1
		y = 1
		relative_position_id = GER_fate_of_yugoslavia
		cost = 10
		
		will_lead_to_war_with = GRE
		
		available = {
			is_subject = no
			GRE = { 
				exists = yes
				has_war = yes
			}
			NOT = { is_in_faction_with = GRE }
			NOT = { has_war_with = GRE }
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			create_wargoal = {
				target = GRE
				type = annex_everything
				expire = 0
			}
		}
	}

	focus = {
		id = GER_reorganize_the_wehrmacht #von Ribbentrop

		icon = GFX_focus_GER_reorganize_the_wehrmacht
		alternate_icon = GFX_focus_GER_reorganize_the_wehrmacht_historical

		prerequisite = { focus = GER_remilitarize_the_rhineland }
		mutually_exclusive = { focus = GER_heed_von_neuraths_concerns }
		x = 20
		y = 0
		relative_position_id = GER_heed_von_neuraths_concerns
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_political_power = 50
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = joachim_von_ribbentrop

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = GER_konstantin_von_neurath
				ROLE = political_advisor
			}

			#This is bad (too long)
			#custom_effect_tooltip = remove_political_advisor
			#show_ideas_tooltip = konstantin_von_neurath

			#This is even worse (errors, no need to retire anyone)
			#retire_character = GER_konstantin_von_neurath
			
			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = GER_werner_von_blomberg
				ROLE = fm_leader
			}

			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = GER_werner_von_fritsch
				ROLE = cc_leader
			}

			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = GER_oswald_lutz
				ROLE = cc_leader
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer
						add = GER_der_fuhrer_wehrmacht
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer_fuhrerprinzip
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer_fuhrerprinzip
						add = GER_der_fuhrer_fuhrerprinzip_wehrmacht
					}
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_fuhrerprinzip
				}
				add_country_leader_trait = GER_der_fuhrer_fuhrerprinzip_wehrmacht
			}
			else = {
				add_country_leader_trait = GER_der_fuhrer_wehrmacht
			}
		}
	}

	focus = {
		id = GER_anti_comintern_pact

		icon = GFX_goal_anti_comintern_pact
		alternate_icon = GFX_focus_GER_anti_comintern_pact

		prerequisite = { focus = GER_remilitarize_the_rhineland }

		x = 2
		y = 0
		relative_position_id = GER_reorganize_the_wehrmacht
		cost = 5
		
		bypass = {
			SOU = {
				OR = {
					NOT = {
						has_government = communism
					}
					exists = no
				}
			}
		}

		available = {
			is_subject = no
			NOT = { has_government = communism }
			NOT = { is_in_faction_with = SOU }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			SOU = { add_opinion_modifier = { target = ROOT modifier = pact_against_us } }
			add_named_threat = { threat = 2 name = GER_anti_comintern_pact }
			every_other_country = {
				limit = {
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
					NOT = { is_in_faction_with = SOU }
					is_subject = no
					OR = {
						capital_scope = {
							is_on_continent = europe
						}
						capital_scope = {
							is_on_continent = asia
						}
						num_of_factories > 30
					}
					OR = {
						has_government = fascism 
						AND = {
							is_neighbor_of = SOU
							NOT = { has_government = communism }
						}
					}
				}
				country_event = germany.5
			}
		}
	}

	focus = {
		id = GER_anti_soviet_pact
		icon = GFX_focus_ger_bulwark_against_bolshevism
		prerequisite = { focus = GER_anti_comintern_pact }
		mutually_exclusive = { focus = GER_molotov_ribbentrop_pact }
		x = -1
		y = 1
		relative_position_id = GER_anti_comintern_pact
		cost = 10
		
		available = {
			is_subject = no
			SOU = {
				has_government = communism
			}
		}

		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0.1
				has_idea = SOV_soviet_german_trade_agreement
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		
		search_filters = {}
		
		completion_reward = {
			hidden_effect = {
				SOV = { remove_opinion_modifier = { target = ROOT modifier = pact_against_us } }
				add_ideas = anti_soviet_pact
			}
			SOU = { add_opinion_modifier = { target = ROOT modifier = worse_pact_against_us } }
			custom_effect_tooltip = GER_anti_soviet_pact_tt_3

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_anti_soviet_pact_tt
			custom_effect_tooltip = GER_anti_soviet_pact_tt_2
			every_other_country = {
				limit = {
					has_opinion_modifier = anti_comintern_pact_opinion
					OR = {
						NOT = { is_in_faction = yes }
						is_in_faction_with = GER
					}
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
				}
				country_event = germany.83
			}
			hidden_effect = {
				news_event = { hours = 12 id = news.215 }
			}
		}
	}

	focus = {
		id = GER_support_finland
		icon = GFX_focus_FIN_right_wing_policies
		prerequisite = { focus = GER_anti_soviet_pact }

		x = 0
		y = 1
		relative_position_id = GER_anti_soviet_pact
		cost = 5
		available = {
			is_subject = no
			NOT = { is_ally_with = SOV }
			NOT = {
				has_war_with = FIN
			}
			FIN = {
				exists = yes
				has_war_with = SOV
			}
		}

		search_filters = {}

		completion_reward = {
			add_timed_idea = {
				idea = GER_nordische_legion_ns
				days = 545
			}
		}
	}

	focus = {
		id = GER_war_with_the_ussr

		icon = GFX_focus_attack_soviet
		alternate_icon = GFX_focus_GER_war_with_the_ussr

		prerequisite = { focus = GER_anti_comintern_pact }
		mutually_exclusive = { focus = GER_alliance_with_the_ussr }
		x = 0
		y = 3
		relative_position_id = GER_anti_comintern_pact
		cost = 10

		will_lead_to_war_with = SOV

		bypass = {
			OR = {
				has_war_with = SOV
				SOV = {
					exists = no
				}
			}
		}

		available_if_capitulated = no

		available = {
			is_subject = no
		}

		cancel = {
			is_subject = yes
			NOT = { country_exists = SOV }
		}

		historical_ai = {
			# Only if we have defeated our enemies
			NOT = {
				any_home_area_neighbor_country = {
					has_war_with = ROOT
					has_capitulated = no
					# Honestly, let's not care about the scandinavian countries
					NOT = {
						OR = {
							tag = NOR
							tag = DEN 
							tag = LUX # Or Luxenburg for that matter. 
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_army_manpower = { size < 1199999 }
					any_home_area_neighbor_country = {
						has_war_with = ROOT
					}
				}
			}
			modifier = {
				factor = 0 #AI should not pick this focus if it does not share a border with the Soviets
				NOT = { 
					any_home_area_neighbor_country = {
						tag = SOV
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1939.1.1
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			IF = {
				limit = { SOV = { has_civil_war = no } }
				create_wargoal = {
					type = annex_everything
					target = SOV
					expire = 0
				}
			}
			ELSE = {
				every_country = {
					limit = { original_tag = SOV }
					GER = {
						create_wargoal = {
							type = annex_everything
							target = PREV
							expire = 0
						}
					}
				}
			}

			IF = {
				limit = {
					KUB = {
						exists = no
					}
					DON = {
						exists = no
					}
					SOV = {
						NOT = {
							has_completed_focus = SOV_beaten_but_not_defeated
						}
					}
				}
				country_event = {
					id = wuw_GER_legions.8
				}	
			}
		}
	}

	focus = {
		id = GER_molotov_ribbentrop_pact

		icon = GFX_goal_molotov_ribbentrop_pact
		alternate_icon = GFX_focus_GER_molotov_ribbentrop_pact

		prerequisite = { focus = GER_reorganize_the_wehrmacht }
		mutually_exclusive = { focus = GER_anti_soviet_pact }
		x = -1
		y = 1
		relative_position_id = GER_reorganize_the_wehrmacht
		cost = 5
		
		available = {
			is_subject = no
			has_government = fascism
			SOV = {
				NOT = { has_war_with = GER }
				country_exists = SOV
				has_civil_war = no
			}
			NOT = { has_global_flag = beck_ribbentrop_signed }
		}

		cancel = {
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
				has_global_flag = beck_ribbentrop_signed
			}
		}

		continue_if_invalid = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GER_anti_comintern_pact }
			}
			modifier = {
				factor = 2
				has_idea = SOV_soviet_german_trade_agreement
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }
	
		completion_reward = {
			SOV = {
				country_event = { id = germany.11 days = 1 }
				custom_effect_tooltip = GER_mol_rib_pact_tt
				custom_effect_tooltip = needs_approval
			}
		}
	}

	focus = {
		id = GER_treaty_with_the_ussr
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = GER_molotov_ribbentrop_pact }

		x = 0
		y = 1
		relative_position_id = GER_molotov_ribbentrop_pact
		cost = 10
		
		bypass = { 
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
				has_completed_focus = GER_bulwark_against_bolshevism
				has_completed_focus = GER_the_great_red_menace
			}
		}

		available = {
			NOT = { has_completed_focus = GER_anti_soviet_pact }
			OR = {
				NOT = { has_completed_focus = GER_bulwark_against_bolshevism }
				NOT = { has_completed_focus = GER_the_great_red_menace }
			}
		}

		cancel = { 
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
			} 
		}

		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			SOV = {
				country_event = { id = germany.75 days = 1 }
				custom_effect_tooltip = needs_approval
				# Actual reward effects added in event if Soviets approve
				effect_tooltip = {
					# Trade influence with the USSR? Or simply let the opinion mod do the work
					give_SOV_armor_research_bonuses = yes
				}
			}

			if = {
				limit = { 
					has_dlc = "No Step Back"
				}
				#custom_effect_tooltip = GER_soviet_treaty_research_nsb_tt #Obsolete now
				effect_tooltip = {
					create_equipment_variant = {
						name = "Panzer VII Löwe"
						type = heavy_tank_chassis_2
						design_team = mio:GER_daimler_benz_organization #We feed on your tears
						parent_version = 0
						modules = {
							main_armament_slot = tank_heavy_cannon_2
							turret_type_slot = tank_heavy_two_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = tank_radio_1
							special_type_slot_2 = additional_machine_guns
							special_type_slot_3 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 6
							tank_nsb_armor_upgrade = 6
						}
						icon = "GFX_GER_improved_heavy_tank_medium"
					}
					create_equipment_variant = {
						name = "Panzerjäger Elefant"
						type = heavy_tank_destroyer_chassis_2
						design_team = mio:GER_porsche_organization #We feed on your tears
						parent_version = 0
						modules = {
							main_armament_slot = tank_heavy_cannon_2
							turret_type_slot = tank_heavy_fixed_superstructure_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = tank_radio_1
							special_type_slot_2 = additional_machine_guns
							special_type_slot_3 = squeezebore_adaptor
							special_type_slot_4 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 6
							tank_nsb_armor_upgrade = 6
						}
						icon = "GFX_GER_improved_heavy_tank_medium"
					}	
					add_tech_bonus = {
						name = armor_bonus
						bonus = 2.0
						uses = 1
						category = armor
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			else = {
				effect_tooltip = {
					add_tech_bonus = {
						name = med_armor_bonus
						ahead_reduction = 1
						category = cat_medium_armor
					}
					add_tech_bonus = {
						name = armor_bonus
						bonus = 1.0
						uses = 2
						category = armor
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_breakthrough_progress = {
				specialization = specialization_land
				value = 1
			}

			SOV = {
				add_breakthrough_progress = {
					specialization = specialization_land
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_alliance_with_the_ussr
		icon = GFX_focus_GER_alliance_with_the_ussr
		prerequisite = { focus = GER_treaty_with_the_ussr }
		mutually_exclusive = { focus = GER_war_with_the_ussr }
		x = 0
		y = 1
		relative_position_id = GER_treaty_with_the_ussr
		cost = 10
		
		bypass = {
			SOV = {
				is_in_faction_with = GER
			}
		}

		available = {
			is_subject = no
			has_government = fascism
			has_war = no
			SOV = {
				has_war = no
				NOT = { has_war_with = GER }
				is_subject = no
			}
		}

		ai_will_do = {
			factor = 0.01
			modifier = {
				factor = 0
				NOT = { is_in_faction_with = POL }
				country_exists = POL
			}			
			modifier = {
				factor = 0
				OR = {
					has_war_with = POL
					has_war_with = FRA
				}
			}				
		}	

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			if = {
				limit = { is_faction_leader = yes }
				custom_effect_tooltip = ger_sov_buddies_tooltip_2
			}
			custom_effect_tooltip = ger_sov_buddies_tooltip
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				if = {
					limit = {
						is_faction_leader = yes
					}
					dismantle_faction = yes
				}
				else_if = {
					limit = {
						is_in_faction  = yes
					}
					remove_from_faction = GER
				}
				create_faction = the_berlin_moscow_axis
				add_timed_idea = {
					idea = soviet_german_friendship
					days = 730
				}
			}
			SOV = {
				add_opinion_modifier = { target = GER modifier = ger_sov_alliance_focus }
				country_event = germany.89
			}
		}
	}

	focus = {
		id = GER_puppet_turkey
		icon = GFX_focus_generic_attack_turkey
		prerequisite = { focus = GER_alliance_with_the_ussr }

		x = 0
		y = 1
		relative_position_id = GER_alliance_with_the_ussr
		cost = 10
		
		available = {
			is_subject = no
			has_government = fascism
			GRE = {
				OR = {
					is_in_faction_with = GER
					all_owned_state = {
						controller = { is_in_faction_with = GER }
					}
				}
			}
			NOT = { has_war_with = SOV }
			country_exists = TUR
		}

		will_lead_to_war_with = TUR

		search_filters = { FOCUS_FILTER_ANNEXATION }

		ai_will_do = {
			factor = 1
		}	

		completion_reward = {
			TUR = { 
				country_event = { 
					id = germany.79 
					days = 1 
				} 
			}
		}
	}
	
	focus = {
		id = GER_befriend_turkey
		icon = GFX_focus_generic_befriend_turkey
		prerequisite = { focus = GER_war_with_the_ussr }

		x = -1
		y = 1
		relative_position_id = GER_war_with_the_ussr
		cost = 5
		
		bypass = { 
			OR = {
				TUR = { is_in_faction_with = GER }
				TUR = { is_subject_of = GER }
				NOT = { country_exists = TUR }
			}
		}

		available_if_capitulated = no

		available = { 
			is_subject = no 
			NOT = { has_war_with = TUR }
			TUR = {
				exists = yes
				is_subject = no
			}

			TUR = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			TUR = {
				add_opinion_modifier = { target = ROOT modifier = ger_tur_diplomacy_focus }
				if = {
					limit = {
						is_ai = yes
						is_in_faction = no
						is_subject = no
						has_government = ROOT
						ROOT = { is_faction_leader = yes }
					}
					country_event = {
						id = generic.5
						hours = 6
						random_hours = 12
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				if = {
					limit = {
						ROOT = {
							has_government = fascism
						}
					}
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = {
						ROOT = {
							has_government = communism
						}
					}
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = {
						ROOT = {
							has_government = democratic
						}
					}
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
		}
	}

	focus = {
		id = GER_influence_the_middle_east
		icon = GFX_focus_generic_influence_middle_east
		prerequisite = { focus = GER_puppet_turkey focus = GER_befriend_turkey }

		x = 1
		y = 1
		relative_position_id = GER_puppet_turkey
		cost = 5
		available = {
			is_subject = no
		}

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			custom_effect_tooltip = GER_unlock_influence_countries_tt
			custom_effect_tooltip = GER_middle_eastern_trade_tt
		}
	}

	focus = {
		id = GER_the_final_blow_to_communism
		icon = GFX_focus_generic_spread_fascism
		prerequisite = { focus = GER_war_with_the_ussr }

		x = 0
		y = 2
		relative_position_id = GER_war_with_the_ussr
		cost = 10
		available = {
			is_subject = no
			any_country = {
				capital_scope = { is_on_continent = europe }
				has_government = communism
			}
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		will_lead_to_war_with = SOV
		will_lead_to_war_with = MON
		will_lead_to_war_with = TAN
		will_lead_to_war_with = SIK

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			custom_effect_tooltip = GER_war_against_communism_tt
			every_other_country = {
				limit = {
					#capital_scope = { is_on_continent = europe } #Intentionally made so that it grants wargoal against any commie in the world (not just Europe)
					has_government = communism
					NOT = { 
						ROOT = {
							has_wargoal_against = PREV
						}
					}
				}
				hidden_effect = { #Tooltip is bad so better to just hide it and show the countries via the every_other_country scope
					ROOT = {
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}

			#This is important stuff (Someone leaving faction) so show it when appropriate
			if = {
				limit = {
					any_allied_country = {
						has_government = communism
					}
				}
				if = {
					limit = {
						is_faction_leader = yes
					}
					every_other_country = {
						limit = {
							is_in_faction_with = ROOT
							has_government = communism
						}
						ROOT = { remove_from_faction = PREV }
					}
				}
				else = {
					ROOT = { leave_faction = yes }
				}
			}

			#Not so important so just hide it, it should be logic that any diplo relations are terminated
			hidden_effect = {
				every_other_country = {
					limit = {
						OR = {
							is_guaranteed_by = ROOT
							has_non_aggression_pact_with = ROOT
						}
						has_government = communism
					}
					
					if = {
						limit = {
							ROOT = {
								has_guaranteed = PREV
							}
						}
						ROOT = {
							diplomatic_relation = {
								country = PREV
								relation = guarantee
								active = no
							}
						}
					}

					if = {
						limit = {
							has_non_aggression_pact_with = ROOT
						}
						ROOT = {
							diplomatic_relation = {
								country = PREV
								relation = non_aggression_pact
								active = no
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_befriend_china
		icon = GFX_focus_chi_cooperation_with_the_nationalists
		prerequisite = { focus = GER_anti_comintern_pact }
		mutually_exclusive = { focus = GER_befriend_japan }
		x = 3
		y = 1
		relative_position_id = GER_anti_comintern_pact
		cost = 5

		available_if_capitulated = yes
		
		available = {
			is_subject = no
			AND = {
				country_exists = CHI
				CHI = { is_subject = no }
				NOT = { has_war_with = CHI }
				CHI = {
					custom_trigger_tooltip = {
						tooltip = GER_alone_or_peace_faction_tt
						is_alone_or_in_faction_at_peace_with_GER = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 0.5
			modifier = {
				is_in_faction_with = JAP
				factor = 0
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			event_target:WTT_current_china_leader = {
				set_country_flag = GER_befriended_by_germany_flag
				country_event = { id = wuw_GER_diplomacy.29 hours = 6 }
			}

			effect_tooltip = {
				event_target:WTT_current_china_leader = {
					add_offsite_building = { type = arms_factory level = 2 }
					add_opinion_modifier = { target = GER modifier = ger_chi_diplomacy_focus }
				}
			}
			JAP = {
				add_opinion_modifier = { target = GER modifier = supported_the_chinese }
			}

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Afrikanische Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Afrikanische Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 98
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_1_entity
				}

				delete_unit_template_and_units = {
					division_template = "Askari Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Askari Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 67
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_2_entity
				}

				delete_unit_template_and_units = {
					division_template = "Asiatische Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Asiatische Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 99
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_3_entity
				}
			}

		}

	}

	focus = {
		id = GER_befriend_japan

		icon = GFX_focus_chi_collaboration_with_the_japanese
		alternate_icon = GFX_focus_GER_befriend_japan

		prerequisite = { focus = GER_anti_comintern_pact }
		mutually_exclusive = { focus = GER_befriend_china }
		x = 4
		y = 0
		relative_position_id = GER_befriend_china
		cost = 5
		
		available_if_capitulated = yes

		available = {
			is_subject = no
			AND = {
				country_exists = JAP
				JAP = { is_subject = no }
				NOT = { has_war_with = JAP }
				JAP = {
					custom_trigger_tooltip = {
						tooltip = GER_alone_or_peace_faction_tt
						is_alone_or_in_faction_at_peace_with_GER = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				is_in_faction_with = JAP
				factor = 0 #GER-sempai has already noticed you!
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			JAP = {
				country_event = {
					id = wuw_GER_diplomacy.90
					hours = 12
				}
				set_country_flag = GER_JAP_nap_request_flag
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			effect_tooltip = {
				JAP = {
					add_opinion_modifier = { target = GER modifier = ger_jap_diplomacy_focus }
				}
				diplomatic_relation = { 
					country = JAP
					relation = non_aggression_pact 
				}

			}

			event_target:WTT_current_china_leader = {
				add_opinion_modifier = { target = GER modifier = withdrew_advisors }
				country_event = { id = china.3 hours = 6 }
			}
			custom_effect_tooltip = GER_japan_friend_tt
			set_global_flag = falkenhausen_recalled
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				show_unit_leaders_tooltip = GER_alexander_von_falkenhausen
			}

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Afrikanische Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Afrikanische Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 98
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_1_entity
				}

				delete_unit_template_and_units = {
					division_template = "Askari Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Askari Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 67
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_2_entity
				}

				delete_unit_template_and_units = {
					division_template = "Asiatische Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Asiatische Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 99
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_3_entity
				}
			}
			
		}
	}

	focus = {
		id = GER_reclaim_former_african_colonies
		icon = GFX_focus_GER_reclaim_former_african_colonies
		prerequisite = { focus = GER_befriend_china focus = GER_befriend_japan }

		x = 2
		y = 1
		relative_position_id = GER_befriend_china

		cost = 5

		available = {
			is_subject = no
		}

		bypass = {
			GER = {
				controls_state = 541
				controls_state = 546
				controls_state = 777
				controls_state = 893
				controls_state = 894
				controls_state = 894
			}
		}

		search_filters = {}

		completion_reward = {

			IF = { # if Germany doesn't control Khomas
				limit = {
					541 = {
						NOT = {
							is_fully_controlled_by = ROOT
						}
					}
				}
				IF = { #KHOMAS
					limit = {
						541 = {
							controller = {
								is_subject = yes
								OVERLORD = {
									is_in_faction_with = ROOT
									NOT = {
										has_country_flag = GER_african_colonial_demand_sent_flag
										original_tag = GER
									}
								}
							}
						}
					}
	
					541 = {
						controller = {
							overlord = {
								country_event = {
									id = wuw_GER_diplomacy.38
									hours = 6
								}
	
								set_country_flag = GER_african_colonial_demand_sent_flag
							}
						}
					}	
				}
				ELSE_IF = {
					limit = {
						541 = {
							controller = {
								is_in_faction_with = ROOT
								NOT = {
									has_country_flag = GER_african_colonial_demand_sent_flag
								}
							}
						}
					}
					541 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
	
							set_country_flag = GER_african_colonial_demand_sent_flag
						}
					}
				}
				ELSE_IF = {
					limit = {
						541 = {
							controller = {
								is_subject_of = ROOT
							}
						}
					}
					541 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
						}
					}
				}
				ELSE_IF = {
					limit = {
						
						541 = {
							controller = {
								OR = {
									AND = {
										is_subject = no
										has_country_flag = GER_african_colonial_demand_sent_flag
									}
									AND = {
										is_subject = yes
										OVERLORD = {
											has_country_flag = GER_african_colonial_demand_sent_flag
										}
									}
								}
							}
						}
						
					}
					#this is just to prevent multiple events from being sent, and claims being sent erraneously
				}
				ELSE = {
					add_state_claim = 541
				}
			}

			IF = { # Germany doesn't control Tanganyika
				limit = {
					546 = {
						NOT = {
							is_fully_controlled_by = ROOT
						}
					}
				}
				IF = { #TANGANYIKA
					limit = {
						546 = {
							controller = {
								is_subject = yes
								OVERLORD = {
									is_in_faction_with = ROOT
									NOT = {
										has_country_flag = GER_african_colonial_demand_sent_flag
										original_tag = GER
									}
								}
							}
						}
					}
	
					546 = {
						controller = {
							OVERLORD = {
								country_event = {
									id = wuw_GER_diplomacy.38
									hours = 6
								}
								set_country_flag = GER_african_colonial_demand_sent_flag
							}
						}
					}	
				}
				ELSE_IF = {
					limit = {
						546 = {
							controller = {
								is_in_faction_with = ROOT
							}
						}
					}
					546 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
							set_country_flag = GER_african_colonial_demand_sent_flag
						}
					}
				}
				ELSE_IF = {
					limit = {
						546 = {
							controller = {
								is_subject_of = ROOT
							}
						}
					}
					546 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
						}
					}
				}
				ELSE_IF = {
					limit = {
						
						546 = {
							controller = {
								OR = {
									AND = {
										is_subject = no
										has_country_flag = GER_african_colonial_demand_sent_flag
									}
									AND = {
										is_subject = yes
										OVERLORD = {
											has_country_flag = GER_african_colonial_demand_sent_flag
										}
									}
								}
							}
						}
					}
					#this is just to prevent multiple events from being sent, and claims being sent 	erraneously
				}
				ELSE = {
					add_state_claim = 546
				}
			}

			IF = { #If Germany doesn't control Togo
				limit = {
					777 = {
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				IF = { #TOGO
					limit = {
						777 = {
							controller = {
								is_subject = yes
								OVERLORD = {
									is_in_faction_with = ROOT
									NOT = {
										has_country_flag = GER_african_colonial_demand_sent_flag
										original_tag = GER
									}
								}
							}
						}
					}
	
					777 = {
						controller = {
							OVERLORD = {
								country_event = {
									id = wuw_GER_diplomacy.38
									hours = 6
								}
								set_country_flag = GER_african_colonial_demand_sent_flag
							}
						}
					}	
				}
				ELSE_IF = {
					limit = {
						777 = {
							controller = {
								is_in_faction_with = ROOT
							}
						}
					}
					777 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
							set_country_flag = GER_african_colonial_demand_sent_flag
						}
					}
				}
				ELSE_IF = {
					limit = {
						777 = {
							controller = {
								is_subject_of= ROOT
							}
						}
					}
					777 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
						}
					}
				}
				ELSE_IF = {
					limit = {
					
						777 = {
							controller = {
								OR = {
									AND = {
										is_subject = no
										has_country_flag = GER_african_colonial_demand_sent_flag
									}
									AND = {
										is_subject = yes
										OVERLORD = {
											has_country_flag = GER_african_colonial_demand_sent_flag
										}
									}
								}
							}
						}
						
					}
					#this is just to prevent multiple events from being sent, and claims being sent 	erraneously
				}
				ELSE = {
					add_state_claim = 777
				}
			}

			IF = { #If Germany doesn't control Karas
				limit = {
					893 = {
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				IF = { #Karas
					limit = {
						893 = {
							controller = {
								is_subject = yes
								OVERLORD = {
									is_in_faction_with = ROOT
									NOT = {
										has_country_flag = GER_african_colonial_demand_sent_flag
										original_tag = GER
									}
								}
							}
						}
					}
	
					893 = {
						controller = {
							OVERLORD = {
								country_event = {
									id = wuw_GER_diplomacy.38
									hours = 6
								}
								set_country_flag = GER_african_colonial_demand_sent_flag
							}
						}
					}	
				}
				ELSE_IF = {
					limit = {
						893 = {
							controller = {
								is_in_faction_with = ROOT
							}
						}
					}
					893 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
							set_country_flag = GER_african_colonial_demand_sent_flag
						}
					}
				}
				ELSE_IF = {
					limit = {
						893 = {
							controller = {
								is_subject_of = ROOT
							}
						}
					}
					893 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
						}
					}
				}
				ELSE_IF = {
					limit = {
						
						893 = {
							controller = {
								OR = {
									AND = {
										is_subject = no
										has_country_flag = GER_african_colonial_demand_sent_flag
									}
									AND = {
										is_subject = yes
										OVERLORD = {
											has_country_flag = GER_african_colonial_demand_sent_flag
										}
									}
								}
							}
						}
					
					}
					#this is just to prevent multiple events from being sent, and claims being sent erraneously
				}
				ELSE = {
					add_state_claim = 893
				}
			}

			IF = { #If Germany doesn't control Kunene
				limit = {
					894 = {
						NOT = { is_fully_controlled_by = ROOT}
					}
				}
				IF = { #KUNENE
					limit = {
						894 = {
							controller = {
								is_subject = yes
								OVERLORD = {
									is_in_faction_with = ROOT
									NOT = {
										has_country_flag = GER_african_colonial_demand_sent_flag
										original_tag = GER
									}
								}
							}
						}
					}
	
					894 = {
						controller = {
							OVERLORD = {
								country_event = {
									id = wuw_GER_diplomacy.38
									hours = 6
								}
								set_country_flag = GER_african_colonial_demand_sent_flag
							}
						}
					}	
				}
				ELSE_IF = {
					limit = {
						894 = {
							controller = {
								is_in_faction_with = ROOT
							}
						}
					}
					894 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
							set_country_flag = GER_african_colonial_demand_sent_flag
						}
					}
				}
				ELSE_IF = {
					limit = {
						894 = {
							controller = {
								is_subject_of = ROOT
							}
						}
					}
					894 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
						}
					}
				}
				ELSE_IF = {
					limit = {
						
						894 = {
							controller = {
								OR = {
									AND = {
										is_subject = no
										has_country_flag = GER_african_colonial_demand_sent_flag
									}
									AND = {
										is_subject = yes
										OVERLORD = {
											has_country_flag = GER_african_colonial_demand_sent_flag
										}
									}
								}
							}
						}
					
					}
					#this is just to prevent multiple events from being sent, and claims being sent erraneously
				}
				ELSE = {
					add_state_claim = 894
				}
			}

			IF = { #If Germany doesn't control Otjozondjupa
				limit = {
					895 = {
						NOT = { is_fully_controlled_by = ROOT}
					}
				}
				IF = { #OTJOZONDJUPA
					limit = {
						895 = {
							controller = {
								is_subject = yes
								OVERLORD = {
									is_in_faction_with = ROOT
									NOT = {
										has_country_flag = GER_african_colonial_demand_sent_flag
										original_tag = GER
									}
								}
							}
						}
					}
	
					895 = {
						controller = {
							OVERLORD = {
								country_event = {
									id = wuw_GER_diplomacy.38
									hours = 6
								}
								set_country_flag = GER_african_colonial_demand_sent_flag
							}
						}
					}	
				}
				ELSE_IF = {
					limit = {
						895 = {
							controller = {
								is_in_faction_with = ROOT
							}
						}
					}
					895 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
							set_country_flag = GER_african_colonial_demand_sent_flag
						}
					}
				}
				ELSE_IF = {
					limit = {
						895 = {
							controller = {
								is_subject_of = ROOT
							}
						}
					}
					895 = {
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.38
								hours = 6
							}
						}
					}
				}
				ELSE_IF = {
					limit = {
						
						895 = {
							controller = {
								OR = {
									AND = {
										is_subject = no
										has_country_flag = GER_african_colonial_demand_sent_flag
									}
									AND = {
										is_subject = yes
										OVERLORD = {
											has_country_flag = GER_african_colonial_demand_sent_flag
										}
									}
								}
							}
						}
						
					}
					#this is just to prevent multiple events from being sent, and claims being sent erraneously
				}
				ELSE = {
					add_state_claim = 895
				}
			}

			add_named_threat = { 
				threat = 5
				name = GER_reclaim_former_african_colonies
			}

		}

	}

	focus = {
		id = GER_mittelafrika
		icon = GFX_focus_GER_mittelafrika
		prerequisite = { focus = GER_reclaim_former_african_colonies }

		x = 0
		y = 1
		relative_position_id = GER_reclaim_former_african_colonies
		cost = 10
		available = {
			is_subject = no
			has_government = fascism
			has_completed_focus = GER_uplift_the_rosenberg_office
			any_controlled_state = {
				is_on_continent = africa
			}
		}

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						897 = { #Zambia-Mocambique
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 897
			}
			IF = {
				limit = {
					NOT = {
						896 = { #Manica e Sofala
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 896 
			}
			IF = {
				limit = {
					NOT = {
						544 = { #Lourenco Marques
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 544
			}
			IF = {
				limit = {
					NOT = {
						540 = { #Luanda
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 540 
			}
			IF = {
				limit = {
					NOT = {
						892 = { #South West Angola
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 892
			}
			IF = {
				limit = {
					NOT = {
						891 = { #Zambesi
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 891 
			}
			IF = {
				limit = {
					NOT = {
						295 = { #Leopoldville
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 295
			}
			IF = {
				limit = {
					NOT = {
						889 = { #Elisabethville
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 889 
			}
			IF = {
				limit = {
					NOT = {
						888 = { #Lusambo
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 888
			}
			IF = {
				limit = {
					NOT = {
						538 = { #Coquilhatville
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 538 
			}
			IF = {
				limit = {
					NOT = {
						890 = { #Costermansville
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 890
			}
			IF = {
				limit = {
					NOT = {
						769 = { #Burundi
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 769 
			}
			IF = {
				limit = {
					NOT = {
						768 = { #Rwanda
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 768 
			}
			IF = {
				limit = {
					NOT = {
						718 = { #Stanelyville
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 718
			}
			IF = {
				limit = {
					NOT = {
						539 = { #Gabon
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 539
			}
			IF = {
				limit = {
					NOT = {
						772 = { #Middle Congo
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 772
			}
			IF = {
				limit = {
					NOT = {
						297 = { #Equatorial Guinea
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 297
			}
			IF = {
				limit = {
					NOT = {
						545 = { #Rhodesia
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 545
			}
			IF = {
				limit = {
					NOT = {
						981 = { #Barotziland
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 981
			}
			IF = {
				limit = {
					NOT = {
						771 = { #Northeast Rhodesia
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 771
			}
			IF = {
				limit = {
					NOT = {
						770 = { #Malawi
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 770
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = GER_reichskommissariat_nordafrika
			unlock_decision_tooltip = GER_reichskommissariat_mittelafrika

			custom_effect_tooltip = generic_skip_one_line_tt 

			custom_effect_tooltip = GER_mittelafrika_revive_the_schutztruppe_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			add_named_threat = { 
				threat = 3
				name = GER_mittelafrika
			}

		}
	}
		
	focus = {
		id = GER_re_establish_german_control_over_qingdao
		icon = GFX_focus_GER_re_establish_german_control_over_qingdao 
		prerequisite = { focus = GER_befriend_china }

		x = -2
		y = 1
		relative_position_id = GER_befriend_china
		cost = 5
		available = {
			is_subject = no
			743 = {
				is_fully_controlled_by = CHI
			}
		}

		bypass = {
			743 = {
				is_owned_by = GER
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			CHI = {
				country_event = {
					id = wuw_GER_diplomacy.32
					hours = 12
				}
			}
			

			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {

				add_opinion_modifier = {
					target = CHI
					modifier = medium_increase
				}

				give_guarantee = CHI

				CHI = {
					add_opinion_modifier = {
						target = ROOT
						modifier = medium_increase
					}
					give_guarantee = ROOT
				}
				743 = {
					transfer_state_to = ROOT
					add_dynamic_modifier = {
						modifier = GER_qingdao_reintegrated_modifier
						days = 360
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_claim_old_colonies_in_the_east
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = GER_befriend_china }

		x = 0
		y = 1
		relative_position_id = GER_befriend_china
		cost = 5
		available = {
			is_subject = no
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			custom_effect_tooltip = GER_claim_old_colonies_in_the_east_tt

			hidden_effect = {
				IF = {
					limit = {
						OR = {
							333 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
								
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 333
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					333 = { #North Borneo
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 333 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 333
				}

				IF = {
					limit = {
						OR = {
							334 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 334
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					334 = { #Kalimantan
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 334 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 334
				}

				IF = {
					limit = {
						OR = {
							335 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
								
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 335
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					335 = { #Java
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 335 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 335
				}

				IF = {
					limit = {
						OR = {
							336 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 336
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					336 = { #Singapore
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 336 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 336
				}

				IF = {
					limit = {
						OR = {
							667 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 667
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					667 = { #Lesser Sunda Islands
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 667 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 667
				}

				IF = {
					limit = {
						OR = {
							668 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 668
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					668 = { #Moluccas
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 668 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 668
				}

				IF = {
					limit = {
						OR = {
							672 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 672
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					672 = { # Sumatra
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 672 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 672
				}

				IF = {
					limit = {
						OR = {
							673 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
								
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 673
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					673 = { #Sulawesi
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 673 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 673
				}

				IF = {
					limit = {
						OR = {
							721 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 721
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					721 = { #Portugese Timor 
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 721 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 721
				}

				IF = {
					limit = {
						OR = {
							738 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 738
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					738 = { #Aru Islands
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 738 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 738
				}

				IF = {
					limit = {
						OR = {
							684 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 684
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					684 = { #Caroline Islands
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 684 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 684
				}

				IF = {
					limit = {
						OR = {
							647 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 647
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					647 = { #Palau
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 647 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 647
				}

				IF = {
					limit = {
						OR = {
							646 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}	
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 646
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					646 = { #Saipan
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 646 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 646
				}

				IF = {
					limit = {
						OR = {
							633 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 633
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					633 = { #Marshall Islands
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 633 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 633
				}

				IF = {
					limit = {
						OR = {
							979 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 979
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					979 = { #Kaiser-Wilhelmsland
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 979 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 979
				}

				IF = {
					limit = {
						OR = {
							737 = {
								is_fully_controlled_by = CHI
								controller = {
									NOT = {
										has_country_flag = {
											flag = GER_se_asia_colony_demand_sent_flag
										}
										has_war_with = ROOT
									}
								}
							}
							any_other_country = {
								is_in_faction_with = ROOT
								controls_state = 737
								NOT = {
									has_country_flag = {
										flag = GER_se_asia_colony_demand_sent_flag
									}
								}
							}
						}
					}
					737 = { #Bismarck
						controller = {
							country_event = {
								id = wuw_GER_diplomacy.35
								hours = 6
							}
							set_country_flag = GER_se_asia_colony_demand_sent_flag
						}
					}
				}

				ELSE_IF = {
					limit = { 737 = { NOT = { is_fully_controlled_by = ROOT}}}
					add_state_claim = 737
				}
			}

			
		}
	}
	
	focus = {
		id = GER_ally_chiang_kai_shek
		icon = GFX_focus_GER_ally_chiang_kai_shek
		prerequisite = { focus = GER_re_establish_german_control_over_qingdao }
		prerequisite = { focus = GER_claim_old_colonies_in_the_east }

		x = 1
		y = 1
		relative_position_id = GER_re_establish_german_control_over_qingdao
		cost = 10

		bypass = {
			NOT = { country_exists = CHI }
		}

		available = {
			is_faction_leader = yes
			is_subject = no
			NOT = { has_war_with = CHI }
			CHI = {
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }

		completion_reward = {

			IF = {
				limit = {
					CHI = {
						has_country_leader = {
							ruling_only = yes
							character = CHI_chiang_kaishek
						}
					}
				}

				add_ai_strategy = { 
					type = alliance
					id = CHI
					value = 100
				}

				CHI = {
					add_ai_strategy = { 
						type = alliance
						id = GER
						value = 100
					}
				}
				
				ROOT = {
					hidden_effect = {
						save_event_target_as = alliance_inviter
					}
				}

				CHI = { 
					country_event = {
						id = generic.5
						hours = 12
					}
				}
			}

			326 = { #Hong-Kong
				add_claim_by = ROOT
			}
			729 = { #Macau
				add_claim_by = ROOT
			}
			728 = { #Guangzhouwan
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_asia_revive_the_schutztruppe_tt
		}
	}

	focus = {
		id = GER_japanese_naval_cooperation
		icon = GFX_focus_GER_japanese_naval_cooperation
		prerequisite = { focus = GER_befriend_japan }

		x = 2
		y = 1
		relative_position_id = GER_befriend_japan
		cost = 10

		available = {
			is_subject = no
			NOT = { has_war_with = JAP }
			has_government = fascism
			JAP = {
				is_subject = no
				OR = {
					is_in_faction = no
					has_government = fascism
					NOT = {
						any_allied_country = {
							has_war_with = ROOT
						}
					}
				}
			}
			any_controlled_state = {
				OR = {
					is_on_continent = asia
					is_on_continent = australia
				}
			}
		}

		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 2
				category = mio_cat_tech_all_capital_ship_and_modules
				category = mio_cat_tech_all_carrier_and_modules
			}
			navy_experience = 25

			JAP = {
				country_event = {
					id = wuw_GER_diplomacy.26
					hours = 6
				}
			}

			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				every_country = {
					limit = {
						OR = {
							AND = {
								original_tag = GER
								has_government = fascism
							}
							AND = {
								original_tag = JAP
								has_government = fascism
							}
						}
					}
					add_to_tech_sharing_group = GER_JAP_naval_tech_sharing
				}

				add_named_threat = { 
					threat = 2
					name = GER_japanese_naval_cooperation
				}
			}
		}
	}
	
	focus = {
		id = GER_negotiate_old_colonies_in_the_east
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = GER_befriend_japan }

		x = 0
		y = 2
		relative_position_id = GER_befriend_japan
		cost = 5

		available = {
			is_subject = no
			NOT = { has_war_with = JAP }
			JAP = {
				exists = yes
				is_subject = no
				OR = {
					is_in_faction = no
					NOT = {
						any_allied_country = {
							has_war_with = ROOT
						}
					}
				}
			}
		}

		bypass = {
			NOT = { country_exists = JAP }
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			JAP = {
				country_event = {
					id = wuw_GER_diplomacy.23
					hours = 6
				}
			}

			custom_effect_tooltip = if_they_accept_tt
			custom_effect_tooltip = GER_negotiate_old_colonies_in_the_east_tt

			effect_tooltip = {
				JAP = {
					give_guarantee = ROOT
				}
				give_guarantee = JAP
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_asia_revive_the_schutztruppe_tt

		}
	}
	
	focus = {
		id = GER_sentinels_of_the_pacific
		icon = GFX_focus_GER_sentinels_of_the_pacific
		prerequisite = { focus = GER_japanese_naval_cooperation }
		prerequisite = { focus = GER_negotiate_old_colonies_in_the_east }

		x = 0
		y = 2
		relative_position_id = GER_japanese_naval_cooperation
		cost = 5
		available = {
			OR = {
				335 = {
					is_fully_controlled_by = ROOT
				}
				336 = {
					is_fully_controlled_by = ROOT
				}
				743 = {
					is_fully_controlled_by = ROOT
				}
				633 = {
					is_fully_controlled_by = ROOT
				}
				646 = {
					is_fully_controlled_by = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_NAVY_XP }

		completion_reward = {
			navy_experience = 35

			custom_effect_tooltip = generic_skip_one_line_tt
			
			IF = { #singapore
				limit = { 336 = { is_fully_controlled_by = ROOT} }
				336 = {
					add_dynamic_modifier = {
						modifier = GER_sentinels_of_the_pacific_modifier
						days = 180
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}


			IF = { #java
				limit = { 335 = { is_fully_controlled_by = ROOT} }
				335 = {
					add_dynamic_modifier = {
						modifier = GER_sentinels_of_the_pacific_modifier
						days = 180
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}


			IF = { #qingdao
				limit = { 743 = { is_fully_controlled_by = ROOT} }
				743 = {
					add_dynamic_modifier = {
						modifier = GER_sentinels_of_the_pacific_modifier
						days = 180
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}


			IF = { #marshall islands
				limit = { 633 = { is_fully_controlled_by = ROOT} }
				633 = {
					add_dynamic_modifier = {
						modifier = GER_sentinels_of_the_pacific_modifier
						days = 180
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}


			IF = { #saipan
				limit = { 646 = { is_fully_controlled_by = ROOT} }
				646 = {
					add_dynamic_modifier = {
						modifier = GER_sentinels_of_the_pacific_modifier
						days = 180
					}
				}
			}

			IF = { #if none of the states are controlled by Germany, show tooltip
				limit = {
					336 = {
						NOT = {
							is_fully_controlled_by = ROOT
						}
					}
					335 = {
						NOT = {
							is_fully_controlled_by = ROOT
						}
					}
					743 = {
						NOT = {
							is_fully_controlled_by = ROOT
						}
					}
					633 = {
						NOT = {
							is_fully_controlled_by = ROOT
						}
					}
					646 = {
						NOT = {
							is_fully_controlled_by = ROOT
						}
					}
				}

				custom_effect_tooltip = GER_sentinels_of_the_pacific_tt
				effect_tooltip = {
					add_dynamic_modifier = {
						modifier = GER_sentinels_of_the_pacific_modifier
						days = 180
					}
				}

				hidden_effect = {
					delete_unit_template_and_units = {
						division_template = "Asiatische Schutztruppe"
						disband = yes #if yes, will refund equipment/manpower.
					}

					division_template = {
						name = "Asiatische Schutztruppe"	
						division_names_group = GER_MIL_02
						template_counter = 99
						is_locked = yes
						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 0 y = 2 }
							militia = { x = 1 y = 0 }
							militia = { x = 1 y = 1 }
						}
						support = {
						}
						override_model = GER_infantry_alt_3_entity
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_create_asian_reichskommissariat
		icon = GFX_focus_GER_create_asian_reichskommissariat
		prerequisite = { focus = GER_ally_chiang_kai_shek focus = GER_negotiate_old_colonies_in_the_east }

		x = 2
		y = 1
		relative_position_id = GER_ally_chiang_kai_shek
		cost = 10
		available = {
			is_subject = no
			has_government = fascism
			has_completed_focus = GER_uplift_the_rosenberg_office
			any_controlled_state = {
				is_on_continent = asia
			}
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						has_global_flag = falkenhausen_recalled
					}
				}
				custom_effect_tooltip = GER_japan_friend_tt
				set_global_flag = falkenhausen_recalled
				if = {
					limit = {
						has_dlc = "Waking the Tiger"
					}
					show_unit_leaders_tooltip = GER_alexander_von_falkenhausen
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			unlock_decision_tooltip = GER_reichskommissariat_arabien
			unlock_decision_tooltip = GER_reichskommissariat_hindustan
			unlock_decision_tooltip = GER_reichskommissariat_ostasien
			unlock_decision_tooltip = GER_reichskommissariat_australasien
		}
	}
	
	focus = {
		id = GER_south_east_asian_natural_wealth
		icon = GFX_focus_GER_south_east_asian_natural_wealth
		prerequisite = { focus = GER_ally_chiang_kai_shek focus = GER_negotiate_old_colonies_in_the_east }

		x = 2
		y = 0
		relative_position_id = GER_create_asian_reichskommissariat
		cost = 10
		available = {
			is_subject = no
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_named_threat = { 
				threat = 5
				name = GER_south_east_asian_natural_wealth
			}

			add_state_claim = 333 #North Borneo
			add_state_claim = 334 #Kalimantan
			add_state_claim = 335 #Java
			add_state_claim = 336 #Singapore
			add_state_claim = 667 #Lesser Sunda Islands
			add_state_claim = 668 #Moluccas
			add_state_claim = 672 # Sumatra
			add_state_claim = 673 #Sulawesi
			add_state_claim = 721 #Portugese Timor 
			add_state_claim = 738 #Aru Islands

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_south_east_asian_natural_wealth_tt
		}
	}
	
	focus = {
		id = GER_the_proud_eagle_and_the_resurgent_dragon 
		icon = GFX_focus_GER_the_proud_eagle_and_the_rising_dragon

		prerequisite = { focus = GER_ally_chiang_kai_shek }
		prerequisite = { focus = GER_create_asian_reichskommissariat }

		x = 0
		y = 2
		relative_position_id = GER_ally_chiang_kai_shek
		cost = 10

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		available = {
			is_subject = no
			is_in_faction_with = CHI
			JAP = {
				exists = yes
				NOT = {
					is_in_faction_with = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_timed_idea = {
				idea = GER_proud_eagle_that_ate_the_sun_ns
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			create_wargoal = {
				type = annex_everything
				target = JAP 
			}

			add_named_threat = { 
				threat = 3
				name = GER_the_proud_eagle_and_the_resurgent_dragon
			}
		}
	}
	
	focus = {
		id = GER_blitzkrieg_across_the_pacific
		icon = GFX_focus_generic_naval_invasion_tank
		prerequisite = { focus = GER_sentinels_of_the_pacific }
		prerequisite = { focus = GER_south_east_asian_natural_wealth }

		x = -1
		y = 1
		relative_position_id = GER_sentinels_of_the_pacific
		cost = 10
		available = {
			is_subject = no
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ANNEXATION }

		will_lead_to_war_with = USA

		completion_reward = {

			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = marine_tech
				name = GER_blitzkrieg_across_the_pacific
			}
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = tp_tech
				name = GER_blitzkrieg_across_the_pacific
			}
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_doctrine_cost_reduction = {
					cost_reduction = 0.5
					uses = 2
					category = cat_marines_doctrine
					name = GER_blitzkrieg_across_the_pacific
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_pacific_blitzkrieg_ns
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			create_wargoal = {
				type = annex_everything
				target = USA
			}
		}
	}



#### ##    ## ##    ## ######## ########      ######  #### ########   ######  ##       ######## 
 ##  ###   ## ###   ## ##       ##     ##    ##    ##  ##  ##     ## ##    ## ##       ##       
 ##  ####  ## ####  ## ##       ##     ##    ##        ##  ##     ## ##       ##       ##       
 ##  ## ## ## ## ## ## ######   ########     ##        ##  ########  ##       ##       ######   
 ##  ##  #### ##  #### ##       ##   ##      ##        ##  ##   ##   ##       ##       ##       
 ##  ##   ### ##   ### ##       ##    ##     ##    ##  ##  ##    ##  ##    ## ##       ##       
#### ##    ## ##    ## ######## ##     ##     ######  #### ##     ##  ######  ######## ########



	focus = {
		id = GER_fuhrerprinzip

		dynamic = yes
		
		alternate_icon = GFX_focus_GER_support_the_fuhrer_historical

		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_fritz_todt
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_todt
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_albert_speer
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_speer
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_hermann_goring
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_goring
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_heinrich_himmler
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_himmler
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_joseph_goebbels
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_goebbels
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_rudolf_hess
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_hess
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_martin_bormann
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_bormann
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_eva_braun
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_braun
		}
		icon = GFX_focus_GER_support_the_fuhrer

		prerequisite = { focus = GER_remilitarize_the_rhineland }
		x = -17
		y = 8
		relative_position_id = GER_remilitarize_the_rhineland
		cost = 5
		available = {
			has_government = fascism
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {
			custom_effect_tooltip = GER_fuhrerprinzip_inner_circle_tt
			add_political_power = 50
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer
						add = GER_der_fuhrer_fuhrerprinzip
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer_wehrmacht
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer_wehrmacht
						add = GER_der_fuhrer_fuhrerprinzip_wehrmacht
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer_neurath
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer_neurath
						add = GER_der_fuhrer_fuhrerprinzip_neurath
					}
				}
			}
			# No fallback if country leader is not Hitler and the Werhmacht / Neurath focuses are completed

			hidden_effect = {
				add_dynamic_modifier = {
					modifier = GER_the_inner_circle_dm
				}
			}
		}
	}

	focus = {
		id = GER_ascension_of_todt
		icon = GFX_focus_GER_ascension_of_todt
		prerequisite = { focus = GER_fuhrerprinzip }

		x = -7
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_todt_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_fritz_todt
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_todt_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_fritz_todt
			}
			show_ideas_tooltip = GER_todt_reich_engineer

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_fritz_todt
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 1 }
						check_variable = { GER_ascended_advisor_2 = 1 }
						check_variable = { GER_ascended_advisor_3 = 1 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 1 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_fritz_todt
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_todt_reich_engineer
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 1 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 1 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 1 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_todt.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }

				clr_country_flag = GER_todt_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				if = { #If historical make sure Todt is not picked ever after being replaced by Speer in the Intrigue Event
					limit = {
						GER_is_historical_ai = yes
					}
					set_country_flag = GER_todt_was_ascended_flag #Flag to prevent AI from taking the focus again after advisor has been replaced
				}
				else = {
					set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
						flag = GER_todt_was_ascended_flag
						days = 1500 # Clear after ~4 years 
						value = 1
					}
				}
			}
		}
	}

	focus = {
		id = GER_form_organization_todt
		icon = GFX_focus_GER_form_organization_todt
		prerequisite = { focus = GER_ascension_of_todt }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_todt
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_form_organization_todt_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_fritz_todt
						FLAG_DAYS = [?GER_form_organization_todt_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_fritz_todt
						FOCUS = GER_ascension_of_todt
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 3
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_idea = GER_philipp_holzmann
				}
				swap_ideas = {
					remove_idea = GER_philipp_holzmann
					add_idea = GER_organization_todt
				}
			}
			else = {
				effect_tooltip = {
					custom_effect_tooltip = available_designer
					show_ideas_tooltip = GER_organization_todt
				}
			}
		}
	}

	focus = {
		id = GER_autonomous_organization_todt
		icon = GFX_focus_GER_autonomous_organization_todt
		mutually_exclusive = { focus = GER_plenipotentiary_of_armaments focus = GER_plenipotentiary_of_the_four_year_plan }
		prerequisite = { focus = GER_form_organization_todt }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_form_organization_todt
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_autonomous_organization_todt_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_fritz_todt
						FLAG_DAYS = [?GER_autonomous_organization_todt_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_fritz_todt
						FOCUS = GER_ascension_of_todt
					}
					always = no
				}
			}

			if = {
				limit = {
					check_variable = { GER_industrialist_prevailed = 0 compare = not_equals }
				}
				if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_fritz_todt
						}
						always = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 2 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_albert_speer
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 3 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_hermann_goring
						}
						always = no
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_fritz_todt
			}
			swap_ideas = {
				remove_idea = GER_todt_reich_engineer
				add_idea = GER_todt_reich_minister_of_armaments
			}

			if = {
				limit = {
					has_idea = GER_organization_todt
				}
				swap_ideas = {
					remove_idea = GER_organization_todt
					add_idea = GER_organization_todt_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_organization_todt
						add_idea = GER_organization_todt_improved
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = {
				localization_key = GER_inner_circle_industrial_me_focuses_tt
				FOCUS_1 = GER_plenipotentiary_of_armaments
				FOCUS_2 = GER_plenipotentiary_of_the_four_year_plan
			}
		}
	}

	focus = {
		id = GER_ascension_of_speer
		icon = GFX_focus_GER_ascension_of_speer
		prerequisite = { focus = GER_fuhrerprinzip }

		x = 2
		y = 0
		relative_position_id = GER_ascension_of_todt
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_speer_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_albert_speer
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_speer_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_albert_speer
			}
			show_ideas_tooltip = GER_speer_reich_architect

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_albert_speer
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 2 }
						check_variable = { GER_ascended_advisor_2 = 2 }
						check_variable = { GER_ascended_advisor_3 = 2 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 2 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_albert_speer
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_speer_reich_architect
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 2 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 2 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 2 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_speer.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_speer_ascension_flag

				GER_inner_circle_set_ascension_cd = yes
				
				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_speer_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_employ_philipp_holzmann
		icon = GFX_focus_GER_philipp_holzmann
		prerequisite = { focus = GER_ascension_of_speer }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_speer
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_employ_philipp_holzmann_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_albert_speer
						FLAG_DAYS = [?GER_employ_philipp_holzmann_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_albert_speer
						FOCUS = GER_ascension_of_speer
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_idea = GER_philipp_holzmann
				}
				swap_ideas = {
					remove_idea = GER_philipp_holzmann
					add_idea = GER_philipp_holzmann_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_philipp_holzmann
						add_idea = GER_philipp_holzmann_improved
					}
				}
			}
		}
	}

	focus = {
		id = GER_plenipotentiary_of_armaments
		icon = GFX_focus_GER_plenipotentiary_of_armaments
		#prerequisite = { focus = GER_form_organization_todt focus = GER_employ_philipp_holzmann focus = GER_prioritize_the_four_year_plan }
		mutually_exclusive = { focus = GER_autonomous_organization_todt focus = GER_plenipotentiary_of_the_four_year_plan }
		prerequisite = { focus = GER_employ_philipp_holzmann }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_employ_philipp_holzmann
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_plenipotentiary_of_armaments_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_albert_speer
						FLAG_DAYS = [?GER_plenipotentiary_of_armaments_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_albert_speer
						FOCUS = GER_ascension_of_speer
					}
					always = no
				}
			}

			if = {
				limit = {
					check_variable = { GER_industrialist_prevailed = 0 compare = not_equals }
				}
				if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_fritz_todt
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 2 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_albert_speer
						}
						always = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 3 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_hermann_goring
						}
						always = no
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_albert_speer
			}
			swap_ideas = {
				remove_idea = GER_speer_reich_architect
				add_idea = GER_speer_reich_minister_of_armaments
			}

			if = {
				limit = {
					has_idea = GER_philipp_holzmann_improved
				}
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					swap_ideas = {
						remove_idea = GER_philipp_holzmann_improved
						add_idea = GER_philipp_holzmann_improved_2
					}
				}
				else = {
					swap_ideas = {
						remove_idea = GER_philipp_holzmann_improved
						add_idea = GER_philipp_holzmann_improved_2_no_aat
					}
				}
			}
			else = {
				effect_tooltip = {
					if = {
						limit = {
							has_dlc = "Arms Against Tyranny"
						}
						swap_ideas = {
							remove_idea = GER_philipp_holzmann_improved
							add_idea = GER_philipp_holzmann_improved_2
						}
					}
					else = {
						swap_ideas = {
							remove_idea = GER_philipp_holzmann_improved
							add_idea = GER_philipp_holzmann_improved_2_no_aat
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = {
				localization_key = GER_inner_circle_industrial_me_focuses_tt
				FOCUS_1 = GER_autonomous_organization_todt
				FOCUS_2 = GER_plenipotentiary_of_the_four_year_plan
			}
		}
	}

	focus = {
		id = GER_wunderwaffe
		icon = GFX_focus_GER_wunderwaffe_inner_circle
		prerequisite = { focus = GER_autonomous_organization_todt focus = GER_plenipotentiary_of_armaments}

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_autonomous_organization_todt
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_wunderwaffe_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				if = { #TODT working on it
					limit = {
						check_variable = { GER_wonder_weapons_focus_advisor = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_fritz_todt
							FLAG_DAYS = [?GER_wunderwaffe_in_progress_flag:days]
						}
						always = no 
					}
				}
				else = { #SPEER working on it
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_albert_speer
							FLAG_DAYS = [?GER_wunderwaffe_in_progress_flag:days]
						}
						always = no 
					}
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_multiple_tt
						CHARACTER = GER_fritz_todt
						FOCUS = GER_ascension_of_todt
						CHARACTER_2 = GER_albert_speer
						FOCUS_2 = GER_ascension_of_speer
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_air
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_air
					level = 1
				}
			}

			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_nuclear
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_nuclear
					level = 1
				}
			}
			
			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_land
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_land
					level = 1
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = GER_walter_dornberger
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_wunderwaffe_dornberger_trait_tt
			hidden_effect = {
				remove_trait = {
					character = GER_walter_dornberger
					slot = high_command
					trait = GER_head_of_the_missile_department
				}
				add_trait = {
					character = GER_walter_dornberger
					slot = high_command
					trait = GER_head_of_experimental_weapons
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_special_project_speed_factor = 0.05
				tooltip = special_project_speed_factor_tt
			}
			add_to_variable = { 
				GER_wunderwaffen_production_speed_facility_factor = 0.1
				tooltip = production_speed_facility_factor_tt
			}
		}
	}

	focus = {
		id = GER_ascension_of_goring
		icon = GFX_focus_GER_ascension_of_goring
		prerequisite = { focus = GER_fuhrerprinzip }

		x = 2
		y = 0
		relative_position_id = GER_ascension_of_speer
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_goring_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_hermann_goring
				}
			}
			has_completed_focus = GER_the_four_year_plan
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_goring_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_hermann_goring
			}
			show_ideas_tooltip = GER_goring_overseer_four_year_plan

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_hermann_goring
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 3 }
						check_variable = { GER_ascended_advisor_2 = 3 }
						check_variable = { GER_ascended_advisor_3 = 3 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 3 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_hermann_goring
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_goring_overseer_four_year_plan
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 3 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 3 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 3 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_goring.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_goring_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_goring_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_prioritize_the_four_year_plan
		icon = GFX_focus_GER_prioritize_the_four_year_plan
		prerequisite = { focus = GER_ascension_of_goring }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_goring
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_prioritize_the_four_year_plan_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_hermann_goring
						FLAG_DAYS = [?GER_prioritize_the_four_year_plan_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_hermann_goring
						FOCUS = GER_ascension_of_goring
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = {
				limit = {
					59 = { is_fully_controlled_by = ROOT }
				}
				59 = { #Hannover
					add_resource = {
						type = steel
						amount = 6
					}
					add_dynamic_modifier = { 
						modifier = GER_four_year_plan_initiative_modifier
						scope = GER
					}
				}
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						NOT = {
							state = 59
						}
						OR = {
							has_resources_amount = {
								resource = oil
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = aluminium
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = rubber
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = tungsten
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = steel
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = chromium
								amount > 19
								delivered = no
							}
						}
					}
					add_dynamic_modifier = { 
						modifier = GER_four_year_plan_initiative_modifier
						scope = GER
					}
				}
			}
			else = {
				every_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						OR = {
							has_resources_amount = {
								resource = oil
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = aluminium
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = rubber
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = tungsten
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = steel
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = chromium
								amount > 19
								delivered = no
							}
						}
					}
					random_select_amount = 2
					add_dynamic_modifier = { 
						modifier = GER_four_year_plan_initiative_modifier
						scope = GER
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_idea = GER_reichswerke
				}
				swap_ideas = {
					remove_idea = GER_reichswerke
					add_idea = GER_reichswerke_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_reichswerke
						add_idea = GER_reichswerke_improved
					}
				}
			}
		}
	}

	focus = {
		id = GER_plenipotentiary_of_the_four_year_plan
		icon = GFX_focus_GER_plenipotentiary_of_the_four_year_plan
		mutually_exclusive = { focus = GER_autonomous_organization_todt focus = GER_plenipotentiary_of_armaments }
		prerequisite = { focus = GER_prioritize_the_four_year_plan }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_prioritize_the_four_year_plan
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_plenipotentiary_of_the_four_year_plan_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_hermann_goring
						FLAG_DAYS = [?GER_plenipotentiary_of_the_four_year_plan_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_hermann_goring
						FOCUS = GER_ascension_of_goring
					}
					always = no
				}
			}

			if = {
				limit = {
					check_variable = { GER_industrialist_prevailed = 0 compare = not_equals }
				}
				if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_fritz_todt
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 2 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_albert_speer
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 3 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_hermann_goring
						}
						always = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_hermann_goring
			}
			swap_ideas = {
				remove_idea = GER_goring_overseer_four_year_plan
				add_idea = GER_goring_four_year_plan_plenipotentiary
			}

			if = {
				limit = {
					has_idea = GER_reichswerke_improved
				}
				swap_ideas = {
					remove_idea = GER_reichswerke_improved
					add_idea = GER_reichswerke_improved_2
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_reichswerke_improved
						add_idea = GER_reichswerke_improved_2
					}
				}
			}

			add_tech_bonus = {
				name = GER_plenipotentiary_of_the_four_year_plan
				uses = 1
				ahead_reduction = 2
				category = excavation_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = {
				localization_key = GER_inner_circle_industrial_me_focuses_tt
				FOCUS_1 = GER_autonomous_organization_todt
				FOCUS_2 = GER_plenipotentiary_of_armaments
			}
		}
	}

	focus = {
		id = GER_integration_of_puppet_economies
		icon = GFX_focus_GER_integration_of_puppet_economies
		prerequisite = { focus = GER_plenipotentiary_of_the_four_year_plan }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_plenipotentiary_of_the_four_year_plan
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_integration_of_puppet_economies_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_hermann_goring
						FLAG_DAYS = [?GER_integration_of_puppet_economies_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_hermann_goring
						FOCUS = GER_ascension_of_goring
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = unlock_decision_category_explained
				CATEGORY = GER_integration_of_puppet_economies_dec_cat
				DESC = GER_integration_of_puppet_economies_decisions_tt
			}
		}
	}

	focus = {
		id = GER_ascension_of_himmler
		icon = GFX_focus_GER_ascension_of_himmler
		prerequisite = { focus = GER_fuhrerprinzip }
		x = 0
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_himmler_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_heinrich_himmler
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_himmler_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_heinrich_himmler
			}
			show_ideas_tooltip = GER_himmler_chief_of_german_police
			
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_heinrich_himmler
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 4 }
						check_variable = { GER_ascended_advisor_2 = 4 }
						check_variable = { GER_ascended_advisor_3 = 4 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 4 }
					country_event = GER_inner_circle.01 #Replace Advisor
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_heinrich_himmler
				}
			}
			else = {
				custom_effect_tooltip = generic_skip_one_line_tt

				country_event = GER_inner_circle_himmler.00 #Pick Himmler's branch (Can only be fired once)
				
				hidden_effect = {
					add_ideas = GER_himmler_chief_of_german_police
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 4 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 4 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 4 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_himmler.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_himmler_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_himmler_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_expand_gestapo
		icon = GFX_focus_GER_expand_gestapo
		prerequisite = { focus = GER_ascension_of_himmler }
		mutually_exclusive = { focus = GER_expand_ss_security_duties }

		text_icon = GER_inner_circle_focus_style

		x = -1
		y = 1
		relative_position_id = GER_ascension_of_himmler
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_expand_gestapo_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_expand_gestapo_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			GER_add_or_modify_military_intelligence_service = yes
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_to_variable = { 
					GER_military_intelligence_service_intelligence_agency_defense = 0.15
					tooltip = intelligence_agency_defense_tt
				}
				add_to_variable = { 
					GER_military_intelligence_service_agency_upgrade_time = -0.2
					tooltip = agency_upgrade_time_tt
				}
				add_to_variable = { 
					GER_military_intelligence_root_out_resistance_effectiveness_factor = 0.2
					tooltip = root_out_resistance_effectiveness_factor_tt
				}
			}
			else = {
				add_to_variable = { 
					GER_military_intelligence_service_encryption_factor = 0.1
					tooltip = encryption_factor_tt
				}
			}
		}
	}

	focus = {
		id = GER_absorb_the_abwehr
		icon = GFX_focus_GER_absorb_the_abwehr
		prerequisite = { focus = GER_expand_gestapo }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_expand_gestapo
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_absorb_the_abwehr_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_absorb_the_abwehr_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_heinrich_himmler
			}
			swap_ideas = {
				remove_idea = GER_himmler_chief_of_german_police
				add_idea = GER_himmler_director_reich_security
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_eleysa_bazna = yes
			}
		}
	}

	focus = {
		id = GER_expand_ss_security_duties
		icon = GFX_focus_GER_expand_ss_security_duties
		prerequisite = { focus = GER_ascension_of_himmler }
		mutually_exclusive = { focus = GER_expand_gestapo }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_ascension_of_himmler
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_expand_ss_security_duties_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_expand_ss_security_duties_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_heinrich_himmler
			}
			swap_ideas = {
				remove_idea = GER_himmler_chief_of_german_police
				add_idea = GER_himmler_director_reich_security
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_eleysa_bazna = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_expand_ss_security_duties
				bonus = 0.5
				uses = 1
				category = military_police_tech
			}
		}
	}

	focus = {
		id = GER_strengthen_the_waffen_ss
		icon = GFX_focus_GER_strengthen_the_waffen_ss
		prerequisite = { focus = GER_expand_ss_security_duties }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_expand_ss_security_duties
		cost = @inner_circle_time_tier_2
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_strengthen_the_waffen_ss_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_strengthen_the_waffen_ss_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_heinrich_himmler
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_strengthen_the_waffen_ss
				cost_reduction = 0.5
				uses = 2
				category = special_forces_doctrine
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			swap_ideas = {
				remove_idea = GER_himmler_director_reich_security
				add_idea = GER_himmler_reichsfuhrer_ss
			}
			#remove_trait = {
			#	character = GER_heinrich_himmler
			#	slot = political_advisor
			#	trait = prince_of_terror
			#}
			#add_trait = { 
			#	character = GER_heinrich_himmler
			#	slot = political_advisor
			#	trait = GER_reichsfuhrer_ss
			#}

			custom_effect_tooltip = generic_skip_one_line_tt
			show_unit_leaders_tooltip = GER_felix_steiner
			show_unit_leaders_tooltip = GER_walter_kruger
			show_unit_leaders_tooltip = GER_sepp_dietrich
			show_unit_leaders_tooltip = GER_paul_hausser

			custom_effect_tooltip = generic_skip_one_line_tt

			#Create 2 Milita Units and Unlock the Template
			if = {
				limit = {
					NOT = { has_template = "Waffen-SS Division" }
				}
				division_template = {
					name = "Waffen-SS Division"
					priority = 2
					division_names_group = GER_SS_01
					template_counter = 101
					is_locked = no
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
					
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_militia
				}
			}
			else = { #If Waffen-SS Division already exists, unlock it
				set_division_template_lock = {
				    division_template = "Waffen-SS Division"
				    is_locked = no
				}
			}
			if = {
				limit = {
					64 = {
						is_fully_controlled_by = ROOT
					}
				}
				64 = {
					custom_effect_tooltip = GER_create_two_militia_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"Waffen-SS Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
							owner = ROOT
							count = 2
						}
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					custom_effect_tooltip = GER_create_two_militia_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"Waffen-SS Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
							owner = ROOT
							count = 2
						}
					}
				}
			}

			#Create 1 Motorized Unit and Unlock the Template
			if = {
				limit = {
					NOT = { has_template = "SS-Verfügungstruppe" }
				}
				division_template = {
					name = "SS-Verfügungstruppe"
					priority = 2
					division_names_group = GER_SS_01
					is_locked = no
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }

					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_infantry_alt_0_entity
				}
			}
			else = { #If Waffen-SS Division already exists, unlock it
				set_division_template_lock = {
				    division_template = "SS-Verfügungstruppe"
				    is_locked = no
				}
			}
			if = {
				limit = {
					64 = {
						is_fully_controlled_by = ROOT
					}
				}
				64 = {
					custom_effect_tooltip = GER_create_one_motorized_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"SS-Verfügungstruppe\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					custom_effect_tooltip = GER_create_one_motorized_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"SS-Verfügungstruppe\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
							owner = ROOT
							count = 1
						}
					}
				}
			}

			#Create 2 Panzer Units and Unlock the Template
			if = { 
				limit = {
					NOT = { has_tech = basic_medium_tank_chassis }
				}
				division_template = {
					name = "Waffen-SS Leicht Panzer Division"
					priority = 2
					division_names_group = GER_SS_01
					is_locked = no
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
						light_armor = { x = 0 y = 2 }
						light_armor = { x = 0 y = 3 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 2 y = 0 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_infantry_alt_0_entity
				}
				if = {
					limit = {
						64 = {
							is_fully_controlled_by = ROOT
						}
					}
					64 = {
						custom_effect_tooltip = GER_create_two_light_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Leicht Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
				else = {
					random_core_state = {
						limit = {
							is_fully_controlled_by = ROOT
						}
						custom_effect_tooltip = GER_create_two_light_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Leicht Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
			}
			else = {
				division_template = {
					name = "Waffen-SS Panzer Division"
					priority = 2
					division_names_group = GER_SS_01
					is_locked = no
					regiments = {
						medium_armor = { x = 0 y = 0 }
						medium_armor = { x = 0 y = 1 }
						medium_armor = { x = 0 y = 2 }
						medium_armor = { x = 0 y = 3 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 2 y = 0 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_infantry_alt_0_entity
				}
				if = {
					limit = {
						64 = {
							is_fully_controlled_by = ROOT
						}
					}
					64 = {
						custom_effect_tooltip = GER_create_two_medium_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
				else = {
					random_core_state = {
						limit = {
							is_fully_controlled_by = ROOT
						}
						custom_effect_tooltip = GER_create_two_medium_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_hegemony_of_the_ss
		icon = GFX_focus_GER_hegemony_of_the_ss
		prerequisite = { focus = GER_absorb_the_abwehr focus = GER_strengthen_the_waffen_ss }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_absorb_the_abwehr
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_hegemony_of_the_ss_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_hegemony_of_the_ss_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			GER_heinrich_himmler = {
				add_field_marshal_role = {
					traits = { politically_connected militias_officer }
					skill = 2
					attack_skill = 1
					defense_skill = 3
					planning_skill = 1
					logistics_skill = 2
				} 
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_modifier_army_sub_unit_militia_max_org_factor = 0.1
				tooltip = modifier_army_sub_unit_militia_max_org_factor_tt
			}
			add_to_variable = { 
				GER_military_modifier_army_sub_unit_militia_attack_factor = 0.05
				tooltip = modifier_army_sub_unit_militia_attack_factor_tt
			}
			add_to_variable = { 
				GER_military_modifier_army_sub_unit_militia_defence_factor = 0.05
				tooltip = modifier_army_sub_unit_militia_defence_factor_tt
			}
		}
	}

	focus = {
		id = GER_ascension_of_goebbels
		icon = GFX_focus_GER_ascension_of_goebbels
		prerequisite = { focus = GER_fuhrerprinzip }

		x = 3
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_goebbels_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}
			
			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_joseph_goebbels
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_goebbels_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_joseph_goebbels
			}
			show_ideas_tooltip = GER_goebbels_reich_minister_of_propaganda

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_joseph_goebbels
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 5 }
						check_variable = { GER_ascended_advisor_2 = 5 }
						check_variable = { GER_ascended_advisor_3 = 5 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 5 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_joseph_goebbels
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_goebbels_reich_minister_of_propaganda
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 5 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 5 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 5 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_goebbels.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_goebbels_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_goebbels_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_ministry_of_public_enlightenment
		icon = GFX_focus_GER_reich_ministry_of_public_enlightenment
		prerequisite = { focus = GER_ascension_of_goebbels }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_goebbels
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_ministry_of_public_enlightenment_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_joseph_goebbels
						FLAG_DAYS = [?GER_ministry_of_public_enlightenment_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_joseph_goebbels
						FOCUS = GER_ascension_of_goebbels
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}

			add_stability = 0.05
			
			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = GER_goebbels_reich_minister_of_propaganda
				add_idea = GER_goebbels_reich_minister_of_propaganda_ministry
			}
		}
	}

	focus = {
		id = GER_fund_the_film_department
		icon = GFX_focus_GER_fund_the_film_department
		prerequisite = { focus = GER_ministry_of_public_enlightenment }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ministry_of_public_enlightenment
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_fund_the_film_department_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_joseph_goebbels
						FLAG_DAYS = [?GER_fund_the_film_department_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_joseph_goebbels
						FOCUS = GER_ascension_of_goebbels
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}

			add_war_support = 0.05
			
			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = GER_goebbels_reich_minister_of_propaganda_ministry
				add_idea = GER_goebbels_reich_minister_of_propaganda_film
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_leni_riefenstahl
		}
	}

	focus = {
		id = GER_propaganda_master
		icon = GFX_focus_GER_propaganda_master
		prerequisite = { focus = GER_fund_the_film_department }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_fund_the_film_department
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_propaganda_master_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_joseph_goebbels
						FLAG_DAYS = [?GER_propaganda_master_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_joseph_goebbels
						FOCUS = GER_ascension_of_goebbels
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				swap_ideas = {
					remove_idea = GER_goebbels_reich_minister_of_propaganda_film
					add_idea = GER_goebbels_reich_minister_of_propaganda_master
				}
			}
			else = {
				swap_ideas = {
					remove_idea = GER_goebbels_reich_minister_of_propaganda_film
					add_idea = GER_goebbels_reich_minister_of_propaganda_master_no_lar
				}
			}
			
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_savitri_devi = yes
			}
		}
	}

	focus = {
		id = GER_party_chancellor_hess
		icon = GFX_focus_GER_party_chancellor_hess
		prerequisite = { focus = GER_fuhrerprinzip }
		mutually_exclusive = { focus = GER_party_chancellor_bormann }
		x = 5
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_hess_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}
			
			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_rudolf_hess
				}
			}

			NOT = { has_country_flag = flight_of_hess }
			
			OR = { 
				NOT = { has_war_with = SOU }
				NOT = { has_war_with = ENG }
			}
			
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_hess_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_rudolf_hess
			}
			show_ideas_tooltip = GER_hess_party_chancellor

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_rudolf_hess
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 6 }
						check_variable = { GER_ascended_advisor_2 = 6 }
						check_variable = { GER_ascended_advisor_3 = 6 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 6 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_rudolf_hess
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_hess_party_chancellor
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 6 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 6 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 6 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_hess.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_hess_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_hess_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}
	
	focus = {
		id = GER_party_chancellor_bormann
		icon = GFX_focus_GER_party_chancellor_bormann
		prerequisite = { focus = GER_fuhrerprinzip }
		mutually_exclusive = { focus = GER_party_chancellor_hess }
		x = 2
		y = 0
		relative_position_id = GER_party_chancellor_hess
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_bormann_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}
			
			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_martin_bormann
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_bormann_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_martin_bormann
			}
			show_ideas_tooltip = GER_bormann_secretary_to_the_fuhrer

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_martin_bormann
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 7 }
						check_variable = { GER_ascended_advisor_2 = 7 }
						check_variable = { GER_ascended_advisor_3 = 7 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 7 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_martin_bormann
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_bormann_secretary_to_the_fuhrer
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 7 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 7 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 7 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_bormann.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_bormann_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				if = { #If historical make sure Todt is not picked ever after being replaced by Speer in the Intrigue Event
					limit = {
						GER_is_historical_ai = yes
					}
					set_country_flag = GER_bormann_was_ascended_flag #Flag to prevent AI from taking the focus again after advisor has been replaced
				}
				else = {
					set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
						flag = GER_bormann_was_ascended_flag
						days = 1500 # Clear after ~4 years 
						value = 1
					}
				}
			}
		}
	}

	focus = {
		id = GER_optimize_reich_labour_service
		icon = GFX_focus_GER_optimize_reich_labour_service
		prerequisite = { focus = GER_party_chancellor_hess focus = GER_party_chancellor_bormann }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_party_chancellor_hess
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_optimize_reich_labour_service_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				if = { #HESS working on it
					limit = {
						check_variable = { GER_optimize_reich_service_focus_advisor = 6 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_rudolf_hess
							FLAG_DAYS = [?GER_optimize_reich_labour_service_in_progress_flag:days]
						}
						always = no 
					}
				}
				else = { #BORMANN working on it
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_martin_bormann
							FLAG_DAYS = [?GER_optimize_reich_labour_service_in_progress_flag:days]
						}
						always = no 
					}
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_multiple_tt
						CHARACTER = GER_rudolf_hess
						FOCUS = GER_party_chancellor_hess
						CHARACTER_2 = GER_martin_bormann
						FOCUS_2 = GER_party_chancellor_bormann
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			unlock_decision_category_tooltip = GER_reich_labor_service_cat
		}
	}

	focus = {
		id = GER_rally_the_industrialists
		icon = GFX_focus_GER_rally_the_industrialists
		prerequisite = { focus = GER_optimize_reich_labour_service }
		prerequisite = { focus = GER_party_chancellor_hess }

		text_icon = GER_inner_circle_focus_style

		x = -1
		y = 1
		relative_position_id = GER_optimize_reich_labour_service
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_rally_the_industrialists_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_rudolf_hess
						FLAG_DAYS = [?GER_rally_the_industrialists_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_rudolf_hess
						FOCUS = GER_party_chancellor_hess
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				swap_ideas = {
					remove_idea = GER_hess_party_chancellor
					add_idea = GER_hess_party_chancellor_improved
				}
			}
			else = {
				swap_ideas = {
					remove_idea = GER_hess_party_chancellor
					add_idea = GER_hess_party_chancellor_improved_no_aat
				}
			}
			custom_effect_tooltip = GER_rally_the_industrialists_hess_stays_tt
		}
	}

	focus = {
		id = GER_glorify_party_rallies
		icon = GFX_focus_GER_glorify_party_rallies
		prerequisite = { focus = GER_optimize_reich_labour_service }
		prerequisite = { focus = GER_party_chancellor_bormann }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_optimize_reich_labour_service
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_glorify_party_rallies_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_martin_bormann
						FLAG_DAYS = [?GER_glorify_party_rallies_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_martin_bormann
						FOCUS = GER_party_chancellor_bormann
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = GER_bormann_secretary_to_the_fuhrer
				add_idea = GER_bormann_secretary_to_the_fuhrer_improved
			}
		}
	}

	focus = {
		id = GER_total_control_over_domestic_affairs
		icon = GFX_focus_GER_total_control_over_domestic_affairs
		prerequisite = { focus = GER_glorify_party_rallies focus = GER_rally_the_industrialists }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_rally_the_industrialists
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_total_control_over_domestic_affairs_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				if = { #HESS working on it
					limit = {
						check_variable = { GER_total_control_over_domestic_affairs_focus_advisor = 6 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_rudolf_hess
							FLAG_DAYS = [?GER_total_control_over_domestic_affairs_in_progress_flag:days]
						}
						always = no 
					}
				}
				else = { #BORMANN working on it
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_martin_bormann
							FLAG_DAYS = [?GER_total_control_over_domestic_affairs_in_progress_flag:days]
						}
						always = no 
					}
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_multiple_tt
						CHARACTER = GER_rudolf_hess
						FOCUS = GER_party_chancellor_hess
						CHARACTER_2 = GER_martin_bormann
						FOCUS_2 = GER_party_chancellor_bormann
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_political_power = 100
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_completed_focus = GER_party_chancellor_bormann }
					NOT = { has_completed_focus = GER_party_chancellor_hess }
				}
				custom_effect_tooltip = GER_total_control_over_domestic_affairs_chancellors_tt

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			if = {
				limit = {
					NOT = { has_completed_focus = GER_party_chancellor_bormann }
				}
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					custom_effect_tooltip = {
						localization_key = GER_ascended_character_trait_swap_tt
						CHARACTER = GER_rudolf_hess
					}
					swap_ideas = {
						remove_idea = GER_hess_party_chancellor_improved
						add_idea = GER_hess_first_among_equals
					}
				}
				else = {
					custom_effect_tooltip = {
						localization_key = GER_ascended_character_trait_swap_tt
						CHARACTER = GER_rudolf_hess
					}
					swap_ideas = {
						remove_idea = GER_hess_party_chancellor_improved_no_aat
						add_idea = GER_hess_first_among_equals_no_aat
					}
				}
			}

			if = {
				limit = {
					NOT = { has_completed_focus = GER_party_chancellor_hess }
				}
				custom_effect_tooltip = {
					localization_key = GER_ascended_character_trait_swap_tt
					CHARACTER = GER_martin_bormann
				}
				swap_ideas = {
					remove_idea = GER_bormann_secretary_to_the_fuhrer_improved
					add_idea = GER_bormann_brown_eminence
				}
			}
		}
	}

	focus = {
		id = GER_a_strong_successor
		icon = GFX_focus_GER_a_strong_successor
		prerequisite = { focus = GER_hegemony_of_the_ss focus = GER_wunderwaffe focus = GER_integration_of_puppet_economies focus = GER_propaganda_master focus = GER_total_control_over_domestic_affairs }
		mutually_exclusive = { focus = GER_loyalty_to_the_fuhrer }
		x = -2
		y = 5
		relative_position_id = GER_fuhrerprinzip
		cost = 5

		available = {
			has_government = fascism

			custom_trigger_tooltip = {
				tooltip = GER_a_strong_successor_trigger_tt
				count_triggers = {
					amount = 3
					AND = {
						has_completed_focus = GER_wunderwaffe
						OR = {
							check_variable = { GER_ascended_advisor_1 = 1 }
							check_variable = { GER_ascended_advisor_2 = 1 }
							check_variable = { GER_ascended_advisor_3 = 1 }
							check_variable = { GER_ascended_advisor_1 = 2 }
							check_variable = { GER_ascended_advisor_2 = 2 }
							check_variable = { GER_ascended_advisor_3 = 2 }
						}
					}
					AND = {
						has_completed_focus = GER_integration_of_puppet_economies
						OR = {
							check_variable = { GER_ascended_advisor_1 = 3 }
							check_variable = { GER_ascended_advisor_2 = 3 }
							check_variable = { GER_ascended_advisor_3 = 3 }
						}
					}
					AND = {
						has_completed_focus = GER_hegemony_of_the_ss
						OR = {
							check_variable = { GER_ascended_advisor_1 = 4 }
							check_variable = { GER_ascended_advisor_2 = 4 }
							check_variable = { GER_ascended_advisor_3 = 4 }
						}
					}
					AND = {
						has_completed_focus = GER_propaganda_master
						OR = {
							check_variable = { GER_ascended_advisor_1 = 5 }
							check_variable = { GER_ascended_advisor_2 = 5 }
							check_variable = { GER_ascended_advisor_3 = 5 }
						}
					}
					AND = {
						has_completed_focus = GER_total_control_over_domestic_affairs
						OR = {
							check_variable = { GER_ascended_advisor_1 = 6 }
							check_variable = { GER_ascended_advisor_2 = 6 }
							check_variable = { GER_ascended_advisor_3 = 6 }
							check_variable = { GER_ascended_advisor_1 = 7 }
							check_variable = { GER_ascended_advisor_2 = 7 }
							check_variable = { GER_ascended_advisor_3 = 7 }
						}
					}
				}
			}

			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_a_strong_successor_flag
		}

		completion_reward = {
			mark_focus_tree_layout_dirty = yes
			hidden_effect = {
				country_event = GER_inner_circle.02
			}
		
			custom_effect_tooltip = {
				localization_key = GER_a_strong_successor_tt
				EVENT = GER_inner_circle.02.t
				CHARACTER = [ROOT.GetLeader]
			}
			if = {
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
						check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
						check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
					}
				}
				custom_effect_tooltip = GER_a_strong_successor_current_advisors_tt
			}

			hidden_effect = {
				clr_country_flag = GER_a_strong_successor_flag
			}
		}
	}

	focus = {
		id = GER_loyalty_to_the_fuhrer
		icon = GFX_focus_GER_loyalty_to_the_fuhrer
		prerequisite = { focus = GER_hegemony_of_the_ss focus = GER_wunderwaffe focus = GER_integration_of_puppet_economies focus = GER_propaganda_master focus = GER_total_control_over_domestic_affairs }
		mutually_exclusive = { focus = GER_a_strong_successor }
		x = 2
		y = 5
		relative_position_id = GER_fuhrerprinzip
		cost = 5

		available = {
			has_government = fascism

			custom_trigger_tooltip = {
				tooltip = GER_a_strong_successor_trigger_tt
				count_triggers = {
					amount = 3
					AND = {
						has_completed_focus = GER_wunderwaffe
						OR = {
							check_variable = { GER_ascended_advisor_1 = 1 }
							check_variable = { GER_ascended_advisor_2 = 1 }
							check_variable = { GER_ascended_advisor_3 = 1 }
							check_variable = { GER_ascended_advisor_1 = 2 }
							check_variable = { GER_ascended_advisor_2 = 2 }
							check_variable = { GER_ascended_advisor_3 = 2 }
						}
					}
					AND = {
						has_completed_focus = GER_integration_of_puppet_economies
						OR = {
							check_variable = { GER_ascended_advisor_1 = 3 }
							check_variable = { GER_ascended_advisor_2 = 3 }
							check_variable = { GER_ascended_advisor_3 = 3 }
						}
					}
					AND = {
						has_completed_focus = GER_hegemony_of_the_ss
						OR = {
							check_variable = { GER_ascended_advisor_1 = 4 }
							check_variable = { GER_ascended_advisor_2 = 4 }
							check_variable = { GER_ascended_advisor_3 = 4 }
						}
					}
					AND = {
						has_completed_focus = GER_propaganda_master
						OR = {
							check_variable = { GER_ascended_advisor_1 = 5 }
							check_variable = { GER_ascended_advisor_2 = 5 }
							check_variable = { GER_ascended_advisor_3 = 5 }
						}
					}
					AND = {
						has_completed_focus = GER_total_control_over_domestic_affairs
						OR = {
							check_variable = { GER_ascended_advisor_1 = 6 }
							check_variable = { GER_ascended_advisor_2 = 6 }
							check_variable = { GER_ascended_advisor_3 = 6 }
							check_variable = { GER_ascended_advisor_1 = 7 }
							check_variable = { GER_ascended_advisor_2 = 7 }
							check_variable = { GER_ascended_advisor_3 = 7 }
						}
					}
				}
			}

			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_loyalty_to_the_fuhrer_flag
		}

		completion_reward = {
			add_political_power = 100

			add_country_leader_trait = GER_loyal_inner_circle

			if = {
				limit = {
					capital_scope = {
						state = 64 #BRANDENBURG
					}
					controls_province = 6521 #BERLIN
					64 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 6521
						}
					}
				}
				64 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province =  6521
					}
				}
			}

			hidden_effect = {
				clr_country_flag = GER_loyalty_to_the_fuhrer_flag
			}
		}
	}

	focus = {
		id = GER_occult_expeditions
		icon = GFX_focus_POL_support_global_falangism

		relative_position_id = GER_a_strong_successor
		prerequisite = { focus = GER_a_strong_successor }

		x = 0
		y = 1

		cost = 5

		allow_branch = {
			has_completed_focus = GER_a_strong_successor
		}

		available = {
		}

		completion_reward = {
			unlock_decision_tooltip = GER_tibetian_expedition
		}

	}




   ###    ##       ########         ##     ## ####  ######  ######## 
  ## ##   ##          ##            ##     ##  ##  ##    ##    ##    
 ##   ##  ##          ##            ##     ##  ##  ##          ##    
##     ## ##          ##    ####### #########  ##   ######     ##    
######### ##          ##            ##     ##  ##        ##    ##    
##     ## ##          ##            ##     ##  ##  ##    ##    ##    
##     ## ########    ##            ##     ## ####  ######     ##    




	focus = {
		id = GER_oppose_hitler_ww
		icon = GFX_focus_ger_oppose_hitler

		mutually_exclusive = { focus = GER_remilitarize_the_rhineland }

		x = 72
		y = 0
		relative_position_id = GER_prioritize_economic_growth

		cost = 10

		available = {
			is_subject = no
			has_government = fascism
		}

		allow_branch = {
			has_dlc = "Gotterdammerung" 
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = GER_remilitarize_the_rhineland
				}
			}
		}

		offset = {
			x = -43
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_oppose_hitler_ww
			}
		}
		offset = {
			x = -5
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_monarchist_sentiment
			}
		}
		offset = {
			x = -10
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_start_the_proletarian_revolution
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MILITARY_CHARACTER }

		select_effect = {
			country_event = {
			    id = wuw_GER_civil_war.7
			    days = 7
			}
		}

		completion_reward = {
			hidden_effect = { #offset from fascist reasons on 00_on_actions
				add_ai_strategy = {
				   type = alliance
				   id = POL
				   value = 2000
				}
				POL = {
					add_ai_strategy = {
					   type = alliance
					   id = GER
					   value = 2000
					}
				}
			}

			42 = { set_demilitarized_zone = no }
			51 = { set_demilitarized_zone = no }
			978 = { set_demilitarized_zone = no }

			custom_effect_tooltip = generic_skip_one_line_tt

			add_political_power = 120

			custom_effect_tooltip = generic_skip_one_line_tt

			add_named_threat = { threat = 3 name = GER_oppose_hitler }

			country_event = { 
				id = wtt_germany.1 
			}
			custom_effect_tooltip = GER_oppose_hitler_civil_war

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_hans_oster

			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}
	focus = {
		id = GER_rally_the_nation
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		prerequisite = { focus = GER_oppose_hitler_ww }

		x = -2
		y = 1
		relative_position_id = GER_oppose_hitler_ww
		cost = 5
		available = {
			has_civil_war = yes
		}

		bypass = {
			has_civil_war = no
			NOT = {
				has_government = fascism
			}
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}

			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_rally_the_nation_ns
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			country_event = { 
				id = wuw_GER_civil_war.3
			}
			custom_effect_tooltip = GER_rally_the_nation_tt

		}
	} 

	focus = {
		id = GER_denazification_campaigns
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = GER_rally_the_nation }

		x = -1
		y = 1
		relative_position_id = GER_rally_the_nation
		cost = 5
		available = {
			fascism > 0.05
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_stability = 0.05
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_clamp_down_on_fascism
				days = 720
			}

		}
	}

	focus = {
		id = GER_rebuild_the_nation_ww
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = GER_rally_the_nation }

		x = 1
		y = 1
		relative_position_id = GER_rally_the_nation
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_timed_idea = {
				idea = GER_recover_from_the_civil_war_ns
				days = 365
			}
		}
	}

	focus = {
		id = GER_revitalize_the_nation
		icon = GFX_focus_generic_public_works
		prerequisite = { focus = GER_denazification_campaigns focus = GER_rebuild_the_nation_ww }

		x = 1
		y = 1
		relative_position_id = GER_denazification_campaigns
		
		cost = 5

		available = {
			has_civil_war = no
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_stability = 0.05

			custom_effect_tooltip = GER_rebuild_the_nation_ww_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_national_revitalization_ns
				days = 545
			}
			
			if = {
				limit = { 
					has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
				}				
				custom_effect_tooltip = GER_modify_mefo_bills_modifier_tt
				add_to_variable = { 
					GER_industrial_consumer_goods_factor = -0.1
					tooltip = consumer_goods_factor_tt
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			IF = {
				limit = {
					has_idea = GER_philipp_holzmann
				}
				swap_ideas = {
					remove_idea = GER_philipp_holzmann
					add_idea = GER_philipp_holzmann_improved
				}
			}
			ELSE = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_philipp_holzmann
						add_idea = GER_philipp_holzmann_improved
					}
				}
			}
		}
	}

	focus = {
		id = GER_tend_to_the_future_of_germany
		icon = GFX_focus_GER_tend_to_the_future
		prerequisite = { focus = GER_oppose_hitler_ww }

		x = 0
		y = 3
		relative_position_id = GER_oppose_hitler_ww
		cost = 2
		available = {
			has_civil_war = no
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			if = {
				limit = {
					has_active_mission = GER_growing_public_dissent_mission
				}
				add_days_mission_timeout = {
					mission = GER_growing_public_dissent_mission
					days = 14
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}
		
			add_stability = 0.05
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_tend_to_the_future_of_germany_tt
		}
	}

	###################
	###################
	#### COMMUNISM ####
	###################
	###################

	focus = {
		id = GER_start_the_proletarian_revolution
		icon = GFX_focus_SWE_refuge_for_revolutionaries
		prerequisite = { focus = GER_tend_to_the_future_of_germany }
		mutually_exclusive = { focus = GER_monarchist_sentiment }

		x = -11
		y = 1
		relative_position_id = GER_tend_to_the_future_of_germany
		cost = 5
		available = {
		}

		bypass = {
			has_government = communism
		}

		allow_branch = {
			has_dlc = "Gotterdammerung"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = GER_monarchist_sentiment
					has_completed_focus = GER_remilitarize_the_rhineland
				}
			}
		}

		offset = {
			x = 11
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_start_the_proletarian_revolution
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {
			if = {
				limit = {
					has_active_mission = GER_growing_public_dissent_mission
				}
				add_days_mission_timeout = {
					mission = GER_growing_public_dissent_mission
					days = 45
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			set_country_flag = GER_the_proletarian_revolution_flag

			add_political_power = 75
			add_stability = -0.025

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					51 = { 
						is_fully_controlled_by = ROOT
						NOT = { has_state_flag = GER_proletarian_state_flag }
					}
				}
				51 = { #Sachsen
					add_dynamic_modifier = {
						modifier = GER_proletariat_uprising_modifier
					}
					set_state_flag = GER_proletarian_state_flag
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						NOT = { has_state_flag = GER_proletarian_state_flag }
						NOT = { 
							has_dynamic_modifier = {
								modifier = GER_proletariat_uprising_modifier
							}
							state = 65 #Sachsen
							state = 60 #Thüringen
							state = 51 #Rhineland
						}
					}

					prioritize = { 909 61 54 58 } #schleswig, Mecklenburg, Franken and Holstein

					add_dynamic_modifier = {
						modifier = GER_proletariat_uprising_modifier
					}
					set_state_flag = GER_proletarian_state_flag
				}
			}
			if = {
				limit = {
					60 = { 
						is_fully_controlled_by = ROOT
						NOT = { has_state_flag = GER_proletarian_state_flag }
					}
				}
				60 = { #Sachsen
					add_dynamic_modifier = {
						modifier = GER_proletariat_uprising_modifier
					}
					set_state_flag = GER_proletarian_state_2_flag
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						NOT = { has_state_flag = GER_proletarian_state_flag }
						NOT = { 
							has_dynamic_modifier = {
								modifier = GER_proletariat_uprising_modifier
							}
							state = 65 #Sachsen
							state = 60 #Thüringen
							state = 51 #Rhineland
						}
					}

					prioritize = { 58 54 61 909 } #holstein, Franken, Mecklenburg and Schleswig

					add_dynamic_modifier = {
						modifier = GER_proletariat_uprising_modifier
					}
					set_state_flag = GER_proletarian_state_flag
				}
			}
			if = {
				limit = {
					65 = {
						is_fully_controlled_by = ROOT
						NOT = { has_state_flag = GER_proletarian_state_flag }
					}
				}
				65 = { #Sachsen
					add_dynamic_modifier = {
						modifier = GER_proletariat_uprising_modifier
					}
					set_state_flag = GER_proletarian_state_flag
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						NOT = { has_state_flag = GER_proletarian_state_flag }
						NOT = { 
							has_dynamic_modifier = {
								modifier = GER_proletariat_uprising_modifier
							}
							state = 65 #Sachsen
							state = 60 #Thüringen
							state = 51 #Rhineland
						}
					}

					prioritize = { 61 54 909 58 } #Mecklenburg, Franken, schleswig and holstein

					add_dynamic_modifier = {
						modifier = GER_proletariat_uprising_modifier
					}
					set_state_flag = GER_proletarian_state_3_flag
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			unlock_decision_tooltip = GER_expand_the_proletarian_uprisings_decision
				
			custom_effect_tooltip = generic_skip_one_line_tt
			activate_mission_tooltip = GER_imminent_proletarian_revolution_mission
			custom_effect_tooltip = GER_start_the_proletarian_revolution_civil_war_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_states_with_proletarian_uprising_joins_cw_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_walter_ulbricht
			show_ideas_tooltip = GER_bernhard_bastlein

			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				mark_focus_tree_layout_dirty = yes
			}

			every_core_state = {
				limit = {
					has_state_flag = GER_proletarian_state_flag
				}
				clr_state_flag = GER_proletarian_state_flag
			}
		}
	}

	focus = {
		id = GER_formalize_the_intelligence_wing
		icon = GFX_focus_generic_whispers 
		prerequisite = { focus = GER_start_the_proletarian_revolution }

		x = -3
		y = 1
		relative_position_id = GER_start_the_proletarian_revolution
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_the_peoples_victory }
				}
				add_days_mission_timeout = {
					mission = GER_imminent_proletarian_revolution_mission
					days = 15
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_dynamic_modifier = {
				modifier = GER_communist_intel_modifier
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = GER_wilhelm_zaisser			
			}
		}
	}
	
	focus = {
		id = GER_form_the_stasi
		icon = GFX_focus_GER_form_the_stasi
		prerequisite = { focus = GER_formalize_the_intelligence_wing }

		x = 1
		y = 1
		relative_position_id = GER_formalize_the_intelligence_wing
		cost = 10
		available = {
			has_government = communism
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			IF = {
				limit = { has_dlc = "La Resistance" }

				IF = {
					limit = { has_intelligence_agency = no }

					create_intelligence_agency = {
						name = "Stasi"
						icon = GFX_intelligence_agency_logo_GER_stasi
					}
				}
				ELSE = {
					gain_random_agency_upgrade = yes
				}


				custom_effect_tooltip = generic_skip_one_line_tt

				remove_dynamic_modifier = { #for tooltip reasons this appears twice
					modifier = GER_communist_intel_modifier
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_dynamic_modifier = {
					modifier = GER_stasi_modifier
				}

				IF = {
					limit = {
						NOT = {
							has_country_flag = GER_has_done_stasi_focus_flag
						}
					}
					add_to_variable = { GER_communist_intel_operative_slot = 1 tooltip = operative_slot_tt }
					add_to_variable = { GER_communist_intel_stability_factor = -0.05 tooltip = stability_factor_tt }
				}

				set_country_flag = GER_has_done_stasi_focus_flag
			}

			ELSE = {

				remove_dynamic_modifier = { #for tooltip reasons this appears twice
					modifier = GER_communist_intel_modifier
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_dynamic_modifier = {
					modifier = GER_stasi_modifier
				}

				add_to_variable = { GER_communist_intel_subversive_activities_upkeep = -0.3 tooltip = subversive_activites_upkeep_tt }
				add_to_variable = { GER_communist_intel_stability_factor = -0.05 tooltip = stability_factor_tt }
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
 				custom_effect_tooltip = generic_skip_one_line_tt
	
				GER_wilhelm_zaisser = {
					remove_trait = {
						slot = political_advisor
						trait = GER_intelligence_coordinator
					}
				}
				GER_wilhelm_zaisser = {
 					add_trait = { 
 						slot = political_advisor
 						trait = GER_secretary_of_state_security
 					}
 				}
 			}
		}
	}
	focus = {
		id = GER_effective_operations
		icon = GFX_focus_generic_secret_service_agency
		prerequisite = { focus = GER_formalize_the_intelligence_wing }

		x = -1
		y = 1
		relative_position_id = GER_formalize_the_intelligence_wing
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			IF = {
				limit = {
					has_dynamic_modifier = {
						modifier = GER_stasi_modifier
					}
				}
				custom_effect_tooltip = GER_stasi_modifier_intro_tt
			}
			ELSE = {
				custom_effect_tooltip = GER_communist_intel_modifier_intro_tt
			}

			IF = {
				limit = { has_dlc = "La Resistance" }


				add_to_variable = { GER_communist_intel_subversive_activities_upkeep = -0.25 tooltip = subversive_activites_upkeep_tt }
				add_to_variable = { GER_communist_intel_intel_network_gain = 0.2 tooltip = intel_network_gain_factor_tt }
			}
			ELSE = {
				add_to_variable = { GER_communist_intel_decryption_factor = 0.2 tooltip = decryption_factor_tt }
				add_to_variable = { GER_communist_intel_encryption_factor = 0.2 tooltip = encryption_factor_tt }
				
			}
		}
	}
	focus = {
		id = GER_assemble_red_orchestra
		icon = GFX_focus_SWI_embrace_rote_drei
		prerequisite = { focus = GER_form_the_stasi }
		prerequisite = { focus = GER_effective_operations }

		x = 1
		y = 1
		relative_position_id = GER_effective_operations
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {

			IF = {
				limit = { has_dlc = "La Resistance"}

				create_operative_leader = {
					name = GER_erich_mielke
					bypass_recruitment = no 
					traits = { operative_commando operative_escape_artist operative_master_interrogator }
					available_to_spy_master = yes  
					GFX = GFX_portrait_GER_erich_mielke
					gender = male
				}

				create_operative_leader = {
					name = GER_marie_luise_hammerstein
					bypass_recruitment = no 
					traits = { operative_natural_orator }
					available_to_spy_master = yes 
					nationalities = { GER SOU } 
					GFX = GFX_portrait_GER_marie_luise_hammerstein
					gender = female
				}

				create_operative_leader = {
					name = GER_rudolf_herrnstadt
					bypass_recruitment = no 
					traits = { operative_linguist }
					available_to_spy_master = yes 
					nationalities = { GER SOU } 
					GFX = GFX_portrait_GER_rudolf_herrnstadt
					gender = male
				}

				create_operative_leader = {
					name = GER_ernst_wollweber
					bypass_recruitment = no 
					traits = { operative_tough }
					available_to_spy_master = yes 
					nationalities = { GER SOU } 
					GFX = GFX_portrait_GER_ernst_wollweber
					gender = male
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_stasi_modifier_intro_tt

				add_to_variable = { GER_communist_intel_operative_slot = 2 tooltip = operative_slot_tt }
			}

			ELSE = {
				custom_effect_tooltip = GER_stasi_modifier_intro_tt
				add_to_variable = { GER_communist_intel_decryption_factor = 0.2 tooltip = decryption_factor_tt }
				add_to_variable = { GER_communist_intel_encryption_factor = 0.2 tooltip = encryption_factor_tt }
			}

			
		}
	}
	focus = {
		id = GER_ressurect_the_red_front_fighters_league
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = GER_start_the_proletarian_revolution }

		x = 3
		y = 1
		relative_position_id = GER_start_the_proletarian_revolution
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL_CHARACTER } 

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_the_peoples_victory }
				}
				add_days_mission_timeout = {
					mission = GER_imminent_proletarian_revolution_mission
					days = 15
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_popularity = {
				ideology = communism
				popularity = 0.03
			}
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			division_template = {
				name = "Roter Frontkämpferbund Division"
				priority = 1
				division_names_group = GER_MIL_03
				template_counter = 69 #nice!
				is_locked = no
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
				
				}
				override_model = GER_militia_alt_0_entity
			}

			IF = {
				limit = {
					NOT = {
						any_controlled_state = {
							has_dynamic_modifier = { modifier = GER_proletariat_uprising_modifier }
						}
						has_government = communism
					}
				}

				custom_effect_tooltip = GER_ressurect_the_red_front_fighters_league_tt
			}
			every_core_state = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_proletariat_uprising_modifier }
						AND = {
							controller = {
								has_government = communism
								original_tag = GER
							}
						}
					}
					
				}
				random_select_amount = 3

				create_unit = {
					division = "division_template =\"Roter Frontkämpferbund Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
					owner = PREV
					count = 2
				}
			}
			if = {
				limit = {
					NOT = {
						has_government = communism
						has_completed_focus = GER_the_peoples_victory
					} 
				}
				custom_effect_tooltip = GER_spawn_more_communist_militias_in_civil_war_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_ernst_thalmann = {
				remove_trait = {
					slot = political_advisor
					trait = GER_proletarian_leader
				}
			}
			GER_ernst_thalmann = {
 				add_trait = { 
 					slot = political_advisor
 					trait = GER_militant_communist
 				}
 			}
			
		}
	}
	focus = {
		id = GER_reorganize_nationale_volksarmee
		icon = GFX_focus_generic_full_social_mobilization
		prerequisite = { focus = GER_ressurect_the_red_front_fighters_league }

		x = -1
		y = 1
		relative_position_id = GER_ressurect_the_red_front_fighters_league
		cost = 5
		available = {
			has_civil_war = no
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_the_peoples_victory }
				}
				add_days_mission_timeout = {
					mission = GER_imminent_proletarian_revolution_mission
					days = 15
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_war_support = 0.05
			add_command_power = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { GER_military_planning_speed = -0.1 tooltip = planning_speed_factor_tt }
			add_to_variable = { GER_military_unit_leader_as_advisor_cp_cost_factor = -0.1 tooltip = unit_leader_as_advisor_cp_cost_factor_tt }

			custom_effect_tooltip = generic_skip_one_line_tt

			effect_tooltip = { #GER_vincenz_muller exists in the character file. This is for TT purposes only
				add_field_marshal_role  = {
					character = GER_vincenz_muller
					traits = { infantry_officer trait_reckless politically_connected offensive_doctrine }
					skill = 2
					attack_skill = 2
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 2
				}
			}
			show_unit_leaders_tooltip = GER_hans_kahle
			show_unit_leaders_tooltip = GER_hans_marchwitza
			show_unit_leaders_tooltip = GER_arno_von_lenski

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_country_flag = GER_communist_civil_war_flag }
				}
				custom_effect_tooltip = GER_cannot_join_oppossing_civil_war_side_tt
			}
			if = {
				limit = {
					has_character = GER_maximilian_von_weichs
				}
				retire_character = GER_maximilian_von_weichs
			}
			if = {
				limit = {
					has_character = GER_ewald_von_kleist
				}
				retire_character = GER_ewald_von_kleist
			}
		}
	}
	focus = {
		id = GER_political_commissars
		icon = GFX_focus_SOV_mobilization_plan
		prerequisite = { focus = GER_ressurect_the_red_front_fighters_league }

		x = 1
		y = 1
		relative_position_id = GER_ressurect_the_red_front_fighters_league
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_the_peoples_victory }
				}
				add_days_mission_timeout = {
					mission = GER_imminent_proletarian_revolution_mission
					days = 15
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = {
				ideology = communism
				popularity = 0.03
			}
			add_war_support = 0.05
			add_command_power = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { GER_military_army_morale_factor = 0.1 tooltip = army_morale_factor_tt }
			add_to_variable = { GER_military_army_org_factor = -0.05 tooltip = army_org_factor_tt }
			add_to_variable = { GER_military_command_power_gain_mult = 0.1 tooltip = command_power_gain_mult_tt }		
		}
	}
	focus = {
		id = GER_rapid_army_expansion
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		prerequisite = { focus = GER_reorganize_nationale_volksarmee }
		prerequisite = { focus = GER_political_commissars}

		x = 1
		y = 1
		relative_position_id = GER_reorganize_nationale_volksarmee
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {


			GER_add_or_modify_politburo = yes
			add_to_variable = { GER_politburo_mobilization_laws_cost_factor = -0.15 tooltip = mobilization_laws_cost_factor_tt }
			add_to_variable = { GER_politburo_conscription_factor = 0.05 tooltip = conscription_factor_tt }

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { GER_military_mobilization_speed = 0.1 tooltip = mobilization_speed_tt }
			add_to_variable = { GER_military_experience_gain_army_factor = -0.1 tooltip = experience_gain_army_factor_tt }
			add_to_variable = { GER_military_minimum_training_level = -0.1 tooltip = minimum_training_level_tt }

			
		}
	}
	focus = {
		id = GER_the_peoples_victory
		icon = GFX_focus_GER_the_peoples_victory
		prerequisite = { focus = GER_start_the_proletarian_revolution }

		x = 0
		y = 3
		relative_position_id = GER_start_the_proletarian_revolution
		cost = 5
		available = {
			communism > 0.5
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {
			hidden_effect = { #To switch color
				set_cosmetic_tag = GER_communism 
			}
			every_controlled_state = {
				limit = {
					has_dynamic_modifier = { modifier = GER_proletariat_uprising_modifier }
				}
				remove_dynamic_modifier = { modifier = GER_proletariat_uprising_modifier }
			}

			add_stability = 0.05
			add_political_power = 100

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_government = communism }
				}
				set_politics = {
					ruling_party = communism
					elections_allowed = no
					last_election = "1933.3.5"
					election_frequency = 48
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			IF = {
				limit = { has_country_flag = GER_thalmann_freed_from_prison_flag }

				GER_ernst_thalmann = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = leninism
							expire = 1965.1.1
							traits = { NOR_stern_communist} 
						}
					}
				}
			}

			ELSE = {
				GER_walter_ulbricht = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = stalinism
							expire = 1965.1.1
							traits = { GER_inflexible_communist_organizer } 
						}
					}
				}
			}

			add_named_threat = { threat = 5 name = GER_the_peoples_victory }
		}
	}
	focus = {
		id = GER_legacy_of_the_spartacus_league
		icon = GFX_focus_GER_legacy_of_the_spartacus_league
		prerequisite = { focus = GER_the_peoples_victory }
		mutually_exclusive = { focus = GER_proletarian_dictatorship }
		x = -5
		y = 1
		relative_position_id = GER_the_peoples_victory
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			set_party_name = { 
				ideology = communism
				long_name = GER_communism_arbeit_party_long
				name = GER_communism_arbeit_party
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			country_event = {
				id = wuw_GER_german_politics.02
				hours = 6
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_otto_ruhle


			set_cosmetic_tag = GER_peoples_republic
		}
	}
	focus = {
		id = GER_social_ownership
		icon = GFX_focus_DEN_no_regulations
		prerequisite = { focus = GER_legacy_of_the_spartacus_league }

		x = 0
		y = 1
		relative_position_id = GER_legacy_of_the_spartacus_league
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_stability = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_factory_max_efficiency_factor = 0.025
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.025
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_start_efficiency_factor = 0.025
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.025
				tooltip = line_change_production_efficiency_factor_tt
			}
		}
	}
	focus = {
		id = GER_civil_liberties
		icon = GFX_focus_spr_torchbearers_of_tomorrow
		prerequisite = { focus = GER_social_ownership }

		x = -2
		y = 1
		relative_position_id = GER_social_ownership
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			GER_add_or_modify_politburo = yes

			add_to_variable = { GER_politburo_political_power_factor = 0.1 tooltip = political_power_factor_tt }
			add_to_variable = { GER_politburo_resistance_growth = -0.05 tooltip = resistance_growth_tt }
			add_to_variable = { GER_politburo_compliance_growth = 0.05 tooltip = compliance_growth_tt }
			add_to_variable = { GER_politburo_subjects_autonomy_gain = -0.15 tooltip = subjects_autonomy_gain_tt }
		}
	}

	focus = {
		id = GER_embrace_democratic_institutions
		icon = GFX_focus_generic_improve_the_administration
		prerequisite = { focus = GER_social_ownership }

		x = 0
		y = 1
		relative_position_id = GER_social_ownership
		cost = 5
		available = {
			is_subject = no
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {
			GER_add_or_modify_politburo = yes

			add_to_variable = { GER_politburo_democratic_drift = 0.02 tooltip = democratic_drift_tt }
			add_to_variable = { GER_politburo_party_popularity_stability_factor = 0.15 tooltip = party_popularity_stability_factor_tt }
			add_to_variable = { GER_politburo_defensive_war_stability_factor = 0.15 tooltip = defensive_war_stability_factor_tt }
		}
	}

	focus = {
		id = GER_protect_the_revolution
		icon = GFX_focus_spr_masters_of_our_own_fate
		prerequisite = { focus = GER_civil_liberties }
		prerequisite = { focus = GER_embrace_democratic_institutions }
		prerequisite = { focus = GER_spark_the_flame_of_revolution }

		x = 1
		y = 2
		relative_position_id = GER_civil_liberties
		cost = 10
		available = {
			is_subject = no
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = GER_protect_the_revolution_tt
		}
	}

	focus = {
		id = GER_establish_volkskommissariats
		icon = GFX_focus_GER_establish_volkskommissariats
		prerequisite = { focus = GER_protect_the_revolution }

		x = 0
		y = 1
		relative_position_id = GER_protect_the_revolution
		cost = 5
		available = {
			is_subject = no
			num_subjects > 0
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 100
			
			custom_effect_tooltip = GER_establish_volkskommissariats_tt
		}
	}

	focus = {
		id = GER_industrialize_volkskommissariats
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = GER_establish_volkskommissariats }

		x = -1
		y = 1
		relative_position_id = GER_establish_volkskommissariats
		cost = 5
		available = {
			is_subject = no
			num_subjects > 0
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = GER_industrialize_volkskommissariats_tt
		}
	}

	focus = {
		id = GER_instill_german_discipline
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = GER_establish_volkskommissariats }

		x = 1
		y = 1
		relative_position_id = GER_establish_volkskommissariats
		cost = 5
		available = {
			is_subject = no
			num_subjects > 0
		}

		search_filters = {}

		completion_reward = {
			IF = {
				limit = {
					any_country = {
						has_autonomy_state = autonomy_volkskommissariat
					}
				}
				every_other_country = {
					limit = {
						has_autonomy_state = autonomy_volkskommissariat
					}

					add_ideas = GER_volkskommissariat_military
				}
			}

			ELSE = {
				custom_effect_tooltip = GER_current_future_volkskommisariats_tt
				effect_tooltip = {
					add_ideas = GER_volkskommissariat_military
				}
			}
		}
	}
	focus = {
		id = GER_integrate_subjects_economies
		icon = GFX_focus_usa_reestablish_the_gold_standard
		prerequisite = { focus = GER_industrialize_volkskommissariats }
		prerequisite = { focus = GER_instill_german_discipline }

		x = 1
		y = 1
		relative_position_id = GER_industrialize_volkskommissariats
		cost = 10
		available = {
			is_subject = no
			num_subjects > 0
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			IF = {
				limit = {
					any_country = {
						has_autonomy_state = autonomy_volkskommissariat
					}
				}
				every_other_country = {
					limit = {
						has_autonomy_state = autonomy_volkskommissariat
					}

					add_ideas = GER_volkskommissariat_economic_integration
				}
			}

			ELSE = {
				custom_effect_tooltip = GER_current_future_volkskommisariats_tt
				effect_tooltip = {
					add_ideas = GER_volkskommissariat_economic_integration
				}
			}
		}
	}
	focus = {
		id = GER_integrate_volkskommissariats
		icon = GFX_focus_GER_integrate_volkskommissariats
		prerequisite = { focus = GER_integrate_subjects_economies }

		x = 0
		y = 1
		relative_position_id = GER_integrate_subjects_economies
		cost = 10
		available = {
			num_subjects > 2
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			custom_effect_tooltip = GER_integrate_volkskommissariats_tt
		}
	}


	focus = {
		id = GER_liberate_austria
		icon = GFX_focus_generic_attack_austria
		prerequisite = { focus = GER_social_ownership focus = GER_state_controlled_economy }

		x = 3
		y = 1
		relative_position_id = GER_social_ownership
		cost = 10
		available = {
			is_subject = no
			AUS = { 
				exists = yes
				NOT = { has_war_with = ROOT }
				NOT = { is_guaranteed_by = ROOT }
				NOT = { has_non_aggression_pact_with = ROOT }
				OR = {
					is_subject_of = ROOT
					AND = {
						is_subject = no
						OR = {
							NOT = { is_in_faction_with = ROOT }
							AND = {
								is_faction_leader = no
								is_in_faction_with = ROOT
							}
						}
					}
				}
			}
		}

		bypass = {
			AUS = { 
				OR = {
					exists = no
					has_war_with = ROOT
					AND = {
						is_subject = yes
						NOT = { is_subject_of = ROOT }
					}
					AND = {
						is_faction_leader = yes
						is_in_faction_with = ROOT
					}
					is_guaranteed_by = ROOT
					has_non_aggression_pact_with = ROOT
				}
			}
		}

		will_lead_to_war_with = AUS

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_named_threat = { threat = 3 name = GER_liberate_austria }

			if = {
				limit = {
					OR = {
						has_subject = AUS
						AND = {
							is_in_faction_with = AUS
							is_faction_leader = yes
						}
						AUS = {
							OR = {
								has_government = communism
								has_government = democratic
							}
							is_subject = no
							is_in_faction = no
						}
					}
				}
				AUS = {
					country_event = {
						id = wuw_GER_diplomacy.77
						hours = 12
					}
				}
			}
			else = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = AUS
					expire = 0
				}
			}
		}
	}
	focus = {
		id = GER_spark_the_flame_of_revolution
		icon = GFX_focus_generic_workers_and_farmers_rise
		prerequisite = { focus = GER_liberate_austria }

		x = -1
		y = 1
		relative_position_id = GER_liberate_austria
		cost = 5
		available = {
			is_subject = no
			any_neighbor_country = {
				capital_scope = {
					is_on_continent = europe
				}
				is_major = no
				NOT = { has_government = fascism }
				NOT = { has_government = communism }
			}
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_spark_the_flame_of_revolution_tt

			if = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = GER_central_european_alliance_tt
			}
			effect_tooltip = {
				create_faction = GER_proletarian_international_alliance
			}
			hidden_effect = {
				if = {
					limit = {
						is_in_faction = no
					}
					create_faction = GER_proletarian_international_alliance
				}
			}
		}
	}
	focus = {
		id = GER_support_the_proletarian_uprising
		icon = GFX_focus_GER_support_the_proletarian_uprising
		prerequisite = { focus = GER_spark_the_flame_of_revolution }

		x = 0
		y = 1
		relative_position_id = GER_spark_the_flame_of_revolution
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = GER_support_the_proletarian_uprising_tt
		}
	}
	focus = {
		id = GER_the_proletarian_legion
		icon = GFX_focus_SOV_builder_of_the_red_army
		prerequisite = { focus = GER_support_the_proletarian_uprising focus = GER_protect_the_revolution }

		x = -1
		y = 1
		relative_position_id = GER_support_the_proletarian_uprising
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = GER_the_proletarian_legion_tt
			effect_tooltip = {
				add_ideas = GER_proletarian_legion_ns
			}
			#custom_effect_tooltip = "TODO_Danne: Could even give attack/defense bonus against the opposing side of the CW using targeted_modifier targeting a variable? Polish/nice to have"
		}
	}
	focus = {
		id = GER_strengthen_the_proletarian_international
		icon = GFX_focus_GER_strengthen_the_proletarian_international
		prerequisite = { focus = GER_support_the_proletarian_uprising }

		x = 1
		y = 1
		relative_position_id = GER_support_the_proletarian_uprising
		cost = 5
		available = {
		}

		search_filters = {}


		completion_reward = {
			if = {
				limit = {
					any_other_country = {
						NOT = { is_in_faction_with = ROOT }
						is_in_array = {
							array = GER.started_communist_cw_here
							value = THIS
						}
						capital_scope = { is_on_continent = europe}
					}
				}
				every_other_country = {
					limit = {
						NOT = { is_in_faction_with = ROOT }
						is_in_array = {
							array = GER.started_communist_cw_here
							value = THIS
						}
						capital_scope = { is_on_continent = europe}
					}
					country_event = {
						id = wuw_GER_diplomacy.83
						hours = 6
					}
				}
			}	
			else = {
				custom_effect_tooltip = GER_strengthen_the_proletarian_international_tt
			}
		}
	}
	focus = {
		id = GER_red_europe
		icon = GFX_focus_ger_great_red_menace
		prerequisite = { focus = GER_the_proletarian_legion focus = GER_strengthen_the_proletarian_international }

		x = 1
		y = 1
		relative_position_id = GER_the_proletarian_legion
		cost = 5
		available = {
			any_country = {
				capital_scope = {
					is_on_continent = europe
				}
				is_major = no
				NOT = { has_government = fascism }
				NOT = { has_government = communism }
			}
		}

		bypass = {
		}

		search_filters = {}

		completion_reward = {
			add_named_threat = { threat = 5 name = GER_red_europe }

			custom_effect_tooltip = GER_spark_the_flame_of_revolution_red_europe_tt
		}
	}
	focus = {
		id = GER_proletarian_solidarity
		icon = GFX_focus_GER_proletarian_solidarity
		prerequisite = { focus = GER_red_europe }

		x = 0
		y = 1
		relative_position_id = GER_red_europe
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = GER_proletarian_solidarity_decision_tt
		}
	}
	focus = {
		id = GER_liberate_italy
		icon = GFX_focus_attack_italy
		prerequisite = { focus = GER_liberate_austria }

		x = 1
		y = 2
		relative_position_id = GER_liberate_austria
		cost = 10
		available = {
			ITA = { 
				is_subject = no
				NOT = { has_government = communism }
			}
			NOT = { has_guaranteed = ITA }
			NOT = { has_non_aggression_pact_with = ITA }
		}

		bypass = {
			ITA = { 
				OR = {
					exists = no
					is_subject = yes
					has_government = communism
					has_war_with = ROOT
					is_guaranteed_by = ROOT
					has_non_aggression_pact_with = ROOT
				}
			}
		}

		will_lead_to_war_with = ITA

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_named_threat = { threat = 3 name = GER_liberate_italy }

			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
				expire = 0
			}
		}
	}

	focus = {
		id = GER_the_end_to_fascist_europe
		icon = GFX_focus_ITA_liberation_or_death
		prerequisite = { focus = GER_liberate_italy }

		x = 1
		y = 2
		relative_position_id = GER_liberate_italy
		cost = 10
		available = {
			any_other_country = {
				capital_scope = {
					is_on_continent = europe
				}
				has_government = fascism
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = GER_bypass_end_to_fascist_europe_tt
				NOT = {
					any_other_country = {
						capital_scope = { is_on_continent = europe }
						has_government = fascism
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_war_against_fascism_tt
			every_other_country = {
				limit = {
					OR = {
						is_in_faction_with = ROOT
						is_guaranteed_by = ROOT
						has_non_aggression_pact_with = ROOT
					}
					has_government = fascism
					NOT = {
						GER = {
							has_wargoal_against = PREV
						}
					}
				}
				if = {
					limit = {
						ROOT = { is_faction_leader = yes }
					}
					ROOT = { remove_from_faction = PREV }
				}
				else_if = {
					limit = {
						is_faction_leader = yes
					}
					ROOT = { leave_faction = yes }
				}
				if = {
					limit = {
						ROOT = {
							has_guaranteed = PREV
						}
					}
					ROOT = {
						diplomatic_relation = {
						    country = PREV
						    relation = guarantee
						    active = no
						}
					}
				}
				if = {
					limit = {
						has_non_aggression_pact_with = ROOT
					}
					ROOT = {
						diplomatic_relation = {
						    country = PREV
						    relation = non_aggression_pact
						    active = no
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
			every_other_country = {
				limit = {
					capital_scope = { is_on_continent = europe }
					has_government = fascism
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }
					NOT = {
						GER = {
							has_wargoal_against = PREV
						}
					}	
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
		}
	}

	focus = {
		id = GER_root_out_imperialism
		icon = GFX_focus_GER_liberate_exploited_colonial_workers
		prerequisite = { focus = GER_the_end_to_fascist_europe focus = GER_red_europe }

		x = 0
		y = 1
		relative_position_id = GER_the_end_to_fascist_europe
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = GER_root_out_imperialism_tt
			GER_set_up_colonial_resistance_states = yes #build array
			IF = {
				limit = {
					NOT = {
						any_other_country = {
							is_in_array = {
								array = GER.started_communist_cw_here
								value = THIS
							}
							NOT = { capital_scope = { is_on_continent = europe}}
						}
					}
				}
				custom_effect_tooltip = GER_strengthen_the_proletarian_international_internationally_tt
			}
			
			ELSE = {
				every_other_country = {
					limit = {
						is_in_array = {
							array = GER.started_communist_cw_here
							value = THIS
						}
						NOT = { capital_scope = { is_on_continent = europe}}
					}
					country_event = {
						id = wuw_GER_diplomacy.83
						hours = 6
					}
				}
			}
		}
	}

	focus = {
		id = GER_hegemony_over_europe
		icon = GFX_focus_GER_hegemony_over_europe
		prerequisite = { focus = GER_root_out_imperialism }

		x = 0
		y = 3
		relative_position_id = GER_root_out_imperialism
		cost = 10
		available = {
			is_subject = no
			any_other_country = {
				is_major = yes
				any_controlled_state = {
					is_on_continent = europe
				}
				NOT = {
					has_war_with = ROOT
				}
			}
			64 = {
				is_fully_controlled_by = ROOT
			}
		}

		will_lead_to_war_with = SOV
		will_lead_to_war_with = ENG
		will_lead_to_war_with = FRA
		will_lead_to_war_with = ITA

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			unlock_decision_tooltip = form_greater_proletarian_state

			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = GER_war_against_major_countries_in_europe_tt
			every_other_country = {
				limit = {
					is_major = yes
					any_controlled_state = {
						is_on_continent = europe
					}
					OR = {
						is_in_faction_with = ROOT
						is_guaranteed_by = ROOT
						has_non_aggression_pact_with = ROOT
					}
					NOT = {
						GER = {
							has_wargoal_against = PREV
						}
					}
				}
				if = {
					limit = {
						ROOT = { is_faction_leader = yes }
					}
					ROOT = { remove_from_faction = PREV }
				}
				else_if = {
					limit = {
						is_faction_leader = no
					}
					ROOT = { leave_faction = yes }
				}
				if = {
					limit = {
						ROOT = {
							has_guaranteed = PREV
						}
					}
					ROOT = {
						diplomatic_relation = {
						    country = PREV
						    relation = guarantee
						    active = no
						}
					}
				}
				if = {
					limit = {
						has_non_aggression_pact_with = ROOT
					}
					ROOT = {
						diplomatic_relation = {
						    country = PREV
						    relation = non_aggression_pact
						    active = no
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
			every_other_country = {
				limit = {
					is_major = yes
					any_controlled_state = {
						is_on_continent = europe
					}
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }	
					NOT = {
						GER = {
							has_wargoal_against = PREV
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
			IF = {
				limit = {
					has_dlc = "Gotterdammerung"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_build_volkshalle_landmark_tt
				hidden_effect = {
					64 = {
						remove_building = {
						    type = landmark_berlin_reichstag
						    level = 1
						    province = 6521
						}
						add_building_construction = {
						    type = landmark_berlin_volkshalle
						    level = 1
						    instant_build = yes
						    province = 6521
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_align_south_america
		icon = GFX_focus_GER_align_south_america
		prerequisite = { focus = GER_root_out_imperialism }

		x = -1
		y = 1
		relative_position_id = GER_root_out_imperialism
		cost = 5
		available = {
			is_faction_leader = yes
			any_other_country = {
				capital_scope = {
					is_on_continent = south_america
				}
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}

		bypass = {
			all_other_country = {
				capital_scope = {
					is_on_continent = south_america
				}
				OR = {
					exists = no
					has_government = fascism
					has_government = communism
				}
			}
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = GER_communist_propaganda_south_america_decision_tt
		}
	}

	focus = {
		id = GER_wage_war_on_capitalism
		icon = GFX_focus_GER_wage_war_on_capitalism
		prerequisite = { focus = GER_align_south_america }

		x = 0
		y = 1
		relative_position_id = GER_align_south_america
		cost = 10
		available = {
			is_subject = no
			USA = {
				NOT = {
					is_in_faction_with = ROOT
					has_war_with = ROOT
					has_government = communism
				}
			}
		}

		will_lead_to_war_with = USA

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_timed_idea = {
				idea = GER_wage_war_on_capitalism_ns
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			create_wargoal = {
				type = annex_everything
				target = USA
			}

			add_ai_strategy = { 
				type = conquer	
				id = USA
				value = 250
			}

			add_ai_strategy = {
				type = antagonize
				id = USA
				value = 250
			}

		}
	}

	focus = {
		id = GER_instigate_middle_eastern_revolutions
		icon = GFX_focus_GER_align_middle_east
		prerequisite = { focus = GER_root_out_imperialism }

		x = 1
		y = 1
		relative_position_id = GER_root_out_imperialism
		cost = 5
		available = {
			is_faction_leader = yes
			any_other_country = {
				capital_scope = {
					is_on_continent = middle_east
				}
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}

		bypass = {
			all_other_country = {
				capital_scope = {
					is_on_continent = middle_east
				}
				OR = {
					exists = no
					has_government = fascism
					has_government = communism
				}
			}
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = GER_communist_propaganda_middle_east_decision_tt
		}
	}

	focus = {
		id = GER_strike_at_the_rising_sun
		icon = GFX_focus_GER_strike_at_the_rising_sun
		prerequisite = { focus = GER_instigate_middle_eastern_revolutions }

		x = 0
		y = 1
		relative_position_id = GER_instigate_middle_eastern_revolutions
		cost = 10
		available = {
			is_subject = no
			NOT = {
				JAP = {
					has_government = communism
					is_in_faction_with = ROOT
					has_war_with = ROOT
				}
			}
		}

		will_lead_to_war_with = JAP

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_timed_idea = {
				idea = GER_pacific_blitzkrieg_ns
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			create_wargoal = {
				type = annex_everything
				target = JAP
			}

			add_ai_strategy = { 
				type = conquer	
				id = JAP
				value = 250
			}

			add_ai_strategy = {
				type = antagonize
				id = JAP
				value = 250
			}

		}
	}

	focus = {
		id = GER_nationalize_industries
		icon = GFX_focus_generic_communist_industry
		prerequisite = { focus = GER_social_ownership focus = GER_state_controlled_economy }

		x = 7
		y = 1
		relative_position_id = GER_social_ownership
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				random_select_amount = 3
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				add_to_variable = { GER_industrial_capacity_military_industrial_organization_funds_gain = 0.1 tooltip =  military_industrial_organization_funds_gain_tt }
				add_to_variable  = { GER_industrial_capacity_military_industrial_organization_research_bonus = 0.1 tooltip = military_industrial_organization_research_bonus_tt }
			}

			ELSE = {
				add_to_variable = { GER_industrial_capacity_tank_manufacturer_cost_factor = -0.2 tooltip = tank_manufacturer_cost_factor_tt }
				add_to_variable = { GER_industrial_capacity_naval_manufacturer_cost_factor = -0.2 tooltip = naval_manufacturer_cost_factor_tt }
				add_to_variable = { GER_industrial_capacity_aircraft_manufacturer_cost_factor = -0.2 tooltip = aircraft_manufacturer_cost_factor_tt }
				add_to_variable = { GER_industrial_capacity_materiel_manufacturer_cost_factor = -0.2 tooltip = materiel_manufacturer_cost_factor_tt }
			}

			add_to_variable = { GER_industrial_industrial_concern_cost_factor = -0.2 tooltip = industrial_concern_cost_factor_tt }

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_august_thalheimer = {
				remove_trait = {
					slot = political_advisor
					trait = GER_stakhonovite_collectivist1
				}
			}
			GER_august_thalheimer = {
 				add_trait = { 
 					slot = political_advisor
 					trait = GER_stakhonovite_collectivist2
 				}
 			}
		}
	}
	focus = {
		id = GER_form_agricultural_cooperatives
		icon = GFX_focus_generic_farmland
		prerequisite = { focus = GER_nationalize_industries }

		x = 1
		y = 1
		relative_position_id = GER_nationalize_industries
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {


			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
				}
				
				add_extra_state_shared_building_slots = 2
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
				}
				
				add_extra_state_shared_building_slots = 2
			}
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
				}
				
				add_extra_state_shared_building_slots = 2
			}


			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = infrastructure
						size > 0						
					}
				}


				prioritize = { 50 59 63 66 67 68 }
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = infrastructure
						size > 0						
					}
				}

				prioritize = { 50 59 63 66 67 68 }
				


				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = infrastructure
						size > 0						
					}
				}


				prioritize = { 50 59 63 66 67 68 }

				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = GER_labor_rights_and_union_stuff
		icon = GFX_focus_generic_workers
		prerequisite = { focus = GER_nationalize_industries }

		x = -1
		y = 1
		relative_position_id = GER_nationalize_industries
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_politburo_modifier_tt
			add_to_variable = { GER_politburo_stability_factor = 0.05 tooltip = stability_factor_tt }
			#add_to_variable = { GER_politburo_communism_drift = 0.03 tooltip = communism_drift_tt }
		}
	}

	focus = {
		id = GER_expand_social_welfare
		icon = GFX_focus_generic_welfare
		prerequisite = { focus = GER_form_agricultural_cooperatives focus = GER_labor_rights_and_union_stuff }

		x = 0
		y = 1
		relative_position_id = GER_labor_rights_and_union_stuff
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }

		completion_reward = {

			add_stability = 0.05
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_politburo_modifier_tt
			add_to_variable = { GER_politburo_party_popularity_stability_factor = 0.1 tooltip = party_popularity_stability_factor_tt }
			add_to_variable = { GER_politburo_weekly_manpower = 100  tooltip = weekly_manpower_tt }
		}
	}

	focus = {
		id = GER_effectivize_the_volkswerke
		icon = GFX_focus_generic_public_works
		prerequisite = { focus = GER_form_agricultural_cooperatives focus = GER_labor_rights_and_union_stuff }

		x = 2
		y = 1
		relative_position_id = GER_labor_rights_and_union_stuff
		cost = 5
		available = {
			has_completed_focus = GER_establish_the_reichswerke
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			if = {
				limit = {
					has_idea = GER_reichswerke
				}
				swap_ideas = {
					remove_idea = GER_reichswerke
					add_idea = GER_reichswerke_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_reichswerke
						add_idea = GER_reichswerke_improved
					}
				}
			}
		}
	}

	focus = {
		id = GER_womens_rights_and_equality
		icon = GFX_focus_ARG_women_in_industry
		prerequisite = { focus = GER_expand_social_welfare focus = GER_effectivize_the_volkswerke }

		x = 1
		y = 1
		relative_position_id = GER_expand_social_welfare
		cost = 5
		available = {
			NOT = { has_decision = women_in_the_workforce }
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }

		completion_reward = {

			add_popularity = {
				ideology = communism
				popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_locks_women_in_workforce_decision_tt

			custom_effect_tooltip = GER_modify_politburo_modifier_tt
			add_to_variable = { GER_politburo_conscription = 0.03 tooltip = conscription_tt }

			#IF = {
			#	limit = {
			#		NOT = { has_decision = women_in_the_workforce }
			#	}
			#	unlock_decision_tooltip = {
			#		decision = women_in_the_workforce
			#		show_effect_tooltip = yes # default is no
			#		show_modifiers = yes # default is no
			#	}
			#	IF = {
			#		limit = { has_war = yes }
			#		activate_decision = women_in_the_workforce	 
			#	} 
			#}
		}
	}

	focus = {
		id = GER_proletarian_dictatorship
		icon = GFX_focus_GER_proletarian_dictatorship
		prerequisite = { focus = GER_the_peoples_victory }
		mutually_exclusive = { focus = GER_legacy_of_the_spartacus_league }
		x = 5
		y = 1
		relative_position_id = GER_the_peoples_victory
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_politburo = yes

			add_to_variable = { GER_politburo_defensive_war_stability_factor = 0.1 tooltip = defensive_war_stability_factor_tt }
			add_to_variable = { GER_politburo_offensive_war_stability_factor = 0.2 tooltip = offensive_war_stability_factor_tt }

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_walter_ulbricht = {
				swap_country_leader_traits = {
					remove = GER_inflexible_communist_organizer
					add = GER_staunch_stalinist_leader
				}
			}

			GER_walter_ulbricht = {
				remove_trait = {
					slot = political_advisor
					trait = GER_inflexible_communist_organizer
				}
			}
			GER_walter_ulbricht = {
 				add_trait = { 
 					slot = political_advisor
 					trait = GER_staunch_stalinist
 				}
 			}
		}
	}

	focus = {
		id = GER_state_controlled_economy
		icon = GFX_focus_DEN_heavy_regulations
		prerequisite = { focus = GER_proletarian_dictatorship }

		x = 0
		y = 1
		relative_position_id = GER_proletarian_dictatorship
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
		}
	}

	focus = {
		id = GER_central_planning
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = GER_state_controlled_economy }

		x = 0
		y = 1
		relative_position_id = GER_state_controlled_economy
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_lack_of_resource_penalty_factor = -0.05
				tooltip = production_lack_of_resource_penalty_factor_tt
			}
		}
	}

	focus = {
		id = GER_the_german_stakhanovite_movement
		icon = GFX_focus_GER_stakhanovite_movement
		prerequisite = { focus = GER_central_planning }

		x = 0
		y = 1
		relative_position_id = GER_central_planning
		cost = 5
		available = {
			OR = {
				has_completed_focus = GER_establish_the_reichswerke
				has_completed_focus = GER_invest_in_vereinigte_stahlwerke
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_stability = -0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					65 = {
						is_fully_controlled_by = ROOT
					}
				}

				65 = {
					add_resource = {
						type = steel
						amount = 6
					}
					add_resource = {
						type = tungsten
						amount = 3
					}
					add_resource = {
						type = chromium
						amount = 3
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						has_resources_amount = {
							resource = steel
							amount > 4
							delivered = no
						}
					}
					prioritize = { 51 60 }
					add_resource = {
						type = steel
						amount = 6
					}
					add_resource = {
						type = tungsten
						amount = 3
					}
					add_resource = {
						type = chromium
						amount = 3
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = {
						has_completed_focus = GER_establish_the_reichswerke
						has_completed_focus = GER_invest_in_vereinigte_stahlwerke
					}
				}
				custom_effect_tooltip = GER_the_german_stakhanovite_movement_tt
			}
			else_if = {
				limit = {
					has_completed_focus = GER_establish_the_reichswerke
				}
				custom_effect_tooltip = GER_modify_wehrwirtschaft_modifier_tt
				add_to_variable = { 
					GER_wehrwirtschaft_local_resources_factor = 0.05
					tooltip = local_resources_factor_tt
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_invest_in_vereinigte_stahlwerke
				}
				GER_modify_industrial_modifier = yes
				add_to_variable = { 
					GER_recovering_economy_modifier_local_resources_factor = 0.05
					tooltip = local_resources_factor_tt
				}
			}

		}
	}

	focus = {
		id = GER_spheres_of_influence
		icon = GFX_focus_GER_spheres_of_influence
		prerequisite = { focus = GER_state_controlled_economy }
		prerequisite = { focus = GER_defense_treaty_with_the_soviet }

		x = 2
		y = 2
		relative_position_id = GER_state_controlled_economy
		cost = 5
		available = {
			is_subject = no
			NOT = { has_war_with = SOV }
			SOV = {
				is_subject = no
				has_government = communism
			}
		}

		bypass = {
			OR = {
				has_war_with = SOV
				SOV = { is_subject = yes }
				NOT = {
					any_country_with_original_tag = {
						original_tag_to_check = SOV
						has_government = communism
						exists = yes
					}
				}
			}
		}

		search_filters = {}

		completion_reward = {
			
			SOV = {
				country_event = {
					id = wuw_GER_diplomacy.89
					hours = 12
				}
			}

			custom_effect_tooltip = if_they_accept_tt
			custom_effect_tooltip = FRA_establish_spheres_of_influence #This is here so we can re-use this phrase in the available and bypass triggers for the focuses below
			custom_effect_tooltip = GER_spheres_of_influence_tt
			
			add_named_threat = { threat = 5 name = GER_spheres_of_influence }
		}
	}
	focus = {
		id = GER_czechoslovakia
		icon = GFX_focus_generic_communist_attack_czechoslovakia
		prerequisite = { focus = GER_spheres_of_influence }

		x = -1
		y = 1
		relative_position_id = GER_spheres_of_influence
		cost = 10
		available = {
			is_subject = no
			NOT = { has_war_with = CZE }
			CZE = {	
				if = {
					limit = {
						has_country_flag = GER_SOV_agreed_sphere_of_influence
						custom_override_tooltip = {
							tooltip = {
								localization_key = FRA_establish_spheres_of_influence
							}
							always = yes
						}
					}
					OR = {
						is_subject = no
						OVERLORD = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
								NOT = {  original_tag = SOV }
							}
						}
					}
				}
				else = {
					OR = {
						is_subject = no
						OVERLORD = {
							OR = {
								tag = ROOT
								NOT = { is_in_faction_with = ROOT }
							}
						}
					}
				}
				OR = {
					controls_state = 69
					controls_state = 972
					controls_state = 9
					controls_state = 75
					controls_state = 74
					controls_state = 72
				}
			}
		}

		bypass = {
			OR = {
				NOT = { country_exists = CZE} 
				has_war_with = CZE
				CZE = {
					AND = {
						is_subject = yes
						OVERLORD = {
							or = {
								is_in_faction_with = ROOT
								AND = {
									hidden_trigger = { has_country_flag = GER_SOV_agreed_sphere_of_influence }
									custom_override_tooltip = {
										tooltip = {
											localization_key = FRA_establish_spheres_of_influence
										}
										always = yes
									}
									original_tag = SOV
								}
							}
						}
					}
					AND = {
						NOT = { controls_state = 69 }
						NOT = { controls_state = 972 }
						NOT = { controls_state = 9 }
						NOT = { controls_state = 75 }
						NOT = { controls_state = 74 }
						NOT = { controls_state = 72 }
					}
				}
			}	
		}

		will_lead_to_war_with = CZE

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			IF = {
				limit = {
					CZE = {
						OR = {
							is_subject_of = ROOT
							AND = {
								is_subject = no
								is_in_faction_with = ROOT
							}
						}
					}
				}
				CZE = {
					country_event = {
						id = wuw_GER_diplomacy.85
						hours = 12
					}
				}
			}
			ELSE_IF = {
				limit = {
					is_faction_leader = yes
					CZE = {
						has_government = communism
						is_subject = no
					}
				}

				CZE = {
					country_event = {
						id = generic.5
						hours = 6
					}
				}
			}
			ELSE_IF = {
				limit = {
					CZE = {
						OR = {
							controls_state = 69
							controls_state = 972
							controls_state = 9
							controls_state = 75
							controls_state = 74
							controls_state = 72
						}
					}
				}
				create_wargoal = {
					type = take_claimed_state
					target = CZE
					generator = { 69 972 9 75 74 72 } 
				}
			}

			add_threat = 3

			add_ai_strategy = {
				type = antagonize
				id = CZE
				value = 50
			}

		}
	}

	focus = {
		id = GER_poland
		icon = GFX_focus_generic_communist_attack_poland
		prerequisite = { focus = GER_spheres_of_influence }

		x = 1
		y = 1
		relative_position_id = GER_spheres_of_influence
		cost = 10

		available = {
			is_subject = no
			NOT = { has_war_with = POL }
			POL = {	
				if = {
					limit = {
						has_country_flag = GER_SOV_agreed_sphere_of_influence
						custom_override_tooltip = {
							tooltip = {
								localization_key = FRA_establish_spheres_of_influence
							}
							always = yes
						}
					}
					OR = {
						is_subject = no
						OVERLORD = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
								NOT = {  original_tag = SOV }
							}
						}
					}
				}
				else = {
					OR = {
						is_subject = no
						OVERLORD = {
							OR = {
								tag = ROOT
								NOT = { is_in_faction_with = ROOT }
							}
						}
					}
				}
				OR = {
					controls_state = 807
					controls_state = 85
					controls_state = 86
					controls_state = 87
					controls_state = 88
					controls_state = 90
					controls_state = 92
					controls_state = 98
					controls_state = 10
					controls_state = 762
				}
			}
		}

		bypass = {
			OR = {
				NOT = { country_exists = POL } 
				has_war_with = POL
				POL = {
					AND = {
						is_subject = yes
						OVERLORD = {
							or = {
								is_in_faction_with = ROOT
								AND = {
									hidden_trigger = { has_country_flag = GER_SOV_agreed_sphere_of_influence }
									custom_override_tooltip = {
										tooltip = {
											localization_key = FRA_establish_spheres_of_influence
										}
										always = yes
									}
									original_tag = SOV
								}
							}
						}
					}
					AND = {
						NOT = { controls_state = 807 }
						NOT = { controls_state = 85 }
						NOT = { controls_state = 86 }
						NOT = { controls_state = 87 }
						NOT = { controls_state = 88 }
						NOT = { controls_state = 90 }
						NOT = { controls_state = 92 }
						NOT = { controls_state = 98 }
						NOT = { controls_state = 10 }
						NOT = { controls_state = 762 }
					}
				}
			}	
		}

		will_lead_to_war_with = POL

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			IF = {
				limit = {
					POL = {
						OR = {
							is_subject_of = ROOT
							AND = {
								is_subject = no
								is_in_faction_with = ROOT
							}
						}
					}
				}

				POL = {
					country_event = {
						id = wuw_GER_diplomacy.85
						hours = 12
					}
				}
			}

			ELSE_IF = {
				limit = {
					is_faction_leader = yes
					POL = {
						has_government = communism
						is_subject = no
					}
				}

				POL = {
					country_event = {
						id = generic.5
						hours = 6
					}
				}
			}

			ELSE_IF = {
				limit = {
					POL = {
						OR = {
							controls_state = 807
							controls_state = 85
							controls_state = 86
							controls_state = 87
							controls_state = 88
							controls_state = 90
							controls_state = 92
							controls_state = 98
							controls_state = 10
							controls_state = 762
						}
					}
				}
				create_wargoal = {
					type = take_claimed_state
					target = POL
					generator = { 807 85 86 87 88 90 92 98 10 762 } # optional 
				}
			}

			add_threat = 3

			add_ai_strategy = {
				type = antagonize
				id = POL
				value = 50
			}
		}
	}

	focus = {
		id = GER_hungary
		icon = GFX_focus_generic_communist_attack_hungary
		prerequisite = { focus = GER_czechoslovakia focus = GER_poland }

		x = 1
		y = 1
		relative_position_id = GER_czechoslovakia
		cost = 10

		available = {
			is_subject = no
			NOT = { has_war_with = HUN }
			HUN = {	
				if = {
					limit = {
						has_country_flag = GER_SOV_agreed_sphere_of_influence
						custom_override_tooltip = {
							tooltip = {
								localization_key = FRA_establish_spheres_of_influence
							}
							always = yes
						}
					}
					OR = {
						is_subject = no
						OVERLORD = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
								NOT = {  original_tag = SOV }
							}
						}
					}
				}
				else = {
					OR = {
						is_subject = no
						OVERLORD = {
							OR = {
								tag = ROOT
								NOT = { is_in_faction_with = ROOT }
							}
						}
					}
				}
				OR = {
					controls_state = 155
					controls_state = 174
					controls_state = 973
					controls_state = 43
					controls_state = 154
				}
			}
		}

		bypass = {
			OR = {
				NOT = { country_exists = HUN } 
				has_war_with = HUN
				HUN = {
					AND = {
						is_subject = yes
						OVERLORD = {
							or = {
								is_in_faction_with = ROOT
								AND = {
									hidden_trigger = { has_country_flag = GER_SOV_agreed_sphere_of_influence }
									custom_override_tooltip = {
										tooltip = {
											localization_key = FRA_establish_spheres_of_influence
										}
										always = yes
									}
									original_tag = SOV
								}
							}
						}
					}
					AND = {
						NOT = { controls_state = 155 }
						NOT = { controls_state = 174 }
						NOT = { controls_state = 973 }
						NOT = { controls_state = 43 }
						NOT = { controls_state = 154 }
					}
				}
			}	
		}

		will_lead_to_war_with = HUN

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			IF = {
				limit = {
					HUN = {
						OR = {
							is_subject_of = ROOT
							AND = {
								is_subject = no
								is_in_faction_with = ROOT
							}
						}
						
					}
				}
				HUN = {
					country_event = {
						id = wuw_GER_diplomacy.85
						hours = 12
					}
				}
			}
			ELSE_IF = {
				limit = {
					is_faction_leader = yes
					HUN = {
						has_government = communism
						is_subject = no
					}
				}

				HUN = {
					country_event = {
						id = generic.5
						hours = 6
					}
				}
			}
			ELSE_IF = {
				limit = {
					HUN = {
						OR = {
							controls_state = 155
							controls_state = 174
							controls_state = 973
							controls_state = 43
							controls_state = 154
						}
					}
				}

				create_wargoal = {
					type = annex_everything
					target = HUN
				}
			}

			add_threat = 3

			add_ai_strategy = {
				type = antagonize
				id = HUN
				value = 50
			}
		}
	}

	focus = {
		id = GER_the_northern_shield
		icon = GFX_focus_GER_northern_shield
		prerequisite = { focus = GER_hungary }

		x = 0
		y = 1
		relative_position_id = GER_hungary
		cost = 10
		available = {
			OR = {
				DEN = {
					exists = yes
					NOT = { has_war_with = ROOT }
					if = {
						limit = {
							has_country_flag = GER_SOV_agreed_sphere_of_influence
							custom_override_tooltip = {
								tooltip = {
									localization_key = FRA_establish_spheres_of_influence
								}
								always = yes
							}
						}
						OR = {
							is_subject = no
							OVERLORD = {
								OR = {
									tag = ROOT
									is_in_faction_with = ROOT
									NOT = {  original_tag = SOV }
								}
							}
						}
					}
					else = {
						OR = {
							is_subject = no
							OVERLORD = {
								OR = {
									tag = ROOT
									NOT = { is_in_faction_with = ROOT }
								}
							}
						}
					}
				}
				NOR = {
					exists = yes
					NOT = { has_war_with = ROOT }
					if = {
						limit = {
							has_country_flag = GER_SOV_agreed_sphere_of_influence
							custom_override_tooltip = {
								tooltip = {
									localization_key = FRA_establish_spheres_of_influence
								}
								always = yes
							}
						}
						OR = {
							is_subject = no
							OVERLORD = {
								OR = {
									tag = ROOT
									is_in_faction_with = ROOT
									NOT = {  original_tag = SOV }
								}
							}
						}
					}
					else = {
						OR = {
							is_subject = no
							OVERLORD = {
								OR = {
									tag = ROOT
									NOT = { is_in_faction_with = ROOT }
								}
							}
						}
					}
				}
				SWE = {
					exists = yes
					NOT = { has_war_with = ROOT }
					if = {
						limit = {
							has_country_flag = GER_SOV_agreed_sphere_of_influence
							custom_override_tooltip = {
								tooltip = {
									localization_key = FRA_establish_spheres_of_influence
								}
								always = yes
							}
						}
						OR = {
							is_subject = no
							OVERLORD = {
								OR = {
									tag = ROOT
									is_in_faction_with = ROOT
									NOT = {  original_tag = SOV }
								}
							}
						}
					}
					else = {
						OR = {
							is_subject = no
							OVERLORD = {
								OR = {
									tag = ROOT
									NOT = { is_in_faction_with = ROOT }
								}
							}
						}
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		will_lead_to_war_with = DEN
		will_lead_to_war_with = NOR
		will_lead_to_war_with = SWE

		completion_reward = {

			add_threat = 5

			if = {
				limit = {
					DEN = {
						OR = {
							is_subject_of = ROOT
							AND = {
								is_subject = no
								is_in_faction_with = ROOT
							}
						}
					}
				}
				DEN = {
					country_event = {
						id = wuw_GER_diplomacy.85
						hours = 6
					}
				}
			}
			else_if = {
				limit = {
					DEN = {
						has_government = communism
						is_in_faction = no
					}
					is_faction_leader = yes
				}

				DEN = {
					country_event = {
						id = generic.5
						hours = 6
					}
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_spheres_of_influence
					NOT = { has_war_with = SOV }
					DEN = {
						NOT = {
							is_subject_of = SOV
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = DEN
					expire = 0
				}
			}
			else_if = {
				limit = {
					OR = {
						AND = {
							has_completed_focus = GER_spheres_of_influence
							has_war_with = SOV
						}
						NOT = { has_completed_focus = GER_spheres_of_influence }
					}
				}
				create_wargoal = {
					type = annex_everything
					target = DEN
					expire = 0
				}
			}

			if = {
				limit = {
					NOR = {
						OR = {
							is_subject_of = ROOT
							AND = {
								is_subject = no
								is_in_faction_with = ROOT
							}
						}
					}
				}
				NOR = {
					country_event = {
						id = wuw_GER_diplomacy.85
						hours = 6
					}
				}
			}
			else_if = {
				limit = {
					NOR = {
						has_government = communism
						is_in_faction = no
					}
					is_faction_leader = yes
				}

				NOR = {
					country_event = {
						id = generic.5
						hours = 6
					}
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_spheres_of_influence
					NOT = { has_war_with = SOV }
					NOR = {
						NOT = {
							is_subject_of = SOV
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = NOR
					expire = 0
				}
			}
			else_if = {
				limit = {
					OR = {
						AND = {
							has_completed_focus = GER_spheres_of_influence
							has_war_with = SOV
						}
						NOT = { has_completed_focus = GER_spheres_of_influence }
					}
				}
				create_wargoal = {
					type = annex_everything
					target = NOR
					expire = 0
				}
			}

			if = {
				limit = {
					SWE = {
						OR = {
							is_subject_of = ROOT
							AND = {
								is_subject = no
								is_in_faction_with = ROOT
							}
						}
					}
				}
				SWE = {
					country_event = {
						id = wuw_GER_diplomacy.85
						hours = 6
					}
				}
			}
			else_if = {
				limit = {
					SWE = {
						has_government = communism
						is_in_faction = no
					}
					is_faction_leader = yes
				}

				SWE = {
					country_event = {
						id = generic.5
						hours = 6
					}
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_spheres_of_influence
					NOT = { has_war_with = SOV }
					SWE = {
						NOT = {
							is_subject_of = SOV
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = SWE
					expire = 0
				}
			}
			else_if = {
				limit = {
					OR = {
						AND = {
							has_completed_focus = GER_spheres_of_influence
							has_war_with = SOV
						}
						NOT = { has_completed_focus = GER_spheres_of_influence }
					}
				}
				create_wargoal = {
					type = annex_everything
					target = SWE
					expire = 0
				}
			}
		}
	}

	focus = {
		id = GER_intervene_in_spain
		icon = GFX_focus_generic_befriend_republican_spain_focus
		prerequisite = { focus = GER_legacy_of_the_spartacus_league focus = GER_proletarian_dictatorship }

		x = 4
		y = 1
		relative_position_id = GER_legacy_of_the_spartacus_league
		cost = 5
		available = {
			NOT = { has_idea = GER_fernostliche_legion_ns }
			any_country = {
				original_tag = SPR 
				exists = yes
				OR = {
					has_government = democratic
					has_government = communism
				}
				has_volunteers_amount_from = {
					tag = ROOT
					count > 1
				}
			}	
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP }

		completion_reward = {

			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						OR = {
							has_government = democratic
							has_government = communism
						}
					}
					add_opinion_modifier = { target = GER modifier = ita_supported_spain_civil_war }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
					SPR = {
						OR = {
							has_government = democratic
							has_government = communism
						}
					}
				}
				SPR = { add_opinion_modifier = { target = GER modifier = ita_supported_spain_civil_war } }
			}

			add_timed_idea = {
				idea = GER_legion_condor_ns
				days = 545
			}

			add_ai_strategy = {
				type = befriend
				id = SPR
				value = 100
			}

		}

	}

	focus = {
		id = GER_assist_our_eastern_comrades
		icon = GFX_focus_chi_cooperation_with_the_communists
		prerequisite = { focus = GER_legacy_of_the_spartacus_league focus = GER_proletarian_dictatorship }

		x = 6
		y = 1
		relative_position_id = GER_legacy_of_the_spartacus_league
		cost = 5
		available = {
			NOT = { has_idea = GER_legion_condor_ns }
			PRC = { 
				exists = yes
				is_subject = no
				has_volunteers_amount_from = {
					tag = ROOT
					count > 1
				}
			}
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP }

		completion_reward = {

			add_timed_idea = {
				idea = GER_fernostliche_legion_prc_ns
				days = 545
			}

			add_ai_strategy = {
				type = befriend
				id = PRC
				value = 100
			}

		}
	}

	focus = {
		id = GER_sign_the_second_treaty_of_berlin
		icon = GFX_focus_GER_SOV_treaty
		prerequisite = { focus = GER_the_peoples_victory }

		x = 8
		y = 1
		relative_position_id = GER_the_peoples_victory
		cost = 5
		available = {
			NOT = {
				has_war_with = SOV
				SOV = {
					has_government = neutrality
					has_government = fascism
				}
			}
		}

		bypass = {
			OR = {
				SOV = { is_subject = yes }
				NOT = { country_exists = SOV }
				is_in_faction_with = SOV
				has_non_aggression_pact_with = SOV
				AND = {
					is_guaranteed_by = SOV
					has_guaranteed = SOV
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			SOV = {
				country_event = {
					id = wuw_GER_diplomacy.90
					hours = 12
				}
			}

			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_opinion_modifier = {
					target = SOV
					modifier = medium_increase 
				}
			}
			SOV = {
				event_option_tooltip = wuw_GER_diplomacy.90.a
			}
			
			
		}
	}

	focus = {
		id = GER_defense_treaty_with_the_soviet
		icon = GFX_focus_GER_SOV_defence_treaty
		prerequisite = { focus = GER_sign_the_second_treaty_of_berlin }

		x = -1
		y = 1
		relative_position_id = GER_sign_the_second_treaty_of_berlin
		cost = 5
		available = {
			is_subject = no
			NOT = { has_war_with = SOV }
			SOV = {
				is_subject = no
				has_government = communism
			}
		}

		bypass = {
			OR = {
				SOV = { is_subject = yes }
				AND = {
					is_guaranteed_by = SOV
					has_guaranteed = SOV
				}
				any_country = {
					original_tag = SOV #in the event of cw weirdness
					OR = {
						exists = no
						NOT = { has_government = communism }
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_ai_strategy = { 
				type = befriend 
				id = SOV
				value = 100
			}

			SOV = {
				add_ai_strategy = { 
					type = befriend 
					id = ROOT
					value = 100
				}
			}

			add_popularity = {
				ideology = communism
				popularity = 0.05
			}

			SOV = {
				country_event = {
					id = wuw_GER_mutual_guarantees.1
					hours = 12
				}
			}

			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				give_guarantee = SOV
				SOV = {
					give_guarantee = GER
				}
			}

			IF = {
				limit = {
					has_country_leader = {
						ruling_only = yes # default = yes
						character = GER_ernst_thalmann
					}
				}

				hidden_effect = {
					SOV = {
						country_event = {
							id = wuw_GER_diplomacy.91
							hours = 12
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_industrial_cooperation
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = GER_sign_the_second_treaty_of_berlin }

		x = 1
		y = 1
		relative_position_id = GER_sign_the_second_treaty_of_berlin
		cost = 5
		available = {
			NOT = { has_war_with = SOV }
			SOV = {
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
				OR = {
					has_government = communism
					has_government = democratic
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			SOV = {
				country_event = {
					id = wuw_GER_diplomacy.95
					hours = 12
				}
			}
		}
	}

	focus = {
		id = GER_tech_sharing
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = GER_industrial_cooperation }

		x = -1
		y = 1
		relative_position_id = GER_industrial_cooperation
		cost = 5
		available = {
			NOT = { has_war_with = SOV }
			SOV = {
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
				OR = {
					has_government = communism
					has_government = democratic
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {

			SOV = {
				country_event = {
					id = wuw_GER_diplomacy.98
					hours = 12
				}
			}

			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_to_tech_sharing_group = GER_SOV_industrial_development_group
				SOV = {
					add_to_tech_sharing_group = GER_SOV_industrial_development_group
				}
			}
		}
	}

	focus = {
		id = GER_resource_trade
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = GER_industrial_cooperation }

		x = 1
		y = 1
		relative_position_id = GER_industrial_cooperation
		cost = 5
		available = {
			NOT = { has_war_with = SOV }
			SOV = {
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
				OR = {
					has_government = communism
					has_government = democratic
				}
			}
		}

		search_filters = { FOCUS_FILTER_INTERNATIONAL_TRADE }

		completion_reward = {

			SOV = {
				country_event = {
					id = wuw_GER_diplomacy.1
					hours = 6
				}
			}

			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				SOV = {
					add_ideas = GER_german_trade_ns
					add_opinion_modifier = {
						target = ROOT
						modifier = GER_trading_partners
					}
				}
			}
		}
	}
	focus = {
		id = GER_factories_for_resources
		icon = GFX_focus_GER_factories_for_resources
		prerequisite = { focus = GER_tech_sharing }
		prerequisite = { focus = GER_resource_trade }

		x = 1
		y = 1
		relative_position_id = GER_tech_sharing
		cost = 5
		available = {
			NOT = { has_war_with = SOV }
			SOV = {
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
				OR = {
					has_government = communism
					has_government = democratic
				}
				OR = { #SOV must control one of these states or else the decision is worthless
					229 = {
						is_fully_controlled_by = PREV
					}
					234 = {
						is_fully_controlled_by = PREV
					}
					564 = {
						is_fully_controlled_by = PREV
					}
					401 = {
						is_fully_controlled_by = PREV
					}
					402 = {
						is_fully_controlled_by = PREV
					}
					573 = {
						is_fully_controlled_by = PREV
					}
				}
			}
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = GER_factories_for_resources_tt
		}
	}





	################################
	################################
	#### NON-ALIGNED/DEMOCRATIc ####
	################################
	################################

	focus = {
		id = GER_monarchist_sentiment
		icon = GFX_focus_generic_monarchist_sentiment
		prerequisite = { focus = GER_tend_to_the_future_of_germany }
		mutually_exclusive = { focus = GER_start_the_proletarian_revolution }

		x = 11
		y = 1
		relative_position_id = GER_tend_to_the_future_of_germany
		
		cost = 2

		available = {
		}

		allow_branch = {
			has_dlc = "Gotterdammerung"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = GER_start_the_proletarian_revolution
					has_completed_focus = GER_remilitarize_the_rhineland
				}
			}
		}

		offset = {
			x = -11
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_monarchist_sentiment
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {
			if = {
				limit = {
					has_active_mission = GER_growing_public_dissent_mission
				}
				add_days_mission_timeout = {
					mission = GER_growing_public_dissent_mission
					days = 30
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}	
			add_popularity = {
				ideology = democratic
				popularity = 0.03
			}	

			custom_effect_tooltip = generic_skip_one_line_tt

			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_global_flag = GER_civil_war_has_started
				}
				set_party_name = { 
					ideology = neutrality 
					long_name = GER_neutrality_party_kaiserreich_long 
					name = GER_neutrality_party_kaiserreich 
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_andreas_hermes
			show_ideas_tooltip = GER_wilhelm_von_gayl

			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}

	focus = {
		id = GER_the_monarchy_compromise_ww
		icon = GFX_focus_GER_monarchy_compromise
		prerequisite = { focus = GER_monarchist_sentiment }
		mutually_exclusive = { focus = GER_revive_the_kaiserreich_ww }

		x = -1
		y = 1
		relative_position_id = GER_monarchist_sentiment
		cost = 5
		available = {
			OR = {
				has_government = democratic
				democratic > 0.4
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_named_threat = { threat = 2 name = GER_the_monarchy_compromise }

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = GER_wilhelm_iii 

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = { 
				ideology = democratic 
				popularity = 0.1 
			}

			hidden_effect = {
				set_cosmetic_tag = GER_german_monarchy
			}

		}
	}

	focus = {
		id = GER_re_establish_free_elections_ww
		icon = GFX_goal_support_democracy
		prerequisite = { focus = GER_the_monarchy_compromise_ww }

		x = -4
		y = 1
		relative_position_id = GER_the_monarchy_compromise_ww

		cost = 5

		allow_branch = {
			has_dlc = "Gotterdammerung"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = GER_revive_the_kaiserreich_ww
						has_completed_focus = GER_remilitarize_the_rhineland
						has_completed_focus = GER_start_the_proletarian_revolution
					}
				}
			}
		}

		offset = {
			x = 12
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_start_the_proletarian_revolution
			}
		}

		#offset = {
		#	x = -7
		#	y = 0
		#	trigger = {
		#		has_game_rule = {
		#			rule = obsolete_focus_branches_visibility
		#			option = HIDE
		#		}
		#		has_completed_focus = GER_re_establish_free_elections_ww
		#	}
		#}

		available = {
			NOT = {
				OR = {
					has_government = communism
					has_government = fascism
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_stability = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_reestablish_free_elections
				days = 720
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			country_event = { id = wuw_GER_german_politics.01 }

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_theodor_heuss
			show_ideas_tooltip = GER_julius_leber
			show_ideas_tooltip = kurt_schumacher

			hidden_effect = {
				mark_focus_tree_layout_dirty = yes
			}

		}
	}

	focus = {
		id = GER_ban_political_uniforms
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = GER_re_establish_free_elections_ww }

		x = -4
		y = 1
		relative_position_id = GER_re_establish_free_elections_ww
		
		cost = 5

		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_ideas = GER_the_shield_of_democracy_idea

			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_political_power = 50 
			add_stability = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = { 
				ideology = democratic 
				popularity = 0.05 
			}

		}
	}

	focus = {
		id = GER_embrace_liberal_leanings
		icon = GFX_focus_generic_workers
		prerequisite = { focus = GER_ban_political_uniforms }
		mutually_exclusive = { focus = GER_strive_for_conservative_values }

		x = -1
		y = 1
		relative_position_id = GER_ban_political_uniforms
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			swap_ideas = {
				remove_idea = GER_the_shield_of_democracy_idea
				add_idea = GER_the_shield_of_democracy_liberalism_idea
			}	

			hidden_effect = {
				remove_trait = {
				    character = GER_kurt_schumacher
				    slot = political_advisor
				    trait = democratic_reformer
				}
			}
			add_trait = { 
			    character = GER_kurt_schumacher
			    slot = political_advisor
			    trait = GER_staunch_socialist
			}

			hidden_effect = {
				IF = {
					limit = {
						has_completed_focus = GER_the_monarchy_compromise_ww
					}
					set_cosmetic_tag = GER_german_monarchy_liberal
				}
			}

		}
	}

	focus = {
		id = GER_strive_for_conservative_values
		icon = GFX_focus_generic_limited_social_mobilization
		prerequisite = { focus = GER_ban_political_uniforms }
		mutually_exclusive = { focus = GER_embrace_liberal_leanings }

		x = 1
		y = 1
		relative_position_id = GER_ban_political_uniforms
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			swap_ideas = {
				remove_idea = GER_the_shield_of_democracy_idea
				add_idea = GER_the_shield_of_democracy_conservatism_idea
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_carl_friedrich_goerdeler

			hidden_effect = {
				IF = {
					limit = {
						has_completed_focus = GER_the_monarchy_compromise_ww
					}
					set_cosmetic_tag = GER_german_monarchy_conservative
				}
			}

		}
	}

	focus = {
		id = GER_strengthen_the_welfare_state
		icon = GFX_focus_generic_welfare
		prerequisite = { focus = GER_strive_for_conservative_values focus = GER_embrace_liberal_leanings }

		x = 1
		y = 1
		relative_position_id = GER_embrace_liberal_leanings
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }

		completion_reward = {
			IF = {
				limit = {
					has_idea = GER_the_shield_of_democracy_liberalism_idea
				}
				swap_ideas = {
					remove_idea = GER_the_shield_of_democracy_liberalism_idea
					add_idea = GER_the_shield_of_democracy_liberalism_and_welfare_idea
				}
			}
			ELSE = {
				swap_ideas = {
					remove_idea = GER_the_shield_of_democracy_conservatism_idea
					add_idea = GER_the_shield_of_democracy_conservatism_and_welfare_idea
				}
			}	
		}
	}

	focus = {
		id = GER_democratic_shield
		icon = GFX_focus_ARG_defense_and_democracy
		prerequisite = { focus = GER_strengthen_the_welfare_state }

		x = 0
		y = 1
		relative_position_id = GER_strengthen_the_welfare_state
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						has_rule = can_send_volunteers
					}
				}
				set_rule = { 
					can_send_volunteers = yes
				}	
			}

			add_war_support = 0.1

			custom_effect_tooltip =  generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = GER_the_shield_of_democracy_liberalism_and_welfare_idea
				}
				swap_ideas = {
					remove_idea = GER_the_shield_of_democracy_liberalism_and_welfare_idea
					add_idea = GER_the_shield_of_democracy_liberalism_welfare_and_democracy_idea
				}
			}
			ELSE = { 
				swap_ideas = {
					remove_idea = GER_the_shield_of_democracy_conservatism_and_welfare_idea
					add_idea = GER_the_shield_of_democracy_conservatism_welfare_and_democracy_idea
				}
			}

			custom_effect_tooltip = GER_send_military_support_democratic_shield_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_war_against_fascism_tt
			every_other_country = {
				limit = {
					OR = {
						is_in_faction_with = ROOT
						is_guaranteed_by = ROOT
						has_non_aggression_pact_with = ROOT
					}
					has_government = fascism
					NOT = {
						GER = {
							has_wargoal_against = PREV
						}
					}
				}
				if = {
					limit = {
						ROOT = { is_faction_leader = yes }
					}
					ROOT = { remove_from_faction = PREV }
				}
				else_if = {
					limit = {
						is_faction_leader = yes
					}
					ROOT = { leave_faction = yes }
				}
				if = {
					limit = {
						ROOT = {
							has_guaranteed = PREV
						}
					}
					ROOT = {
						diplomatic_relation = {
						    country = PREV
						    relation = guarantee
						    active = no
						}
					}
				}
				if = {
					limit = {
						has_non_aggression_pact_with = ROOT
					}
					ROOT = {
						diplomatic_relation = {
						    country = PREV
						    relation = non_aggression_pact
						    active = no
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
			every_other_country = {
				limit = {
					capital_scope = { is_on_continent = europe }
					has_government = fascism
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }
					NOT = {
						GER = {
							has_wargoal_against = PREV
						}
					}	
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
		}
	}

	focus = {
		id = GER_reverse_the_brain_drain_ww
		icon = GFX_focus_generic_university_3
		prerequisite = { focus = GER_re_establish_free_elections_ww }

		x = 0
		y = 1
		relative_position_id = GER_re_establish_free_elections_ww
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_nuclear
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_nuclear
					level = 1
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_research_speed_factor = 0.05
				tooltip = research_speed_factor_tt 
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_special_project_speed_factor = 0.05
				tooltip = special_project_speed_factor_tt
			}
		}
	}

	focus = {
		id = GER_shared_rd_programs_ww
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = GER_reverse_the_brain_drain_ww }

		x = -1
		y = 1
		relative_position_id = GER_reverse_the_brain_drain_ww

		cost = 10

		available = {
			is_faction_leader = yes
		}

		bypass = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					num_faction_members > 1
				}
				for_each_scope_loop = {
					array = ROOT.allies
					add_to_variable = { GER.GER_rnd_programs_modifier_allies_count = 1 }
					log = "[This.GetName] was added to the RnD Program§"
				}

				set_temp_variable = { temp_targets_index = GER_rnd_programs_modifier_allies_count }

				while_loop_effect = {
					limit = {
						check_variable = { temp_targets_index > 0 }
						check_variable = { 
							var = GER_rnd_programs_modifier_research_speed_factor
							value = 0.1
							compare = less_than_or_equals
						}
					}
					add_to_variable = { GER_rnd_programs_modifier_research_speed_factor = 0.01 }
					subtract_from_temp_variable = { temp_targets_index = 1 }
				}

				hidden_effect = { #This is necessary since Germany is already accounted for when setting all of this up
					subtract_from_variable = { GER.GER_rnd_programs_modifier_research_speed_factor = 0.01 }
				}
			}
			add_dynamic_modifier = { modifier = GER_rnd_programs_modifier }
			custom_effect_tooltip = GER_shared_rd_programs_ww_tt
			
		}
	}

	focus = {
		id = GER_pool_technical_know_how_ww
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = GER_reverse_the_brain_drain_ww }

		x = 1
		y = 1
		relative_position_id = GER_reverse_the_brain_drain_ww
		cost = 10
		available = {
			is_faction_leader = yes
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
 
		completion_reward = {

			add_ideas = GER_pool_technical_know_how
			
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_pool_technical_know_how_tt
			hidden_effect = {
				every_other_country = {
					limit = { is_in_faction_with = GER }
					add_ideas = GER_pool_technical_know_how
				}
			}

		}
	}

	focus = {
		id = GER_the_mannheim_project_ww
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = GER_shared_rd_programs_ww }
		prerequisite = { focus = GER_pool_technical_know_how_ww }

		dynamic = yes

		x = 1
		y = 1
		relative_position_id = GER_shared_rd_programs_ww
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {

			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.5
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_production_speed_nuclear_facility_factor = 0.15
				tooltip = production_speed_nuclear_facility_factor_tt
			}
			add_to_variable = { 
				GER_wunderwaffen_production_speed_nuclear_reactor_factor = 0.1
				tooltip = production_speed_nuclear_reactor_factor_tt
			}
			if = {
				limit = {
					NOT = { is_special_project_completed = sp:sp_nuclear_reactor }
				}
				add_to_variable = { 
					GER_wunderwaffen_sp_nuclear_reactor_speed_factor = 0.1
					tooltip = sp_nuclear_reactor_speed_factor_tt
				}
			}
			if = {
				limit = {
					NOT = { is_special_project_completed = sp:sp_commercial_nuclear_reactor }
				}
				add_to_variable = { 
					GER_wunderwaffen_sp_commercial_nuclear_reactor_speed_factor = 0.1
					tooltip = sp_commercial_nuclear_reactor_speed_factor_tt
				}
			}
		}
	}

	focus = {
		id = GER_re_ratify_the_locarno_treaty
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = GER_re_establish_free_elections_ww }

		x = 3
		y = 1
		relative_position_id = GER_re_establish_free_elections_ww
		cost = 5

		dynamic = yes

		available = {
			NOT = {
				OR = {
					has_wargoal_against = FRA
					has_war_with = FRA
				}
			}
			NOT = {
				FRA = {
					has_government = fascism
				}
			}
		}

		bypass = {
			FRA = {
				has_government = fascism
			}
		}

		search_filters = { FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_stability = 0.05

			custom_effect_tooltip =  generic_skip_one_line_tt

			FRA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = reaffirmed_the_locarno_treaty
				}	
			}
			ROOT = {
				add_opinion_modifier = {
					target = FRA
					modifier = our_democratic_allies_opm
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_re_ratify_the_locarno_treaty_tt
			hidden_effect = {
				add_ai_strategy = {
					type = befriend
					id = "FRA"
					value = 50
				}
				FRA = {
					add_ai_strategy = {
						type = befriend
						id = "GER"
						value = 100
					}
					add_ai_strategy = {
						type = support
						id = "GER"
						value = 100
					}
					add_ai_strategy = {
						type = protect
						id = "GER"
						value = 50
					}
				} 
			}

		}
	}

	focus = {
		id = GER_offer_trade_proposal
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = GER_re_ratify_the_locarno_treaty }

		x = -1
		y = 2
		relative_position_id = GER_re_ratify_the_locarno_treaty
		cost = 5
		available = {
			OR = {
				AND = {
					NOT = {	has_wargoal_against = HOL }
					NOT = {	has_war_with = HOL }
					HOL = { has_subject = INS }
				}
				AND = {
					NOT = {	has_wargoal_against = BEL }
					NOT = {	has_war_with = BEL }
					BEL = { has_subject = COG }		
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNATIONAL_TRADE }

		completion_reward = {

			IF = {
				limit = {
					NOT = {	has_wargoal_against = HOL }
					NOT = {	has_war_with = HOL }
					INS = {
						is_subject_of = HOL
					}
				}

				HOL = {
					country_event = { id = wuw_GER_diplomacy.1 days = 2 }
					set_country_flag = GER_trading_proposal_flag
					add_ai_strategy = {
						type = befriend
						id = GER		
						value = 100
					}
					add_ai_strategy = {
						type = alliance
						id = GER		
						value = 50
					}	
				}

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					HOL = {
						add_ideas = GER_german_trade_ns
						add_opinion_modifier = {
							target = ROOT
							modifier = GER_trading_partners
						}
					}
					INS = {
						add_ideas = GER_german_trade_subject_ns
						add_opinion_modifier = {
							target = ROOT
							modifier = GER_trading_partners
						}
					}
					custom_effect_tooltip = war_will_cancel_deal_tt
				}

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			IF = {
				limit = {
					NOT = {	has_wargoal_against = BEL }
					NOT = {	has_war_with = BEL }
					COG = {
						is_subject_of = BEL
					}
				}
				BEL = {
					country_event = { id = wuw_GER_diplomacy.1 days = 2 }
					set_country_flag = GER_trading_proposal_flag
					add_ai_strategy = {
						type = befriend
						id = GER		
						value = 100
					}
					add_ai_strategy = {
						type = alliance
						id = GER		
						value = 50
					}					
				}

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					BEL = {
						add_ideas = GER_german_trade_ns
						add_opinion_modifier = {
							target = ROOT
							modifier = GER_trading_partners
						}
					}
					COG = {
						add_ideas = GER_german_trade_subject_ns
						add_opinion_modifier = {
							target = ROOT
							modifier = GER_trading_partners
						}
					}
					custom_effect_tooltip = war_will_cancel_deal_tt
				}
			}
			
		}
	}

	focus = {
		id = GER_franco_germanic_pact
		icon = GFX_focus_chi_reach_out_to_france
		prerequisite = { focus = GER_re_ratify_the_locarno_treaty }
 
		dynamic = yes

		x = 1
		y = 1
		relative_position_id = GER_re_ratify_the_locarno_treaty
		cost = 5
		available = {
			is_subject = no
			has_civil_war = no
			NOT = {
				has_wargoal_against = FRA
				has_war_with = FRA
			}
			NOT = {
				FRA = {
					has_government = fascism
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }

		completion_reward = {

			FRA = {
				country_event = {
					id =  wuw_GER_mutual_guarantees.1
					hours = 12
					random_hours = 24
				}
				add_ai_strategy = {
					type = alliance
					id = GER		
					value = 50
				}	
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				give_guarantee = FRA
				FRA = {
					give_guarantee = ROOT
				}
				ROOT = {
					add_to_tech_sharing_group = ger_fra_research 
				}
				FRA = {
					add_to_tech_sharing_group = ger_fra_research 
				}
			}

		}
	}

	focus = {
		id = GER_request_the_return_of_french_held_colonies
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = GER_franco_germanic_pact }

		x = 0
		y = 1
		relative_position_id = GER_franco_germanic_pact

		cost = 10

		available = {
			is_subject = no
			NOT = {
				has_wargoal_against = FRA
				has_war_with = FRA
			}
			NOT = {
				FRA = {
					has_government = fascism
				}
			}
			FRA = {
				has_opinion = {
					target = ROOT
					value > 50
				}	
			}
			any_state = {
				is_owned_and_controlled_by = FRA
				OR = {
					state = 777
					state = 773
					state = 895
					state = 894
					state = 541
					state = 893
					state = 768
					state = 769
					state = 546
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			FRA = {
				country_event = {
					id = wuw_GER_weltpolitik.1
					hours = 12
					random_hours = 24
				}	
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				FRA = {
					every_controlled_state = {
						limit = {
							OR = {
								state = 777
								state = 773
								state = 895
								state = 894
								state = 541
								state = 893
								state = 768
								state = 769
								state = 546
							}
						}
						transfer_state_to = ROOT
					}
				}
			}
		}
	}

	focus = {
		id = GER_revive_the_kaiserreich_ww
		icon = GFX_focus_ger_revive_kaiserreich
		prerequisite = { focus = GER_monarchist_sentiment }
		mutually_exclusive = { focus = GER_the_monarchy_compromise_ww }

		x = 1
		y = 1
		relative_position_id = GER_monarchist_sentiment
		cost = 5
		available = {
			has_government = neutrality
			neutrality > 0.4
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_named_threat = { threat = 5 name = GER_revive_the_kaiserreich }

			custom_effect_tooltip = GER_revive_the_kaiserreich_tt
			hidden_effect = { set_cosmetic_tag = GER_german_empire }

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = { 
				ideology = neutrality 
				popularity = 0.1 
			}
			add_stability = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						has_rule = can_send_volunteers
					}
				}
				set_rule = { 
					can_send_volunteers = yes
				}	
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_carl_friedrich_goerdeler
			show_ideas_tooltip = GER_alfred_hugenberg

			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = GER_return_of_the_kaiser_ww

		icon = GFX_focus_ger_return_of_the_kaiser

		prerequisite = { focus = GER_revive_the_kaiserreich_ww }

		mutually_exclusive = { focus = GER_military_dictatorship }

		x = 0
		y = 1
		relative_position_id = GER_revive_the_kaiserreich_ww

		cost = 2

		available = {
			has_government = neutrality
			36 = { #State with Utrecht, where Wilhelm II resided
				controller = {	
					NOT = { has_war_with = ROOT }
				}
			}
		}

		will_lead_to_war_with = HOL
		will_lead_to_war_with = FRA # To get France to move troops to the Maginot

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { controls_state = 36 }
					36 = { #State with Utrecht, where Wilhelm II resided
						controller = {	
							NOT = { is_subject_of = ROOT }
						}
					}
				}
				36 = { #State with Utrecht, where Wilhelm II resided
					controller = {	
						country_event = { 
							id = wtt_germany.3 
							hours = 6
						}
					}
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					GER_wilhelm_ii = {
						add_country_leader_role = {
							country_leader = {
								expire = "1965.1.1"
								ideology = despotism
								traits = {
									anti_democrat
									imperial_connections				
								}
							}
							promote_leader = yes
						}
					}
				}
			}
			else = {
				set_country_flag = kaiser_wilhelm_ii
				GER_wilhelm_ii = {
					add_country_leader_role = {
						country_leader = {
							expire = "1965.1.1"
							ideology = despotism
							traits = {
								anti_democrat
								imperial_connections				
							}
						}
						promote_leader = yes
					}
				}
				hidden_effect = { 
					news_event = { id = wtt_news.3 hours = 6 } 
				}
			}
		}
	}

	focus = { 
		id = GER_military_dictatorship
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = { focus = GER_revive_the_kaiserreich_ww }
		mutually_exclusive = { focus = GER_return_of_the_kaiser_ww }

		x = 2
		y = 1
		relative_position_id = GER_revive_the_kaiserreich_ww
		cost = 2
		available = {
			has_government = neutrality
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_war_support = 0.1
			
			GER_oberste_heeresleitung_character = {
				add_country_leader_role = {
					country_leader = {
						expire = "1990.1.1"
						ideology = despotism
						traits = {
							GER_oberste_heeresleitung_trait				
						}
					}
					promote_leader = yes
				}
			}

			custom_effect_tooltip = GER_military_dictatorship_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			set_party_name = { 
				ideology = neutrality 
				long_name = GER_neutrality_party_military_dictatorship_long 
				name = GER_neutrality_party_military_dictatorship 
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = GER_wilhelm_iii 

			hidden_effect = { 
				set_cosmetic_tag = GER_german_kaiserreich 
				set_country_flag = GER_military_dictatorship_flag
			}
		}
	}

	focus = {
		id = GER_invite_scientists_back
		icon = GFX_focus_generic_university_2
		prerequisite = { focus = GER_return_of_the_kaiser_ww }

		x = 0
		y = 1
		relative_position_id = GER_return_of_the_kaiser_ww
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_land
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_land
					level = 1
				}
			}
			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_naval
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_naval
					level = 1
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_research_speed_factor = 0.05
				tooltip = research_speed_factor_tt 
			}
		}
	}

	focus = {
		id = GER_glorious_mechanical_machinations
		icon = GFX_focus_GER_wunderwaffe
		prerequisite = { focus = GER_invite_scientists_back }

		x = 0
		y = 1
		relative_position_id = GER_invite_scientists_back
		cost = 5
		available = {
		}
 
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.25
			}
			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 0.25
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_special_project_speed_factor = 0.05
				tooltip = special_project_speed_factor_tt
			}
			add_to_variable = { 
				GER_wunderwaffen_production_speed_facility_factor = 0.1
				tooltip = production_speed_facility_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = GER_walter_dornberger

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_wunderwaffe_dornberger_trait_tt
			hidden_effect = {
				remove_trait = {
					character = GER_walter_dornberger
					slot = high_command
					trait = GER_head_of_the_missile_department
				}
				add_trait = {
					character = GER_walter_dornberger
					slot = high_command
					trait = GER_head_of_experimental_weapons
				}
			}

		}
	}
	
	focus = {
		id = GER_prussian_artillery
		icon = GFX_goal_generic_army_artillery

		prerequisite = { focus = GER_invite_scientists_back focus = GER_prepare_for_the_next_naval_blockade }

		x = 1
		y = 1
		relative_position_id = GER_glorious_mechanical_machinations

		cost = 5

		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_doctrine_cost_reduction = {	
				name = GER_prussian_artillery
				cost_reduction = 0.25
				uses = 2
				category = land_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_army_artillery_defence_factor = 0.05
				tooltip = army_artillery_defence_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = werner_von_fritsch_army_chief

		}
	}

	focus = {
		id = GER_fan_prussian_militarism
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = GER_return_of_the_kaiser_ww focus = GER_military_dictatorship }

		x = 6
		y = 1
		relative_position_id = GER_return_of_the_kaiser_ww
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = GER_fan_prussian_militarism_idea

			custom_effect_tooltip = generic_skip_one_line_tt
			
			IF = {
				limit = {
					BAY = {
						exists = no
					}
				}
				custom_effect_tooltip = GER_fan_prussian_militarism_tt
				hidden_effect = {
					BAY = {
						set_nationality = {
						    target_country = ROOT
						    character = BAY_rupprecht_of_bavaria
						}
					}
				}
				
			}
		}
	}

	focus = {
		id = GER_re_form_the_freikorps
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = GER_fan_prussian_militarism }

		x = -1
		y = 1
		relative_position_id = GER_fan_prussian_militarism
		cost = 5

		available = {
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			custom_effect_tooltip = GER_freikrops_militia_recruitment_tt

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Freikorps"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Freikorps"	
					division_names_group = GER_MIL_01
					template_counter = 84 # The pickelhaube 
					# TODO_Danne: Add a custom 3d model for them
					is_locked = yes
					force_allow_recruiting = yes
					division_cap = 24 
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }  
					}
				}

				random_state = { 
					limit = {
						is_fully_controlled_by = ROOT
						is_owned_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Freikorps 'München'\" division_template = \"Freikorps\" start_experience_factor = 0.4 start_equipment_factor = 0.6"
					    owner = ROOT
					}
					create_unit = {
					    division = "name = \"Freikorps 'Nürnberg'\" division_template = \"Freikorps\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
					    owner = ROOT
					}
					create_unit = {
					    division = "name = \"Freikorps 'Berlin'\" division_template = \"Freikorps\" start_experience_factor = 0.2 start_equipment_factor = 0.5"
					    owner = ROOT
					}
					create_unit = {
					    division = "name = \"Freikorps 'Bremerhaven'\" division_template = \"Freikorps\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
					    owner = ROOT
					}
					create_unit = {
					    division = "name = \"Freikorps 'Hamburg'\" division_template = \"Freikorps\" start_experience_factor = 0.2 start_equipment_factor = 0.5"
					    owner = ROOT
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_re_form_the_freikorps_generals_tt
 
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_hermann_erhardt
		}
	}

	focus = {
		id = GER_re_establish_the_landwehr
		icon = GFX_focus_generic_full_social_mobilization
		prerequisite = { focus = GER_fan_prussian_militarism }

		x = 1
		y = 1
		relative_position_id = GER_fan_prussian_militarism
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {

			add_manpower = 20000

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = GER_fan_prussian_militarism_idea_3
				}
				swap_ideas = {
					remove_idea = GER_fan_prussian_militarism_idea_3
					add_idea = GER_fan_prussian_militarism_idea_4
				}
			}
			ELSE = {
				swap_ideas = {
					remove_idea = GER_fan_prussian_militarism_idea
					add_idea = GER_fan_prussian_militarism_idea_2
				}
			}

		}
	}

	focus = {
		id = GER_glory_to_the_imperial_army
		icon = GFX_focus_GER_glory_to_the_imperial_army
		prerequisite = { focus = GER_re_form_the_freikorps focus = GER_re_establish_the_landwehr  }

		x = 1
		y = 1 
		relative_position_id = GER_re_form_the_freikorps

		cost = 10
		available = { 
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }
 
		completion_reward = {

			IF = {
				limit = {
					has_idea = GER_fan_prussian_militarism_idea_2
				}
				swap_ideas = {
					remove_idea = GER_fan_prussian_militarism_idea_2
					add_idea = GER_fan_prussian_militarism_idea_4
				}
			}
			ELSE = {
				swap_ideas = {
					remove_idea = GER_fan_prussian_militarism_idea
					add_idea = GER_fan_prussian_militarism_idea_3
				}
			}
			
			IF = {
				limit = {
					PRE = {
						exists = no
					}
				}
				custom_effect_tooltip = GER_glory_to_the_imperial_army_tt
				hidden_effect = {
					PRE = {
						set_nationality = {
						    target_country = ROOT
						    character = PRE_eitel_friedrich
						}
					}
				}	
			}
		}
	}

	focus = {
		id = GER_prepare_for_the_next_naval_blockade

		icon = GFX_focus_generic_stockpile_fuel

		prerequisite = { focus = GER_military_dictatorship }

		x = 2
		y = 1
		relative_position_id = GER_return_of_the_kaiser_ww

		cost = 5

		available = {
			has_war = no
		} 

		bypass = {
			has_war = yes
		}

		dynamic = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			add_equipment_to_stockpile = { 
				type = convoy_1
				amount = 50
				producer = ROOT
			}

			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 25
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_war_preparations_tt
			effect_tooltip = {
				add_timed_idea = {
					idea = GER_strengthened_supply_lines_ns
					days = 730
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = GER_reichswerke
				}
				swap_ideas = {
					remove_idea = GER_reichswerke
					add_idea = GER_reichswerke_improved
				}
			}
			ELSE = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_reichswerke
						add_idea = GER_reichswerke_improved
					}
				}
			}
		}
	}

	focus = {
		id = GER_all_for_the_front
		icon = GFX_focus_GER_all_for_the_front
		prerequisite = { focus = GER_prepare_for_the_next_naval_blockade } 

		x = 0
		y = 1
		relative_position_id = GER_prepare_for_the_next_naval_blockade
		cost = 5
		available = {
			has_war = yes
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = GER_all_for_the_front_idea
		}
	}

	focus = {
		id = GER_expatriate_the_communists_ww
		icon = GFX_goal_anti_comintern_pact

		prerequisite = { focus = GER_return_of_the_kaiser_ww focus = GER_military_dictatorship }

		available = {
			is_subject = no
			has_government = neutrality
			NOT = { has_war_with = FRA }
			FRA = { NOT = { has_government = fascism }}
		}

		cancel_if_invalid = yes

		x = 4
		y = 1
		relative_position_id = GER_return_of_the_kaiser_ww

		cost = 5
		ai_will_do = {
			factor = 0.5
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_expatriate_the_communists
				days = 720
			}
			add_named_threat = { threat = 3 name = GER_expatriate_the_communists }

			custom_effect_tooltip = generic_skip_one_line_tt

			FRA = { 
				add_timed_idea = {
					idea = GER_communist_refugees
					days = 720
				}
				country_event = { id = wtt_germany.17 }
			}

			IF = {
				limit = {
					has_idea = GER_expatriated_communists_return_home_ns
				}
				remove_ideas = GER_expatriated_communists_return_home_ns	
			}
			IF = {
				limit = {
					has_idea = GER_expatriated_communists_return_home_supressed_ns
				}
				remove_ideas = GER_expatriated_communists_return_home_supressed_ns
			}

			hidden_effect = {
				if = {
					limit = {
						NOT = { has_dlc = "La Resistance" }
						AND = {
							has_global_flag = spanish_civil_war
							NOT = { has_global_flag = scw_over }
						}
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = communism
						}
						country_event = { id = wtt_germany.2 days = 1 }
					}
				}
				if = {
					limit = {
						has_dlc = "La Resistance"
						AND = {
							has_global_flag = spanish_civil_war
							NOT = { has_global_flag = scw_over }
						}
					}
					SPD = {
						country_event = { id = wtt_germany.2 days = 1 }
					}
				}
			}
			
		}
	}

	focus = {
		id = GER_demand_the_return_of_southern_jutland
		icon = GFX_focus_generic_invade_denmark

		prerequisite = { focus = GER_return_of_the_kaiser_ww focus = GER_military_dictatorship }

		x = 8
		y = 1
		relative_position_id = GER_return_of_the_kaiser_ww

		cost = 5

		available = {
			is_subject = no
			has_civil_war = no
		}

		bypass = {
				912 = {
					OR = {
						is_fully_controlled_by = ROOT
						controller = { has_war_with = ROOT }
						controller = { is_ally_with = ROOT }
					}
				}
		}

		will_lead_to_war_with = DEN

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_named_threat = { threat = 2 name = GER_demand_the_return_of_southern_jutland }
			
			add_state_claim = 912

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					912 = {
						is_controlled_by = DEN
					}
				}
				DEN = {
					country_event = {
						id = wuw_GER_diplomacy.57
						days = 2
						random_days = 2
					}	
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					add_political_power = 25
					add_popularity = {
						ideology = ROOT
						popularity = 0.05
					}	

					custom_effect_tooltip = generic_skip_one_line_tt
					
					912 = {
						transfer_state_to = ROOT
						add_core_of = ROOT
					}
				}
			}
			else_if = {
				limit = {
					912 = {
						controller = {
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
				}
				912 = {
					controller = {
						country_event = {
							id = wuw_GER_diplomacy.60
							days = 2
							random_days = 2
						}
					}
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					add_political_power = 25
					add_popularity = {
						ideology = ROOT
						popularity = 0.05
					}	

					custom_effect_tooltip = generic_skip_one_line_tt
					
					912 = {
						transfer_state_to = ROOT
						add_core_of = ROOT
					}
				}
			}			
			else = {
				912 = {
					controller = {
						country_event = {
							id = wuw_GER_diplomacy.63
							hours = 1
						}
					}
				}
				effect_tooltip = {
					912 = {
						transfer_state_to = ROOT
						add_core_of = ROOT
					}
				}
			}
		}
	}

	#####################
	#####################
	#### REALPOLITIK ####
	#####################
	#####################

	focus = {
		id = GER_realpolitik

		icon = GFX_focus_GER_realpolitik

		prerequisite = { focus = GER_the_monarchy_compromise_ww focus = GER_revive_the_kaiserreich_ww }

		x = 1
		y = 5
		relative_position_id = GER_the_monarchy_compromise_ww

		cost = 2

		available = {
			is_subject = no
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_august_von_mackensen
				}		
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			add_political_power = 50

			IF = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				hidden_effect = {
					GER_wilhelm_canaris = {
						remove_trait = {
							slot = political_advisor
							trait = head_of_the_abwehr
						}
					}
				}
				GER_wilhelm_canaris = {
	 				add_trait = { 
	 					slot = political_advisor
	 					trait = head_of_the_abwehr_improved
	 				}
	 			}
	 			hidden_effect = {
					GER_hans_oster = {
						remove_trait = {
							slot = political_advisor
							trait = anti_fascist_agent
						}
					}
				}
				GER_hans_oster = {
	 				add_trait = { 
	 					slot = political_advisor
	 					trait = intelligence_service_deputy
	 				}
	 			}
			}
		}
	}

	focus = {
		id = GER_mitteleuropa
		icon = GFX_focus_GER_mitteleuropa
		prerequisite = { focus = GER_realpolitik }

		x = -9
		y = 1
		relative_position_id = GER_realpolitik
		cost = 2
		available = {
			is_subject = no
			OR = {
				is_faction_leader = yes
				is_in_faction = no
			}
		}

		bypass = {
			is_faction_leader = yes
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			if = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = GER_central_european_alliance_tt
			}
			effect_tooltip = {
				create_faction = GER_mitteleuropa_alliance
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			hidden_effect = {
				if = {
					limit = {
						is_in_faction = no
					}
					create_faction = GER_mitteleuropa_alliance
				}
			}

			custom_effect_tooltip = GER_mitteleuropa_tt

		}
	}

	focus = {
		id = GER_the_austrian_question

		icon = GFX_focus_GER_the_austrian_question

		prerequisite = { focus = GER_mitteleuropa }

		mutually_exclusive = { focus = GER_brothers_in_arms }

		x = 1
		y = 1
		relative_position_id = GER_mitteleuropa

		cost = 10

		available = {
			is_subject = no
			is_faction_leader = yes
			NOT = { has_war_with = AUS }
			AUS = {
				OR = {
					is_in_faction_with = ROOT
					is_in_faction = no
				}
				OR = {
					is_subject_of = ROOT
					is_subject = no
				}
				OR = {
					has_government = ROOT
					has_country_flag = AUS_is_more_likely_to_accept_being_brothers_in_arms_flag
				}
			}
		}

		dynamic = yes

		bypass = {
			AUS = { 
				OR = {
					exists = no
					has_war_with = ROOT
					AND = {
						is_in_faction = yes
						NOT = { is_in_faction_with = ROOT }
					}
					AND = {
						is_subject = yes
						NOT = { is_subject_of = ROOT }
					}
				}
			}
		}

		will_lead_to_war_with = AUS

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			AUS = {
				country_event = {
					id = wuw_GER_realpolitik.36
					hours = 6
					random_hours = 12
				}	
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {

				annex_country = {
					target = AUS
					transfer_troops = yes
				}
				GER_anschluss_modify_mefo_bills_or_economy_of_conquest = yes

				custom_effect_tooltip =  generic_skip_one_line_tt
				
				AUS = {
					every_core_state = {		
						add_core_of = ROOT
					}
				}

				AUS = {
					IF = {
						limit = {
							has_completed_focus = AUS_bring_generals_out_of_retirement
						}
						AUS_wilhelm_gebauer = {
							set_nationality = ROOT
						}
					}
					
					AUS_ludwig_von_eimannsberger = {
						set_nationality = ROOT
					}

					AUS_anton_kienbauer = {
						set_nationality = ROOT
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					HUN = {
						exists = yes
						is_subject = no
						is_in_faction = no
						OR = {
							has_government = neutrality
							has_government = democratic
							has_government = fascism
						}
					}
				}
				HUN = {
					country_event = {
						id = wuw_GER_realpolitik.39
						days = 2
						random_days = 3
					}	
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {

					every_state = {
						limit = {
							OR = {
								state = 664
								state = 73
								state = 76
								state = 84
								state = 83
								state = 82
								state = 45
								state = 975
							}
						}
						add_claim_by = HUN
					}

					HUN = {
						set_cosmetic_tag = HUN_GREATER
					}

					custom_effect_tooltip = generic_skip_one_line_tt

					every_controlled_state = {
						limit = {
							OR = {
								state = 664
								state = 73
								state = 76
								state = 84
								state = 83
								state = 82
								state = 45
								state = 975
							}
						}
						transfer_state_to = HUN
						add_core_of = HUN
					}

					ROOT = {
						add_to_faction = HUN
					}
				}
			}
		}
	}

	focus = {
		id = GER_align_czechoslovakia
		icon = GFX_focus_generic_befriend_czechoslovakia
		prerequisite = { focus = GER_the_austrian_question focus = GER_brothers_in_arms }
		mutually_exclusive = { focus = GER_carve_up_czechoslovakia }

		x = 0
		y = 1
		relative_position_id = GER_the_austrian_question
		cost = 5

		available = {
			is_subject = no
			is_faction_leader = yes
			CZE = {
				exists = yes
				is_in_faction = no
				is_subject = no
			}
		}

		bypass = {
			CZE = {
				OR = {
					is_in_faction = yes
					exists = no
					is_subject_of = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			
			CZE = {
				country_event = {
					id = wuw_GER_realpolitik.1
					hours = 6
					random_hours = 6
				}		
			}
		}
	}

	focus = {
		id = GER_sway_the_balkans
		icon = GFX_focus_generic_balkan_diplomacy
		prerequisite = { focus = GER_align_czechoslovakia }

		x = 0
		y = 1
		relative_position_id = GER_align_czechoslovakia
		cost = 5
		available = {
			is_subject = no
			is_faction_leader = yes
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			custom_effect_tooltip = GER_sway_the_balkans_tt

		}
	}

	focus = {
		id = GER_establish_a_customs_union
		icon = GFX_focus_GER_customs_union
		prerequisite = { focus = GER_align_czechoslovakia }

		x = 2
		y = 1
		relative_position_id = GER_align_czechoslovakia
		cost = 5
		available = {
			is_subject = no
			is_faction_leader = yes
			any_other_country = {
				is_in_faction_with = ROOT
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			add_ideas = GER_mitteleuropa_customs_union_member
			custom_effect_tooltip = GER_pool_technical_know_how_tt
			hidden_effect = {
				every_other_country = {
					limit = { is_in_faction_with = GER }
					add_ideas = GER_mitteleuropa_customs_union_member
				}
			}
		}
	}

	focus = {
		id = GER_integrated_economies
		icon = GFX_focus_GER_integrated_economies
		prerequisite = { focus = GER_establish_a_customs_union }
		prerequisite = { focus = GER_mitteleuropa_cooperation_sphere }

		x = 0
		y = 2
		relative_position_id = GER_establish_a_customs_union

		cost = 5

		available = {
			is_subject = no
			is_faction_leader = yes
			any_other_country = {
				is_in_faction_with = ROOT
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			swap_ideas = {
				remove_idea = GER_mitteleuropa_customs_union_member
				add_idea = GER_mitteleuropa_customs_union_member_upgraded
			}	

			IF = {
				limit = {
					NOT = {
						any_other_country = {
							is_in_faction_with = ROOT
						}
					}
				}
				custom_effect_tooltip = GER_integrated_economies_tt
				custom_effect_tooltip = if_they_accept_tt
				custom_effect_tooltip = they_will_gain_tt
				show_ideas_tooltip = GER_mitteleuropa_integrated_customs_union_member
				custom_effect_tooltip = generic_skip_one_line_tt
			} 
			ELSE = {
				every_other_country = {
					limit = { 
						is_in_faction_with = GER 
						has_idea = GER_mitteleuropa_customs_union_member
					}
					set_country_flag = GER_has_sent_invitation_for_integration_once_already_flag #So that this/these countries don't show up in the Integrated Economies Decisions aswell
					country_event = {
						id = wuw_GER_realpolitik.33
						hours = 6
						random_hours = 12
					}	
				}
				custom_effect_tooltip = if_they_accept_tt
				
				custom_effect_tooltip = they_will_gain_tt
				show_ideas_tooltip = GER_mitteleuropa_integrated_customs_union_member
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			
			custom_effect_tooltip = GER_allied_customs_union_integration_request_tt

		}
	}

	focus = {
		id = GER_european_confederation
		icon = GFX_focus_GER_european_confederation
		prerequisite = { focus = GER_integrated_economies }

		x = 0
		y = 1
		relative_position_id = GER_integrated_economies

		cost = 10

		available = {
			is_subject = no
			is_faction_leader = yes
			any_other_country = {
				is_in_faction_with = ROOT
			}
			64 = {
				is_fully_controlled_by = ROOT
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_political_power = 150

			custom_effect_tooltip = generic_skip_one_line_tt

			swap_ideas = {
				remove_idea = GER_mitteleuropa_customs_union_member_upgraded
				add_idea = GER_mitteleuropa_customs_union_member_upgraded_2
			}

			custom_effect_tooltip = GER_allied_economic_integration_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_allied_civilian_administration_integration_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = {
				decision = form_european_union
				show_effect_tooltip = no
			}	

			IF = {
				limit = {
					has_dlc = "Gotterdammerung"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_build_volkshalle_landmark_tt
				hidden_effect = {
					64 = {
						remove_building = {
						    type = landmark_berlin_reichstag
						    level = 1
						    province = 6521
						}
						add_building_construction = {
						    type = landmark_berlin_volkshalle
						    level = 1
						    instant_build = yes
						    province = 6521
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_brothers_in_arms

		icon = GFX_focus_GER_brothers_in_arms

		prerequisite = { focus = GER_mitteleuropa }

		mutually_exclusive = { focus = GER_the_austrian_question }

		x = -1
		y = 1
		relative_position_id = GER_mitteleuropa

		cost = 10

		available = {
			is_subject = no
			is_faction_leader = yes
			NOT = { has_war_with = AUS }
			AUS = {
				OR = {
					is_ally_with = ROOT
					is_in_faction = no
				}
				OR = {
					has_government = ROOT
					has_country_flag = AUS_is_more_likely_to_accept_being_brothers_in_arms_flag
				}
			}
		}

		dynamic = yes

		bypass = {
			OR = {
				AUS = { 
					OR = {
						exists = no
						has_war_with = ROOT
						AND = {
							is_in_faction = yes
							NOT = { is_in_faction_with = ROOT }
						}
						AND = {
							is_subject = yes
							NOT = { is_subject_of = ROOT }
						}
					}
				}
				AND = {
					102 = { controller = { is_ally_with = ROOT }}
					853 = { controller = { is_ally_with = ROOT }}
					103 = { controller = { is_ally_with = ROOT }}
					104 = { controller = { is_ally_with = ROOT }}
					804 = { controller = { is_ally_with = ROOT }}
					109 = { controller = { is_ally_with = ROOT }}
					155 = { controller = { is_ally_with = ROOT }}
					43 = { controller = { is_ally_with = ROOT }}
					973 = { controller = { is_ally_with = ROOT }}
					974 = { controller = { is_ally_with = ROOT }}
					154 = { controller = { is_ally_with = ROOT }}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			if = {
				limit = {
					NOT = { is_in_faction_with = AUS }
				}
				AUS = {
					country_event = {
						id = wuw_GER_realpolitik.42
						hours = 6
						random_hours = 12
					}	
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					if = {
						limit = {
							NOT = { is_in_faction_with = AUS }
						}
						add_to_faction = AUS
					}

					IF = {
						limit = {
							has_government = neutrality
							AUS = {
								NOT = {
									has_cosmetic_tag = HUN_EMPIRE
								}
							}
						}
						AUS = {
							set_cosmetic_tag = AUS_kingdom_of_austria
						}
					}
				}
			}

			effect_tooltip = {
				every_state = {
					limit = {
						OR = {
							state = 102 #N Slovenia
							state = 853 #Ljubljana
							state = 103 #Dalmatia
							state = 104 #Bosnia
							state = 804 #Herzegovina
							state = 109 #Croatia
							state = 155 #N Transnubia
							state = 43 #N Hungary
							state = 973 #Bacs-Kiskun
							state = 974 #S Transnubia
							state = 154 #Tiszantul
						}
						NOT = { 
							is_claimed_by = ROOT
							is_owned_by = ROOT 
						}
					}
					display_individual_scopes = yes
					if = {
						limit = {
							is_fully_controlled_by = ROOT
						}
						transfer_state_to = AUS
						if = {
							limit = {
								NOT = {
									is_core_of = AUS
								}
							}
							add_core_of = AUS
						}
					}
					else_if = {
						limit = {
							controller = {
								NOT = {
									is_ally_with = ROOT
								}
							}
						}
						add_claim_by = AUS
					}
				}
			}
		}
	}

	focus = {
		id = GER_carve_up_czechoslovakia
		icon = GFX_focus_generic_attack_czechoslovakia
		prerequisite = { focus = GER_the_austrian_question focus = GER_brothers_in_arms }
		mutually_exclusive = { focus = GER_align_czechoslovakia }

		x = 0
		y = 1
		relative_position_id = GER_brothers_in_arms
		cost = 10

		available = {
			is_subject = no
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			NOT = {
				is_in_faction_with = CZE
				has_war_with = CZE
				OR = {
					has_subject = CZE
					any_allied_country = {
						has_subject = CZE
					}
				}
			}
			NOT = { has_war_with = CZE }
			OR = { #Can't be in a faction with both AUS and HUN since they both can receive land
				AND = {
					is_in_faction_with = AUS
					NOT = { is_in_faction_with = HUN }
				}
				AND = {
					is_in_faction_with = HUN
					NOT = { is_in_faction_with = AUS }
				}
			}
		}

		bypass = {
			OR = {
				has_war_with = CZE
				has_subject = CZE
				any_allied_country = {
					has_subject = CZE
				}
				is_in_faction_with = CZE
				AND = {
					69 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					9 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					75 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					74 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					972 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
				}
			}
		}

		will_lead_to_war_with = CZE

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			every_state = {
				limit = {
					OR = {
						state = 69
						state = 74
						state = 972
					}
					controller = {
						NOT = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							is_guaranteed_by = ROOT
							has_war_with = ROOT
						}
					}
				}
				add_core_of = ROOT
			}

			IF = {
				limit = {
					OR = {
						is_in_faction_with = AUS
						is_in_faction_with = HUN
					}
					CZE = {
						exists = yes
					}
				}
				if = {
					limit = {
						is_in_faction_with = AUS
					}
					AUS = {
						country_event = {
							id = wuw_GER_realpolitik.45
							hours = 12
							random_hours = 24
						}
					}
				}
				else = {
					HUN = {
						country_event = {
							id = wuw_GER_realpolitik.45
							hours = 12
							random_hours = 24
						}
					}
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					GER_czechoslovakia_modify_mefo_bills_or_economy_of_conquest = yes
					CZE = {
						every_controlled_state = {
							limit = {
								OR = {
									state = 69
									state = 9
									state = 75
									state = 74
									state = 972
								}
							}
							transfer_state_to = ROOT
						}
					}

					IF = {
						limit = {
							POL = {
								OR = {
									exists = no
									AND = {
										exists = yes
										has_war_with = ROOT
									}
								}
							}
						}
						IF = {
							limit = {
								is_in_faction_with = HUN
							}
							CZE = {
								every_controlled_state = {
									limit = {
										OR = {
											state = 70
											state = 664
											state = 72
											state = 71
											state = 73
										}
									}
									transfer_state_to = HUN
									add_core_of = HUN
								}
							}
						}
						ELSE_IF = {
							limit = {
								is_in_faction_with = AUS
							}
							CZE = {
								every_controlled_state = {
									limit = {
										OR = {
											state = 70
											state = 664
											state = 72
											state = 71
											state = 73
										}
									}
									transfer_state_to = AUS
									add_core_of = AUS
								}
							}
						}
					}
					else_if = {
						limit = {
							POL = {
								exists = yes
								NOT = {
									has_war_with = ROOT
								}
							}
						}
						IF = {
							limit = {
								is_in_faction_with = HUN
							}
							CZE = {
								every_controlled_state = {
									limit = {
										OR = {
											state = 70
											state = 664
											#state = 72
											state = 71
											state = 73
										}
									}
									transfer_state_to = HUN
									add_core_of = HUN
								}
							}
						}
						ELSE_IF = {
							limit = {
								is_in_faction_with = AUS
							}
							CZE = {
								every_controlled_state = {
									limit = {
										OR = {
											state = 70
											state = 664
											#state = 72
											state = 71
											state = 73
										}
									}
									transfer_state_to = HUN
									add_core_of = HUN
								}
							}
						}
						POL = {
							transfer_state = 72
							add_state_core = 72
							POL = {
								country_event = { hours = 6 id = germany.52 }
							}
						}
					}
				}
			}
			ELSE = {
				every_state = {
					limit = {
						OR = {
							state = 69
							state = 9
							state = 75
							state = 74
							state = 972
						}
						controller = {
							NOT = {
								is_subject_of = ROOT
								is_in_faction_with = ROOT
								is_guaranteed_by = ROOT
								has_war_with = ROOT
							}
						}
					}
					add_claim_by = ROOT
				}
				every_other_country = {
					limit = {
						OR = {
							owns_state = 70
							owns_state = 664
							owns_state = 72
							owns_state = 71
							owns_state = 73
							owns_state = 69
							owns_state = 9
							owns_state = 75
							owns_state = 74
							owns_state = 972
						}
						NOT = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							is_guaranteed_by = ROOT
							has_war_with = ROOT
							has_a_german_trade_idea = yes
						}
					}
					ROOT = {
						create_wargoal = {
							type = take_claimed_state
							target = PREV
						}	
					}
				}
			}
			add_named_threat = { threat = 5 name = GER_carve_up_czechoslovakia }
		}
	}

	focus = {
		id = GER_rekindle_imperial_sentiment_ww
		icon = GFX_focus_proclaim_the_restauration_of_Austria_Hungary
		prerequisite = { focus = GER_brothers_in_arms }

		x = -2
		y = 1
		relative_position_id = GER_brothers_in_arms
		cost = 5
		available = {
			is_faction_leader = yes
			has_government = neutrality
			NOT = { has_war_with = AUS }
			NOT = { has_war_with = HUN }
			NOT = { has_war_with = CZE }
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			if = {
				limit = {
					AUS = { exists = yes }
				}
				AUS = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			if = {
				limit = {
					HUN = { exists = yes }
				}
				HUN = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			if = {
				limit = {
					CZE = { exists = yes }
				}
				CZE = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			custom_effect_tooltip = GER_rekindle_imperial_sentiment_tt_2
		}
	}

	focus = {
		id = GER_the_first_berlin_award
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = GER_carve_up_czechoslovakia }

		x = -2
		y = 1
		relative_position_id = GER_carve_up_czechoslovakia

		cost = 5

		available = {
			is_subject = no
			OR = { #Can't be in a faction with both AUS and HUN since they both can receive land
				AND = {
					is_in_faction_with = AUS
					NOT = { is_in_faction_with = HUN }
				}
				AND = {
					is_in_faction_with = HUN
					NOT = { is_in_faction_with = AUS }
				}
			}
			any_allied_country = {
				OR = { #These states border the states a German ally can receive below
					controls_state = 71
					controls_state = 73
					controls_state = 72
				}		
			}
		}

		bypass = {
			OR = {
				AND = {
					AUS = {
						OR = {
							exists = no
							has_war_with = ROOT
							AND = {
								is_in_faction = yes
								NOT = {
									is_in_faction_with = ROOT
								}
							}
						}
					}
					HUN = {
						OR = {
							exists = no
							has_war_with = ROOT
							AND = {
								is_in_faction = yes
								NOT = {
									is_in_faction_with = ROOT
								}
							}
						}
					}
				}
				if = { #This is purerly here to declutter the tooltip; the bypass trigger will be on display as long as you're not in faction with either AUS or HUN
					limit = {
						NOT = { 
							OR = {
								has_completed_focus = GER_brothers_in_arms
								has_completed_focus = GER_the_austrian_question
							}
						}
					}
					88 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					89 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					91 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					762 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
				}
				else = {
					OR = {
						NOT = { 
							is_in_faction_with = AUS 
							is_in_faction_with = HUN 
						}
						AND = {
							88 = {
								OR = {
									controller = { has_war_with = ROOT }
									state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
								}
							}
							89 = {
								OR = {
									controller = { has_war_with = ROOT }
									state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
								}
							}
							91 = {
								OR = {
									controller = { has_war_with = ROOT }
									state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
								}
							}
							762 = {
								OR = {
									controller = { has_war_with = ROOT }
									state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
								}
							}
						}
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			IF = {
				limit = {
					762 = {
						NOT = {
							is_owned_by = ROOT
							owner = {
								is_ally_with = ROOT
							}
						}
					}
				}
				762 = {
					add_claim_by = ROOT
				}
			}

			IF = {
				limit = {
					is_in_faction_with = AUS
				}
				every_state = {
					limit = {
						OR = {
							state = 88
							state = 89
							state = 91
							state = 72
						}
						NOT = {
							is_claimed_by = AUS
							is_core_of = AUS
							controller = {
								OR = {
									original_tag = ROOT
									is_ally_with = ROOT
								}
							}
						}
					}
					add_claim_by = AUS
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			else = { #If you're allied with Hungary
				every_state = {
					limit = {
						OR = {
							state = 88
							state = 89
							state = 91
							state = 72
						}
						NOT = {
							is_claimed_by = HUN
							is_core_of = HUN
							controller = {
								OR = {
									original_tag = ROOT
									is_ally_with = ROOT
								}
							}
						}
					}
					add_claim_by = HUN
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			if = {
				limit = {
					POL = {
						OR = {	
							88 = { is_owned_and_controlled_by = PREV }
							89 = { is_owned_and_controlled_by = PREV }
							91 = { is_owned_and_controlled_by = PREV }
							72 = { is_owned_and_controlled_by = PREV }
						}
						NOT = {
							has_war_with = ROOT
							original_tag = ROOT
							is_ally_with = ROOT
						}
					}
				}
				POL = {
					country_event = {
						id = wuw_GER_realpolitik.51
						days = 1
						random_days = 2
					}
				}
				custom_effect_tooltip = if_they_accept_tt 
				effect_tooltip = {
					IF = {
						limit = {
							is_in_faction_with = AUS
						}
						custom_effect_tooltip = GER_the_first_berlin_award_aus_tt
						POL = {
							every_controlled_state = {
								limit = {
									OR = {
										state = 88
										state = 89
										state = 91
										state = 72
									}
								}
								transfer_state_to = AUS
							}
						}
					}
					ELSE = { #You're allied with Hungary
						custom_effect_tooltip = GER_the_first_berlin_award_hun_tt
						POL = {
							every_controlled_state = {
								limit = {
									OR = {
										state = 88
										state = 89
										state = 91
										state = 72
									}
								}
								transfer_state_to = HUN
							}
						}
					}
				}
			}
			else = {
				every_country = {
					limit = {
						AND = {
							OR = {
								88 = { is_owned_and_controlled_by = PREV }
								89 = { is_owned_and_controlled_by = PREV }
								91 = { is_owned_and_controlled_by = PREV }
								72 = { is_owned_and_controlled_by = PREV }
							}
							NOT = {
								has_war_with = ROOT
								original_tag = ROOT
								is_ally_with = ROOT
							}
						}
					}
					country_event = {
						id = wuw_GER_realpolitik.51
						days = 1
						random_days = 2
					}
				}
				custom_effect_tooltip = if_they_accept_tt 
				effect_tooltip = {
					IF = {
						limit = {
							is_in_faction_with = AUS
						}
						custom_effect_tooltip = GER_the_first_berlin_award_aus_tt
						every_state = {
							limit = {
								OR = {
									state = 88
									state = 89
									state = 91
									state = 72
								}
							}
							transfer_state_to = AUS
						}
					}
					ELSE = { #If you're allied with Hungary
						custom_effect_tooltip = GER_the_first_berlin_award_hun_tt
						every_state = {
							limit = {
								OR = {
									state = 88
									state = 89
									state = 91
									state = 72
								}
							}
							transfer_state_to = HUN
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_the_second_berlin_award
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = GER_the_first_berlin_award }

		x = 0
		y = 2
		relative_position_id = GER_the_first_berlin_award
		cost = 5
		available = {
			is_subject = no
			OR = {
				AND = {
					is_in_faction_with = AUS
					HUN = { exists = no }
				}
				AND = {
					is_in_faction_with = HUN
					AUS = { exists = no }
				}
			}
			any_allied_country = {
				OR = { #These states border the states a German ally can receive below
					controls_state = 974
					controls_state = 973
					controls_state = 154
					controls_state = 73
				}		
			}
		}

		bypass = {
			OR = {
				AND = {
					AUS = {
						OR = {
							exists = no
							has_war_with = ROOT
							AND = {
								is_in_faction = yes
								NOT = {
									is_in_faction_with = ROOT
								}
							}
						}
					}
					HUN = {
						OR = {
							exists = no
							has_war_with = ROOT
							AND = {
								is_in_faction = yes
								NOT = {
									is_in_faction_with = ROOT
								}
							}
						}
					}
				}
				if = { #This is purerly here to declutter the tooltip; the bypass trigger will be on display as long as you're not in faction with either AUS or HUN
					limit = {
						NOT = { 
							OR = {
								has_completed_focus = GER_brothers_in_arms
								has_completed_focus = GER_the_austrian_question
							}
						}
					}
					45 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					764 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					82 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					83 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					84 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
					76 = {
						OR = {
							controller = { has_war_with = ROOT }
							state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						}
					}
				}
				else = {
					OR = {
						NOT = { 
							OR = {
								is_in_faction_with = AUS 
								is_in_faction_with = HUN 
							}
						}
						AND = {
							45 = {
								OR = {
									controller = { has_war_with = ROOT }
									state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
								}
							}
							764 = {
								OR = {
									controller = { has_war_with = ROOT }
									state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
								}
							}
							82 = {
								OR = {
									controller = { has_war_with = ROOT }
									state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
								}
							}
							83 = {
								OR = {
									controller = { has_war_with = ROOT }
									state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
								}
							}
							84 = {
								OR = {
									controller = { has_war_with = ROOT }
									state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
								}
							}
							76 = {
								OR = {
									controller = { has_war_with = ROOT }
									state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
								}
							}
						}
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			IF = {
				limit = {
					is_in_faction_with = HUN 
				}
				every_state = {
					limit = {
						OR = {
							state = 45
							state = 764
							state = 82
							state = 83
							state = 84
							state = 76
						}
						NOT = {
							OR = {
								is_owned_and_controlled_by = HUN
								is_core_of = HUN
							}
							controller = {
								OR = {
									original_tag = ROOT
									is_ally_with = ROOT
								}
							}
						}
					}
					add_claim_by = HUN
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			ELSE_IF = {
				limit = {
					is_in_faction_with = AUS
				}
				every_state = {
					limit = {
						OR = {
							state = 45
							state = 764
							state = 82
							state = 83
							state = 84
							state = 76
						}
						NOT = {
							OR = {
								is_owned_and_controlled_by = AUS
								is_core_of = AUS
							}
							controller = {
								OR = {
									original_tag = ROOT
									is_ally_with = ROOT
								}
							}
						}
					}
					add_claim_by = AUS
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			every_other_country = {
				limit = {
					AND = {
						NOT = {
							original_tag = AUS
							original_tag = HUN
						}
						OR = {
							45 = { is_owned_and_controlled_by = PREV }
							764 = { is_owned_and_controlled_by = PREV }
							82 = { is_owned_and_controlled_by = PREV }
							83 = { is_owned_and_controlled_by = PREV }
							84 = { is_owned_and_controlled_by = PREV }
							76 = { is_owned_and_controlled_by = PREV }
						}
						NOT = {
							has_war_with = ROOT
							is_ally_with = ROOT
						}
					}
				}
				country_event = {
					id = wuw_GER_realpolitik.54
					days = 1
					random_days = 2
				}
			}
			custom_effect_tooltip = if_they_accept_tt 
			effect_tooltip = {
				IF = {
					limit = {
						is_in_faction_with = HUN
					}
					custom_effect_tooltip = GER_the_first_berlin_award_hun_tt
					every_state = {
						limit = {
							OR = {
								state = 45
								state = 764
								state = 82
								state = 83
								state = 84
								state = 76
							}
							NOT = {
								is_owned_and_controlled_by = HUN
								is_core_of = HUN
								controller = {
									OR = {
										original_tag = ROOT
										is_ally_with = ROOT
									}
								}
							}
						}
						transfer_state_to = HUN
					}
				}
				ELSE = {
					custom_effect_tooltip = GER_the_first_berlin_award_aus_tt
					every_state = {
						limit = {
							OR = {
								state = 45
								state = 764
								state = 82
								state = 83
								state = 84
								state = 76
							}
							NOT = {
								OR = {
									is_owned_and_controlled_by = AUS
									is_core_of = AUS
								}
								controller = {
									OR = {
										original_tag = ROOT
										is_ally_with = ROOT
									}
								}
							}
						}
						transfer_state_to = AUS
					}
				}
			}
		}
	}

	focus = {
		id = GER_mitteleuropa_cooperation_sphere
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = GER_carve_up_czechoslovakia focus = GER_align_czechoslovakia }

		x = -1
		y = 2
		relative_position_id = GER_align_czechoslovakia
		
		cost = 5
		available = {
			is_subject = no
			num_faction_members > 1
		}

		bypass = {
			
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }

		completion_reward = {

			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			add_to_tech_sharing_group = ger_mitteleuropa_research
			every_other_country = {
				limit = { 
					is_ally_with = ROOT
				}
				add_to_tech_sharing_group = ger_mitteleuropa_research 
			}
		}
	}

	focus = {
		id = GER_trade_agreements
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GER_mitteleuropa_cooperation_sphere }

		x = 0
		y = 1
		relative_position_id = GER_mitteleuropa_cooperation_sphere
		cost = 5

		available = {
			is_subject = no
			is_faction_leader = yes
			num_faction_members > 1
		}

		search_filters = { FOCUS_FILTER_INTERNATIONAL_TRADE }

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						any_other_country = {
							is_in_faction_with = ROOT
						}
					}
				}
				custom_effect_tooltip = GER_trade_agreements_tt
				show_ideas_tooltip = GER_german_trade_ns
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			ELSE = {
				every_other_country = {
					limit = { 
						is_in_faction_with = GER 
					}
					set_country_flag = GER_trade_agreement_event_flag #This flag prevents countries that receive the event below from showing up in the Decision
					country_event = {
						id = wuw_GER_realpolitik.26
						hours = 6
						random_hours = 12
					}
				}
				custom_effect_tooltip = if_they_accept_tt
				
				custom_effect_tooltip = they_will_gain_tt
				show_ideas_tooltip = GER_german_trade_ns
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			custom_effect_tooltip = GER_allied_trade_tt
		}
	}

	focus = {
		id = GER_prepare_italian_coup_ww

		icon = GFX_goal_generic_military_deal

		prerequisite = { focus = GER_the_second_berlin_award }

		mutually_exclusive = { focus = GER_conquer_italy focus = GER_align_italy }

		dynamic = yes

		available = {
			is_subject = no
			NOT = { has_war_with = ITA }
			ITA = {
				has_government = fascism
			}
		}

		cancel_if_invalid = yes

		x = -2
		y = 1
		relative_position_id = GER_the_second_berlin_award

		cost = 5

		ai_will_do = {
			factor = 10
		}

		select_effect = {
			ITA = {
				country_event = {
				    id = wtt_germany.1006
				    days = 1
				    random = 2
				}
			}
		}
		
		completion_reward = {
			ITA = {
				country_event = { 
					id = wtt_germany.8 
					hours = 4
				}
			}
			custom_effect_tooltip = GER_prepare_italian_coup_tt
			effect_tooltip = {
				ITA = {
					add_timed_idea = { 
						idea = GER_preparing_ITA_coup 
						days = 1095 
					}
				}
			}
		}
	}

	focus = {
		id = GER_assassinate_mussolini_ww

		icon = GFX_focus_ger_assassinate_mussolini

		prerequisite = { focus = GER_prepare_italian_coup_ww }

		dynamic = yes

		available = {
			is_subject = no
			NOT = { has_war_with = ITA }
			ITA = { has_country_leader = { ruling_only = yes character = ITA_benito_mussolini } }
			NOT = {	ITA = {	has_completed_focus = ITA_banda_carita } }
			custom_trigger_tooltip = {
				tooltip = GER_italy_declined_assassination_tt
				NOT = {
					has_country_flag = GER_italy_declined_assassination_of_mussolini_flag
				}
			}
		}

		cancel_if_invalid = yes

		x = 0
		y = 1
		relative_position_id = GER_prepare_italian_coup_ww

		cost = 10

		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			ITA = {
				country_event = { 
					id = wtt_germany.11 
					hours = 4
				}
				add_ai_strategy = {
					type = befriend
					id = GER
					value = 100
				}
			}
			add_ai_strategy = {
				type = befriend
				id = ITA
				value = 100
			}
			effect_tooltip = {
				ITA = {
					set_politics = { ruling_party = neutrality elections_allowed = no }
					add_popularity = { ideology = neutrality popularity = 0.1 }
					effect_tooltip = {
						create_country_leader = {
							name = "Vittorio Emanuele III"
							desc = "POLITICS_VITTORIO_EMANUELE_III_DESC"
							picture = "GFX_portrait_italy_vittorio_emanuele_iii"
							expire = "1965.1.1"
							ideology = despotism
							traits = {
								the_soldier_king
							}
						}
					}
					swap_ideas = {
						remove_idea = GER_preparing_ITA_coup
						add_idea = GER_preparing_ITA_coup2
					}
					GER = {
						add_to_faction = ITA
						country_event = { id = wtt_germany.12 }
					}
				}
			}
		}
	}

	focus = {
		id = GER_conquer_italy
		icon = GFX_focus_attack_italy
		prerequisite = { focus = GER_the_second_berlin_award focus = GER_trade_agreements }
		mutually_exclusive = { focus = GER_align_italy focus = GER_prepare_italian_coup_ww }

		x = 0
		y = 1
		relative_position_id = GER_the_second_berlin_award
		cost = 10

		available = {
			is_subject = no
			NOT = {
				ITA = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}

		will_lead_to_war_with = ITA

		bypass = {
			ITA = {
				OR = {
					exists = no
					has_war_with = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_state_claim = 39
			add_state_claim = 850
			add_state_claim = 852
			add_state_claim = 736

			custom_effect_tooltip = generic_skip_one_line_tt 
			
			create_wargoal = {
				type = annex_everything
				target = ITA
				expire = 0
			}	

			mark_focus_tree_layout_dirty = yes

		}
	}

	focus = {
		id = GER_restore_the_holy_roman_empire
		icon = GFX_focus_POL_habsburg
		prerequisite = { focus = GER_conquer_italy focus = GER_prepare_italian_coup_ww }

		x = 0
		y = 2
		relative_position_id = GER_conquer_italy

		allow_branch = {
			has_dlc = "Gotterdammerung"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = GER_remilitarize_the_rhineland
				}
			}
			OR = {
				has_country_leader = { 
					ruling_only = yes 
					character = GER_victoria 
				}
				has_completed_focus = GER_conquer_italy
			}
		}

		cost = 10

		available = {
			is_subject = no
			64 = {
				is_fully_controlled_by = ROOT
			}
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }

		completion_reward = {

			unlock_decision_tooltip = {
				decision = form_hre
				show_effect_tooltip = no
			}	

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = GER_holy_roman_empire_of_the_german_nation_idea

			IF = {
				limit = {
					has_dlc = "Gotterdammerung"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_build_volkshalle_landmark_tt
				hidden_effect = {
					64 = {
						remove_building = {
						    type = landmark_berlin_reichstag
						    level = 1
						    province = 6521
						}
						add_building_construction = {
						    type = landmark_berlin_volkshalle
						    level = 1
						    instant_build = yes
						    province = 6521
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_align_italy
		icon = GFX_focus_befriend_italy
		prerequisite = { focus = GER_trade_agreements }
		mutually_exclusive = { focus = GER_conquer_italy focus = GER_prepare_italian_coup_ww }

		x = 0
		y = 1
		relative_position_id = GER_trade_agreements

		cost = 10

		available = {
			is_subject = no
			is_faction_leader = yes
			ITA = {
				exists = yes
				is_in_faction = no
				is_subject = no
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		bypass = {
			ITA = {
				OR = {
					exists = no
					is_ally_with = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			
			ITA = {
				country_event = {
					id = wuw_GER_realpolitik.1
					hours = 6
					random_hours = 6
				}		
			}

		}
	}

	focus = {
		id = GER_german_hegemony_in_the_middle_east

		icon = {
			trigger = {
				has_government = democratic
			}
			value = GFX_focus_GER_german_hegemony_in_the_middle_east_demcoratic
		}
		icon = {
			trigger = {
				NOT = {
					has_government = democratic
				}
			}
			value = GFX_focus_GER_german_hegemony_in_the_middle_east_neutrality
		} 

		prerequisite = { focus = GER_conquer_italy focus = GER_european_confederation focus = GER_align_italy focus = GER_prepare_italian_coup_ww }
		mutually_exclusive = { focus = GER_bring_turkey_into_the_fold }

		x = -1
		y = 1
		relative_position_id = GER_align_italy

		cost = 10

		available = {
			is_subject = no
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			IF = {
				limit = {
					has_government = neutrality
				}
				add_country_leader_trait = GER_sword_of_islam_trait
			}

			IF = {
				limit = {
					TUR = {
						exists = yes
						NOT = { is_ally_with = ROOT }
						NOT = { is_guaranteed_by = ROOT }
						NOT = { has_non_aggression_pact_with = ROOT }	
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = TUR
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			every_other_country = {
				limit = {
					any_controlled_state = {
						OR = {
							region = 129
							region = 28
							region = 232
							region = 237
							region = 196
							region = 236
							region = 238
							region = 240
							region = 116
							region = 239
							region = 241
						}
					}
					capital_scope = {
						NOT = {
							OR = {
								region = 129
								region = 28
								region = 232
								region = 237
								region = 196
								region = 236
								region = 238
								region = 240
								region = 116
								region = 239
								region = 241
							}
						}
					}
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }	
					NOT = {
						GER = {
							has_wargoal_against = PREV
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = liberate_wargoal
						target = PREV
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_sway_the_middle_east_decisions_tt

		}
	}

	focus = {
		id = GER_bring_turkey_into_the_fold
		
		prerequisite = { focus = GER_conquer_italy focus = GER_european_confederation focus = GER_align_italy focus = GER_prepare_italian_coup_ww }
		mutually_exclusive = { focus = GER_german_hegemony_in_the_middle_east }

		icon = {
			trigger = {
				has_government = neutrality
			}
			value = GFX_focus_TUR_pivot_to_the_past
		}
		icon = {
			trigger = {
				NOT = {
					has_government = neutrality
				}
			}
			value = GFX_focus_generic_befriend_turkey
		} 

		x = 1
		y = 1 
		relative_position_id = GER_align_italy

		cost = 5

		available = {
			is_subject = no
			is_faction_leader = yes
			NOT = { has_war_with = TUR }
			TUR = {
				is_subject = no
			}
		}

		dynamic = yes

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			TUR = {
				country_event = {
					id = wuw_GER_realpolitik.23
					hours = 6
					random_hours = 12
				}	
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				IF = {
					limit = {
						has_government = neutrality
					}
					TUR = {
						set_cosmetic_tag = OTT_UNIFIED
						add_ideas = GER_german_trade_ns
					}
				}

				add_to_faction = TUR

				custom_effect_tooltip = generic_skip_one_line_tt

				every_state = {
					limit = {
						OR = {
							state = 676
							state = 675
							state = 291
							state = 680
							state = 677
							state = 799
							state = 554
							state = 553
							state = 455
							state = 454
							state = 855
							state = 679
							state = 856
							state = 293
							state = 453
						}
						NOT = {
							is_claimed_by = TUR
						}
						controller = {
							NOT = { #Don't hurt our buddiess!
								is_ally_with = ROOT
								is_guaranteed_by = ROOT
								has_a_german_trade_idea = yes
							}
						}
					}
					add_claim_by = TUR
				}
			}
		}
	}
	
	focus = {
		id = GER_see_to_the_eastern_front_ww
		icon = GFX_focus_GER_the_eastern_border #GFX_focus_ger_bulwark_against_bolshevism 
		prerequisite = { focus = GER_realpolitik }
		mutually_exclusive = { focus = GER_restore_the_brest_litovsk_borders }
		x = -2
		y = 1
		relative_position_id = GER_realpolitik
		cost = 5

		available = {
			is_subject = no
			OR = {
				EST = {
					exists = yes
					is_subject = no
					NOT = {
						is_in_faction_with = SOV
						has_war_with = ROOT
					}
				}
				LAT = {
					exists = yes
					is_subject = no
					NOT = {
						is_in_faction_with = SOV
						has_war_with = ROOT
					}
				}
				LIT = {
					exists = yes
					is_subject = no
					NOT = {
						is_in_faction_with = SOV
						has_war_with = ROOT
					}
				}
				POL = {
					exists = yes
					is_subject = no
					NOT = {
						is_in_faction_with = SOV
						has_war_with = ROOT
					}
				}
			}
		}

		dynamic = yes

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_political_power = 75
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			every_country = {
				limit = {
					exists = yes
					NOT = {
						has_war_with = ROOT
						is_subject_of = SOV
						is_in_faction_with = SOV
					}
					OR = {
						original_tag = POL
						original_tag = EST
						original_tag = LAT
						original_tag = LIT
						original_tag = UBD
						original_tag = BLR
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = guardian_against_the_eastern_threat
				}	
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_named_threat = { threat = 2 name = GER_the_eastern_threat }
			SOV = { country_event = { id = wtt_germany.19 days = 4 } }

			custom_effect_tooltip = generic_skip_one_line_tt

			hidden_effect = { news_event = { id = wtt_news.21 days = 2 } }
			IF = {
				limit = {
					SOV = {
						has_government = communism
					}
					ROOT = {
						has_government = democratic
					}
				}
				every_other_country = {
					limit = {
						any_owned_state = { is_on_continent = europe }
						NOT = {
							original_tag = ENG
							original_tag = FRA
							original_tag = SWI
							original_tag = ITA
							original_tag = IRE
							original_tag = TUR
							original_tag = ALB
							original_tag = SPR
							original_tag = POR
							original_tag = GRE
							has_government = communism
							has_government = fascism
						}
					}
					country_event = { 
						id = wtt_germany.24 
						days = 1
					}
					custom_effect_tooltip = if_they_accept_tt
					effect_tooltip = {
						add_timed_idea = { idea = GER_the_great_red_menace days = 1095 }
					}
					
					add_ai_strategy = {
						type = befriend
						id = "GER"			
						value = 200
					}
					add_ai_strategy = {
						type = befriend
						id = "ENG"			
						value = -100
					}

				}
			}
			hidden_effect = {
				SOV = { 
					add_opinion_modifier = { target = GER modifier = embargo } 
				}
			}
			
		}

	}

	focus = {
		id = GER_safeguard_the_baltic_ww
		icon = GFX_focus_generic_baltic_entente
		prerequisite = { focus = GER_see_to_the_eastern_front_ww }
		mutually_exclusive = { focus = GER_tributes_for_guarantees }
		x = 3
		y = 1
		relative_position_id = GER_see_to_the_eastern_front_ww
		cost = 5
		available = {
			is_subject = no
			OR = {
				EST = {
					has_war = no
					is_subject = no
					NOT = { is_in_faction_with = SOV }
				}
				LAT = {
					has_war = no
					is_subject = no
					NOT = { is_in_faction_with = SOV }
				}
				LIT = {
					has_war = no
					is_subject = no
					NOT = { is_in_faction_with = SOV }
				}
			}
		}
		bypass = {
			OR = {
				EST = {
					OR = {
						exists = no
						is_guaranteed_by = ROOT
						is_in_faction_with = ROOT
						is_subject = yes
						has_war = yes
						is_in_faction_with = SOV
					}
				}
			}
			OR = {
				LAT = {
					OR = {
						exists = no
						is_guaranteed_by = ROOT
						is_in_faction_with = ROOT
						is_subject = yes
						has_war = yes
						is_in_faction_with = SOV
					}
				}
			}
			OR = {
				LIT = {
					OR = {
						exists = no
						is_guaranteed_by = ROOT
						is_in_faction_with = ROOT
						is_subject = yes
						has_war = yes
						is_in_faction_with = SOV
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			
			add_political_power = 75
			add_war_support = 0.03

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = { 
					country_exists = EST
					EST = { 
						has_war = no
						is_subject = no
					}
				}
				EST = {
					if = {
						limit = {
							SOU = {
								OR = {
									has_government = communism
									has_government = fascism
								}
							}
						}
						add_timed_idea = {
							idea = GER_safeguard_the_baltic_ww
							days = 720
						}
					}
					add_ai_strategy = {
						type = befriend
						id = "GER"			
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}
				}
				give_guarantee = EST
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			if = {
				limit = { 
					country_exists = LAT
					LAT = { 
						has_war = no
						is_subject = no
					}
				}
				LAT = {
					if = {
						limit = {
							SOU = {
								OR = {
									has_government = communism
									has_government = fascism
								}
							}
						}
						add_timed_idea = {
							idea = GER_safeguard_the_baltic_ww
							days = 720
						}
					}
					add_ai_strategy = {
						type = befriend
						id = "GER"			
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}
				}
				give_guarantee = LAT
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			if = {
				limit = { 
					country_exists = LIT
					LIT = { 
						has_war = no
						is_subject = no
					}
				}
				LIT = {
					if = {
						limit = {
							SOU = {
								OR = {
									has_government = communism
									has_government = fascism
								}
							}
						}
						add_timed_idea = {
							idea = GER_safeguard_the_baltic_ww
							days = 720
						}
					}
					add_ai_strategy = {
						type = befriend
						id = "GER"			
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}
				}
				give_guarantee = LIT
				custom_effect_tooltip = generic_skip_one_line_tt
			}
		}
	}

	focus = {
		id = GER_tributes_for_guarantees
		icon = GFX_focus_SOV_baltic_security
		prerequisite = { focus = GER_see_to_the_eastern_front_ww }
		mutually_exclusive = { focus = GER_safeguard_the_baltic_ww }
		x = 1
		y = 1
		relative_position_id = GER_see_to_the_eastern_front_ww
		cost = 10

		available = {
			is_subject = no
			OR = {
				EST = {
					has_war = no
					has_civil_war = no
					is_subject = no
					NOT = { is_in_faction_with = SOV }
				}
				LAT = {
					has_war = no
					has_civil_war = no
					is_subject = no
					NOT = { is_in_faction_with = SOV }
				}
				LIT = {
					has_war = no
					is_subject = no
					NOT = { is_in_faction_with = SOV }
				}
			}
		}
		bypass = {
			EST = {
				OR = {
					exists = no
					is_guaranteed_by = ROOT
					is_in_faction_with = ROOT
					is_subject = yes
					has_war = yes
					has_civil_war = yes
					is_in_faction_with = SOV
				}
			}
			LAT = {
				OR = {
					exists = no
					is_guaranteed_by = ROOT
					is_in_faction_with = ROOT
					is_subject = yes
					has_war = yes
					has_civil_war = yes
					is_in_faction_with = SOV
				}
			}
			LAT = {
				OR = {
					exists = no
					is_guaranteed_by = ROOT
					is_in_faction_with = ROOT
					is_subject = yes
					has_war = yes
					has_civil_war = yes
					is_in_faction_with = SOV
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_war_support = 0.03
			
			every_country = {
				limit = {
					OR = {
						original_tag = LIT
						original_tag = LAT
						original_tag = EST
					}
					NOT = {
						OR = {
							has_war_with = ROOT
							is_in_faction_with = SOV
						}
					}
					is_subject = no
					exists = yes
				}
				country_event = {
					id = wuw_GER_diplomacy.64
					hours = 6
					random_hours = 12
				}	

				custom_effect_tooltip = generic_skip_one_line_tt
				
				effect_tooltip = {
					custom_effect_tooltip = tributes_from_lithuania_tt
					IF = {
						limit = {
							LIT = {
								owns_state = 188
							}
						}
						188 = {
							transfer_state_to = ROOT
							add_core_of = ROOT
						}
					}
					ELSE = {
						LIT = {
							add_ideas = GER_paying_tributes_to_germany_idea
						}
					}
					LIT = {	add_ideas = anti_soviet_pact }
					give_guarantee = LIT

					ROOT = {
						GER_lower_CGFF_small = yes
					}

					custom_effect_tooltip = generic_skip_one_line_tt

					custom_effect_tooltip = tributes_from_latvia_or_estonia_tt
					every_country = {
						limit = {
							OR = {
								original_tag = EST
								original_tag = LAT
							}
						}
						add_ideas = GER_paying_tributes_to_germany_idea
						add_ideas = anti_soviet_pact
					}

					custom_effect_tooltip = generic_skip_one_line_tt

					custom_effect_tooltip = we_will_gain_tt
					give_guarantee = EST
					give_guarantee = LAT

					ROOT = {
						GER_lower_CGFF_big = yes
					}

					custom_effect_tooltip = generic_skip_one_line_tt

					add_timed_idea = {
						idea = GER_recieving_payments_for_protection_fake_idea
						days = 180
					}	
					custom_effect_tooltip = GER_will_also_recieve_trade_and_civs_tt

					IF = {
						limit = {
							ROOT = {
								NOT = {
									has_idea = anti_soviet_pact
								}
							}
						}
						custom_effect_tooltip = generic_skip_one_line_tt
						ROOT = {
							add_ideas = anti_soviet_pact 
						}
					}
					
				}
			}
		}
	}

	focus = {
		id = GER_danzig_for_guarantees_ww
		icon = GFX_focus_generic_polish_deal

		prerequisite = { focus = GER_see_to_the_eastern_front_ww }

		mutually_exclusive = { focus = GER_safeguard_poland }

		x = -1
		y = 1
		relative_position_id = GER_see_to_the_eastern_front_ww

		cost = 10

		available = {
			is_subject = no
			NOT = { is_in_faction_with = POL }
			POL = { 
				has_war = no
				has_civil_war = no
				is_subject = no
				NOT = {
					is_in_faction_with = SOV
				}
			}
		}

		bypass = {
			OR = {
				POL = {
					OR = {
						exists = no
						is_guaranteed_by = ROOT
						is_in_faction_with = ROOT
						is_subject = yes
						has_war = yes
						is_in_faction_with = SOV
					}
				}
				AND = {
					owns_state = 85
					owns_state = 86
					owns_state = 762
					owns_state = 807
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_war_support = 0.03

			POL = { country_event = { id = wtt_germany.14 } }
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				transfer_state = 85  
				transfer_state = 807 
				transfer_state = 86 
				transfer_state = 762
				
				ROOT = {
					add_ideas = anti_soviet_pact 
				}
				give_guarantee = POL

				custom_effect_tooltip = generic_skip_one_line_tt

				GER_lower_CGFF_big = yes

				custom_effect_tooltip = generic_skip_one_line_tt
				POL = {
					add_ideas = anti_soviet_pact
					add_opinion_modifier = { target = GER modifier = danzig_for_guarantees }
				}
			}

		}
	}

	focus = {
		id = GER_safeguard_poland
		icon = GFX_goal_generic_defence
		prerequisite = { focus = GER_see_to_the_eastern_front_ww }
		mutually_exclusive = { focus = GER_danzig_for_guarantees_ww }
		x = -3
		y = 1
		relative_position_id = GER_see_to_the_eastern_front_ww
		cost = 5
		available = {
			is_subject = no
			NOT = { is_in_faction_with = POL }
			POL = { 
				has_war = no
				has_civil_war = no
			}
		}

		bypass = {
			OR = {
				POL = {
					OR = {
						exists = no
						is_guaranteed_by = ROOT
						is_in_faction_with = ROOT
						is_subject = yes
						has_war = yes
						is_in_faction_with = SOV
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_political_power = 50
			add_war_support = 0.02

			custom_effect_tooltip = generic_skip_one_line_tt

			POL = {	
				add_timed_idea = {
					idea = GER_safeguard_poland_idea
					days = 720
				}
				add_ai_strategy = {
					type = befriend
					id = "GER"
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "GER"
					value = 200
				}
			}
			give_guarantee = POL

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_safeguard_poland_tt

		}
	}

	focus = {
		id = GER_build_the_eastern_bulwark
		icon = GFX_focus_SWE_hedgehog_defense
		prerequisite = { focus = GER_safeguard_the_baltic_ww focus = GER_tributes_for_guarantees focus = GER_danzig_for_guarantees_ww focus = GER_safeguard_poland }

		x = 1
		y = 1
		relative_position_id = GER_safeguard_poland
		cost = 5
		available = {
			any_other_country = {
				OR = {
					is_guaranteed_by = ROOT
					is_in_faction_with = ROOT
				}
				is_neighbor_of = SOV
			}
		}

		dynamic = yes

		search_filters = {}

		completion_reward = {

			custom_effect_tooltip = GER_build_the_eastern_bulwark_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							is_owned_and_controlled_by = ROOT
							any_country = {
								is_guaranteed_by = ROOT
								owns_state = PREV
								controls_state = PREV
							}
							any_country = {
								is_in_faction_with = ROOT
								owns_state = PREV
								controls_state = PREV
							}
							any_country = {
								is_subject_of = ROOT
								owns_state = PREV
								controls_state = PREV
							}
						}
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province =  {
							all_provinces = yes
							limit_to_border = yes
							limit_to_border_country = SOV
							level < 3
						}
					}	
				}
			}

			custom_effect_tooltip =  generic_skip_one_line_tt
			
			IF = {
				limit = {
					has_war_with = SOV
				}
				add_timed_idea = {
					idea = GER_the_eastern_bulwark_ns
					days = 365
				}
				set_global_flag = GER_eastern_bulwark_already_triggered_flag
			}
			ELSE = {
				custom_effect_tooltip = GER_build_the_eastern_bulwark_ns_tt
				effect_tooltip = {
					add_timed_idea = {
						idea = GER_the_eastern_bulwark_ns
						days = 365
					}	
				}
			}

		}
	}

	focus = {
		id = GER_liberate_oppressed_people
		icon = GFX_focus_SWE_refuge_from_war
		prerequisite = { focus = GER_safeguard_the_baltic_ww focus = GER_tributes_for_guarantees focus = GER_danzig_for_guarantees_ww focus = GER_safeguard_poland }

		dynamic = yes

		x = 3 
		y = 1
		relative_position_id = GER_safeguard_poland
		cost = 5
		available = {
			is_subject = no
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_liberate_oppressed_people_tt
			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					AND = {
						218 = {
							NOT = {
								is_core_of = DON
							}
						}
						245 = {
							NOT = {
								is_core_of = DON
							}
						}
						238 = {
							NOT = {
								is_core_of = DON
							}
						}
					}
				}
				custom_effect_tooltip = GER_liberate_oppressed_people_cossacks_tt
				DON = {
					add_state_core = 218
					add_state_core = 245
					add_state_core = 238
				}
			}
			IF = {
				limit = {
					AND = {
						234 = {
							NOT = {
								is_core_of = KUB
							}
						}
						233 = {
							NOT = {
								is_core_of = KUB
							}
						}
						235 = {
							NOT = {
								is_core_of = KUB
							}
						}
					}
				}
				KUB = {
					add_state_core = 234
					add_state_core = 233
					add_state_core = 235
				}
			}

		}
	}

	focus = {
		id = GER_offer_military_production_support
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = GER_safeguard_the_baltic_ww focus = GER_tributes_for_guarantees focus = GER_danzig_for_guarantees_ww focus = GER_safeguard_poland }

		x = 5
		y = 1
		relative_position_id = GER_safeguard_poland
		cost = 5
		
		available = {
			any_country = {
				OR = {
					original_tag = LIT
					original_tag = LAT
					original_tag = POL
					original_tag = EST
					original_tag = UBD
					original_tag = BLR
					original_tag = KSH
					original_tag = SIL
					original_tag = UKR
				}
				OR = {
					is_guaranteed_by = ROOT
					is_in_faction_with = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			
			add_timed_idea = {
				idea = GER_invesments_into_minor_partners_cost
				days = 180
			}	

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						any_country = {
							OR = {
								original_tag = LIT
								original_tag = LAT
								original_tag = POL
								original_tag = EST
								original_tag = UBD
								original_tag = BLR
								original_tag = KSH
								original_tag = SIL
								original_tag = UKR
							}
							OR = {
								is_guaranteed_by = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				custom_effect_tooltip = GER_offer_military_production_support_tt
				show_ideas_tooltip = GER_FIN_industrial_support
			}

			every_country = {
				limit = {
					OR = {
						original_tag = LIT
						original_tag = LAT
						original_tag = POL
						original_tag = EST
						original_tag = UBD
						original_tag = BLR
						original_tag = KSH
						original_tag = SIL
						original_tag = UKR
					}
					exists = yes
					OR = {
						is_guaranteed_by = ROOT
						is_in_faction_with = ROOT
					}
				}
				add_timed_idea = {
					idea = GER_FIN_industrial_support
					days = 730
				}	
			}

		}
	}

	focus = {
		id = GER_ally_white_russian_forces
		icon = GFX_focus_SOV_the_true_tsars
		prerequisite = { focus = GER_offer_military_production_support focus = GER_liberate_oppressed_people focus = GER_build_the_eastern_bulwark }

		x = 2
		y = 2
		relative_position_id = GER_liberate_oppressed_people
		cost = 10
		available = {
			SOV = {
				has_government = communism
				has_civil_war = no
			}
		}

		bypass = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_MANPOWER }

		completion_reward = {

			IF = {
				limit = {
					SOV = {
						has_government = communism
						has_civil_war = no
					}
					DON = {
						exists = no
					}
					KUB = {
						exists = no
					}
				}
				custom_effect_tooltip = GER_andrey_shckuro_and_pyotr_krasnov_join_tt
				hidden_effect = {
					every_possible_country = {
						limit = {
							has_character = SOV_andrey_shkuro
						}
						SOV_andrey_shkuro = {
							clr_character_flag = SOV_exiled_flag
							clr_character_flag = SOV_exiled_army_leader
						}
						set_nationality = {
						    target_country = ROOT
						    character = SOV_andrey_shkuro
						}
					}
					every_possible_country = {
						limit = {
							has_character = SOV_pyotr_krasnov
						}
						SOV_pyotr_krasnov = {
							clr_character_flag = SOV_exiled_flag
							clr_character_flag = SOV_exiled_army_leader
						}
						set_nationality = {
						    target_country = ROOT
						    character = SOV_pyotr_krasnov
						}
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_manpower = 15000
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}	

			custom_effect_tooltip = GER_white_russian_exiles_divisions_recruitment_tt

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Kosaken-Kavallerie-Division"
					disband = yes #if yes, will refund equipment/manpower.
				}
				delete_unit_template_and_units = {
					division_template = "Russische Befreiungsarmee"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Kosaken-Kavallerie-Division"	
					division_names_group = GER_CAV_01
					template_counter = 106 # The Cossack Regiment Symbol 
					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 0 y = 2 }
						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
						cavalry = { x = 1 y = 2 }
					}
					support = {
						recon = { x = 0 y = 0 }  
						artillery = { x = 0 y = 1 }  
					}
				}

				division_template = {
					name = "Russische Befreiungsarmee"	
					division_names_group = GER_INF_01
					template_counter = 49 # The Griffin 
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 1 y = 3 }
						artillery_brigade = { x = 2 y = 0 }
						artillery_brigade = { x = 2 y = 1 }
					}
					support = {
						engineer = { x = 0 y = 0 }  
						artillery = { x = 0 y = 1 }  
						anti_tank = { x = 0 y = 2 }  
					}
				}

				random_state = { 
					limit = {
						is_fully_controlled_by = ROOT
						is_owned_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Kosaken-Kavallerie-Division 'Don-Wolga'\" division_template = \"Kosaken-Kavallerie-Division\" start_experience_factor = 0.3 start_equipment_factor = 0.7"
					    owner = ROOT
					}
					create_unit = {
					    division = "name = \"Kosaken-Kavallerie-Division 'Kuban'\" division_template = \"Kosaken-Kavallerie-Division\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
					    owner = ROOT
					}
				}
				random_state = { 
					limit = {
						is_fully_controlled_by = ROOT
						is_owned_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Russische Befreiungsarmee 'Moskau'\" division_template = \"Russische Befreiungsarmee\" start_experience_factor = 0.3 start_equipment_factor = 0.9"
					    owner = ROOT
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			add_ideas = GER_white_russian_advisors
		}
	}

	focus = {
		id = GER_hold_joint_military_drills
		icon = GFX_focus_SWE_varnplikt
		prerequisite = { focus = GER_offer_military_production_support focus = GER_liberate_oppressed_people focus = GER_build_the_eastern_bulwark }

		dynamic = yes

		x = 0
		y = 3
		relative_position_id = GER_liberate_oppressed_people
		cost = 10

		available = {
			any_other_country = {
				OR = {
					is_guaranteed_by = ROOT
					is_in_faction_with = ROOT
				}
			}
		}

		bypass = {
			
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_AIR_XP FOCUS_FILTER_ARMY_XP FOCUS_FILTER_NAVY_XP }

		completion_reward = {

			custom_effect_tooltip = GER_hold_joint_military_drills_tt
			every_country = {
				limit = {
					exists = yes
					OR = {
						is_in_faction_with = ROOT
						is_guaranteed_by = ROOT
						is_subject_of = ROOT
						original_tag = ROOT
					}
					OR = {
						original_tag = POL
						original_tag = LIT
						original_tag = LAT
						original_tag = EST
						original_tag = BLR
						original_tag = UKR
						original_tag = CZE
						original_tag = SLO
						original_tag = MOL
						original_tag = ROM
						original_tag = HUN
						original_tag = TRA
						original_tag = CRI
						original_tag = GEO
						original_tag = ARM
						original_tag = AZR
						original_tag = VGE
						original_tag = KAL
						original_tag = DAG
						original_tag = CIN
						original_tag = NOA
						original_tag = KBK
						original_tag = ABK
						original_tag = BUL
						original_tag = SIL
						original_tag = KSH
						original_tag = KAR
						original_tag = FIN
						original_tag = TUR
						original_tag = CHU
						original_tag = MEL
						original_tag = TAT
						original_tag = UDM
						original_tag = BSK
						original_tag = UBD
						original_tag = NEN
						original_tag = KOM
						original_tag = SMI
						tag = ROOT
					}
				}
				add_timed_idea = {
					idea = GER_joint_military_drills_idea
					days = 90
				}	
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_completed_focus = GER_safeguard_poland
					POL = {
						OR = {
							is_in_faction_with = ROOT
							is_guaranteed_by = ROOT
						}
					}
				}
				army_experience = 25
				air_experience = 15
			}

		}
	}

	focus = {
		id = GER_extend_mitteleuropas_bounderies
		icon = GFX_focus_GER_extend_mitteleuropa

		prerequisite = { focus = GER_establish_a_customs_union }
		prerequisite = { focus = GER_offer_military_production_support focus = GER_liberate_oppressed_people focus = GER_build_the_eastern_bulwark }

		x = 2
		y = 1
		relative_position_id = GER_establish_a_customs_union

		cost = 5

		available = {
			any_country = {
				OR = {
					original_tag = FIN
					original_tag = LIT
					original_tag = LAT
					original_tag = POL
					original_tag = EST
					original_tag = UBD
					original_tag = BLR
					original_tag = KSH
					original_tag = SIL
					original_tag = UKR
					original_tag = KAR
				}
				is_guaranteed_by = ROOT
				is_in_faction = no
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			custom_effect_tooltip = GER_extend_mitteleuropas_bounderies_tt
			every_country = {
				limit = {
					OR = {
						original_tag = FIN
						original_tag = LIT
						original_tag = LAT
						original_tag = POL
						original_tag = EST
						original_tag = UBD
						original_tag = BLR
						original_tag = KSH
						original_tag = SIL
						original_tag = UKR
						original_tag = KAR
					}
					is_guaranteed_by = ROOT
					is_in_faction = no
				}
				country_event = {
					id = wuw_GER_realpolitik.1
					hours = 6
					random_hours = 6
				}
			}

		}

	}

	focus = {
		id = GER_reach_out_to_scandinavia
		icon = GFX_focus_generic_scandinavia_flags

		prerequisite = { focus = GER_extend_mitteleuropas_bounderies }

		available = {
			is_subject = no
			is_faction_leader = yes
			OR = {
				NOR = {
					is_subject = no
					is_in_faction = no
					NOT = {
						has_war_with = ROOT
						OR = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				SWE = {
					is_subject = no
					is_in_faction = no
					NOT = {
						has_war_with = ROOT
						OR = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				DEN = {
					is_subject = no
					is_in_faction = no
					NOT = {
						has_war_with = ROOT
						OR = {
							has_government = communism
							has_government = fascism
						}
					}
				}
			}
		}
		bypass = {
			
		}

		cancel_if_invalid = yes

		x = 0
		y = 2
		relative_position_id = GER_extend_mitteleuropas_bounderies

		cost = 10

		search_filters = { FOCUS_FILTER_POLITICAL }

		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					NOR = {
						is_in_faction = no
						NOT = {
							has_war_with = ROOT
							OR = {
								has_government = communism
								has_government = fascism
							}
						}
						is_subject = no
					}
				}
				add_ai_strategy = {
					type = befriend
					id = NOR
					value = 50
				}
				NOR = {
					country_event = { 
						id = wuw_GER_realpolitik.1 
						hours = 12
					}
				}
			}
			if = {
				limit = {
					SWE = {
						is_in_faction = no
						NOT = {
							has_war_with = ROOT
							OR = {
								has_government = communism
								has_government = fascism
							}
						}
						is_subject = no
					}
				}
				add_ai_strategy = {
					type = befriend
					id = SWE
					value = 50
				}
				SWE = {
					country_event = { 
						id = wuw_GER_realpolitik.1 
						hours = 12
					}
				}
			}
			if = {
				limit = {
					DEN = {
						is_in_faction = no
						NOT = {
							has_war_with = ROOT
							OR = {
								has_government = communism
								has_government = fascism
							}
						}
						is_subject = no
					}
				}
				add_ai_strategy = {
					type = befriend
					id = DEN
					value = 50
				}
				DEN = {
					country_event = { 
						id = wuw_GER_realpolitik.1 
						hours = 12
					}
				}
			}
		}
	}

	focus = {
		id = GER_support_the_finns_ww

		icon = GFX_focus_invite_finland

		prerequisite = { focus = GER_safeguard_the_baltic_ww focus = GER_tributes_for_guarantees focus = GER_memel_ultimatum }

		dynamic = yes

		x = 1
		y = 2
		relative_position_id = GER_safeguard_the_baltic_ww

		cost = 5

		available = {
			is_subject = no
			NOT = { has_war_with = FIN }
			FIN = {
				NOT = { has_government = communism }
				OR = {
					is_subject = no
					is_ally_with = GER
					is_in_faction = no
				}
			}
		}

		bypass = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			if = {
				limit = {
					FIN = {
						has_war = no
						NOT = { 
							OR = {
								is_in_faction_with = ROOT
								is_guaranteed_by = ROOT
							}
						}
						is_subject = no
					}
				}
				diplomatic_relation = {
					country = FIN
					relation = guarantee
					active = yes
				}
			}

			add_ai_strategy = {
				type = support
				id = FIN			
				value = 200
			}

			add_ai_strategy = {
				type = befriend
				id = FIN
				value = 50
			}

			IF = {
				limit = {
					SOV = {
						has_government = communism
					}
				}
				FIN = {	
					add_timed_idea = {
						idea = GER_safeguard_finland_idea
						days = 730
					}
					
				}
			}
			add_timed_idea = {
				idea = GER_FIN_industrial_support
				days = 730
			}
			add_ai_strategy = {
				type = befriend
				id = "GER"			
				value = 200
			}
			add_ai_strategy = {
				type = alliance
				id = "GER"			
				value = 200
			}
		}
	}

	focus = {
		id = GER_restore_the_brest_litovsk_borders
		icon = GFX_focus_GER_brest_litovsk_borders
		prerequisite = { focus = GER_realpolitik }
		mutually_exclusive = { focus = GER_see_to_the_eastern_front_ww }
		x = 4
		y = 1
		relative_position_id = GER_realpolitik
		cost = 5
		available = {
			is_subject = no
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_threat = 2

			custom_effect_tooltip = generic_skip_one_line_tt

			add_political_power = 50
			add_war_support = 0.05
			add_popularity = {
				ideology = ROOT
				popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			every_country = {
				limit = {
					OR = {
						original_tag = EST
						original_tag = LAT
						original_tag = LIT
						original_tag = POL
					
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = existential_threat
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_country = {
				limit = {
					original_tag = SOV
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_seeks_to_restore_brest_litovsk_worse
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_country = {
				limit = {
					NOT = { is_ally_with = ROOT }
					OR = {	
						original_tag = ENG
						original_tag = FRA
						original_tag = ROM
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_seeks_to_restore_brest_litovsk
				}
			}
		}
	}

	focus = {
		id = GER_memel_ultimatum
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = GER_restore_the_brest_litovsk_borders }

		x = -1
		y = 1
		relative_position_id = GER_restore_the_brest_litovsk_borders

		cost = 5

		available = {
			is_subject = no
			has_army_manpower = { size > 599999 }
			NOT = {
				188 = {
					is_controlled_by = ROOT
					OWNER = {
						is_ally_with = ROOT
					}
					controller = {
						is_ally_with = ROOT
					}
				}
			}
		}

		bypass = {
			188 = {
				is_controlled_by = ROOT
				OWNER = {
					is_ally_with = ROOT
				}
				controller = {
					is_ally_with = ROOT
				}
			}
		}

		will_lead_to_war_with = LIT

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_named_threat = { threat = 2 name = GER_demand_memel_threat }

			188 = { #Memel
				add_claim_by = GER
				controller = {
					country_event = { 
						id = baltic.4 
						days = 1
						random_days = 3
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_demand_lithuanian_integration
		icon = GFX_focus_generic_subjugation
		prerequisite = { focus = GER_memel_ultimatum }

		x = 0
		y = 1
		relative_position_id = GER_memel_ultimatum

		cost = 10

		available = {
			is_subject = no
			has_army_manpower = { size > 799999 }
			LIT = {
				exists = yes
				has_civil_war = no
				is_subject = no
				NOT = { has_war_with = ROOT }
			}
		}

		bypass = {
			LIT = {
				OR = {
					exists = no
					is_subject = yes
					has_war_with = ROOT
				}
			}
		}

		will_lead_to_war_with = LIT

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_named_threat = { threat = 5 name = GER_demand_lithuanian_integration }
			country_event = {
				id = wuw_GER_realpolitik.5
			}	
			custom_effect_tooltip = one_of_the_options_tt
			event_option_tooltip = wuw_GER_realpolitik.5.a
			custom_effect_tooltip = one_of_the_options_tt
			event_option_tooltip = wuw_GER_realpolitik.5.b

			if = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
						has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }	
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = if_they_accept_tt
				custom_effect_tooltip = lithuania_mefo_bills_tt
			}
		}
	}

	focus = {
		id = GER_restore_eastern_imperial_possessions
		icon = GFX_focus_GER_restore_eastern_imperial_possessions
		prerequisite = { focus = GER_restore_the_brest_litovsk_borders }

		x = 1
		y = 1
		relative_position_id = GER_restore_the_brest_litovsk_borders
		cost = 10
		available = {
			is_subject = no
			has_army_manpower = { size > 849999 }
			NOT = {
				is_in_faction_with = POL
				has_war_with = POL
			}
			POL = {
				is_subject = no
				exists = yes
				OR = {
					owns_state = 85 #Danzig
					owns_state = 807 #Gdnyia
					owns_state = 86 #Poznan
					owns_state = 762 #Katovice
				}
			}
		}

		bypass = {
			OR = {
				has_war_with = POL
				is_in_faction_with = POL
				POL = { is_subject = yes }
			}
		}

		will_lead_to_war_with = POL

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			# Claims
			85 = { add_claim_by = GER } #Danzig
			807 = { add_claim_by = GER } #Gdnyia
			86 = { add_claim_by = GER } #Poznan
			762 = { add_claim_by = GER } #Katovice

			custom_effect_tooltip = generic_skip_one_line_tt

			add_named_threat = { threat = 5 name = GER_restore_eastern_imperial_possessions }

			if = {
				limit = {
					any_state = {
						OR = {
							state = 85 #Danzig
							state = 807 #Gdnyia
							state = 86 #Poznan
							state = 762 #Katovice
						}
						is_fully_controlled_by = POL
					}
				}
				POL = {
					country_event = {
						id = wuw_GER_realpolitik.17
						hours = 12
						random_hours = 24
					}
				}	
				custom_effect_tooltip = if_they_accept_tt 
				effect_tooltip = {

					GER_poland_modify_mefo_bills_or_economy_of_conquest = yes

					custom_effect_tooltip = generic_skip_one_line_tt

					POL =  {
						every_controlled_state = {
							limit = {
								OR = {
									state = 85 #Danzig
									state = 807 #Gdnyia
									state = 86 #Poznan
									state = 762 #Katovice
								}
							}
							display_individual_scopes = yes
							ROOT = {
								transfer_state = PREV
								add_state_core = PREV
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_demand_further_polish_concessions
		icon = GFX_focus_GER_further_demands_for_polish_territory
		prerequisite = { focus = GER_restore_eastern_imperial_possessions }

		x = 0
		y = 1
		relative_position_id = GER_restore_eastern_imperial_possessions
		cost = 10

		available = {
			is_subject = no
			has_army_manpower = { size > 849999 }
			NOT = {
				is_in_faction_with = POL
				has_war_with = POL
			}
			POL = {
				is_subject = no
				exists = yes
				OR = {
					owns_state = 87
					owns_state = 98
					owns_state = 97
				}
			}
		}

		bypass = {
			OR = {
				has_war_with = POL
				is_in_faction_with = POL
				POL = { is_subject = yes }
				has_country_flag = GER_kaiserreich_decided_not_to_attack_poland
			}
		}

		will_lead_to_war_with = POL

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			# Claims
			87 = { add_claim_by = GER } #Lodz
			98 = { add_claim_by = GER } #Plock
			97 = { add_claim_by = GER } #Byalistock

			custom_effect_tooltip = generic_skip_one_line_tt

			add_named_threat = { threat = 5 name = GER_demand_further_polish_concessions }

			
			if = {
				limit = {
					any_state = {
						OR = {
							state = 87 #Lodz
							state = 98 #Plock
							state = 97 #Byalistock
						}
						is_fully_controlled_by = POL
					}
				}
				POL = {
					country_event = {
						id = wuw_GER_realpolitik.20
						hours = 12
						random_hours = 24
					}
				}	
			}
			custom_effect_tooltip = if_they_accept_tt 
			effect_tooltip = {
				GER_poland_modify_mefo_bills_or_economy_of_conquest = yes
				POL = {
					every_controlled_state = {
						limit = {
							OR = {
								state = 87 #Lodz
								state = 98 #Plock
								state = 97 #Byalistock
							}
						}
						display_individual_scopes = yes
						ROOT = {
							transfer_state = PREV
							add_state_core = PREV
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_incorporate_the_polish_rump_state
		icon = GFX_focus_generic_attack_poland
		prerequisite = { focus = GER_demand_further_polish_concessions }
		prerequisite = { focus = GER_establish_eastern_grand_duchies }

		x = 1
		y = 2
		relative_position_id = GER_demand_further_polish_concessions
		cost = 10

		available = {
			is_subject = no
			POL = {
				exists = yes
				OR = {
					is_subject_of = ROOT
					NOT = { is_in_faction_with = ROOT }
				}
			}
		}

		will_lead_to_war_with = POL

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			IF = {
				limit = {
					POL = {
						is_subject_of = ROOT
					}
				}
				POL = {
					country_event = {
						id = wuw_GER_realpolitik.16
						hours = 2
					}	
				}
				custom_effect_tooltip = if_they_accept_tt
				ROOT = {
					annex_country = {
						target = POL
						transfer_troops = yes
					}
				}
				GER_lower_CGFF_small = yes
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			ELSE = {
				create_wargoal = {
					type = annex_everything
					target = POL
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			IF = {
				limit = {
					any_country = {
						NOT = {
							original_tag = ROOT
							original_tag = POL
							is_ally_with = ROOT
						}
						OR = {
							controls_state = 10
							controls_state = 90
							controls_state = 92
							controls_state = 88
							controls_state = 97
							controls_state = 94
							controls_state = 95
						}
					}
				}
				every_other_country = {
					limit = {
						NOT = {
							original_tag = POL
							is_ally_with = ROOT
						}
						OR = {
							controls_state = 10
							controls_state = 90
							controls_state = 92
							controls_state = 88
							controls_state = 97
							controls_state = 94
							controls_state = 95
						}
					}
					ROOT = {
						create_wargoal = {
							type = take_state_focus
							target = PREV
						}	
					}
				}
			}
		}
	}

	focus = {
		id = GER_establish_eastern_grand_duchies
		icon = GFX_focus_GER_eastern_grand_duchies
		prerequisite = { focus = GER_demand_further_polish_concessions focus = GER_demand_lithuanian_integration }

		x = 1
		y = 1
		relative_position_id = GER_demand_lithuanian_integration
		cost = 5
		available = {
			is_subject = no
		}

		dynamic = yes

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER } 

		completion_reward = {

			IF = {
				limit = {
					GEO = {
						exists = no
					}
				}
				country_event = {
					id = wuw_GER_legions.1
					hours = 0
				}	
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			unlock_decision_tooltip = GER_found_a_baltic_german_state_decision
			unlock_decision_tooltip = GER_restore_the_ukrainian_state_decision
			unlock_decision_tooltip = GER_establish_a_belarusian_state_decision
			unlock_decision_tooltip = GER_found_a_transcacuasian_satellite_state_decision
		}
	}
	
	focus = {
		id = GER_subduing_the_baltic_states
		icon = GFX_focus_GER_subduing_the_baltic_states
		prerequisite = { focus = GER_establish_eastern_grand_duchies }

		x = 0
		y = 2
		relative_position_id = GER_establish_eastern_grand_duchies

		cost = 10

		available = {
			is_subject = no
			OR = {
				NOT = {
					EST = {
						is_in_faction_with = ROOT
					}
				}
				NOT = {
					LAT = {
						is_in_faction_with = ROOT
					}
				}
			}
		}

		will_lead_to_war_with = EST
		will_lead_to_war_with = LAT

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_MANPOWER }

		completion_reward = {

			hidden_effect = {
				IF = {
					limit = {
						POL = {
							exists = no
							NOT = {	has_completed_focus = POL_restore_bermontians }
						}
					}
					POL = {
						set_nationality = {
						    target_country = ROOT
						    character = POL_rudinger_von_der_goltz
						}
					}
				}
			}
			custom_effect_tooltip = GER_subduing_the_baltic_states_tt
			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Baltische Landeswehr"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Baltische Landeswehr"	
					division_names_group = GER_INF_01
					template_counter = 101 # The Stormtroopers Symbol 
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}
					support = {
						engineer = { x = 0 y = 0 }  
						artillery = { x = 0 y = 1 }  
					}
				}

				random_state = { 
					limit = {
						is_fully_controlled_by = ROOT
						is_owned_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Baltische Landeswehr 'Reval'\" division_template = \"Baltische Landeswehr\" start_experience_factor = 0.3 start_equipment_factor = 0.9"
					    owner = ROOT
					}
					create_unit = {
					    division = "name = \"Baltische Landeswehr 'Dyna'\" division_template = \"Baltische Landeswehr\" start_experience_factor = 0.3 start_equipment_factor = 0.9"
					    owner = ROOT
					}
					create_unit = {
					    division = "name = \"Baltische Landeswehr 'Wilna'\" division_template = \"Baltische Landeswehr\" start_experience_factor = 0.2 start_equipment_factor = 0.9"
					    owner = ROOT
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_other_country = {
				limit = {
					any_controlled_state = {
						OR = {
							is_core_of = EST
							is_core_of = LAT
						}
					}
				}
				display_individual_scopes = yes
				every_controlled_state = {
					limit = {
						OR = {
							is_core_of = EST
							is_core_of = LAT
						}
					}
					add_to_array = {
						array = PREV.GER_baltic_target_states_array
						value = THIS
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = PREV.GER_baltic_target_states_array
					}
				}
			}
		}
	}

	focus = {
		id = GER_puppet_finland
		icon = GFX_focus_generic_invade_finland
		prerequisite = { focus = GER_support_the_finns_ww }
		prerequisite = { focus = GER_establish_eastern_grand_duchies }

		dynamic = yes

		x = 0
		y = 1
		relative_position_id = GER_support_the_finns_ww
		cost = 10
		available = {
			is_subject = no
			FIN = {
				exists = yes
				is_subject = no
				has_war = no
				is_in_faction = no
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			IF = {
				limit = {
					has_government = neutrality
				}
				FIN = {
					country_event = {
						id = wuw_GER_realpolitik.10
						hours = 12
						random_hours = 24
					}	
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					puppet = FIN
					custom_effect_tooltip = generic_skip_one_line_tt
					FIN = {
						add_country_leader_role = {
							character =  FIN_prince_wolfgang_von_hesse
							promote_leader = yes
							country_leader = {
								ideology = despotism
								expire = "1965.1.1.1"
								traits = { }
							}
						}

						set_party_name = {
							ideology = neutrality
							long_name = FIN_neutrality_party_monarchist_long
							name = FIN_neutrality_party_monarchist
						}

						add_popularity = {
							ideology = neutrality
							popularity = 0.1
						}

						IF = {
							limit = {
								has_completed_focus = FIN_greater_finland
							}
							set_cosmetic_tag = FIN_greater_kingdom_of_finland
						}
						ELSE = {
							set_cosmetic_tag = FIN_kingdom_of_finland
						}
					}
					ROOT = {
						GER_lower_CGFF_small = yes
					}
				}
			}
			ELSE = {
				FIN = {
					country_event = {
						id = wuw_GER_realpolitik.13
						hours = 12
						random_hours = 24
					}	
				}
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					add_political_power = 75

					puppet = FIN
					ROOT = {
						GER_lower_CGFF_small = yes
					}
				}
			}

		}
	}

	focus = {
		id = GER_strike_eastward
		icon = GFX_focus_ger_strike_at_the_source
		prerequisite = { focus = GER_subduing_the_baltic_states focus = GER_hold_joint_military_drills }

		x = -3
		y = 1
		relative_position_id = GER_subduing_the_baltic_states
		cost = 10

		available = {
			is_subject = no
			has_army_manpower = { size > 999999 }

			custom_trigger_tooltip = {
			 	tooltip = GER_strike_eastward_eq_trigger_tt
			 	check_variable = { num_equipment_in_armies_k@infantry_equipment > 100 }
			}

			SOV = {
				exists = yes  
				NOT = {
					has_war_with = ROOT
					is_subject_of = ROOT
				}
			}
		}

		bypass = {
			SOV = {
				OR = {
					is_subject_of = ROOT
					exists = no
				}
			}
		}

		dynamic = yes

		will_lead_to_war_with = SOV

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_timed_idea = {
				idea = GER_striking_the_sleeping_bear
				days = 365
			}	

			custom_effect_tooltip = generic_skip_one_line_tt
			
			create_wargoal = {
				type = annex_everything
				target = SOV
				expire = 0
			} 

			if = {
				limit = {
					has_dlc = "Gotterdammerung"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_unlocks_kremlin_raid_tt
			}

			add_ai_strategy = { 
				type = conquer	
				id = SOV
				value = 250
			}

			add_ai_strategy = {
				type = antagonize
				id = SOV
				value = 250
			}

		}
	}

	focus = {
		id = GER_end_european_communism
		icon = GFX_focus_GER_end_european_communism
		prerequisite = { focus = GER_strike_eastward }

		x = 0
		y = 1
		relative_position_id = GER_strike_eastward
		cost = 10
		available = {
			any_country = {
				capital_scope = { is_on_continent = europe }
				has_government = communism
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			custom_effect_tooltip = GER_war_against_european_communism_tt
			every_other_country = {
				limit = {
					OR = {
						is_in_faction_with = ROOT
						is_guaranteed_by = ROOT
						has_non_aggression_pact_with = ROOT
					}
					has_government = communism
				}
				if = {
					limit = {
						ROOT = { is_faction_leader = yes }
					}
					ROOT = { remove_from_faction = PREV }
				}
				else_if = {
					limit = {
						is_faction_leader = yes
					}
					ROOT = { leave_faction = yes }
				}
				if = {
					limit = {
						ROOT = {
							has_guaranteed = PREV
						}
					}
					ROOT = {
						diplomatic_relation = {
						    country = PREV
						    relation = guarantee
						    active = no
						}
					}
				}
				if = {
					limit = {
						has_non_aggression_pact_with = ROOT
					}
					ROOT = {
						diplomatic_relation = {
						    country = PREV
						    relation = non_aggression_pact
						    active = no
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
					}
				}
			}
			every_other_country = {
				limit = {
					capital_scope = { is_on_continent = europe }
					has_government = communism
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }	
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_reject_the_locarno_treaty
		icon = GFX_focus_AUS_disregard_the_treaties
		prerequisite = { focus = GER_realpolitik }
		prerequisite = { focus = GER_demand_the_return_of_southern_jutland }
		mutually_exclusive = { focus = GER_carte_blanche_for_alsace_and_french_colonies_ww }

		x = 0
		y = 4
		relative_position_id = GER_demand_the_return_of_southern_jutland
		cost = 10

		available = {
			is_subject = no
			has_army_manpower = { size > 949999 }
			28 = {
				NOT = {
					controller = {
						is_in_faction_with = ROOT
						has_war_with = ROOT
					}
					owner = {
						is_in_faction_with = ROOT
					}
				}
			}
		}

		bypass = {
			28 = {
				OR = {
					controller = {
						has_war_with = ROOT
					}
					is_controlled_by = ROOT
				}
			}
		}

		will_lead_to_war_with = FRA

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_war_support = 0.05

			add_named_threat = { threat = 5 name = GER_reject_the_locarno_treaty }

			add_state_claim = 28
			28 = {
				controller = {
					ROOT = {
						create_wargoal = {
							type = take_claimed_state
							target = PREV
							expire = 0
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_backdoor_negotiations
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = GER_reject_the_locarno_treaty }
		mutually_exclusive = { focus = GER_schlieffen_once_more_ww focus = GER_bypass_maginot_in_the_south_ww }
		x = -2
		y = 1
		relative_position_id = GER_reject_the_locarno_treaty
		cost = 10
		available = {
			is_subject = no
			OR = {
				has_war_with = FRA
				has_wargoal_against = FRA
			}
			OR = {
				AND = {
					NOT = {
						has_war_with = BEL
						has_wargoal_against = BEL
						has_completed_focus = GER_carve_up_congo
					}
					BEL = {
						exists = yes
						is_subject = no
						is_in_faction = no
					}
				}
				AND =  {
					NOT = {
						has_war_with = HOL
						has_wargoal_against = HOL
						has_completed_focus = GER_our_place_in_the_sun_ww
					}
					HOL = {
						exists = yes
						is_subject = no
						is_in_faction = no
					}
				}
			}
		}

		bypass = {
			OR = {
				is_in_faction_with = BEL
				is_in_faction_with = HOL
				AND = {
					OR = {
						has_war_with = BEL
						BEL = { exists = no }
						BEL = { is_in_faction = yes }
						BEL = {
							is_subject = yes
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
					OR = {
						has_war_with = HOL
						HOL = { exists = no }
						HOL = { is_in_faction = yes }
						HOL = {
							is_subject = yes
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
				}
				FRA = { 
					OR = {
						exists = no 
						is_ally_with = ROOT 
					}
				}
			}
		}

		will_lead_to_war_with = BEL
		will_lead_to_war_with = HOL

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }

		completion_reward = {

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = {
				decision = GER_invite_HOL_to_attack_BEL_decision
				show_effect_tooltip = no
			}	
			unlock_decision_tooltip = {
				decision = GER_invite_BEL_to_attack_HOL_decision
				show_effect_tooltip = no
			}	

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_backdoor_negotiations_tt

		}
	}

	focus = {
		id = GER_schlieffen_once_more_ww
		icon = GFX_focus_GER_schlieffen_once_more
		prerequisite = { focus = GER_reject_the_locarno_treaty }
		mutually_exclusive = { focus = GER_backdoor_negotiations focus = GER_bypass_maginot_in_the_south_ww }
		x = 0
		y = 1
		relative_position_id = GER_reject_the_locarno_treaty
		cost = 4
		available = {
			is_subject = no
			OR = {
				has_war_with = FRA
				has_wargoal_against = FRA
			}
			NOT = {
				is_in_faction_with = BEL
			}
			NOT = {
				is_in_faction_with = LUX
			}
		}

		bypass = {
			OR = {
				AND = {
					OR = {
						has_war_with = BEL
						is_in_faction_with = BEL
						BEL = { exists = no }
					}
					OR = {
						has_war_with = LUX
						is_in_faction_with = LUX
						LUX = { exists = no }
					}
				}
				FRA = {
					OR = {
						exists = no 
						is_ally_with = ROOT 
					}
				}
			}
		}

		will_lead_to_war_with = BEL
		will_lead_to_war_with = LUX

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			IF = { # Luxembourg
				limit = {
					8 = {
						NOT = {
							is_claimed_by = ROOT
							controller = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				8 = {
					add_claim_by = ROOT
				}
			}
			IF = { # Ardennes
				limit = {
					980 = {
						NOT = {
							is_claimed_by = ROOT
							controller = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				980 = {
					add_claim_by = ROOT
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_timed_idea = {
				idea = GER_the_new_schlieffen_plan
				days = 180
			}	

			custom_effect_tooltip = generic_skip_one_line_tt
			
			create_wargoal = {
				type = take_claimed_state
				target = BEL
				expire = 0
			}

			create_wargoal = {
				type = annex_everything
				target = LUX
				expire = 0
			}

		}
	}

	focus = {
		id = GER_bypass_maginot_in_the_south_ww
		icon = GFX_focus_attack_switzerland

		prerequisite = { focus = GER_reject_the_locarno_treaty focus = GER_carte_blanche_for_alsace_and_french_colonies_ww }

		mutually_exclusive = { focus = GER_backdoor_negotiations focus = GER_schlieffen_once_more_ww }

		x = 2
		y = 1
		relative_position_id = GER_reject_the_locarno_treaty

		cost = 4

		available = {
			is_subject = no
			NOT = { has_war_with = SWI }
			OR = {
				has_war_with = FRA
				has_wargoal_against = FRA
			}
			SWI = {
				NOT = {
					is_in_faction_with = ROOT
					is_guaranteed_by = ROOT
					has_non_aggression_pact_with = ROOT
				}
			}
		}

		bypass = {
			OR = {
				SWI = {
					OR = {
						exists = no
						is_ally_with = ROOT
						has_war_with = ROOT
						is_guaranteed_by = ROOT
						has_non_aggression_pact_with = ROOT
					}
				}
				FRA = {
					OR = {
						exists = no 
						is_ally_with = ROOT 
					}
				}
			}
		}

		will_lead_to_war_with = SWI

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			
			create_wargoal = {
				type = annex_everything
				target = SWI
				expire = 0
			}

			add_state_claim = 845
			add_state_claim = 3
			add_state_claim = 151
			add_state_claim = 847
			IF = {
				limit = {
					ITA = {
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				ITA = {
					add_state_claim = 846
				}
			}
			ELSE = {
				add_state_claim = 846
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_operation_tannenbaum_ns
				days = 180
			}
		}
	}

	focus = {
		id = GER_reinstate_imperial_possessions_ww
		icon = GFX_focus_GER_reinstate_imperial_possessions
		prerequisite = { focus = GER_backdoor_negotiations focus = GER_schlieffen_once_more_ww focus = GER_bypass_maginot_in_the_south_ww }

		x = 1
		y = 1
		relative_position_id = GER_backdoor_negotiations

		cost = 5

		available = {
			is_subject = no
			has_full_control_of_state = 28
			OR = {
				FRA = { has_capitulated = yes }
				FRA = { is_subject_of = GER }
				NOT = {
					any_country = {
						original_tag = FRA
						exists = yes
					}
				}
				owns_state = 28
			}
		}

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			
			add_state_core = 28
			if = {
				limit = {
					NOT = { owns_state = 28 }
				}
				transfer_state = 28
			}
			if = {
				limit = {
					FRA = {
						exists = yes
					}	
				}
				FRA = {
					country_event = { id = wtt_germany.63 }
				}
			}

		}
	}

	focus = {
		id = GER_establish_western_grand_duchies
		icon = GFX_focus_GER_western_grand_duchies
		prerequisite = { focus = GER_backdoor_negotiations focus = GER_schlieffen_once_more_ww focus = GER_bypass_maginot_in_the_south_ww }

		dynamic = yes

		x = 3
		y = 1
		relative_position_id = GER_backdoor_negotiations
		cost = 5
		available = {
			is_subject = no
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			add_political_power = 75

			custom_effect_tooltip = generic_skip_one_line_tt 
			
			unlock_decision_tooltip = GER_establish_greater_flanders_decision
			unlock_decision_tooltip = GER_establish_greater_brittany_decision
			unlock_decision_tooltip = GER_establish_wales_decision
			unlock_decision_tooltip = GER_establish_scotland_decision

		}
	}

	focus = {
		id = GER_integrate_western_german_speakers
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = GER_establish_western_grand_duchies focus = GER_reinstate_imperial_possessions_ww }

		x = 1
		y = 1
		relative_position_id = GER_reinstate_imperial_possessions_ww

		cost = 5

		available = {
			is_subject = no
			has_full_control_of_state = 8
		}

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			
			add_state_core = 8
			set_province_name = {
				id = 6583
				name = 6583_german_unification_lux_name
			}
			8 = {
				set_state_name = 8_lux_name
				add_extra_state_shared_building_slots = 4
			}
			IF = {
				limit = {
					NOT = {
						is_in_faction_with = BEL
						980 = {
							is_controlled_by = ROOT
						}
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_core_ardennes_tt
				add_state_core = 980
				effect_tooltip = {
					980 = {
						add_extra_state_shared_building_slots = 2
					}
				}
			}
			else_if = {
				limit = {
					NOT = {
						is_in_faction_with = BEL
					}
					980 = {
						is_controlled_by = ROOT
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				add_state_core = 980
				980 = {
					add_extra_state_shared_building_slots = 2
				}
			}
			IF = {
				limit = {
					NOT = {
						is_in_faction_with = SWI
						OR = {
							3 = {
								is_controlled_by = ROOT
							}
							847 = {
								is_controlled_by = ROOT
							}
							151 = {
								is_controlled_by = ROOT
							}
						}
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_core_german_switzerland_tt
				add_state_core = 3
				add_state_core = 847
				add_state_core = 151
			}
			else_if = {
				limit = {
					NOT = {
						is_in_faction_with = SWI

					}
					OR = {
						3 = {
							is_controlled_by = ROOT
						}
						847 = {
							is_controlled_by = ROOT
						}
						151 = {
							is_controlled_by = ROOT
						}
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				add_state_core = 3
				add_state_core = 847
				add_state_core = 151
			}
			IF = {
				limit = {
					NOT = {
						is_in_faction_with = ITA
						39 = {
							is_controlled_by = ROOT
						}
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_core_alto_adige_tt
				add_state_core = 39
				effect_tooltip = {
					39 = {
						add_extra_state_shared_building_slots = 2
					}
				}
			}
			else_if = {
				limit = {
					NOT = {
						is_in_faction_with = ITA
					}
					39 = {
						is_controlled_by = ROOT
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				add_state_core = 39
				39 = {
					add_extra_state_shared_building_slots = 2
				}
			}
		}
	}

	#####################
	#####################
	#### WELTPOLITIK ####
	#####################
	#####################

	focus = {
		id = GER_weltpolitik
		icon = GFX_focus_GER_weltpolitik
		prerequisite = { focus = GER_monarchist_sentiment }

		x = 17
		y = 1
		relative_position_id = GER_monarchist_sentiment

		cost = 5

		available = {
			is_subject = no
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_august_von_mackensen
				}		
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_political_power = 25
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_revive_the_schutztruppe_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			hidden_effect = {
				remove_trait = {
				    character = GER_adolf_friedrich_von_mecklenburg
				    slot = political_advisor
				    trait = GER_minister_of_the_colonies
				}
			}
			add_trait = { 
			    character = GER_adolf_friedrich_von_mecklenburg
			    slot = political_advisor
			    trait = GER_minister_of_the_colonies_2
			}

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Afrikanische Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Afrikanische Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 98
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_1_entity
				}

				delete_unit_template_and_units = {
					division_template = "Askari Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Askari Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 67
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_2_entity
				}

				delete_unit_template_and_units = {
					division_template = "Asiatische Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Asiatische Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 99
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_3_entity
				}

				IF = {
					limit = {
						has_dlc = "Battle for the Bosporus"
					}
					set_technology = { 
						camelry = 1 
						popup = no
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_accept_british_naval_dominance_ww
		icon = GFX_focus_ger_accept_british_naval_dominance
		prerequisite = { focus = GER_weltpolitik }
		mutually_exclusive = { focus = GER_the_second_naval_race }
		x = -3
		y = 1
		relative_position_id = GER_weltpolitik
		cost = 5
		available = {
			has_added_tension_amount < 25
			NOT = {
				has_war_with = ENG
				ENG = { has_government = communism }
			}
			ENG = { is_subject = no }
		}

		continue_if_invalid = yes

		cancel = {
			has_war_with = ENG
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_accept_british_naval_dominance_opinion
				}
			}
			add_ideas = GER_redirecting_naval_production 
		}
	}

	focus = {
		id = GER_carve_up_congo
		icon = GFX_focus_GER_carve_up_congo
		prerequisite = { focus = GER_accept_british_naval_dominance_ww }

		x = 0
		y = 1
		relative_position_id = GER_accept_british_naval_dominance_ww
		cost = 10
		available = {
			is_subject = no
			has_added_tension_amount > 4
			has_added_tension_amount < 25
			NOT = {
				has_war_with = ENG
			}
			ENG = { is_subject = no }
			NOT = {
				COG = {
					has_idea = GER_german_trade_ns
				}
				has_war_with = COG
			}
		}

		bypass = {
			OR = {
				COG = {	has_idea = GER_german_trade_ns }
				has_war_with = COG
				AND = {
					295 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					538 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					718 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					888 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					890 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					768 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					769 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					889 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
				}
			}
		}

		will_lead_to_war_with = COG
		will_lead_to_war_with = BEL

		continue_if_invalid = yes

		cancel = {
			OR = {
				has_war_with = ENG
				has_war_with = COG
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			ENG = {
				country_event = {
					id = wuw_GER_weltpolitik.4
					hours = 12
					random_hours = 24
				}	
			}
			add_named_threat = { threat = 5 name = GER_carve_up_congo }

			custom_effect_tooltip = if_they_accept_tt

			effect_tooltip = {
				every_state = {
					limit = {
						OR = {
							state = 888
							state = 889
						}
						OR = {
							is_fully_controlled_by = BEL
							is_fully_controlled_by = COG
						}
					}
					transfer_state_to = ENG
				}
				every_state = {
					limit = {
						OR = {
							state = 295
							state = 538
							state = 718
							state = 890
							state = 768
							state = 769
						}
						OR = {
							is_fully_controlled_by = BEL
							is_fully_controlled_by = COG
						}
					}
					transfer_state_to = GER
				}
			}
		}
	}

	focus = {
		id = GER_anglo_germanic_defense_pact
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = GER_carve_up_congo }

		x = 0
		y = 2
		relative_position_id = GER_carve_up_congo
		cost = 10
		available = {
			has_added_tension_amount < 25
			is_subject = no
			ENG = { 
				exists = yes
				is_subject = no
				NOT = {
					has_war_with = GER
				}
			}
		}

		continue_if_invalid = yes

		cancel = {
			has_war_with = ENG
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			ENG = {
				country_event = {
					id =  wuw_GER_mutual_guarantees.1
					hours = 12
					random_hours = 24
				}	
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				give_guarantee = ENG
				ENG = {
					give_guarantee = ROOT
				}
				ROOT = {
					add_opinion_modifier = {
						target = ENG
						modifier = GER_signed_the_anglo_german_defence_pact_opm
					}	
				}
				ENG = {
					add_opinion_modifier = {
						target = ROOT
						modifier = GER_signed_the_anglo_german_defence_pact_opm
					}	
				}
			}
			
		}
	}

	focus = {
		id = GER_anglo_germanic_cooperation_program
		icon = GFX_focus_generic_naval_discipline
		prerequisite = { focus = GER_anglo_germanic_defense_pact }

		x = -1
		y = 1
		relative_position_id = GER_anglo_germanic_defense_pact
		cost = 10
		available = {
			has_added_tension_amount < 25
			ENG = { 
				exists = yes
				is_subject = no
				NOT = {
					has_war_with = GER
				}
			}
		}

		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			navy_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_anglo_germanic_cooperation_program
				bonus = 0.75
				uses = 2
				category = mio_cat_tech_all_capital_ship_and_modules
				category = mio_cat_tech_all_carrier_and_modules
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG = {
				country_event = {
					id = wuw_GER_diplomacy.50
					hours = 12
					random_hours = 24
				}
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_to_tech_sharing_group = GER_anglo_german_naval_development_group
				ENG = {
					add_to_tech_sharing_group = GER_anglo_german_naval_development_group
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				if = {
					limit = {
						has_idea = GER_redirecting_naval_production
					}
					swap_ideas = {
						remove_idea = GER_redirecting_naval_production
						add_idea = GER_redirecting_naval_production_2
					}	
				}
			}
		}
	}

	focus = {
		id = GER_carte_blanche_for_alsace_and_french_colonies_ww
		icon = GFX_focus_attack_france

		prerequisite = { focus = GER_anglo_germanic_defense_pact }

		mutually_exclusive = { focus = GER_reject_the_locarno_treaty }

		x = -3
		y = 2
		relative_position_id = GER_anglo_germanic_defense_pact

		cost = 10

		available = {
			is_subject = no
			has_added_tension_amount > 10
			NOT = {
				has_completed_focus = GER_re_ratify_the_locarno_treaty
				has_wargoal_against = ENG
				is_justifying_wargoal_against = ENG
				has_war_with = ENG
			}
			FRA = {
				NOT = { is_in_faction_with = ENG }
				OR = {
					has_war_with = ENG
					has_government = fascism
					has_government = communism
				}
			}
			ENG = {
				NOT = {
					has_government = communism
				}
			}
		}

		will_lead_to_war_with = FRA

		search_filters = {  FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			every_other_country = {
				limit = {
					NOT = { is_ally_with = ROOT }
					NOT = { is_ally_with = ENG } #We don't want to accidentally drag ENG into a war
					OR = {
						controls_state = 28
						controls_state = 773
						controls_state = 777
						controls_state = 461
						controls_state = 462
					}
				}
				display_individual_scopes = yes
				every_controlled_state = {
					limit = {
						OR = {
							state = 28
							state = 773
							state = 777
							state = 461
							state = 462
						}
					}
					add_to_array = {
						array = PREV.GER_french_possessions
						value = THIS
					}
					
					add_claim_by = ROOT
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = PREV.GER_french_possessions
					}
				}
			}

			add_ai_strategy = {
				type = conquer
				id = FRA
				value = 100
			}

			add_ai_strategy = {
				type = antagonize
				id = FRA
				value = 100
			}

		}
	}

	focus = {
		id = GER_petition_for_the_return_of_old_colonies
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = GER_anglo_germanic_defense_pact }

		x = 0
		y = 2
		relative_position_id = GER_anglo_germanic_defense_pact
		cost = 10
		available = {
			has_added_tension_amount < 25
			is_subject = no
			NOT = {
				has_wargoal_against = ENG
				has_war_with = ENG
			}
			NOT = {
				ENG = {
					has_government = fascism
					has_government = communism
				}
			}
			ENG = {
				has_opinion = {
					target = ROOT
					value > 50
				}	
			}
			any_state = {
				is_owned_and_controlled_by = ENG
				OR = {
					state = 773
					state = 777
					state = 546
					state = 768
					state = 769
					state = 895
					state = 894
					state = 541
					state = 893
					state = 743
					state = 647
					state = 979
					state = 737
					state = 684
					state = 633
					state = 634 # If Bougainville is ever made it's own state switch this and the associated decision from 634 to that!
					state = 646
					state = 726
					state = 725
				}
			}
		}

		bypass = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			ENG = {
				country_event = {
					id = wuw_GER_weltpolitik.12
					hours = 12
					random_hours = 24
				}	
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				every_state = {
					limit = {
						OR = {
							is_owned_and_controlled_by = ENG
							is_owned_and_controlled_by = SAF
							is_owned_and_controlled_by = NZL
							is_owned_and_controlled_by = AST
						}
						OR = {
							state = 773
							state = 777
							state = 546
							state = 768
							state = 769
							state = 895
							state = 894
							state = 541
							state = 893
							state = 743
							state = 647
							state = 979
							state = 737
							state = 684
							state = 633
							state = 634 # If Bougainville is ever made it's own state switch this and the associated decision from 634 to that!
							state = 646
							state = 726
							state = 725
						}
					}
					transfer_state_to = ROOT
				}
			}

		}
	}

	focus = {
		id = GER_unify_west_africa
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = GER_petition_for_the_return_of_old_colonies }

		x = -1
		y = 1
		relative_position_id = GER_petition_for_the_return_of_old_colonies
		cost = 10
		available = {
			has_added_tension_amount > 10
			OR = {
				has_full_control_of_state = 295
				has_full_control_of_state = 888
				has_full_control_of_state = 894
				has_full_control_of_state = 895
			}
			any_other_country = {
				OR = {
					has_full_control_of_state = 540
					has_full_control_of_state = 892
					has_full_control_of_state = 891
				}
				NOT = {
					has_war_with = ROOT
					is_in_faction_with = ROOT
					is_in_faction_with = ENG
				}
			}
		}

		will_lead_to_war_with = POR
		will_lead_to_war_with = ANG

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			
			add_named_threat = { threat = 3 name = GER_unify_west_africa }
			
			every_other_country = {
				limit = {
					NOT = {
						original_tag = ENG
						is_in_faction_with = ENG
						is_in_faction_with = ROOT
					}
					OR = {
						has_full_control_of_state = 540
						has_full_control_of_state = 892
						has_full_control_of_state = 891
					}
				}
				country_event = {
					id = wuw_GER_weltpolitik.19
					days = 2
					random_days = 3
				}
			}
			
		}
	}

	focus = {
		id = GER_expand_pacific_holdings
		icon = GFX_focus_GER_expand_pacific_holdings
		prerequisite = { focus = GER_petition_for_the_return_of_old_colonies }
		mutually_exclusive = { focus = GER_divide_and_conquer focus = GER_our_place_in_the_sun_ww }
		x = 0
		y = 2
		relative_position_id = GER_petition_for_the_return_of_old_colonies
		cost = 10
		available = {
			is_subject = no
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_named_threat = { threat = 5 name = GER_expand_pacific_holdings } 

			every_state = {
				limit = {
					OR = {
						state = 734 # Nendo 
						state = 635 # New Caledonia
						state = 641 # Tahiti
						state = 636 # Fiji
						state = 726 # Samoa
						state = 721 # Timor-Leste
						state = 667 # Lesser Sunda Islands
						state = 335 # Java
						state = 672 # Sumatra
						state = 738 # Aru Islands
						state = 669 # Western Papua
						state = 668 # The Moluccas
						state = 724 # Northern Malay
						state = 289 # Siam
						state = 868 # Isan
						state = 869 # Lanna
						state = 741 # Cambodia
						state = 286 # Southern Indochina
						state = 670 # Laos
						state = 671 # Tonkin
						state = 325 # Yunnan
						state = 599 # Guangxi
						state = 594 # Nanning
						state = 591 # Hainan
						state = 728 # Guangzhouwan
						state = 592 # Guangzhou
						state = 593 # Guangdong
						state = 729 # Macau
						state = 743 # Qingdao
					}
					NOT = {
						is_claimed_by = ROOT
						is_core_of = ROOT
						is_owned_by = ROOT
						controller = {
							OR = {
								has_a_german_trade_idea = yes
								is_in_faction_with = ROOT
								is_guaranteed_by = ROOT
							}
						}
					}
					NOT = {
						is_owned_by = ENG
						is_controlled_by = ENG
						controller = {
							is_ally_with = ENG
						}
					}
				}
				add_claim_by = ROOT
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			every_country = {
				limit = {
					OR = {
						original_tag = SIA
						original_tag = VIN
						original_tag = LAO
						original_tag = CAM
						original_tag = YUN
						original_tag = GXC
						original_tag = INS
						original_tag = TAH
						original_tag = PNG
					}
					NOT = {
						is_subject_of = ENG
						is_in_faction_with = ENG
						is_in_faction_with = ROOT
						is_guaranteed_by = ROOT
						has_a_german_trade_idea = yes
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}	
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						is_in_faction_with = FRA
						has_guaranteed = FRA
					}
					FRA = {
						has_a_german_trade_idea = no
						OR = {
							owns_state = 734 # Nendo 
							owns_state = 635 # New Caledonia
							owns_state = 641 # Tahiti
							owns_state = 728 # Guangzhouwan
							owns_state = 741 # Cambodia
							owns_state = 286 # Southern Indochina
							owns_state = 670 # Laos
							owns_state = 671 # Tonkin
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = FRA
					}	
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			IF = {
				limit = {
					NOT = {
						is_in_faction_with = POR
						has_guaranteed = POR
					}
					POR = {
						has_a_german_trade_idea = no
						OR = {
							owns_state = 729 # Macau
							owns_state = 721 # Timor-Leste
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = POR
					}	
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			IF = {
				limit = {
					NOT = {
						is_in_faction_with = HOL
						has_guaranteed = HOL
					}
					HOL = {
						has_a_german_trade_idea = no
						OR = {
							owns_state = 667 # Lesser Sunda Islands
							owns_state = 335 # Java
							owns_state = 672 # Sumatra
							owns_state = 738 # Aru Islands
							owns_state = 669 # Western Papua
							owns_state = 668 # The Moluccas
						}
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = HOL
					}	
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}
		}
	}

	focus = {
		id = GER_closer_sino_germanic_relations
		icon = GFX_focus_chi_cooperation_with_the_nationalists
		prerequisite = { focus = GER_accept_british_naval_dominance_ww focus = GER_the_second_naval_race }

		dynamic = yes

		x = 3
		y = 2
		relative_position_id = GER_accept_british_naval_dominance_ww

		cost = 5

		available = {
			is_subject = no
			event_target:WTT_current_china_leader = { 
				exists = yes
				is_subject = no 
				NOT = { has_war_with = ROOT }
				NOT = { has_government = communism }
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}	
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			event_target:WTT_current_china_leader = {
				set_country_flag = GER_befriended_by_germany_flag
				country_event = { id = wuw_GER_diplomacy.29 hours = 6 }
			}

			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_ideas = GER_ger_chi_trade_ns
				event_target:WTT_current_china_leader = {
					add_offsite_building = { type = arms_factory level = 2 }
					add_opinion_modifier = { target = GER modifier = ger_chi_diplomacy_focus }
					add_ideas = GER_chi_ger_trade_ns
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			JAP = {
				add_opinion_modifier = { target = GER modifier = supported_the_chinese }
			}
		}
	}

	focus = {
		id = GER_industrial_investments
		icon = GFX_focus_generic_public_works
		prerequisite = { focus = GER_closer_sino_germanic_relations }

		x = -1
		y = 1
		relative_position_id = GER_closer_sino_germanic_relations
		cost = 5
		available = {
			has_global_flag = CHI_has_accepted_german_overtures
			event_target:WTT_current_china_leader = {
				NOT = {
					has_government = communism
					has_war_with = ROOT
				}
			}
		}

		dynamic = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNATIONAL_TRADE }

		completion_reward = {

			event_target:WTT_current_china_leader = {
				country_event = { 
					id = wuw_GER_chinese_diplomacy.2 
					hours = 18
					random_hours = 48 
				}
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				event_target:WTT_current_china_leader = {
					swap_ideas = {
						remove_idea = GER_chi_ger_trade_ns
						add_idea = GER_chi_ger_trade_ns_2
					}	
					add_timed_idea = {
						idea = GER_aid_in_industrialization
						days = 365
					}	
				}
			}
			
		}
	}

	focus = {
		id = GER_launch_sino_germanic_joint_research_program
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = GER_industrial_investments }

		x = 0
		y = 1
		relative_position_id = GER_industrial_investments
		cost = 5
		available = {
			has_global_flag = CHI_has_accepted_german_overtures
			event_target:WTT_current_china_leader = {
				NOT = {
					has_government = communism
					has_war_with = ROOT
				}
			}
		}

		dynamic = yes

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {

			event_target:WTT_current_china_leader = {
				country_event = { 
					id = wuw_GER_chinese_diplomacy.5
					hours = 18
					random_hours = 48 
				}
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_political_power = 100
				add_to_tech_sharing_group = ger_chi_research

				custom_effect_tooltip = generic_skip_one_line_tt

				event_target:WTT_current_china_leader = {
					add_timed_idea = {
						idea = GER_investments_into_sino_german_research_cooperation_idea
						days = 360
					}	
					add_to_tech_sharing_group = ger_chi_research 
				}
			}
		}
	}

	focus = {
		id = GER_send_military_aid
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = GER_closer_sino_germanic_relations }

		x = 1
		y = 1
		relative_position_id = GER_closer_sino_germanic_relations
		cost = 5

		available = {
			has_global_flag = CHI_has_accepted_german_overtures
			event_target:WTT_current_china_leader = {
				NOT = {
					has_government = communism
					has_war_with = ROOT
				}
			}
		}

		dynamic = yes

		search_filters = { FOCUS_FILTER_INTERNATIONAL_TRADE }

		completion_reward = {

			event_target:WTT_current_china_leader = {
				country_event = { 
					id = wuw_GER_chinese_diplomacy.1 
					hours = 18
					random_hours = 48 
				}
			}
			effect_tooltip = {
				event_target:WTT_current_china_leader = {
					add_equipment_to_stockpile = { 
						type = infantry_equipment
						amount = 2500
						producer = GER
					}
					add_equipment_to_stockpile = { 
						type = support_equipment
						amount = 250
						producer = GER
					}	
					add_equipment_to_stockpile = { 
						type = artillery_equipment
						amount = 100
						producer = GER
					}

					custom_effect_tooltip = generic_skip_one_line_tt

					add_timed_idea = {
						idea = GER_aid_in_military_industrialization
						days = 365
					}	

					IF = {
						limit = {
							has_dlc = "Arms Against Tyranny"
						}
						custom_effect_tooltip = generic_skip_one_line_tt

						add_equipment_subsidy = {
							cic = 1000
							equipment_type = small_plane_airframe
							seller_tags = { GER } 
						}
						add_equipment_subsidy = {
							cic = 1000
							equipment_type = infantry_equipment
							seller_tags = { GER } 
						}
						add_equipment_subsidy = {
							cic = 1000
							equipment_type = motorized_equipment
							seller_tags = { GER } 
						}
						add_equipment_subsidy = {
							cic = 1000
							equipment_type = artillery_equipment
							seller_tags = { GER } 
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_send_volunteers 
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = GER_send_military_aid } 

		x = 0
		y = 1
		relative_position_id = GER_send_military_aid
		cost = 5

		available = {
			has_global_flag = CHI_has_accepted_german_overtures
			event_target:WTT_current_china_leader = {
				NOT = {
					has_government = communism
					has_war_with = ROOT
				}
			}
		}

		dynamic = yes

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP }

		completion_reward = {

			add_timed_idea = {
				idea = GER_fernostliche_legion_ns
				days = 545
			}

			add_ai_strategy = { 
				type = send_volunteers_desire	
				id = CHI
				value = 250
			}	
		}
	}

	focus = {
		id = GER_request_the_return_of_qingdao

		icon = GFX_focus_GER_request_the_return_of_qingdao

		prerequisite = { focus = GER_industrial_investments focus = GER_send_military_aid }

		x = 1
		y = 2
		relative_position_id = GER_industrial_investments

		cost = 5

		available = {
			is_subject = no
			has_global_flag = CHI_has_accepted_german_overtures
			event_target:WTT_current_china_leader = {
				NOT = {
					has_war_with = ROOT
				}
				743 = {
					is_owned_and_controlled_by = PREV
				}
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
			}
		}

		dynamic = yes

		bypass = {
			event_target:WTT_current_china_leader = {
				743 = {
					NOT = {
						is_owned_and_controlled_by = PREV
					}
				}
			}
		}

		cancel = {
			event_target:WTT_current_china_leader = {
				has_war_with = ROOT
				743 = {
					NOT = {
						is_owned_and_controlled_by = PREV
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			event_target:WTT_current_china_leader = {
				country_event = { 
					id = wtt_germany.38 
					days = 1 
				}
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				transfer_state = 743
			}
		}
	}

	focus = {
		id = GER_the_sino_germanic_pact
		icon = GFX_focus_GER_the_proud_eagle_and_the_rising_dragon
		prerequisite = { focus = GER_request_the_return_of_qingdao }
		
		x = 0
		y = 1
		relative_position_id = GER_request_the_return_of_qingdao
		cost = 5
		available = {
			is_subject = no
			is_faction_leader = yes
			has_global_flag = CHI_has_accepted_german_overtures
			event_target:WTT_current_china_leader = {
				NOT = {
					has_government = communism
					has_war_with = ROOT
				}
				is_in_faction = no
				is_subject = no
			}
		}

		dynamic = yes

		cancel = {	
			event_target:WTT_current_china_leader = {
				OR = {
					has_war_with = ROOT
					is_subject = yes
					is_in_faction = yes
				}
			}
		}

		bypass = {
			event_target:WTT_current_china_leader = {
				is_in_faction = yes
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			event_target:WTT_current_china_leader = {
				country_event = {
					id = wuw_GER_realpolitik.1
					hours = 6
					random_hours = 12
				}		
			}
		}
	}

	focus = {
		id = GER_divide_and_conquer
		icon = GFX_focus_GER_divide_and_conquer
		prerequisite = { focus = GER_the_sino_germanic_pact }

		mutually_exclusive = { focus = GER_expand_pacific_holdings focus = GER_our_place_in_the_sun_ww }

		x = 0
		y = 1
		relative_position_id = GER_the_sino_germanic_pact
		cost = 10
		available = {
			is_subject = no
			has_global_flag = CHI_has_accepted_german_overtures
			event_target:WTT_current_china_leader = {
				is_subject = no
				NOT = {
					has_war_with = ROOT
				}
				is_in_faction_with = ROOT
			}
		}

		cancel = {
			event_target:WTT_current_china_leader = {
				OR = {
					has_war_with = ROOT
					is_subject = yes
					NOT = { is_in_faction_with = ROOT }
				}
			}
		} 

		dynamic = yes

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_named_threat = { threat = 5 name = GER_spheres_of_influence }

			event_target:WTT_current_china_leader = {
				country_event = {
					id = wuw_GER_weltpolitik.16
					hours = 12
				}
			}

			custom_effect_tooltip = if_they_accept_tt

			custom_effect_tooltip = GER_asian_spheres_of_influence_tt
		}
	}

	focus = {
		id = GER_the_second_naval_race
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = GER_weltpolitik }
		mutually_exclusive = { focus = GER_accept_british_naval_dominance_ww }
		x = 3
		y = 1
		relative_position_id = GER_weltpolitik
		cost = 5
		available = {
			is_subject = no
			NOT = {
				is_ally_with = ENG
			}
			any_core_state = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			add_named_threat = { threat = 5 name = GER_the_second_naval_race }

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_our_place_in_the_sun
				}
			}
			FRA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_our_place_in_the_sun
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 3
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = dockyard
					level = 4
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
		}
	}
	focus = {
		id = GER_rebuild_the_high_seas_fleet_ww
		icon = GFX_focus_generic_refit_civilian_ships
		prerequisite = { focus = GER_the_second_naval_race }

		x = 0
		y = 1
		relative_position_id = GER_the_second_naval_race
		cost = 10
		available = {
			is_subject = no
			any_core_state = {
				is_coastal = yes
			}
		}

		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			navy_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_rebuild_the_high_seas_fleet_ww
				bonus = 0.5
				uses = 1
				category = bb_tech
			}

			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 0.5
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = GER_rebuild_the_high_seas_fleet

		}
	}

	focus = {
		id = GER_break_anglo_french_colonial_hegemony_ww
		icon = GFX_focus_ger_break_anglo_french_colonial_hegemony
		prerequisite = { focus = GER_rebuild_the_high_seas_fleet_ww }

		x = 0
		y = 2
		relative_position_id = GER_rebuild_the_high_seas_fleet_ww

		cost = 10

		available = {
			is_subject = no
			if = {
				limit = {
					has_completed_focus = GER_franco_germanic_pact
				}
				NOT = { is_in_faction_with = ENG }
			}
			else = {
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = FRA }
			}
		}

		bypass = {
			OR = {
				if = {
					limit = {
						has_completed_focus = GER_franco_germanic_pact
					}
					has_war_with = ENG 
				}
				else = {
					AND = {
						has_war_with = ENG 
						has_war_with = FRA
					}
				}
				AND = { #Old colonial claims of Germany
					777 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					773 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					895 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					894 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					541 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					893 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					634 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					523 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					979 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
					737 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes }
				}
			}
		}

		will_lead_to_war_with = ENG
		will_lead_to_war_with = FRA
		will_lead_to_war_with = BEL
		will_lead_to_war_with = COG
		will_lead_to_war_with = CMR
		will_lead_to_war_with = TOG
		will_lead_to_war_with = NMB
		will_lead_to_war_with = SAF
		will_lead_to_war_with = TZN
		will_lead_to_war_with = RWA
		will_lead_to_war_with = BRD

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			every_other_country = {
				limit = {
					OR = { #Target FRA and ENG and their faction members - the rest can wait
						original_tag = FRA
						is_ally_with = FRA
						original_tag = ENG
						is_ally_with = ENG
					}
					NOT = { #But don't bully our friends!
						is_in_faction_with = ROOT
						is_guaranteed_by = ROOT
						has_a_german_trade_idea = yes
					}
					OR = { #Old colonial claims
						controls_state = 523
						controls_state = 773
						controls_state = 541
						controls_state = 546
						controls_state = 737
						controls_state = 684
						controls_state = 633
						controls_state = 646
						controls_state = 647
						controls_state = 726
						controls_state = 777
						controls_state = 768
						controls_state = 769
						controls_state = 979
						controls_state = 895
						controls_state = 894
						controls_state = 893
						controls_state = 634
					}
				}
				display_individual_scopes = yes
				every_controlled_state = {
					limit = {
						OR = {
							state = 523
							state = 773
							state = 541
							state = 546
							state = 737
							state = 684
							state = 633
							state = 646
							state = 647
							state = 726
							state = 777
							state = 768
							state = 769
							state = 979
							state = 895
							state = 894
							state = 893
							state = 634
						}
					}
					add_to_array = {
						array = PREV.GER_old_colonial_claims
						value = THIS
					}
					add_claim_by = ROOT
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = PREV.GER_old_colonial_claims
					}
				}
			}
		}
	}

	focus = {
		id = GER_asian_allies
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GER_break_anglo_french_colonial_hegemony_ww }

		x = 1
		y = 1
		relative_position_id = GER_break_anglo_french_colonial_hegemony_ww
		cost = 5
		available = {
			is_subject = no
			is_faction_leader = yes
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			custom_effect_tooltip = GER_asian_allies_faction_tt
			every_other_country = {
				limit = {
					OR = {
						# East and Central Asian countries that Germany doesn't lay claim to
						original_tag = SIA
						original_tag = VIN
						original_tag = CAM
						original_tag = LAO
						original_tag = BRM
						original_tag = RAJ
						original_tag = PAK
						original_tag = BHU
						original_tag = NEP
						original_tag = TIB
						original_tag = BAN
						original_tag = AFG
						original_tag = PER
						original_tag = TMS
						original_tag = TAJ
						original_tag = BUK
						original_tag = KHI
						original_tag = UZB
						original_tag = KKP
						original_tag = KYR
						original_tag = KAZ
						original_tag = ALT
						original_tag = SIK
						original_tag = MON
						original_tag = TAN
						original_tag = BYA
						original_tag = KOR
					}
					exists = yes
					is_subject = no
					is_in_faction = no
					is_major = no
					OR = {
						has_government = neutrality
						has_government = democratic
					}
				}
				country_event = {
					id = wuw_GER_realpolitik.1
					hours = 6
					random_hours = 12
				}		
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_asian_allies_tt
		}
	}

	focus = {
		id = GER_our_place_in_the_sun_ww
		icon = GFX_focus_GER_our_place_in_the_sun
		prerequisite = { focus = GER_break_anglo_french_colonial_hegemony_ww }
		mutually_exclusive = { focus = GER_divide_and_conquer focus = GER_expand_pacific_holdings }
		x = 0
		y = 4
		relative_position_id = GER_break_anglo_french_colonial_hegemony_ww
		cost = 10
		available = {
			is_subject = no
		}

		dynamic = yes

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_named_threat = { threat = 5 name = GER_our_place_in_the_sun_ww }

			every_other_country = {
				limit = {
					if = {
						limit = {
							NOT = { has_completed_focus = GER_break_anglo_french_colonial_hegemony_ww}
						}
						NOT = { #Don't target FRA and ENG and friends again; we did that in a previous focus
							original_tag = FRA
							is_ally_with = FRA
							original_tag = ENG
							is_ally_with = ENG
						}
					}
					OR = { #Old colonial claims
						controls_state = 523
						controls_state = 773
						controls_state = 541
						controls_state = 546
						controls_state = 737
						controls_state = 684
						controls_state = 633
						controls_state = 646
						controls_state = 647
						controls_state = 726
						controls_state = 777
						controls_state = 768
						controls_state = 769
						controls_state = 979
						controls_state = 895
						controls_state = 894
						controls_state = 893
						controls_state = 634

					}
					NOT = { #But don't bully our friends!
						is_in_faction_with = ROOT
						is_guaranteed_by = ROOT
						has_a_german_trade_idea = yes
						ROOT = { has_wargoal_against = PREV }
					}
				}
				display_individual_scopes = yes
				every_controlled_state = {
					limit = {
						NOT = { is_claimed_by = ROOT }
						OR = {
							state = 523
							state = 773
							state = 541
							state = 546
							state = 737
							state = 684
							state = 633
							state = 646
							state = 647
							state = 726
							state = 777
							state = 768
							state = 769
							state = 979
							state = 895
							state = 894
							state = 893
							state = 634
						}
					}
					add_to_array = {
						array = PREV.GER_colonial_claims
						value = THIS
					}
					add_claim_by = ROOT
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = PREV.GER_colonial_claims
					}
				}
			}

			every_state = {
				limit = {
					OR = {
						# Claimed Nations and Regions
						is_core_of = INS
						is_core_of = MAL
						is_core_of = RAJ
						is_core_of = PAK
						is_core_of = BAN
						is_core_of = BRM
						is_core_of = TAH
						is_core_of = AST
						is_core_of = NZL
						is_core_of = SAM
						is_core_of = PNG
						is_core_of = SIA
						is_core_of = VIN
						is_core_of = LAO
						is_core_of = CAM
						is_core_of = PHI
						is_core_of = GUM
						is_core_of = FSM
						is_core_of = HAW
						is_core_of = SOL
						is_core_of = FIJ
						is_core_of = RAP
						is_core_of = SRL
						is_core_of = MLD

						#Islands
						state = 712 # Cocos
						state = 711 # Christmas
						state = 710 # Diego Garcia
						state = 709 # Seychelles
						state = 707 # Mauritius
						state = 713 # Kerguelen
						state = 706 # Reunion
					}
					NOT = {
						controller = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							is_guaranteed_by = ROOT
							has_a_german_trade_idea = yes
						}
						OR = {
							is_claimed_by = ROOT
							is_core_of = ROOT
							is_owned_by = ROOT
						}
					}
				}
				add_claim_by = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_other_country = {
				limit = {
					OR = {
						original_tag = RAJ
						original_tag = PAK
						original_tag = BRM
						original_tag = SIA
						original_tag = AST
						original_tag = NZL
						original_tag = MAL
						original_tag = INS
						original_tag = PNG
						original_tag = SOL
						original_tag = SRL
						original_tag = MLD
						original_tag = SAM
						original_tag = FIJ
						original_tag = GUM
						original_tag = PHI
						original_tag = HAW
						original_tag = RAP
					}
					exists = yes
					NOT = { #But don't bully our friends!
						is_ally_with = ROOT
						is_guaranteed_by = ROOT
						has_a_german_trade_idea = yes
						ROOT = { has_wargoal_against = PREV }
					}
				}
				#display_individual_scopes = yes
				
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
						expire = 0
						#generator = PREV.GER_our_place_in_the_sun_array
					}
				}
			}

			#This section is only commented out and not deleted in case we like the tooltips better
			#IF = {
			#	limit = {
			#		RAJ = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = RAJ
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		PAK = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = PAK
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		BRM = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = BRM
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		SIA = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = SIA
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		AST = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = AST
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		NZL = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = NZL
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		MAL = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = MAL
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		INS = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = INS
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		BAN = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = BAN
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		PNG = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = PNG
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		SOL = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = SOL
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		SRL = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = SRL
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		MLD = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = MLD
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		SAM = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = SAM
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		FIJ = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = FIJ
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		GUM = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = GUM
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		PHI = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = PHI
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		HAW = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = HAW
			#		expire = 0
			#	}	
			#}
			#IF = {
			#	limit = {
			#		RAP = {
			#			exists = yes 
			#			NOT = { #But don't bully our friends!
			#				OR = {
			#					is_in_faction_with = ROOT
			#					is_guaranteed_by = ROOT
			#					has_a_german_trade_idea = yes
			#					ROOT = { has_wargoal_against = PREV }
			#				}
			#			}
			#		}
			#	}
			#	create_wargoal = {
			#		type = annex_everything
			#		target = RAP
			#		expire = 0
			#	}	
			#}
		}
	}

	focus = {
		id = GER_expand_african_reach
		icon = GFX_focus_GER_schutztruppe
		prerequisite = { focus = GER_break_anglo_french_colonial_hegemony_ww }

		x = 2
		y = 2
		relative_position_id = GER_break_anglo_french_colonial_hegemony_ww

		cost = 5

		available = {
			is_subject = no
		}

		bypass = {
			539 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			772 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			660 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			774 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			771 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			770 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			981 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			545 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			901 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			900 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			902 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			558 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			776 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			274 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			548 = {
				OR = {
					controller = { has_war_with = ROOT }
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			every_other_country = {
				limit = {
					NOT = { #But don't bully our friends!
						is_in_faction_with = ROOT
						is_guaranteed_by = ROOT
						has_a_german_trade_idea = yes
					}
					OR = { #Old colonial claims
						controls_state = 539
						controls_state = 772
						controls_state = 660
						controls_state = 774
						controls_state = 771
						controls_state = 770
						controls_state = 981
						controls_state = 545
						controls_state = 901
						controls_state = 900
						controls_state = 902
						controls_state = 558
						controls_state = 776
						controls_state = 274
						controls_state = 548
					}
				}
				display_individual_scopes = yes
				every_controlled_state = {
					limit = {
						OR = {
							state = 539
							state = 772
							state = 660
							state = 774
							state = 771
							state = 770
							state = 981
							state = 545
							state = 901
							state = 900
							state = 902
							state = 558
							state = 776
							state = 274
							state = 548
						}
					}
					add_to_array = {
						array = PREV.GER_african_reach
						value = THIS
					}
					add_claim_by = ROOT
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = PREV.GER_african_reach
					}
				}
			}
		}
	}

	focus = {
		id = GER_african_allies
		icon = GFX_focus_generic_africa_liberation
		prerequisite = { focus = GER_expand_african_reach }

		x = -1
		y = 1
		relative_position_id = GER_expand_african_reach
		cost = 5

		available = {
			is_subject = no
			is_faction_leader = yes
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			custom_effect_tooltip = GER_african_allies_faction_tt
			every_other_country = {
				limit = {
					exists = yes
					is_subject = no
					is_in_faction = no
					OR = {
						has_government = neutrality
						has_government = democratic
					}
					capital_scope = {	
						is_on_continent = africa
					}
				}
				country_event = {
					id = wuw_GER_realpolitik.1
					hours = 6
					random_hours = 12
				}		
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_african_allies_tt
		}
	}

	focus = {
		id = GER_realize_mittelafrika
		icon = GFX_focus_GER_realize_mittelafrika
		prerequisite = { focus = GER_expand_african_reach }

		x = 0
		y = 2
		relative_position_id = GER_expand_african_reach
		cost = 10
		available = {
			is_subject = no
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		will_lead_to_war_with = FRA
		will_lead_to_war_with = ENG
		will_lead_to_war_with = SPR
		will_lead_to_war_with = POR
		will_lead_to_war_with = COG
		will_lead_to_war_with = BEL
		will_lead_to_war_with = SAF
		will_lead_to_war_with = ETH

		completion_reward = {

			add_named_threat = { threat = 5 name = GER_realize_mittelafrika }

			every_country = {
				limit = {
					NOT = {
						is_ally_with = ROOT
						is_guaranteed_by = ROOT
						has_war_with = ROOT
						has_a_german_trade_idea = yes
					}
					OR = {
						owns_state = 904
						owns_state = 547
						owns_state = 905
						owns_state = 903
						owns_state = 897
						owns_state = 896
						owns_state = 544
						owns_state = 891
						owns_state = 892
						owns_state = 540
						owns_state = 796
						owns_state = 295
						owns_state = 888
						owns_state = 889
						owns_state = 890
						owns_state = 718
						owns_state = 538
						owns_state = 708
						owns_state = 543
						owns_state = 542
						owns_state = 268
						owns_state = 297
						owns_state = 705
						owns_state = 781
						owns_state = 778
						owns_state = 779
						owns_state = 780
						owns_state = 700
						owns_state = 298
						owns_state = 296
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_claimed_state
						target = PREV
					}	
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_realize_mittelafrika_tt

			hidden_effect = {
				add_state_claim = 904
				add_state_claim = 547
				add_state_claim = 905
				add_state_claim = 903
				add_state_claim = 897
				add_state_claim = 896
				add_state_claim = 544
				add_state_claim = 891
				add_state_claim = 892
				add_state_claim = 540
				add_state_claim = 796
				add_state_claim = 295
				add_state_claim = 888
				add_state_claim = 889
				add_state_claim = 890
				add_state_claim = 718
				add_state_claim = 538
			}

			add_state_claim = 708
			add_state_claim = 543
			add_state_claim = 542
			add_state_claim = 268
			add_state_claim = 297
			add_state_claim = 705
			add_state_claim = 781
			add_state_claim = 778
			add_state_claim = 779
			add_state_claim = 780
			add_state_claim = 700
			add_state_claim = 298
			add_state_claim = 296

		}
	}



	 #######  ##       ########      #######  ########  ########   #######   ######  ########    ##     ## #### ######## ##       ######## ########  
	##     ## ##       ##     ##    ##     ## ##     ## ##     ## ##     ## ##    ## ##          ##     ##  ##     ##    ##       ##       ##     ## 
	##     ## ##       ##     ##    ##     ## ##     ## ##     ## ##     ## ##       ##          ##     ##  ##     ##    ##       ##       ##     ## 
	##     ## ##       ##     ##    ##     ## ########  ########  ##     ##  ######  ######      #########  ##     ##    ##       ######   ########  
	##     ## ##       ##     ##    ##     ## ##        ##        ##     ##       ## ##          ##     ##  ##     ##    ##       ##       ##   ##   
	##     ## ##       ##     ##    ##     ## ##        ##        ##     ## ##    ## ##          ##     ##  ##     ##    ##       ##       ##    ##  
	 #######  ######## ########      #######  ##        ##         #######   ######  ########    ##     ## ####    ##    ######## ######## ##     ##
	#### THE OLD OPPOSE HITLER BRANCHES #### ~(>_<~) 

	focus = {
		id = GER_oppose_hitler
		icon = GFX_focus_ger_oppose_hitler

		allow_branch = {

			NOT = { has_dlc = "Gotterdammerung" } 

			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = GER_remilitarize_the_rhineland
				}
			}

		}

		available = {
			is_subject = no
			has_government = fascism
		}

		x = 34
		y = 0

		relative_position_id = GER_remilitarize_the_rhineland

		offset = {
			x = -42
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_oppose_hitler
			}
		}
		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_reestablish_free_elections
			}
		}

		offset = {
			x = -1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_revive_the_kaiserreich
			}
		}

		mutually_exclusive = { focus = GER_remilitarize_the_rhineland }

		cost = 10

		ai_will_do = {
			factor = 7
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			hidden_effect = { #offset from fascist reasons on 00_on_actions
				add_ai_strategy = {
				   type = alliance
				   id = POL
				   value = 2000
				}
				POL = {
					add_ai_strategy = {
					   type = alliance
					   id = GER
					   value = 2000
					}
				}
			}

			custom_effect_tooltip = GER_oppose_hitler_civil_war

			effect_tooltip = {
				GER_remove_mefo_bills = yes
			}

			42 = { set_demilitarized_zone = no }
			51 = { set_demilitarized_zone = no }
			978 = { set_demilitarized_zone = no }

			custom_effect_tooltip = generic_skip_one_line_tt

			add_political_power = 120
			add_named_threat = { threat = 5 name = GER_oppose_hitler }

			country_event = { id = wtt_germany.1 }

			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = GER_secure_the_new_state
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = GER_oppose_hitler }
		available = {
			is_subject = no
			has_war = no
			NOT = {
				any_country = {
					original_tag = GER
					has_government = fascism
				}
			}
		}
		x = 0
		y = 2
		relative_position_id = GER_oppose_hitler
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			add_political_power = 120
			add_timed_idea = {
				idea = GER_clamp_down_on_fascism
				days = 720
			}
		}
	}

	focus = {
		id = GER_revive_the_kaiserreich
		icon = GFX_focus_ger_revive_kaiserreich
		prerequisite = { focus = GER_secure_the_new_state }
		mutually_exclusive = { focus = GER_reestablish_free_elections }
		bypass = {
			has_country_flag = GER_mackensen_dead
			NOT = { has_government = democratic }
		}

		allow_branch = {
			NOT = { has_dlc = "Gotterdammerung" } 
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = GER_remilitarize_the_rhineland
						has_completed_focus = GER_reestablish_free_elections
					}
				}
			}
		}

		offset = {
			x = 1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_revive_the_kaiserreich
			}
		}

		available = {
			is_subject = no
		}
		x = -1
		y = 1
		relative_position_id = GER_secure_the_new_state
		cost = 10
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = GER_revive_the_kaiserreich
			custom_effect_tooltip = GER_revive_the_kaiserreich_tt
			hidden_effect = { set_cosmetic_tag = GER_german_empire }
			set_party_name = { ideology = neutrality long_name = GER_neutrality_party_kaiserreich_long name = GER_neutrality_party_kaiserreich }
			set_rule = { can_send_volunteers = yes }
			add_named_threat = { threat = 5 name = GER_revive_the_kaiserreich }
			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = GER_rebuild_the_nation
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = GER_revive_the_kaiserreich focus = GER_reestablish_free_elections }

		allow_branch = {
			NOT = { has_dlc = "Gotterdammerung" }
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = GER_remilitarize_the_rhineland
				}
			}
		}

		available = {
		}
		x = 1
		y = 1
		relative_position_id = GER_revive_the_kaiserreich
		cost = 10
		ai_will_do = {
			factor = 9
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_timed_idea = { idea = GER_rebuild_the_nation days = 365 }
			add_ideas = GER_national_revitalization
		}
	}

	focus = {
		id = GER_fan_the_prussian_militarism
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = GER_rebuild_the_nation }
		available = {
		}
		x = -1
		y = 1
		relative_position_id = GER_rebuild_the_nation
		cost = 5
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = GER_national_revitalization
						has_idea = GER_national_revitalization3
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_national_revitalization
						add_idea = GER_national_revitalization2
					}
				}
			}
			if = {
				limit = {
					has_idea = GER_national_revitalization
				}
				swap_ideas = {
					remove_idea =GER_national_revitalization
					add_idea = GER_national_revitalization2
				}
			}
			if = {
				limit = {
					has_idea = GER_national_revitalization3
				}
				swap_ideas = {
					remove_idea = GER_national_revitalization3
					add_idea = GER_national_revitalization4
				}
			}
		}
	}

	focus = {
		id = GER_a_new_and_better_germany
		icon = GFX_goal_generic_construction
		prerequisite = { focus = GER_rebuild_the_nation }
		available = {
		}
		x = 1
		y = 1
		relative_position_id = GER_rebuild_the_nation
		cost = 5
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = GER_national_revitalization
						has_idea = GER_national_revitalization2
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_national_revitalization
						add_idea = GER_national_revitalization3
					}
				}
			}
			if = {
				limit = {
					has_idea = GER_national_revitalization
				}
				swap_ideas = {
					remove_idea = GER_national_revitalization
					add_idea = GER_national_revitalization3
				}
			}
			if = {
				limit = {
					has_idea = GER_national_revitalization2
				}
				swap_ideas = {
					remove_idea = GER_national_revitalization2
					add_idea = GER_national_revitalization4
				}
			}
		}
	}

	focus = {
		id = GER_bulwark_against_bolshevism
		icon = GFX_focus_ger_bulwark_against_bolshevism
		prerequisite = { focus = GER_fan_the_prussian_militarism }
		prerequisite = { focus = GER_a_new_and_better_germany }
		available = {
			is_subject = no
		}
		x = 1
		y = 1
		relative_position_id = GER_fan_the_prussian_militarism
		cost = 10
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = GER_bulwark_against_bolshevism
			custom_effect_tooltip = GER_bulwark_against_bolshevism_tt
			SOV = { 
				add_opinion_modifier = { target = GER modifier = embargo } 
			}
		}
	}

	focus = {
		id = GER_return_of_the_kaiser
		icon = GFX_focus_ger_return_of_the_kaiser
		prerequisite = { focus = GER_revive_the_kaiserreich }
		available = {
			is_subject = no
			neutrality > 0.4
			has_country_leader = { ruling_only = yes character = GER_august_von_mackensen }
			HOL = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		bypass = {
			has_country_flag = GER_mackensen_dead
			NOT = { has_government = democratic }
		}
		x = -2
		y = 1
		relative_position_id = GER_revive_the_kaiserreich
		cost = 5
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_return_of_the_kaiser }
			HOL = {
				country_event = { 
					id = wtt_germany.3 
					hours = 6
				}
			}
		}
	}

	focus = {
		id = GER_focus_on_the_true_enemy
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = GER_return_of_the_kaiser }
		#prerequisite = { focus = GER_naval_effort }
		mutually_exclusive = { focus = GER_expatriate_the_communists }
		available = {
			is_subject = no
		}
		x = -6
		y = 1
		relative_position_id = GER_return_of_the_kaiser
		cost = 10
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			add_named_threat = { threat = 5 name = GER_focus_on_the_true_enemy }
			swap_ideas = {
				remove_idea = GER_revive_the_kaiserreich
				add_idea = GER_revive_the_kaiserreich2
			}
		}
	}

	focus = {
		id = GER_rebuild_the_high_seas_fleet
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = GER_focus_on_the_true_enemy }
		mutually_exclusive = { focus = GER_accept_british_naval_dominance }
		#mutually_exclusive = { focus = GER_plan_z focus = GER_u_boat_effort focus = GER_accept_british_naval_dominance }
		available = {
			is_subject = no
		}
		x = 0
		y = 2
		relative_position_id = GER_focus_on_the_true_enemy
		cost = 10
		ai_will_do = {
			factor = 1
		}
		complete_tooltip = {
			navy_experience = 50
			every_state = {
				limit = { has_state_flag = GER_rebuild_the_high_seas_fleet_dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = bc_bonus
				bonus = 1.0
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = bb_bonus
				bonus = 1.0
				uses = 1
				category = bb_tech
				category = shbb_tech
			}
			add_ideas = GER_rebuild_the_high_seas_fleet
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 50
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_rebuild_the_high_seas_fleet_dockyards
			}
			add_tech_bonus = {
				name = bc_bonus
				bonus = 1.0
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = bb_bonus
				bonus = 1.0
				uses = 1
				category = bb_tech
				category = shbb_tech
			}
			add_ideas = GER_rebuild_the_high_seas_fleet
		}
	}

	focus = {
		id = GER_our_place_in_the_sun
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = GER_rebuild_the_high_seas_fleet }
		available = {
			is_subject = no
		}
		x = 0
		y = 1
		relative_position_id = GER_rebuild_the_high_seas_fleet
		cost = 5
		ai_will_do = {
			factor = 1
		}
		dynamic = yes
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_our_place_in_the_sun
				}
			}
			FRA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_our_place_in_the_sun
				}
			}
			add_named_threat = { threat = 5 name = GER_our_place_in_the_sun }
			if = {
				limit = {
					743 = { is_controlled_by = event_target:WTT_current_china_leader }
					NOT = {
						has_war_with = event_target:WTT_current_china_leader
					}
				}
				event_target:WTT_current_china_leader = { country_event = { id = wtt_germany.38 days = 1 } }
			}
			if = {
				limit = {
					743 = { is_controlled_by = JAP }
					NOT = {
						has_war_with = JAP
					}
				}
				JAP = { country_event = { id = wtt_germany.43 days = 1 } }
			}
		}
	}

	focus = {
		id = GER_pride_of_the_modern_germany
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = GER_our_place_in_the_sun }
		available = {
			is_subject = no
		}
		x = 0
		y = 1
		relative_position_id = GER_our_place_in_the_sun
		cost = 10
		ai_will_do = {
			factor = 9
		}
		
		complete_tooltip = {
			navy_experience = 50
			every_state = {
				limit = { has_state_flag = GER_rebuild_the_high_seas_fleet_dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = GER_pride_of_the_modern_germany
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = bc_tech
				category = bb_tech
				category = shbb_tech
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 50
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_pride_of_the_modern_germany_dockyards
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					NOT = { has_state_flag = GER_pride_of_the_modern_germany_dockyards }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_pride_of_the_modern_germany_dockyards
			}
			add_tech_bonus = {
				name = GER_pride_of_the_modern_germany
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = bc_tech
				category = bb_tech
				category = shbb_tech
			}
		}
	}

	focus = {
		id = GER_prepare_for_the_next_blockade
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = GER_our_place_in_the_sun }
		available = {
			is_subject = no
		}
		x = -1
		y = 2
		relative_position_id = GER_our_place_in_the_sun
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
			add_ideas = GER_prepare_for_the_next_blockade
		}
	}

	focus = {
		id = GER_break_the_anglo_french_colonial_hegemony
		icon = GFX_focus_ger_break_anglo_french_colonial_hegemony
		prerequisite = { focus = GER_prepare_for_the_next_blockade }
		available = {
			is_subject = no
			NOT = { is_ally_with = ENG }
			NOT = { is_ally_with = FRA }
			NOT = { ENG = { has_completed_focus = ENG_decolonization } }
		}
		cancel_if_invalid = yes
		will_lead_to_war_with = ENG
		will_lead_to_war_with = FRA
		x = 0
		y = 1
		relative_position_id = GER_prepare_for_the_next_blockade
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = ENG
				expire = 0
			}
			create_wargoal = {
				type = annex_everything
				target = FRA
				expire = 0
			}
			if = {
				limit = {
					BEL = {
						OR = {
							owns_state = 768
							owns_state = 769
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = BEL
					expire = 0
					generator = { 768 769 }
				}
			}
			if = {
				limit = {
					NOT = {
						SAF = {
							is_subject_of = ENG
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = SAF
					expire = 0
					generator = { 541 }
				}
			}
			if = {
				limit = {
					country_exists = NMB
				}
				create_wargoal = {
					type = take_state_focus
					target = NMB
					expire = 0
					generator = { 541 }
				}
			}
			if = {
				limit = {
					country_exists = CMR
				}
				create_wargoal = {
					type = take_state_focus
					target = CMR
					expire = 0
					generator = { 773 }
				}
			}
			if = {
				limit = {
					country_exists = TOG
				}
				create_wargoal = {
					type = take_state_focus
					target = TOG
					expire = 0
					generator = { 777 }
				}
			}
			if = {
				limit = {
					country_exists = TZN
				}
				create_wargoal = {
					type = take_state_focus
					target = TZN
					expire = 0
					generator = { 549 }
				}
			}
			if = {
				limit = {
					country_exists = RWA
				}
				create_wargoal = {
					type = take_state_focus
					target = RWA
					expire = 0
					generator = { 768 }
				}
			}
			if = {
				limit = {
					country_exists = BRD
				}
				create_wargoal = {
					type = take_state_focus
					target = BRD
					expire = 0
					generator = { 769 }
				}
			}
			add_state_claim = 523
			add_state_claim = 773
			add_state_claim = 541
			add_state_claim = 546
			add_state_claim = 737
			add_state_claim = 684
			add_state_claim = 633
			add_state_claim = 646
			add_state_claim = 647
			add_state_claim = 726
			add_state_claim = 777
			add_state_claim = 768
			add_state_claim = 769
		}
	}

	focus = {
		id = GER_schlieffen_once_more # Schlieffen 2.0!
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = GER_break_the_anglo_french_colonial_hegemony }
		available = {
			is_subject = no
			OR = {
				has_war_with = FRA
				AND = {
					has_war_with = ENG
					has_global_flag = flag_franco_british_union
				}
			}
			NOT = { is_ally_with = BEL }
			NOT = { is_ally_with = LUX }
		}
		bypass = {
			NOT = { country_exists = BEL }
			NOT = { country_exists = LUX }
		}
		cancel_if_invalid = yes
		will_lead_to_war_with = BEL
		will_lead_to_war_with = LUX
		x = 0
		y = 1
		relative_position_id = GER_break_the_anglo_french_colonial_hegemony
		cost = 4
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = BEL
				expire = 0
			}
			create_wargoal = {
				type = annex_everything
				target = LUX
				expire = 0
			}
		}
	}

	focus = {
		id = GER_the_central_powers
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GER_our_place_in_the_sun }
		available = {
			is_subject = no
		}
		bypass = {
			is_in_faction = yes
		}
		x = 1
		y = 2
		relative_position_id = GER_our_place_in_the_sun
		cost = 5
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = "GER_central_powers_faction"
			}

			if = {
				limit = {
					ITA = { 
						is_subject = no
						is_in_faction = no
						has_government = neutrality
						NOT = { has_war_with = GER }
					}					
				}
				ITA = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					HUN = { 
						is_subject = no
						is_in_faction = no
						has_government = neutrality
						NOT = { has_war_with = GER }
					}					
					NOT = { country_exists = AUS }
				}
				HUN = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					AUS = { 
						exists = yes
						is_subject = no
						is_in_faction = no
						has_government = neutrality
						NOT = { has_war_with = GER }
					}		
					NOT = { country_exists = HUN }			
				}
				AUS = { country_event = { id = generic.5 } }
			}
			if = {
                limit = {
                    BUL = { 
                        exists = yes
                        is_subject = no
                        is_in_faction = no
                        has_government = neutrality
                        NOT = { has_war_with = GER }
                    }
                }
                BUL = { country_event = { id = generic.5 } }
            }
		}
	}

	focus = {
		id = GER_prepare_italian_coup
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = GER_the_central_powers }
		available = {
			is_subject = no
			NOT = { has_war_with = ITA }
			ITA = {
				has_government = fascism
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_the_central_powers
		cost = 10
		ai_will_do = {
			factor = 10
		}

		select_effect = {
			ITA = {
				country_event = {
				    id = wtt_germany.1006
				    days = 1
				    random = 2
				}
			}
		}
		
		completion_reward = {
			ITA = {
				country_event = { id = wtt_germany.8 }
			}
			custom_effect_tooltip = GER_prepare_italian_coup_tt
			effect_tooltip = {
				ITA = {
					add_timed_idea = { idea = GER_preparing_ITA_coup days = 1095 }
				}
			}
		}
	}

	focus = {
		id = GER_assassinate_mussolini
		icon = GFX_focus_ger_assassinate_mussolini
		prerequisite = { focus = GER_prepare_italian_coup }
		available = {
			is_subject = no
			NOT = { has_war_with = ITA }
			ITA = { has_country_leader = { ruling_only = yes character = ITA_benito_mussolini } }
			NOT = {	ITA = {	has_completed_focus = ITA_banda_carita } }
			custom_trigger_tooltip = {
				tooltip = GER_italy_declined_assassination_tt
				NOT = {
					has_country_flag = GER_italy_declined_assassination_of_mussolini_flag
				}
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_prepare_italian_coup
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			ITA = {
				country_event = { id = wtt_germany.11 }
			}
			effect_tooltip = {
				ITA = {
					set_politics = { ruling_party = neutrality elections_allowed = no }
					add_popularity = { ideology = neutrality popularity = 0.1 }
					effect_tooltip = {
						create_country_leader = {
							name = "Vittorio Emanuele III"
							desc = "POLITICS_VITTORIO_EMANUELE_III_DESC"
							picture = "GFX_portrait_italy_vittorio_emanuele_iii"
							expire = "1965.1.1"
							ideology = despotism
							traits = {
								the_soldier_king
							}
						}
					}
					swap_ideas = {
						remove_idea = GER_preparing_ITA_coup
						add_idea = GER_preparing_ITA_coup2
					}
					GER = {
						add_to_faction = ITA
						country_event = { id = wtt_germany.12 }
					}
				}
			}
		}
	}

	focus = {
		id = GER_rekindle_imperial_sentiment
		icon = GFX_focus_proclaim_the_restauration_of_Austria_Hungary
		prerequisite = { focus = GER_the_central_powers }
		available = {
			is_subject = no
			NOT = { has_war_with = AUS }
			NOT = { has_war_with = HUN }
			NOT = { has_war_with = CZE }
		}
		bypass = {
			HUN = {
				is_in_faction_with = ROOT
				has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary
			}
		}
		cancel_if_invalid = yes
		x = 2
		y = 1
		relative_position_id = GER_the_central_powers
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			if = {
				limit = {
					AUS = { exists = yes }
				}
				AUS = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			if = {
				limit = {
					HUN = { exists = yes }
				}
				HUN = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			if = {
				limit = {
					CZE = { exists = yes }
				}
				CZE = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			custom_effect_tooltip = GER_rekindle_imperial_sentiment_tt
		}
	}

	focus = {
		id = GER_expatriate_the_communists
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_return_of_the_kaiser }
		mutually_exclusive = { focus = GER_focus_on_the_true_enemy }
		available = {
			is_subject = no
			NOT = { has_war_with = FRA }
		}
		cancel_if_invalid = yes
		x = -2
		y = 1
		relative_position_id = GER_return_of_the_kaiser
		cost = 10
		ai_will_do = {
			factor = 0.5
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			add_timed_idea = {
				idea = GER_expatriate_the_communists
				days = 720
			}
			add_named_threat = { threat = 5 name = GER_expatriate_the_communists }
			FRA = { 
				add_timed_idea = {
					idea = GER_communist_refugees
					days = 720
				}
				country_event = { id = wtt_germany.17 }
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = { has_dlc = "La Resistance" }
						AND = {
							has_global_flag = spanish_civil_war
							NOT = { has_global_flag = scw_over }
						}
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = communism
						}
						country_event = { id = wtt_germany.2 days = 1 }
					}
				}
				if = {
					limit = {
						has_dlc = "La Resistance"
						AND = {
							has_global_flag = spanish_civil_war
							NOT = { has_global_flag = scw_over }
						}
					}
					SPD = {
						country_event = { id = wtt_germany.2 days = 1 }
					}
				}
			}
		}
	}

	focus = {
		id = GER_accept_british_naval_dominance
		icon = GFX_focus_ger_accept_british_naval_dominance
		prerequisite = { focus = GER_expatriate_the_communists }
		mutually_exclusive = { focus = GER_rebuild_the_high_seas_fleet }
		#mutually_exclusive = { focus = GER_plan_z focus = GER_u_boat_effort focus = GER_rebuild_the_high_seas_fleet }
		available = {
			is_subject = no
			NOT = { has_war_with = ENG }
		}
		cancel_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = GER_expatriate_the_communists
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_accept_british_naval_dominance_opinion
				}
			}
			add_ideas = GER_redirecting_naval_production
		}
	}

	focus = {
		id = GER_ally_the_shade
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = GER_accept_british_naval_dominance }
		available = {
			is_subject = no
			NOT = { has_war_with = ENG }
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_accept_british_naval_dominance
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			ENG = {
				country_event = { 
					id = generic.2 
					hours = 2
				}
				add_ai_strategy = {
					type = befriend
					id = GER			
					value = 1000
				}
				add_ai_strategy = {
					type = alliance
					id = GER			
					value = 200
				}	
			}
		}
	}

	focus = {
		id = GER_carte_blanche_for_alsace_and_french_colonies
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = GER_ally_the_shade }
		will_lead_to_war_with = FRA
		available = {
			is_subject = no
			FRA = { has_government = communism }
			NOT = { is_in_faction_with = FRA }
		}
		cancel_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = GER_ally_the_shade
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = FRA
				expire = 0
			}
			add_state_claim = 28
			add_state_claim = 773
			add_state_claim = 777
		}
	}

	focus = {
		id = GER_bypass_maginot_in_the_south
		icon = GFX_focus_attack_switzerland
		prerequisite = { focus = GER_carte_blanche_for_alsace_and_french_colonies }
		available = {
			is_subject = no
			has_war_with = FRA
			NOT = { is_in_faction_with = SWI }
		}
		bypass = {
			NOT = { country_exists = SWI }
		}
		cancel_if_invalid = yes
		will_lead_to_war_with = SWI
		x = 0
		y = 2
		relative_position_id = GER_carte_blanche_for_alsace_and_french_colonies
		cost = 4
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = SWI
				expire = 0
			}
		}
	}

	focus = {
		id = GER_reinstate_imperial_possessions
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = GER_schlieffen_once_more focus = GER_bypass_maginot_in_the_south }
		available = {
			is_subject = no
			has_full_control_of_state = 28
			OR = {
				FRA = { has_capitulated = yes }
				FRA = { is_subject_of = GER }
				NOT = {
					any_country = {
						original_tag = FRA
						exists = yes
					}
				}
				owns_state = 28
			}
		}
		bypass = {
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_schlieffen_once_more
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_state_core = 28
			if = {
				limit = {
					NOT = { owns_state = 28 }
				}
				transfer_state = 28
			}
			28 = { set_state_name = "Elsass-Lothringen" }
			set_province_name = { id = 9503 name = "Strassburg" }
			set_province_name = { id = 678 name = "Mulhausen" }
			if = {
				limit = {
					FRA = {
						exists = yes
					}	
				}
				FRA = {
					country_event = { id = wtt_germany.63 }
				}
			}
		}
	}

	focus = {
		id = GER_see_to_the_eastern_front
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = GER_return_of_the_kaiser }
		available = { 
			is_subject = no
			has_full_control_of_state = 5
		}

		bypass = {
			any_country = {
				owns_state = 188
				is_in_faction_with = GER
			}	
		}
		
		cancel_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = GER_return_of_the_kaiser
		cost = 10
		ai_will_do = {
			factor = 5
		}


		completion_reward = {
			188 = { add_claim_by = GER }
			add_named_threat = { threat = 4 name = GER_demand_memel_threat }
			random_other_country = {
				limit = {
					owns_state = 188
					controls_state = 188 
				}
				country_event = { 
					id = baltic.4 
					days = 1
					random_days = 3
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 5
				}
				5 = {
					custom_effect_tooltip = GER_see_to_the_eastern_front_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 9327
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 11386
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 9372
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 763
				}
				763 = {
					custom_effect_tooltip = GER_see_to_the_eastern_front_tt2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 11265
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 348
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 281
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 3384
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_danzig_for_guarantees
		icon = GFX_focus_POL_clamp_down_on_danzig
		prerequisite = { focus = GER_see_to_the_eastern_front }
		prerequisite = { focus = GER_bulwark_against_bolshevism }
		available = { 
			is_subject = no
			NOT = { has_war_with = POL }
			NOT = { is_in_faction_with = POL }
			POL = { has_civil_war = no }
		}
		bypass = {
			OR = {
				AND = {
					POL = { has_war = yes }
					POL = { has_civil_war = no }
					NOT = { has_war_with = POL }
				}
				AND = {
					POL = { is_subject = yes }
					NOT = { POL = { is_subject_of = GER } }
				}
				POL = { exists = no }
				AND = {
					owns_state = 85
					owns_state = 86
					owns_state = 762
					owns_state = 807
				}
			}
		}
		cancel_if_invalid = yes
		x = 2
		y = 2
		relative_position_id = GER_see_to_the_eastern_front
		cost = 10
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			POL = { country_event = { id = wtt_germany.14 } }
		}
	}

	focus = {
		id = GER_safeguard_the_baltic
		icon = GFX_goal_generic_defence
		prerequisite = { focus = GER_see_to_the_eastern_front }
		available = {
			is_subject = no
			NOT = { has_war_with = EST }
			NOT = { has_war_with = LAT }
			NOT = { has_war_with = LIT }
		}
		bypass = {
			OR = {
				has_guaranteed = EST
				NOT = { country_exists = EST }
				AND = {
					EST = { has_war = yes }
					NOT = { has_war_with = EST }
				}
				AND = {
					EST = { is_subject = yes }
					NOT = { EST = { is_subject_of = GER } }
				}
			}
			OR = {
				has_guaranteed = LAT
				NOT = { country_exists = LAT }
				AND = {
					LAT = { has_war = yes }
					NOT = { has_war_with = LAT }
				}
				AND = {
					LAT = { is_subject = yes }
					NOT = { LAT = { is_subject_of = GER } }
				}
			}
			OR = {
				has_guaranteed = LIT
				NOT = { country_exists = LIT }
				AND = {
					LIT = { has_war = yes }
					NOT = { has_war_with = LIT }
				}
				AND = {
					LIT = { is_subject = yes }
					NOT = { LIT = { is_subject_of = GER } }
				}
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_see_to_the_eastern_front
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			if = {
				limit = { country_exists = EST }
				EST = {	
					add_timed_idea = {
						idea = GER_safeguard_the_baltic
						days = 720
					}
					add_ai_strategy = {
						type = befriend
						id = "GER"			
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}
				}

				if = { 
					limit = { NOT = { is_subject_of = ROOT } }
					give_guarantee = EST
				}
			}
			if = {
				limit = { country_exists = LAT }
				LAT = {
					add_timed_idea = {
						idea = GER_safeguard_the_baltic
						days = 720
					}
					add_ai_strategy = {
						type = befriend
						id = "GER"			
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}
				}

				if = { 
					limit = { NOT = { is_subject_of = ROOT } }
					give_guarantee = LAT
				}
			}
			if = {
				limit = { country_exists = LIT }
				LIT = {
					add_timed_idea = {
						idea = GER_safeguard_the_baltic
						days = 720
					}
					add_ai_strategy = {
						type = befriend
						id = "GER"			
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}
				}

				if = { 
					limit = { NOT = { is_subject_of = ROOT } }
					give_guarantee = LIT
				}
			}
		}
	}

	focus = {
		id = GER_support_the_finns
		icon = GFX_focus_FIN_a_cry_for_help_2
		prerequisite = { focus = GER_safeguard_the_baltic }
		
		available = {
			is_subject = no
			NOT = { has_war_with = FIN }
			FIN = {
				NOT = { has_government = communism }
				OR = {
					is_ally_with = GER
					is_in_faction = no
				}
			}
		}

		bypass = {
			OR = {
				FIN = { exists = no }
				FIN = { has_government = communism }
				AND = {
					FIN = { is_subject = yes }
					NOT = { FIN = { is_subject_of = GER } }
				}
				AND = { #Using AND for tooltip purposes only
					FIN = { is_in_faction = yes }
					FIN = { NOT = { is_in_faction_with = GER } }
				}
			}
		}

		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_safeguard_the_baltic
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			if = {
				limit = {
					FIN = {
						has_war = no
					}
				}
				diplomatic_relation = {
					country = FIN
					relation = guarantee
					active = yes
				}
			}
			add_ai_strategy = {
				type = support
				id = "FIN"			
				value = 200
			}
			FIN = {
				add_timed_idea = {
					idea = GER_FIN_industrial_support
					days = 730
				}
				add_ai_strategy = {
					type = befriend
					id = "GER"			
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "GER"			
					value = 200
				}
			}
		}
	}

	focus = {
		id = GER_anti_comintern_pact_unaligned
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_support_the_finns }
		prerequisite = { focus = GER_danzig_for_guarantees }
		x = 1
		y = 1
		relative_position_id = GER_support_the_finns
		cost = 10
		available = {
			is_subject = no
			NOT = { has_government = communism }
			NOT = { is_in_faction_with = SOV }
		}
		bypass = {
			SOV = {
				NOT = {
					has_government = communism
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			SOV = { add_opinion_modifier = { target = ROOT modifier = pact_against_us } }
			add_named_threat = { threat = 2 name = GER_anti_comintern_pact_unaligned }
			every_other_country = {
				limit = {
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
					NOT = { is_in_faction_with = SOV }
					is_subject = no
					OR = {
						capital_scope = {
								is_on_continent = europe
						}
						AND = {
							capital_scope = {
									is_on_continent = asia
							}
							is_neighbor_of = SOV
						}
						num_of_factories > 30
					}
					OR = {
						has_government = neutrality 
						AND = {
							is_neighbor_of = SOV
							NOT = { has_government = communism }
						}
					}
				}
				country_event = germany.5
			}
		}
	}

	focus = {
		id = GER_anti_soviet_pact_unaligned
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_anti_comintern_pact_unaligned }
		available = {
			is_subject = no
			has_army_manpower = { size > 849999 } #ca 90 div
		}
		bypass = {
			SOV = {
				NOT = {
					has_government = communism
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_anti_comintern_pact_unaligned
		cost = 10
		ai_will_do = {
			factor = 2.5	
		}
		completion_reward = {
			hidden_effect = {
				SOV = { remove_opinion_modifier = { target = ROOT modifier = pact_against_us } }
				add_ideas = anti_soviet_pact
			}
			SOV = { add_opinion_modifier = { target = ROOT modifier = worse_pact_against_us } }
			custom_effect_tooltip = GER_anti_soviet_pact_tt_3
			custom_effect_tooltip = GER_anti_soviet_pact_tt
			custom_effect_tooltip = GER_anti_soviet_pact_tt_2
			every_other_country = {
				limit = {
					has_opinion_modifier = anti_comintern_pact_opinion
					is_subject = no
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
					NOT = { has_idea = anti_soviet_pact }
				}
				country_event = germany.83
			}
			hidden_effect = {
				news_event = { id = wtt_news.20 hours = 6 }
			}
		}
	}

	focus = {
		id = GER_tackle_the_communist_threat
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = GER_anti_soviet_pact_unaligned focus = GER_carte_blanche_for_alsace_and_french_colonies }
		available = {
			is_subject = no
			SOV = {
				has_government = communism
				has_war = yes
			}
			NOT = { is_in_faction_with = SOV }
		}
		bypass = {
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_anti_soviet_pact_unaligned
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = { is_in_faction = yes }
				}
				create_faction = "GER_anti_communist_bloc"
			}
			create_wargoal = {
				type = annex_everything
				target = SOV
				expire = 0
			}
		}
	}

	focus = {
		id = GER_the_iberian_problem
		icon = GFX_focus_generic_attack_communist_spain
		prerequisite = { focus = GER_tackle_the_communist_threat }
		available = {
			is_subject = no
			any_country = {
				original_tag = SPR
				has_government = communism
				NOT = { has_war_with = ROOT }
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_tackle_the_communist_threat
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			custom_effect_tooltip = GER_spain_wargoal_tt
			hidden_effect = {
				random_other_country = {
					limit = {
						original_tag = SPR
						has_government = communism
					}
					GER = {
						create_wargoal = {
							type = annex_everything
							target = PREV
							expire = 0
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_reestablish_free_elections
		icon = GFX_goal_support_democracy
		prerequisite = { focus = GER_secure_the_new_state }
		mutually_exclusive = { focus = GER_revive_the_kaiserreich }
	
		allow_branch = {
			NOT = { has_dlc = "Gotterdammerung" } 
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = GER_remilitarize_the_rhineland
						has_completed_focus = GER_revive_the_kaiserreich
					}
				}
			}
		}

		offset = {
			x = -1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_reestablish_free_elections
			}
		}
	
		available = {
			is_subject = no
		}
		cancel_if_invalid = yes
		x = 1
		y = 1
		relative_position_id = GER_secure_the_new_state
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_timed_idea = {
				idea = GER_reestablish_free_elections
				days = 720
			}
			set_party_name = { ideology = neutrality long_name = GER_neutrality_party_kaiserreich_long name = GER_neutrality_party_kaiserreich }
			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = GER_the_monarchy_compromise
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = GER_reestablish_free_elections }
		available = {
			is_subject = no
			democratic > 0.4
		}
		cancel_if_invalid = yes
		x = 2
		y = 1
		relative_position_id = GER_reestablish_free_elections
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_popularity = { ideology = democratic popularity = 0.1 }
			set_politics = { ruling_party = democratic elections_allowed = yes }
			add_ideas = { GER_wilhelm_iii }
			add_stability = 0.05
			hidden_effect = {
				set_cosmetic_tag = GER_german_monarchy
			}
		}
	}

	focus = {
		id = GER_the_great_red_menace
		icon = GFX_focus_ger_great_red_menace
		prerequisite = { focus = GER_the_monarchy_compromise }
		available = {
			is_subject = no
			has_war = no
			SOV = { 
				NOT = {
					has_government = democratic 
				}
			}
			has_added_tension_amount < 15
		}
		cancel_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = GER_the_monarchy_compromise
		cost = 10
		ai_will_do = {
			factor = 8
		}
		
		completion_reward = {
			add_named_threat = { threat = 10 name = GER_the_great_red_menace }
			SOV = { country_event = { id = wtt_germany.19 days = 1 } }
			hidden_effect = { news_event = { id = wtt_news.21 hours = 6 } }
			every_other_country = {
				limit = {
					any_owned_state = { is_on_continent = europe }
					NOT = {
						tag = ENG
						tag = FRA
						tag = SWI
						tag = ITA
						tag = IRE
						tag = TUR
						tag = ALB
						original_tag = SPR
						tag = POR
						tag = GRE
						has_government = communism
						has_government = fascism
					}
				}
				country_event = { id = wtt_germany.24 }
				add_timed_idea = { idea = GER_the_great_red_menace days = 1095 }
				add_ai_strategy = {
					type = befriend
					id = "GER"			
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = "ENG"			
					value = -200
				}
			}
			SOV = { 
				add_opinion_modifier = { target = GER modifier = embargo } 
			}
		}
	}

	focus = {
		id = GER_central_european_alliance
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = GER_the_great_red_menace }
		prerequisite = { focus = GER_bulwark_against_bolshevism }
		available = {
			is_subject = no
			has_war = no
		}

		bypass = {
			is_faction_leader = yes
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_the_great_red_menace
		cost = 10
		ai_will_do = {
			factor = 5
		}
		
		completion_reward = {
			custom_effect_tooltip = GER_central_european_alliance_tt
			effect_tooltip = {
				create_faction = "GER_central_european_alliance"
			}
			hidden_effect = {
				if = {
					limit = {
						is_in_faction = no
					}
					create_faction = "GER_central_european_alliance"
				}
			}
			every_country = {
				limit = {
					has_idea = GER_the_great_red_menace
					has_idea = neutrality_idea
				}
				remove_ideas = neutrality_idea
			}
			SOV = { country_event = { id = wtt_germany.20 days = 1 } }
			hidden_effect = {
				news_event = { id = wtt_news.22 hours = 6 }
				if = {
					limit = {
						FRA = { has_government = communism }
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = communism
						}
						add_ai_strategy = {
							type = befriend
							id = "FRA"			
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = "FRA"			
							value = 200
						}
					}
				}
				if = {
					limit = {
						SOV = { has_government = communism }
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = communism
							NOT = { has_completed_focus = SPR_hinder_nkvd_interference }
						}
						add_ai_strategy = {
							type = befriend
							id = "SOV"			
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = "SOV"			
							value = 200
						}
					}
				}
				if = {
					limit = {
						FRA = { has_government = fascism }
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = fascism
						}
						add_ai_strategy = {
							type = befriend
							id = "FRA"			
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = "FRA"			
							value = 200
						}
					}
				}
				if = {
					limit = {
						SOV = { has_government = fascism } #futureproofing
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = fascism
						}
						add_ai_strategy = {
							type = befriend
							id = "SOV"			
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = "SOV"			
							value = 200
						}
					}
				}
				# Making England less likely to guarantee European nations.
				ENG = {
					GER_democratic_nations_ai_strategies = yes
				}
			}
		}
	}

	focus = {
		id = GER_danubian_membership
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = GER_central_european_alliance }
		available = {
			is_subject = no
			is_faction_leader = yes
			NOT = { has_war_with = AUS }
			NOT = { has_war_with = CZE }
			NOT = { has_war_with = HUN }
		}
		bypass = {
			OR = {
				NOT = { country_exists = AUS }
				AUS = { is_subject = yes }
				is_in_faction_with = AUS
			}
			OR = {
				NOT = { country_exists = CZE }
				CZE = { is_subject = yes }
				is_in_faction_with = HUN
			}
			OR = {
				NOT = { country_exists = HUN }
				HUN = { is_subject = yes }
				is_in_faction_with = HUN
			}

		}
		cancel_if_invalid = yes
		x = -2
		y = 1
		relative_position_id = GER_central_european_alliance
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					AUS = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						exists = yes
						is_subject = no
					}
					
				}
				AUS = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					CZE = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						exists = yes
						is_subject = no
					}					
				}
				CZE = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					HUN = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						exists = yes
						is_subject = no
					}
					
				}
				HUN = {
					country_event = { id = generic.5 }
				}
			}
		}
	}

	focus = {
		id = GER_danubian_expansion
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = GER_danubian_membership }
		available = {
			is_subject = no
			is_faction_leader = yes
			NOT = { has_war_with = YUG }
			NOT = { has_war_with = ROM }
		}
		bypass = {
			OR = {
				NOT = { country_exists = YUG }
				YUG = { is_subject = yes }
				is_in_faction_with = YUG
			}
			OR = {
				NOT = { country_exists = ROM }
				ROM = { is_subject = yes }
				is_in_faction_with = ROM
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_danubian_membership
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					YUG = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_in_faction = no
						exists = yes
						is_subject = no
					}
				}
				YUG = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					ROM = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_in_faction = no
						exists = yes
						is_subject = no
					}
				}
				ROM = {
					country_event = { id = generic.5 }
				}
			}
		}
	}

	focus = {
		id = GER_no_balkan_communism
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_danubian_expansion }
		available = {
			is_subject = no
			OR = {
				any_country = { 
					original_tag = HUN
					has_government = communism 
				}
				any_country = { 
					original_tag = ROM
					has_government = communism 
				}
				any_country = { 
					original_tag = YUG
					has_government = communism 
				}
				any_country = { 
					original_tag = BUL
					has_government = communism 
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_danubian_expansion
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			custom_effect_tooltip = GER_no_balkan_communism_tt
			if = {
				limit = {
					any_country = { 
						original_tag = HUN
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_balkan_communism_HUN_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = HUN
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = ROM
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_balkan_communism_ROM_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = ROM
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = YUG
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_balkan_communism_YUG_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = YUG
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = BUL
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_balkan_communism_BUL_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = BUL
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_low_countries_membership
		icon = GFX_focus_generic_influence_benelux
		prerequisite = { focus = GER_central_european_alliance }
		available = {
			is_subject = no
			is_faction_leader = yes
			NOT = { has_war_with = HOL }
			NOT = { has_war_with = BEL }
			NOT = { has_war_with = LUX }
		}
		bypass = {
			OR = {
				NOT = { country_exists = HOL }
				HOL = { is_subject = yes }
				is_in_faction_with = HOL
			}
			OR = {
				NOT = { country_exists = BEL }
				BEL = { is_subject = yes }
				is_in_faction_with = BEL
			}
			OR = {
				NOT = { country_exists = LUX }
				LUX = { is_subject = yes }
				is_in_faction_with = LUX
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_central_european_alliance
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					HOL = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				HOL = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					BEL = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				BEL = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					LUX = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				LUX = {
					country_event = { id = generic.5 }
				}
			}
		}
	}

	focus = {
		id = GER_no_reds_in_western_europe
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_low_countries_membership }
		available = {
			is_subject = no
			OR = {
				any_country = { 
					original_tag = FRA
					has_government = communism 
				}
				any_country = { 
					original_tag = HOL
					has_government = communism 
				}
				any_country = { 
					original_tag = BEL
					has_government = communism 
				}
				any_country = { 
					original_tag = LUX
					has_government = communism 
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_low_countries_membership
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			custom_effect_tooltip = GER_no_reds_in_western_europe_tt
			if = {
				limit = {
					any_country = { 
						original_tag = FRA
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_reds_in_western_europe_FRA_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = FRA
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = HOL
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_reds_in_western_europe_HOL_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = HOL
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = BEL
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_reds_in_western_europe_BEL_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = BEL
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = LUX
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_reds_in_western_europe_LUX_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = LUX
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_scandinavian_membership
		icon = GFX_focus_generic_scandinavia_flags
		prerequisite = { focus = GER_central_european_alliance }
		available = {
			is_subject = no
			is_faction_leader = yes
			NOT = { has_war_with = NOR }
			NOT = { has_war_with = SWE }
			NOT = { has_war_with = DEN }
		}
		bypass = {
			OR = {
				NOT = { country_exists = NOR }
				NOR = { is_subject = yes }
				is_in_faction_with = NOR
			}
			OR = {
				NOT = { country_exists = SWE }
				SWE = { is_subject = yes }
				is_in_faction_with = SWE
			}
			OR = {
				NOT = { country_exists = DEN }
				DEN = { is_subject = yes }
				is_in_faction_with = DEN
			}
		}
		cancel_if_invalid = yes
		x = 3
		y = 1
		relative_position_id = GER_central_european_alliance
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					NOR = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				NOR = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					SWE = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				SWE = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					DEN = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				DEN = {
					country_event = { id = generic.5 }
				}
			}
		}
	}

	focus = {
		id = GER_baltic_membership
		icon = GFX_focus_generic_baltic_entente
		prerequisite = { focus = GER_scandinavian_membership }
		available = {
			is_subject = no
			is_faction_leader = yes
			NOT = { has_war_with = EST }
			NOT = { has_war_with = LAT }
			NOT = { has_war_with = LIT }
			SOV = {
				OR = {
					NOT = { has_war_with = EST }
					NOT = { has_war_with = LAT }
					NOT = { has_war_with = LIT }
				}
			}
		}
		bypass = {
			EST = {
				OR = {
					is_in_faction_with = ROOT
					is_in_faction_with = SOV
					exists = no
					has_war_with = SOV
					is_subject = yes
				}
			}
			LAT = {
				OR = {
					is_in_faction_with = ROOT
					is_in_faction_with = SOV
					exists = no
					has_war_with = SOV
					is_subject = yes
				}
			}
			LIT = {
				OR = {
					is_in_faction_with = ROOT
					is_in_faction_with = SOV
					exists = no
					has_war_with = SOV
					is_subject = yes
				}
			}
		}
		cancel_if_invalid = yes
		x = -2
		y = 2
		relative_position_id = GER_scandinavian_membership
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_baltic_membership }
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					EST = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				EST = {
					country_event = { id = generic.5 }
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}	
				}
			}
			if = {
				limit = {
					LAT = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				LAT = {
					country_event = { id = generic.5 }
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}	
				}
			}
			if = {
				limit = {
					LIT = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				LIT = {
					country_event = { id = generic.5 }
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}	
				}
			}
			SOV = { country_event = { id = wtt_germany.21 } }
			POL = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			FIN = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
		}
	}

	focus = {
		id = GER_polish_membership
		icon = GFX_focus_generic_polish_deal
		prerequisite = { focus = GER_scandinavian_membership }
		available = {
			is_subject = no
			is_faction_leader = yes
			NOT = { has_war_with = POL }
			SOV = { NOT = { has_war_with = POL } }
		}
		bypass = {
			OR = {
				is_in_faction_with = POL
				NOT = { country_exists = POL }
				POL = { is_subject = yes }
				SOV = { 
					OR = {
						is_in_faction_with = POL
						has_war_with = POL
					}
				}
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = GER_scandinavian_membership
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_polish_membership }
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					POL = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				POL = {
					country_event = { id = generic.5 }
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}	
				}
			}
			SOV = { country_event = { id = wtt_germany.22 } }
			EST = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			LAT = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			LIT = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			FIN = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
		}
	}

	focus = {
		id = GER_finnish_membership
		icon = GFX_focus_invite_finland
		prerequisite = { focus = GER_scandinavian_membership }
		available = {
			is_subject = no
			is_faction_leader = yes
			NOT = { has_war_with = FIN }
			SOV = { NOT = { has_war_with = FIN } }
		}
		bypass = {
			OR = {
				is_in_faction_with = FIN
				NOT = { country_exists = FIN }
				is_subject = yes
				SOV = { 
					OR = { 
						is_in_faction_with = FIN
						has_war_with = FIN
					}
				}
			}
		}
		cancel_if_invalid = yes
		x = 2
		y = 2
		relative_position_id = GER_scandinavian_membership
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_finnish_membership }
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					FIN = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_subject = no
					}
				}
				FIN = {
					country_event = { id = generic.5 }
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}	
				}
			}
			SOV = { country_event = { id = wtt_germany.23 } }
			EST = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			LAT = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			LIT = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			POL = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
		}
	}

	focus = {
		id = GER_strike_at_the_source
		icon = GFX_focus_ger_strike_at_the_source
		prerequisite = { focus = GER_baltic_membership }
		prerequisite = { focus = GER_polish_membership }
		prerequisite = { focus = GER_finnish_membership }
		available = {
			is_subject = no
			SOV = {
				has_government = communism
			}
			NOT = { is_in_faction_with = SOV }
		}
		bypass = {
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_polish_membership
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			create_wargoal = {
				type = topple_government
				target = SOV
				expire = 0
			}
			if = {
				limit = {
					FRA = { has_government = communism }
				}
				add_ai_strategy = {
					type = antagonize
					id = GER
					value = 200
				}
			}
		}
	}

	focus = {
		id = GER_reverse_the_brain_drain
		icon = GFX_focus_research
		prerequisite = { focus = GER_the_monarchy_compromise }
		available = {
			is_subject = no
		}
		x = 2
		y = 1
		relative_position_id = GER_the_monarchy_compromise
		cost = 10
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = GER_shared_rd_programs
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = GER_reverse_the_brain_drain }
		prerequisite = { focus = GER_central_european_alliance }
		available = {
			is_subject = no
		}
		x = 7
		y = 1
		relative_position_id = GER_central_european_alliance
		cost = 5
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_to_tech_sharing_group = ger_dem_research
			every_other_country = {
				limit = { is_in_faction_with = GER }
				add_to_tech_sharing_group = ger_dem_research 
			}
		}
	}

	focus = {
		id = GER_the_mannheim_project
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = GER_shared_rd_programs }
		prerequisite = { focus = GER_scandinavian_membership }
		available = {
			is_subject = no
			is_in_faction_with = NOR
		}
		x = -1
		y = 1
		relative_position_id = GER_shared_rd_programs
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = GER_the_mannheim_project_tt
			if = {
				limit = {
					NOT = { has_tech = atomic_research }
				}
				add_tech_bonus = {
					name = GER_the_mannheim_project
					bonus = 1.0
					ahead_reduction = 2
					technology = atomic_research
				}
			}
			else_if = {
				limit = {
					NOT = { is_special_project_completed = sp:sp_nuclear_reactor }
				}
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.75
				}
			}
			else_if = {
				limit = {
					has_tech = nuclear_reactor
				}
				random_owned_controlled_state = {
					limit = {
						nuclear_reactor < 1
					}

					prioritize = { 55 }
					add_building_construction = {
						type = nuclear_reactor
						level = 1
						instant_build = yes
					}
				}
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.5
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = {
						nuclear_reactor_heavy_water < 1
					}

					prioritize = { 55 }
					add_building_construction = {
						type = nuclear_reactor_heavy_water
						level = 1
						instant_build = yes
					}
				}
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.5
				}
			}			
		}
	}

	focus = {
		id = GER_pool_technical_know_how
		icon = GFX_goal_generic_production
		prerequisite = { focus = GER_shared_rd_programs }
		available = {
			is_subject = no
		}
		x = 1
		y = 1
		relative_position_id = GER_shared_rd_programs
		cost = 10
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = GER_pool_technical_know_how
			custom_effect_tooltip = GER_pool_technical_know_how_tt
			hidden_effect = {
				every_other_country = {
					limit = { is_in_faction_with = GER }
					add_ideas = GER_pool_technical_know_how
				}
			}
		}
	}

}